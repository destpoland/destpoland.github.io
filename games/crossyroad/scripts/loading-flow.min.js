/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 17);
/******/ })
/************************************************************************/
/******/ ({

/***/ 1:
/***/ (function(module, exports) {

/**
* @jscrambler disable *
*/{// Note, currently only functions properly with target = 0 or target = 1
var Fader=function Fader(el,target,callback,fadeTime){this.fadeOutStart=Date.now();this.el=el;this.fadeTarget=target;this.fadeCallback=callback;this.fadeTime=fadeTime||500;};Fader.prototype.fade=function(){var opacity=parseFloat(this.el.style.opacity);var deltaTime=Date.now()-this.fadeOutStart;var alpha=Math.min(1,deltaTime/this.fadeTime);if(this.fadeTarget===0){alpha=1-alpha;}this.el.style.opacity=alpha;if(alpha===this.fadeTarget){FadeHelper.destroy(this);if(typeof this.fadeCallback==='function'){this.fadeCallback();}}};var FadeHelper={};FadeHelper.faders=[];FadeHelper.fadeTo=function(el,target,callback){var fader=new Fader(el,target,callback);FadeHelper.faders.push(fader);FadeHelper.animate();// Re-start fading if it stopped
};FadeHelper.animate=function(){if(FadeHelper.faders.length===0)return;FadeHelper.faders.forEach(function(fader){fader.fade();});requestAnimationFrame(FadeHelper.animate);};FadeHelper.destroy=function(fader){var idx=FadeHelper.faders.indexOf(fader);if(idx<0)return;FadeHelper.faders.splice(idx,1);};module.exports=FadeHelper;}

/***/ }),

/***/ 17:
/***/ (function(module, exports, __webpack_require__) {

window.HipsterWhale=__webpack_require__(5);window.LoadingScreen=__webpack_require__(6);window.PokiPreroll=__webpack_require__(7);

/***/ }),

/***/ 5:
/***/ (function(module, exports, __webpack_require__) {

/**
* @jscrambler disable *
*/{var rad=function rad(degrees){return degrees*Math.PI/180;};var getRandomArbitrary=function getRandomArbitrary(min,max){return Math.random()*(max-min)+min;};var FadeHelper=__webpack_require__(1);// Config
var backgroundColor='#69ceec';var bubbleColor='#81DCF8';// in ms
// const flashTime=1700;
// var flashingFor;
// in degrees
var whaleRotation=0;var whaleX;var whaleY;var hipsterTextX;var hipsterTextY;var whaleTextX;var whaleTextY;var textIdx=0;var textTimer=0;var HipsterWhale=function HipsterWhale(){this.wrapper=document.body;this.started=false;this.allowedToClose=false;this.timeToClose=false;this.destroyed=false;this.setupCanvas();window.addEventListener('resize',this.resize.bind(this));};var whaleTween;HipsterWhale.prototype.play=function(callback){if(this.started)return;this.started=true;this.logo=new Image();this.logo.src=this.logoSrc.src;this.hipster=this.hipsters[0];this.whale=this.whales[0];this.bubbles=[];this.callback=callback;this.logoAspect=this.logoSrc.width/this.logoSrc.height;this.textAspect=this.hipsters[0].width/this.hipsters[0].height;this.wrapper.appendChild(this.canvas);this.oldTime;this.deltaTime=0;window.setTimeout(function(){this.timeToClose=true;this.attemptToClose();}.bind(this),50);//was 1500
this.canvas.id='hipster-whale';this.canvas.style.position='absolute';this.canvas.style.left=0;this.canvas.style.top=0;this.canvas.style.right=0;this.canvas.style.bottom=0;this.canvas.style.zIndex=99999;this.canvas.style.opacity=0;this.canvas.style.display='none';this.resize();for(var b=0;b<20;b++){var bx=getRandomArbitrary(0,this.canvas.width);var by=getRandomArbitrary(0,this.canvas.height);var bs=getRandomArbitrary(5,15);this.bubbles.push({x:bx,y:by,size:bs});}window.setTimeout(this.whaleMovement.bind(this),10);//was 250
this.animate();// JAB mute
//
//AssetLoader.getAssetById('plain-audio/splashintro.mp4').play();
// window.setTimeout(function() {
// 	flashingFor=100;
// }.bind(this), flashTime);
};HipsterWhale.prototype.whaleMovement=function(){if(this.destroyed)return;/*	var dx = whaleX;
	if(dx<=this.canvas.width * 0.5)
		dx+=getRandomArbitrary(0,this.canvas.width/32);
	else
		dx-=getRandomArbitrary(0,this.canvas.width/32);
*/var dy=whaleY;if(dy<this.canvas.height*0.5)dy+=getRandomArbitrary(this.canvas.height/25,this.canvas.height/15);else dy-=getRandomArbitrary(this.canvas.height/25,this.canvas.height/15);var dt=4*Math.abs(dy);//console.log(whaleX+","+whaleY+" -> "+dx+","+dy);
var coord={y:whaleY};if(whaleTween)whaleTween.stop();whaleTween=new TWEEN.Tween(coord).to({y:dy},dt).onUpdate(function(){if(this.destroyed)return;whaleY=this.y;})//.easing(TWEEN.Easing.Sinusoidal.InOut)
.start();window.setTimeout(this.whaleMovement.bind(this),dt);};HipsterWhale.prototype.show=function(){FadeHelper.fadeTo(this.canvas,1);};HipsterWhale.prototype.allowClose=function(){this.allowedToClose=true;this.attemptToClose();};HipsterWhale.prototype.attemptToClose=function(){if(!this.allowedToClose||!this.timeToClose){return;}// Let's close this up!
var self=this;whaleTween.stop();FadeHelper.fadeTo(self.canvas,0,function(){window.removeEventListener('resize',self.resize.bind(self));self.end();}.bind(self));};HipsterWhale.prototype.setupCanvas=function(){this.canvas=document.createElement('canvas');this.context=this.canvas.getContext('2d');};HipsterWhale.prototype.resize=function(){var rect=this.wrapper.getBoundingClientRect();this.canvas.width=rect.width;this.canvas.height=rect.height;whaleX=this.canvas.width*0.5;whaleY=this.canvas.height*0.5;whaleTextX=hipsterTextX=this.canvas.width*0.5;hipsterTextY=this.canvas.height*0.15;whaleTextY=this.canvas.height*0.85;this.scaleLogo();};HipsterWhale.prototype.animate=function(time){if(this.destroyed)return;time=time||0;if(!this.oldTime)this.oldTime=time;this.deltaTime=time-this.oldTime;this.oldTime=time;TWEEN.update(time);textTimer+=this.deltaTime;whaleRotation+=getRandomArbitrary(-2,2)*this.deltaTime/1e3;// Draw background
this.context.fillStyle=backgroundColor;this.context.fillRect(0,0,this.canvas.width,this.canvas.height);// Draw bubbles
this.drawBubbles();// Draw text
this.drawText();// Draw the rest
this.drawLogo();// draw flash
// if(flashingFor && flashingFor>0){
// 	this.context.fillStyle = '#ffffff';
// 	this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);
// 	flashingFor-=this.deltaTime;
// }
requestAnimationFrame(this.animate.bind(this));};HipsterWhale.prototype.scaleLogo=function(){var maxWidth=this.canvas.width*0.6;var maxHeight=this.canvas.height*0.4;if(this.logo){if(maxWidth/this.logoAspect>maxHeight){this.logo.height=maxHeight;this.logo.width=maxHeight*this.logoAspect;}else{this.logo.width=maxWidth;this.logo.height=maxWidth/this.logoAspect;}this.whales.forEach(function(whale){whale.width=this.logo.width*1.5;whale.height=whale.width/this.textAspect;}.bind(this));this.hipsters.forEach(function(hipster){hipster.width=this.logo.width*1.5;hipster.height=hipster.width/this.textAspect;}.bind(this));}};HipsterWhale.prototype.drawBubbles=function(){for(var b=0;b<this.bubbles.length;b++){var bubble=this.bubbles[b];this.context.fillStyle=bubbleColor;bubble.y-=10*this.deltaTime/this.canvas.height;if(bubble.y<0)bubble.y=this.canvas.height;this.context.fillRect(bubble.x,bubble.y,bubble.size,bubble.size);}};HipsterWhale.prototype.drawText=function(){this.context.save();if(typeof this.context['mozImageSmoothingEnabled']!=='undefined')this.context['mozImageSmoothingEnabled']=false;if(typeof this.context['webkitImageSmoothingEnabled']!=='undefined')this.context['webkitImageSmoothingEnabled']=false;if(typeof this.context['msImageSmoothingEnabled']!=='undefined')this.context['msImageSmoothingEnabled']=false;if(typeof this.context['imageSmoothingEnabled']!=='undefined')this.context['imageSmoothingEnabled']=false;this.context.translate(hipsterTextX,hipsterTextY);this.context.drawImage(this.hipster,-this.hipster.width/2,-this.hipster.height/2,this.hipster.width,this.hipster.height);this.context.translate(-hipsterTextX,-hipsterTextY);this.context.translate(whaleTextX,whaleTextY);this.context.drawImage(this.whale,-this.whale.width/2,-this.whale.height/2,this.whale.width,this.whale.height);this.context.translate(-whaleTextX,-whaleTextY);if(textTimer>=150){textIdx=(textIdx+1)%3;this.hipster=this.hipsters[textIdx];this.whale=this.whales[textIdx];textTimer=0;}this.context.restore();};HipsterWhale.prototype.drawLogo=function(){var r=rad(whaleRotation);this.context.translate(whaleX,whaleY);this.context.rotate(r);this.context.drawImage(this.logo,-this.logo.width/2,-this.logo.height/2,this.logo.width,this.logo.height);this.context.rotate(-r);this.context.translate(-whaleX,-whaleY);};HipsterWhale.prototype.end=function(){this.destroyed=true;this.wrapper.removeChild(this.canvas);if(typeof this.callback==='function'){this.callback();}};module.exports=HipsterWhale;}

/***/ }),

/***/ 6:
/***/ (function(module, exports, __webpack_require__) {

/**
* @jscrambler disable *
*/{var LoadingScreen=function LoadingScreen(){this.wrapper=document.body;this.shown=false;this.destroyed=false;this.bgColor='#fff';this.progress=0;this.progressZeroPoint=0;this.forceSkip=false;this.textIdx=0;this.container=document.createElement('div');this.container.style.position='relative';this.container.style.width='100%';this.container.style.height='100%';this.container.style.overflow='hidden';this.hipsterSrc=[AssetLoader.getAssetById('sprites/hipster-1.png').src,AssetLoader.getAssetById('sprites/hipster-2.png').src,AssetLoader.getAssetById('sprites/hipster-3.png').src];this.whalesSrc=[AssetLoader.getAssetById('sprites/whale-1.png').src,AssetLoader.getAssetById('sprites/whale-2.png').src,AssetLoader.getAssetById('sprites/whale-3.png').src];window.addEventListener('resize',this.resize.bind(this));//this.animate();
};var FadeHelper=__webpack_require__(1);;LoadingScreen.prototype.updateProgress=function(progress){console.log("LoadingScreen.updateProgress");//JAB debug
//
//console.log("Loading screen updateProgress called. Current progress:", progress);
this.progress=progress;var shownProgress=1;if(this.progressZeroPoint<1){shownProgress=(this.progress-this.progressZeroPoint)/(1-this.progressZeroPoint);}if(this.progressText&&this.shown){//JAB debug
//
//console.log("Updating progress text:", parseInt((shownProgress * 100), 10) + '%');
this.progressText.innerText=parseInt(shownProgress*100,10)+'%';}};LoadingScreen.prototype.init=function(){console.log("LoadingScreen.init");this.container.style.backgroundColor=this.bgColor;this.createGameLogo();// JAB comment out poki splash
//
//this.createPokiLogo();
this.createProgressIndicator();this.createFadeRectangle();this.wrapper.appendChild(this.container);this.resize();};/*
LoadingScreen.prototype.animate = function (time) {
	time = time || 0;
	if(!this.startTime)
		this.startTime=time;

	this.deltaTime = time - this.startTime;
	this.textTimer=this.textTimer||0;
	this.textTimer+=this.deltaTime;

	this.updateTexts();

	if (this.destroyed) 
		return;
	requestAnimationFrame(this.animate.bind(this));
}
LoadingScreen.prototype.updateTexts = function(){
	if(this.textTimer>=60){
		this.textIdx=(this.textIdx+1)%3;
		this.hipsterText.src = this.hipsterSrc[this.textIdx];
		this.whaleText.src = this.whalesSrc[this.textIdx];
		this.textTimer=0;
	}
}*/LoadingScreen.prototype.show=function(skippedPreroll){console.log("LoadingScreen.show");//JAB debug
//
//console.log("Loading screen show method called, skipPreroll:", skippedPreroll);
this.skipPreroll=skippedPreroll;this.shown=true;if(this.progress>=1||this.forceSkip){//JAB debugger
//
//console.log("Progress is complete or forceSkip is true. Destroying loading screen.");
if(this.destroyed)return;this.destroyed=true;// We're already done loading, move on!
this.wrapper.removeChild(this.container);return;}this.startTime=performance.now();//console.log("Loading screen start time set:", this.startTime);
// Fade in and reset progress zero point
this.progressZeroPoint=this.progress;this.updateProgress(this.progress);FadeHelper.fadeTo(this.fadeRectangle,0);};LoadingScreen.prototype.createGameLogo=function(){//JAB don't do HW splash
//
if(false){this.hipsterText=new Image();this.hipsterText.src=this.hipsterSrc[0];this.whaleText=new Image();this.whaleText.src=this.whalesSrc[0];var maxWidth=bodyRect.width*0.4;var maxHeight=bodyRect.height*0.2;if(maxWidth/this.textAspect>maxHeight){this.textAspect=this.hipsterText.width/this.hipsterText.height;this.hipsterText.height=maxHeight;this.hipsterText.width=maxHeight*this.textAspect;this.textAspect=this.whaleText.width/this.whaleText.height;this.whaleText.height=maxHeight;this.whaleText.width=maxHeight*this.textAspect;}else{this.textAspect=this.hipsterText.width/this.hipsterText.height;this.hipsterText.width=maxWidth;this.hipsterText.height=maxWidth/this.textAspect;this.textAspect=this.whaleText.width/this.whaleText.height;this.whaleText.width=maxWidth;this.whaleText.height=maxWidth/this.textAspect;}var setStyle=function setStyle(txt){txt.style.position='absolute';txt.style.top='15%';txt.style.margin='0 auto';txt.style.left='0';txt.style.right='0';txt.style.maxHeight='40%';txt.style.maxWidth='60%';};setStyle(this.hipsterText);setStyle(this.whaleText);this.whaleText.style.top='35%';this.container.appendChild(this.hipsterText);this.container.appendChild(this.whaleText);}};LoadingScreen.prototype.createPokiLogo=function(){//JAB force not to create poki logo
//
if(false){var anchor=document.createElement('a');anchor.href='http://poki.com/';anchor.target='_blank';anchor.style.position='absolute';anchor.style.display='block';anchor.style.bottom='10%';anchor.style.margin='0 auto';anchor.style.left='0';anchor.style.right='0';anchor.style.height='10%';anchor.style.maxWidth='40%';anchor.style.backgroundImage='url('+this.pokiLogoSrc+')';anchor.style.backgroundSize='auto 100%';anchor.style.backgroundRepeat='no-repeat';anchor.style.backgroundPosition='center';this.container.appendChild(anchor);}};LoadingScreen.prototype.createProgressIndicator=function(){var progressText=document.createElement('div');progressText.innerText='0%';progressText.style.position='absolute';progressText.style.height='30px';progressText.style.top='60%';progressText.style.margin='0 auto';progressText.style.left='0';progressText.style.right='0';progressText.style.fontFamily='EditUndoBrk';progressText.style.color='#fff';progressText.style.textAlign='center';this.container.appendChild(progressText);this.progressText=progressText;};LoadingScreen.prototype.resize=function(){var containerBounds=this.container.getBoundingClientRect();this.progressText.style.fontSize=parseInt(containerBounds.height/16)+'px';};LoadingScreen.prototype.createFadeRectangle=function(){var fadeRectangle=document.createElement('div');fadeRectangle.style.position='absolute';fadeRectangle.style.left='0';fadeRectangle.style.top='0';fadeRectangle.style.right='0';fadeRectangle.style.bottom='0';fadeRectangle.style.zIndex='2';fadeRectangle.style.backgroundColor=this.bgColor;fadeRectangle.style.opacity='1';fadeRectangle.style.pointerEvents='none';this.container.appendChild(fadeRectangle);this.fadeRectangle=fadeRectangle;};LoadingScreen.prototype.destroy=function(){// JAB debug
//
//console.log("Loading screen destroy method called.");
if(this.destroyed)return;this.destroyed=true;if(!this.shown){//JAB debug
//
console.log("Loading screen not shown. Removing container.");this.wrapper.removeChild(this.container);return;}FadeHelper.fadeTo(this.fadeRectangle,1,function(){FadeHelper.fadeTo(this.container,0,function(){//JAB debug
//
//console.log("Fading out loading screen container.");
console.log("Inside fadeTo callback. `this` is:",this);this.wrapper.removeChild(this.container);window.removeEventListener('resize',this.resize.bind(this));}.bind(this));}.bind(this));};module.exports=LoadingScreen;}

/***/ }),

/***/ 7:
/***/ (function(module, exports, __webpack_require__) {

/**
* @jscrambler disable *
*/{// scoping for jscrambler
var FadeHelper=__webpack_require__(1);var staticCss='\n#poki-preroll {\n\tbackground: #83FFE7;\n\tposition: absolute;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 99999;\n\toverflow: hidden;\n\tperspective: 1000px;\n}\n\n#poki-preroll .logo {\n\tposition: relative;\n\tperspective: 1000px;\n\tz-index: 1;\n\tmax-height: 40%;\n\tmax-width: 80%;\n}\n\n#poki-preroll .icon-container {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\ttransform: rotate(-5deg);\n}';var dynamicCss='\n#poki-preroll .icon-scroller {\n\tperspective: 1000px;\n\tposition: absolute;\n\tleft: 0;\n\ttop: -10%;\n\twidth: 100%;\n\theight: 120%;\n\ttransform: translateX(0);\n\tanimation: scroll {scrollTime}s infinite linear;\n\tbackground-image: url(sprites/poki-icon.png);\n\tbackground-size: {iconSize}px {iconSize}px;\n}\n\n@keyframes scroll {\n\t0% {\n\t\ttransform: translateX(-{scrollWidth}px);\n\t},\n\t100% {\n\t\ttransform: translateX(0);\n\t}\n}\n';var staticStyle=void 0,dynamicStyle=void 0;var PokiPreroll=function PokiPreroll(){this.wrapper=document.body;this.started=false;this.allowedToClose=false;this.timeToClose=false;this.destroyed=false;this.container=document.createElement('div');this.container.style.visibility='hidden';this.container.id='poki-preroll';staticStyle=document.createElement('style');staticStyle.innerHTML=staticCss;document.head.appendChild(staticStyle);dynamicStyle=document.createElement('style');document.head.appendChild(dynamicStyle);};PokiPreroll.prototype.createElements=function(){this.wrapper.appendChild(this.container);this.logo=new Image();this.logo.src=this.logoSrc;this.logo.className='logo';this.logo.style.transform='translateY('+-window.innerHeight+'px)';this.container.appendChild(this.logo);var iconContainer=document.createElement('div');iconContainer.className='icon-container';['-100%','0%','100%'].forEach(function(left){var iconScroller=document.createElement('div');iconScroller.className='icon-scroller';iconScroller.style.left=left;iconContainer.appendChild(iconScroller);});this.container.appendChild(iconContainer);this.resize();window.addEventListener('resize',this.resize.bind(this));};PokiPreroll.prototype.play=function(callback){var _this=this;this.callback=callback;if(this.started)return;//JAB
//this.container.style.visibility = 'visible';
this.container.style.visibility='hidden';this.logo.style.display='none';this.started=true;window.setTimeout(function(){// Next frame, show logo
_this.logo.style.transition='0.5s';_this.logo.style.transform='translateY(0)';},50);window.setTimeout(function(){this.timeToClose=true;this.attemptToClose();}.bind(this),50);//was 1500 with poki, changed to 50 to skip poki logo
//JAB
//this.end();
};PokiPreroll.prototype.allowClose=function(){this.allowedToClose=true;this.attemptToClose();};PokiPreroll.prototype.attemptToClose=function(){if(!this.allowedToClose||!this.timeToClose){return;}// Let's close this up!
FadeHelper.fadeTo(this.container,0,function(){this.end();}.bind(this));};PokiPreroll.prototype.end=function(){window.removeEventListener('resize',this.resize.bind(this));if(this.wrapper&&this.container){this.wrapper.removeChild(this.container);}if(staticStyle&&dynamicStyle){document.head.removeChild(staticStyle);document.head.removeChild(dynamicStyle);}if(typeof this.callback==='function'){this.callback();//this.destroyed = true;
}this.destroyed=true;};PokiPreroll.prototype.resize=function(){var containerRect=this.container.getBoundingClientRect();var containerAspect=containerRect.width/containerRect.height;var finalCSS=dynamicCss;finalCSS=finalCSS.replace('{scrollTime}',containerAspect*15);finalCSS=finalCSS.replace('{scrollWidth}',containerRect.width);// Find the closest amount of icons we can fit, pixels get truncated so
// we want to avoid broken edges
var leastDifference=Infinity;var leastAmount=void 0;[7,8,9,10,11].forEach(function(amount){var pixelsPer=containerRect.width/amount;var diff=Math.abs(pixelsPer-Math.round(pixelsPer));if(diff<leastDifference){leastDifference=diff;leastAmount=amount;}});finalCSS=finalCSS.replace(/{iconSize}/g,Math.round(containerRect.width/leastAmount));dynamicStyle.innerHTML=finalCSS;};module.exports=PokiPreroll;}// Scoping for jscrambler

/***/ })

/******/ });