{"version":3,"file":"static/js/index.e3a4e599.js","sources":["webpack://minecraft-web-client/./generated/large-data-aliases.ts","webpack://minecraft-web-client/./renderer/playground/shared.ts","webpack://minecraft-web-client/./renderer/viewer/common/utils.ts","webpack://minecraft-web-client/./renderer/viewer/lib/simpleUtils.ts","webpack://minecraft-web-client/./renderer/viewer/lib/utils.ts","webpack://minecraft-web-client/./renderer/viewer/three/entity/armorModels.ts","webpack://minecraft-web-client/./src/appParams.ts","webpack://minecraft-web-client/./src/appStatus.ts","webpack://minecraft-web-client/./src/basicSounds.ts","webpack://minecraft-web-client/./src/botUtils.ts","webpack://minecraft-web-client/./src/browserfs.ts","webpack://minecraft-web-client/./src/chatUtils.ts","webpack://minecraft-web-client/./src/connect.ts","webpack://minecraft-web-client/./src/core/progressReporter.ts","webpack://minecraft-web-client/./src/customClient.js","webpack://minecraft-web-client/./src/customServer.ts","webpack://minecraft-web-client/./src/defaultLocalServerOptions.js","webpack://minecraft-web-client/./src/flyingSquidUtils.ts","webpack://minecraft-web-client/./src/generated/resources.ts","webpack://minecraft-web-client/./src/globalState.ts","webpack://minecraft-web-client/./src/importsWorkaround.js","webpack://minecraft-web-client/./src/watchOptions.ts","webpack://minecraft-web-client/./src/inventoryWindows.ts","webpack://minecraft-web-client/./src/entities.ts","webpack://minecraft-web-client/./src/cameraRotationControls.ts","webpack://minecraft-web-client/./src/controls.ts","webpack://minecraft-web-client/./src/localServerMultiplayer.ts","webpack://minecraft-web-client/./src/react/KeybindingsScreen.tsx","webpack://minecraft-web-client/./src/reactUi.tsx","webpack://minecraft-web-client/./src/index.ts","webpack://minecraft-web-client/./src/testCrasher.ts","webpack://minecraft-web-client/./src/globals.js","webpack://minecraft-web-client/./renderer/viewer/sign-renderer/index.ts","webpack://minecraft-web-client/./renderer/buildMesherConfig.mjs","webpack://minecraft-web-client/./renderer/viewer/lib/cleanupDecorator.ts","webpack://minecraft-web-client/./renderer/viewer/lib/ui/newStats.ts","webpack://minecraft-web-client/./renderer/viewer/lib/basePlayerState.ts","webpack://minecraft-web-client/./renderer/viewer/lib/utils/skins.ts","webpack://minecraft-web-client/./renderer/viewer/lib/worldrendererCommon.ts","webpack://minecraft-web-client/./renderer/viewer/lib/mesher/shared.ts","webpack://minecraft-web-client/./renderer/viewer/lib/mesher/modelsGeometryCommon.ts","webpack://minecraft-web-client/./renderer/viewer/lib/mesher/standaloneRenderer.ts","webpack://minecraft-web-client/./renderer/viewer/lib/DebugGui.ts","webpack://minecraft-web-client/./renderer/viewer/lib/animationController.ts","webpack://minecraft-web-client/./renderer/viewer/lib/smoothSwitcher.ts","webpack://minecraft-web-client/./renderer/viewer/lib/utils/proxy.ts","webpack://minecraft-web-client/./renderer/viewer/three/threeJsUtils.ts","webpack://minecraft-web-client/./renderer/viewer/three/holdingBlock.ts","webpack://minecraft-web-client/./renderer/viewer/three/itemMesh.ts","webpack://minecraft-web-client/./renderer/viewer/three/entity/EntityMesh.ts","webpack://minecraft-web-client/./renderer/viewer/three/entity/animations.js","webpack://minecraft-web-client/./renderer/viewer/three/entities.ts","webpack://minecraft-web-client/./renderer/viewer/three/hand.ts","webpack://minecraft-web-client/./renderer/viewer/three/world/cursorBlock.ts","webpack://minecraft-web-client/./src/mineflayer/items.ts","webpack://minecraft-web-client/./renderer/viewer/three/renderSlot.ts","webpack://minecraft-web-client/./renderer/viewer/three/appShared.ts","webpack://minecraft-web-client/./renderer/viewer/three/threeJsSound.ts","webpack://minecraft-web-client/./renderer/viewer/three/cameraShake.ts","webpack://minecraft-web-client/./renderer/viewer/three/threeJsMethods.ts","webpack://minecraft-web-client/./src/itemsDescriptions.ts","webpack://minecraft-web-client/./src/core/ideChannels.ts","webpack://minecraft-web-client/./src/customChannels.ts","webpack://minecraft-web-client/./renderer/viewer/three/threeJsMedia.ts","webpack://minecraft-web-client/./renderer/viewer/three/waypointSprite.ts","webpack://minecraft-web-client/./renderer/viewer/three/waypoints.ts","webpack://minecraft-web-client/./renderer/viewer/three/skyboxRenderer.ts","webpack://minecraft-web-client/./renderer/viewer/three/worldrendererThree.ts","webpack://minecraft-web-client/./src/devtools.ts","webpack://minecraft-web-client/./src/mineflayer/entityStatus.ts","webpack://minecraft-web-client/./src/globalDomListeners.ts","webpack://minecraft-web-client/./src/mineflayer/maps.ts","webpack://minecraft-web-client/./src/mineflayer/cameraShake.ts","webpack://minecraft-web-client/./src/shims/patchShims.ts","webpack://minecraft-web-client/./src/mineflayer/java-tester/commands.ts","webpack://minecraft-web-client/./src/mineflayer/java-tester/index.ts","webpack://minecraft-web-client/./src/react/Slider.tsx","webpack://minecraft-web-client/./src/react/slider.module.css?f5e0","webpack://minecraft-web-client/./src/react/OptionsItems.tsx","webpack://minecraft-web-client/./src/clientMods.ts","webpack://minecraft-web-client/./src/core/importExport.ts","webpack://minecraft-web-client/./src/optionsGuiScheme.tsx","webpack://minecraft-web-client/./src/customCommands.ts","webpack://minecraft-web-client/./src/react/FullScreenWidget.tsx","webpack://minecraft-web-client/./src/react/ModuleSignsViewer.tsx","webpack://minecraft-web-client/./src/react/widgets.ts","webpack://minecraft-web-client/./src/react/GamepadUiCursor.module.css?3294","webpack://minecraft-web-client/./src/react/GamepadUiCursor.tsx","webpack://minecraft-web-client/./src/react/uiMotion.ts","webpack://minecraft-web-client/./src/react/PlayerListOverlay.tsx","webpack://minecraft-web-client/./src/react/PlayerListOverlayProvider.tsx","webpack://minecraft-web-client/./src/mineflayer/playerState.ts","webpack://minecraft-web-client/./src/appConfig.ts","webpack://minecraft-web-client/./src/core/timers.ts","webpack://minecraft-web-client/./src/mineflayer/timers.ts","webpack://minecraft-web-client/./src/mineflayer/plugins/mouse.ts","webpack://minecraft-web-client/./src/mineflayer/plugins/packetsPatcher.ts","webpack://minecraft-web-client/./src/mineflayer/plugins/ping.ts","webpack://minecraft-web-client/./src/mineflayer/plugins/webFeatures.ts","webpack://minecraft-web-client/./src/mineflayer/plugins/index.ts","webpack://minecraft-web-client/./src/parseServerAddress.ts","webpack://minecraft-web-client/./src/react/singleplayer.module.css?ea82","webpack://minecraft-web-client/./src/react/Tabs.tsx","webpack://minecraft-web-client/./src/react/simpleHooks.ts","webpack://minecraft-web-client/./src/react/Singleplayer.tsx","webpack://minecraft-web-client/./src/react/select.module.css?17cd","webpack://minecraft-web-client/./src/react/Select.tsx","webpack://minecraft-web-client/./src/react/ServersList.tsx","webpack://minecraft-web-client/./src/mineflayer/minecraft-protocol-extra.ts","webpack://minecraft-web-client/./src/mineflayer/websocket-core.ts","webpack://minecraft-web-client/./src/mineflayer/mc-protocol.ts","webpack://minecraft-web-client/./src/getCollisionInteractionShapes.ts","webpack://minecraft-web-client/./src/getCollisionShapes.ts","webpack://minecraft-web-client/./src/react/DeathScreen.tsx","webpack://minecraft-web-client/./src/react/DeathScreenProvider.tsx","webpack://minecraft-web-client/./src/react/OptionsGroup.tsx","webpack://minecraft-web-client/./src/react/OptionsRenderApp.tsx","webpack://minecraft-web-client/./src/utils/splashText.ts","webpack://minecraft-web-client/./src/react/mainMenu.module.css?e0e2","webpack://minecraft-web-client/./src/react/ButtonWithTooltip.tsx","webpack://minecraft-web-client/./src/react/useLongPress.ts","webpack://minecraft-web-client/./src/react/DiscordButton.tsx","webpack://minecraft-web-client/./src/react/PauseScreen.module.css?e86f","webpack://minecraft-web-client/./src/react/PauseLinkButtons.tsx","webpack://minecraft-web-client/./src/react/CreditsBookButton.tsx","webpack://minecraft-web-client/./src/react/CreditsBookButton.module.css?ba4f","webpack://minecraft-web-client/./src/react/MainMenu.tsx","webpack://minecraft-web-client/./src/react/MainMenuRenderApp.tsx","webpack://minecraft-web-client/./src/builtinCommands.ts","webpack://minecraft-web-client/./src/googledrive.ts","webpack://minecraft-web-client/./src/react/GoogleButton.tsx","webpack://minecraft-web-client/./src/react/SingleplayerProvider.tsx","webpack://minecraft-web-client/./src/react/SelectGameVersion.tsx","webpack://minecraft-web-client/./src/react/CreateWorld.tsx","webpack://minecraft-web-client/./src/react/createWorld.module.css?c621","webpack://minecraft-web-client/./src/react/CreateWorldProvider.tsx","webpack://minecraft-web-client/./src/react/EnterFullscreenButton.tsx","webpack://minecraft-web-client/./src/react/MineflayerPluginHud.tsx","webpack://minecraft-web-client/./src/react/MineflayerPluginConsole.tsx","webpack://minecraft-web-client/./src/viewerConnector.ts","webpack://minecraft-web-client/./src/react/ChatProvider.tsx","webpack://minecraft-web-client/./src/react/Title.tsx","webpack://minecraft-web-client/./src/react/TitleProvider.tsx","webpack://minecraft-web-client/./src/react/Scoreboard.tsx","webpack://minecraft-web-client/./src/react/ScoreboardProvider.tsx","webpack://minecraft-web-client/./src/markdownToFormattedText.ts","webpack://minecraft-web-client/./src/react/SignEditor.tsx","webpack://minecraft-web-client/./src/react/SignEditorProvider.tsx","webpack://minecraft-web-client/./src/react/IndicatorEffects.tsx","webpack://minecraft-web-client/./src/react/effectsImages.ts","webpack://minecraft-web-client/./src/react/IndicatorEffectsProvider.tsx","webpack://minecraft-web-client/./renderer/viewer/lib/mesher/worldConstants.ts","webpack://minecraft-web-client/./src/react/Fullmap.tsx","webpack://minecraft-web-client/./src/react/Minimap.tsx","webpack://minecraft-web-client/./src/react/MinimapDrawer.ts","webpack://minecraft-web-client/./src/react/MinimapProvider.tsx","webpack://minecraft-web-client/./src/react/armorValues.ts","webpack://minecraft-web-client/./src/react/BarsCommon.tsx","webpack://minecraft-web-client/./src/react/HealthBar.tsx","webpack://minecraft-web-client/./src/react/FoodBar.tsx","webpack://minecraft-web-client/./src/react/ArmorBar.tsx","webpack://minecraft-web-client/./src/react/BreathBar.tsx","webpack://minecraft-web-client/./src/react/HudBarsProvider.tsx","webpack://minecraft-web-client/./src/react/XPBar.tsx","webpack://minecraft-web-client/./src/react/XPBar.module.css?7191","webpack://minecraft-web-client/./src/react/XPBarProvider.tsx","webpack://minecraft-web-client/./src/downloadAndOpenFile.ts","webpack://minecraft-web-client/./src/react/DebugOverlay.module.css?a524","webpack://minecraft-web-client/./src/react/DebugOverlay.tsx","webpack://minecraft-web-client/./src/react/MobileTopButtons.module.css?7829","webpack://minecraft-web-client/./src/react/MobileTopButtons.tsx","webpack://minecraft-web-client/./src/react/NetworkStatus.module.css?8c6f","webpack://minecraft-web-client/./src/react/NetworkStatus.tsx","webpack://minecraft-web-client/./src/react/PauseScreen.tsx","webpack://minecraft-web-client/./src/react/SoundMuffler.tsx","webpack://minecraft-web-client/./src/react/TouchControls.tsx","webpack://minecraft-web-client/./src/react/GlobalSearchInput.tsx","webpack://minecraft-web-client/./src/react/TouchAreasControls.tsx","webpack://minecraft-web-client/./src/react/TouchAreasControlsProvider.tsx","webpack://minecraft-web-client/./src/gameUnload.ts","webpack://minecraft-web-client/./src/react/HotbarRenderApp.tsx","webpack://minecraft-web-client/./src/react/Crosshair.tsx","webpack://minecraft-web-client/./src/react/ButtonAppProvider.tsx","webpack://minecraft-web-client/./src/api/mcStatusApi.ts","webpack://minecraft-web-client/./src/react/UIProvider.tsx","webpack://minecraft-web-client/./src/react/AddServerOrConnect.tsx","webpack://minecraft-web-client/./src/react/ServersListProvider.tsx","webpack://minecraft-web-client/./src/react/KeybindingsScreen.module.css?f748","webpack://minecraft-web-client/./src/react/KeybindingsCustom.tsx","webpack://minecraft-web-client/./src/react/parseKeybindingName.ts","webpack://minecraft-web-client/./src/react/Keybinding.tsx","webpack://minecraft-web-client/./src/react/KeybindingsScreenProvider.tsx","webpack://minecraft-web-client/./src/react/HeldMapUi.tsx","webpack://minecraft-web-client/./src/react/BedTime.tsx","webpack://minecraft-web-client/./src/react/NoModalFoundProvider.tsx","webpack://minecraft-web-client/./src/react/SignInMessage.tsx","webpack://minecraft-web-client/./src/react/SignInMessageProvider.tsx","webpack://minecraft-web-client/./src/react/Book.module.css?55ce","webpack://minecraft-web-client/./src/react/Book.tsx","webpack://minecraft-web-client/./src/react/BookProvider.tsx","webpack://minecraft-web-client/./src/react/BossBarOverlay.tsx","webpack://minecraft-web-client/./src/react/BossBarOverlayProvider.tsx","webpack://minecraft-web-client/./src/react/mods.module.css?e31b","webpack://minecraft-web-client/./src/react/ModsPage.tsx","webpack://minecraft-web-client/./src/react/DebugEdges.tsx","webpack://minecraft-web-client/./src/react/GameInteractionOverlay.tsx","webpack://minecraft-web-client/./src/react/packetsFilter.ts","webpack://minecraft-web-client/./src/react/components/replay/constants.ts","webpack://minecraft-web-client/./src/react/components/replay/FilterInput.tsx","webpack://minecraft-web-client/./src/react/components/replay/PacketList.tsx","webpack://minecraft-web-client/./src/react/components/replay/ProgressBar.tsx","webpack://minecraft-web-client/./src/react/ReplayPanel.tsx","webpack://minecraft-web-client/./src/react/PacketsReplayProvider.tsx","webpack://minecraft-web-client/./src/react/TouchInteractionHint.module.css?ffd9","webpack://minecraft-web-client/./src/react/TouchInteractionHint.tsx","webpack://minecraft-web-client/./src/react/VoiceMicrophone.tsx","webpack://minecraft-web-client/./src/react/ConnectOnlyServerUi.tsx","webpack://minecraft-web-client/./src/react/ControDebug.tsx","webpack://minecraft-web-client/./src/react/ChunksDebug.tsx","webpack://minecraft-web-client/./src/react/ChunksDebugScreen.tsx","webpack://minecraft-web-client/./src/react/debugs/DebugResponseTimeIndicator.module.css?e9e4","webpack://minecraft-web-client/./src/react/debugs/DebugResponseTimeIndicator.tsx","webpack://minecraft-web-client/./src/react/rendererDebugMenu.module.css?707d","webpack://minecraft-web-client/./src/react/RendererDebugMenu.tsx","webpack://minecraft-web-client/./src/react/CreditsAboutModal.module.css?a391","webpack://minecraft-web-client/./src/react/CreditsAboutModal.tsx","webpack://minecraft-web-client/./src/react/FullscreenTime.tsx","webpack://minecraft-web-client/./src/react/StorageConflictModal.tsx","webpack://minecraft-web-client/./src/react/FireRenderer.tsx","webpack://minecraft-web-client/./src/react/MonacoEditor.tsx","webpack://minecraft-web-client/./src/dragndrop.ts","webpack://minecraft-web-client/./src/createLocalServer.ts","webpack://minecraft-web-client/./src/water.ts","webpack://minecraft-web-client/./src/dayCycle.ts","webpack://minecraft-web-client/./src/serviceWorker.ts","webpack://minecraft-web-client/./src/rendererUtils.ts","webpack://minecraft-web-client/./src/flyingSquidEvents.ts","webpack://minecraft-web-client/./src/devReload.ts","webpack://minecraft-web-client/./renderer/viewer/lib/worldDataEmitter.ts","webpack://minecraft-web-client/./renderer/viewer/baseGraphicsBackend.ts","webpack://minecraft-web-client/./renderer/viewer/lib/guiRenderer.ts","webpack://minecraft-web-client/./src/resourcesManager.ts","webpack://minecraft-web-client/./src/appViewer.ts","webpack://minecraft-web-client/./renderer/playground/allEntitiesDebug.ts","webpack://minecraft-web-client/./renderer/viewer/three/documentRenderer.ts","webpack://minecraft-web-client/./renderer/viewer/three/panorama.ts","webpack://minecraft-web-client/./renderer/viewer/three/panoramaShared.ts","webpack://minecraft-web-client/./renderer/viewer/three/world/vr.ts","webpack://minecraft-web-client/./renderer/viewer/three/graphicsBackend.ts","webpack://minecraft-web-client/./src/appViewerLoad.ts","webpack://minecraft-web-client/./src/benchmarkAdapter.ts","webpack://minecraft-web-client/./src/benchmark.ts","webpack://minecraft-web-client/./src/loadSave.ts","webpack://minecraft-web-client/./src/microsoftAuthflow.ts","webpack://minecraft-web-client/./src/mineflayer/plugins/packetsRecording.ts","webpack://minecraft-web-client/./src/mineflayer/userError.ts","webpack://minecraft-web-client/./src/mobileShim.ts","webpack://minecraft-web-client/./src/optionsStorage.ts","webpack://minecraft-web-client/./src/defaultOptions.ts","webpack://minecraft-web-client/./src/packetsReplay/packetsReplayLegacy.ts","webpack://minecraft-web-client/./src/react/simpleUtils.ts","webpack://minecraft-web-client/./src/packetsReplay/replayPackets.ts","webpack://minecraft-web-client/./src/errorLoadingScreenHelpers.ts","webpack://minecraft-web-client/./src/react/AppStatus.tsx","webpack://minecraft-web-client/./src/react/appStatus.module.css?73b8","webpack://minecraft-web-client/./src/react/DiveTransition.module.css?f9cb","webpack://minecraft-web-client/./src/react/DiveTransition.tsx","webpack://minecraft-web-client/./src/react/LoadingChunks.tsx","webpack://minecraft-web-client/./src/react/AppStatusProvider.tsx","webpack://minecraft-web-client/./src/react/button.module.css?1996","webpack://minecraft-web-client/./src/react/Button.tsx","webpack://minecraft-web-client/./src/react/Chat.tsx","webpack://minecraft-web-client/./src/react/GlobalOverlayHints.tsx","webpack://minecraft-web-client/./src/react/Input.tsx","webpack://minecraft-web-client/./src/react/input.module.css?ddff","webpack://minecraft-web-client/./src/react/LoadingTimer.tsx","webpack://minecraft-web-client/./src/react/MessageFormatted.tsx","webpack://minecraft-web-client/./src/react/MessageFormattedString.tsx","webpack://minecraft-web-client/./src/react/Notification.tsx","webpack://minecraft-web-client/./src/react/NotificationProvider.tsx","webpack://minecraft-web-client/./src/react/PixelartIcon.tsx","webpack://minecraft-web-client/./src/react/Screen.tsx","webpack://minecraft-web-client/./src/react/SelectOption.tsx","webpack://minecraft-web-client/./src/react/SharedHudVars.tsx","webpack://minecraft-web-client/./src/react/appStorageProvider.ts","webpack://minecraft-web-client/./src/react/hooks/useScrollBehavior.ts","webpack://minecraft-web-client/./src/react/serversStorage.ts","webpack://minecraft-web-client/./src/react/state/packetsReplayState.ts","webpack://minecraft-web-client/./src/react/utils.ts","webpack://minecraft-web-client/./src/react/utilsApp.ts","webpack://minecraft-web-client/./src/resourcePack.ts","webpack://minecraft-web-client/./src/scaleInterface.ts","webpack://minecraft-web-client/./src/shims/crypto.js","webpack://minecraft-web-client/./src/shims/dns.js","webpack://minecraft-web-client/./src/shims/empty.ts","webpack://minecraft-web-client/./src/shims/fs.js","webpack://minecraft-web-client/./src/shims/minecraftData.ts","webpack://minecraft-web-client/./src/optimizeJson.ts","webpack://minecraft-web-client/./src/shims/perf_hooks_replacement.js","webpack://minecraft-web-client/./src/shims/prismarineAuthReplacement.ts","webpack://minecraft-web-client/./src/shims/yggdrasilReplacement.ts","webpack://minecraft-web-client/./src/sounds/botSoundSystem.ts","webpack://minecraft-web-client/./src/sounds/musicSystem.ts","webpack://minecraft-web-client/./src/sounds/soundsMap.ts","webpack://minecraft-web-client/./src/sounds/customSoundSystem.ts","webpack://minecraft-web-client/./src/standaloneUtils.ts","webpack://minecraft-web-client/./src/supportedVersions.mjs","webpack://minecraft-web-client/./src/utils.ts"],"sourcesContent":["\nimport pako from 'pako';\n\nglobalThis.pako = { inflate: pako.inflate.bind(pako) }\n\nfunction decompressFromBase64(input) {\n    console.time('decompressFromBase64')\n    // Decode the Base64 string\n    const binaryString = atob(input);\n    const len = binaryString.length;\n    const bytes = new Uint8Array(len);\n\n    // Convert the binary string to a byte array\n    for (let i = 0; i < len; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n    }\n\n    // Decompress the byte array\n    const decompressedData = pako.inflate(bytes, { to: 'string' });\n\n    console.timeEnd('decompressFromBase64')\n    return decompressedData;\n}\n\nexport const importLargeData = async (mod: 'mcData' | 'blockStatesModels') => {\n  if (mod === 'mcData') return (await import(/* webpackChunkName: \"mc-data\" */ '../generated/minecraft-data-optimized.json')).default\n  if (mod === 'blockStatesModels') return (await import(/* webpackChunkName: \"mc-assets\" */ 'mc-assets/dist/blockStatesModels.json')).default\n}\n","import WorldLoader, { world } from 'prismarine-world'\nimport ChunkLoader from 'prismarine-chunk'\n\nexport type BlockFaceType = {\n  side: number\n  textureIndex: number\n  tint?: [number, number, number]\n  isTransparent?: boolean\n\n  // for testing\n  face?: string\n  neighbor?: string\n  light?: number\n}\n\nexport type BlockType = {\n  faces: BlockFaceType[]\n\n  // for testing\n  block: string\n}\n\nexport const makeError = (str: string) => {\n  reportError?.(str)\n}\nexport const makeErrorCritical = (str: string) => {\n  throw new Error(str)\n}\n\nexport const getSyncWorld = (version: string): world.WorldSync => {\n  const World = (WorldLoader as any)(version)\n  const Chunk = (ChunkLoader as any)(version)\n\n  const world = new World(version).sync\n\n  const methods = getAllMethods(world)\n  for (const method of methods) {\n    if (method.startsWith('set') && method !== 'setColumn') {\n      const oldMethod = world[method].bind(world)\n      world[method] = (...args) => {\n        const arg = args[0]\n        if (arg.x !== undefined && !world.getColumnAt(arg)) {\n          world.setColumn(Math.floor(arg.x / 16), Math.floor(arg.z / 16), new Chunk(undefined as any))\n        }\n        oldMethod(...args)\n      }\n    }\n  }\n\n  return world\n}\n\nfunction getAllMethods (obj) {\n  const methods = new Set()\n  let currentObj = obj\n\n  do {\n    for (const name of Object.getOwnPropertyNames(currentObj)) {\n      if (typeof obj[name] === 'function' && name !== 'constructor') {\n        methods.add(name)\n      }\n    }\n  } while ((currentObj = Object.getPrototypeOf(currentObj)))\n\n  return [...methods] as string[]\n}\n\nexport const delayedIterator = async <T> (arr: T[], delay: number, exec: (item: T, index: number) => Promise<void>, chunkSize = 1) => {\n  // if delay is 0 then don't use setTimeout\n  for (let i = 0; i < arr.length; i += chunkSize) {\n    if (delay) {\n      // eslint-disable-next-line no-await-in-loop\n      await new Promise(resolve => {\n        setTimeout(resolve, delay)\n      })\n    }\n    await exec(arr[i], i)\n  }\n}\n","export const versionToNumber = (ver: string) => {\n  const [x, y = '0', z = '0'] = ver.split('.')\n  return +`${x.padStart(2, '0')}${y.padStart(2, '0')}${z.padStart(2, '0')}`\n}\n\nexport const versionToMajor = (version: string) => {\n  const [x, y = '0'] = version.split('.')\n  return `${x.padStart(2, '0')}.${y.padStart(2, '0')}`\n}\n\nexport const versionsMapToMajor = <T> (versionsMap: Record<string, T>) => {\n  const majorVersions = {} as Record<string, T>\n  for (const [ver, data] of Object.entries(versionsMap)) {\n    const major = versionToMajor(ver)\n    majorVersions[major] = data\n  }\n  return majorVersions\n}\n","export async function getBufferFromStream (stream) {\n  return new Promise((resolve, reject) => {\n    let buffer = Buffer.from([])\n    stream.on('data', buf => {\n      buffer = Buffer.concat([buffer, buf])\n    })\n    stream.on('end', () => resolve(buffer))\n    stream.on('error', reject)\n  })\n}\n\nexport function openURL (url, newTab = true) {\n  if (newTab) {\n    window.open(url, '_blank', 'noopener,noreferrer')\n  } else {\n    window.open(url, '_self')\n  }\n}\n\nexport const isMobile = () => {\n  return window.matchMedia('(pointer: coarse)').matches || navigator.userAgent.includes('Mobile')\n}\n\nexport function chunkPos (pos: { x: number, z: number }) {\n  const x = Math.floor(pos.x / 16)\n  const z = Math.floor(pos.z / 16)\n  return [x, z]\n}\n\nexport function sectionPos (pos: { x: number, y: number, z: number }) {\n  const x = Math.floor(pos.x / 16)\n  const y = Math.floor(pos.y / 16)\n  const z = Math.floor(pos.z / 16)\n  return [x, y, z]\n}\n","export const loadScript = async function (scriptSrc: string, highPriority = true): Promise<HTMLScriptElement> {\n  const existingScript = document.querySelector<HTMLScriptElement>(`script[src=\"${scriptSrc}\"]`)\n  if (existingScript) {\n    return existingScript\n  }\n\n  return new Promise((resolve, reject) => {\n    const scriptElement = document.createElement('script')\n    scriptElement.src = scriptSrc\n\n    if (highPriority) {\n      scriptElement.fetchPriority = 'high'\n    }\n    scriptElement.async = true\n\n    scriptElement.addEventListener('load', () => {\n      resolve(scriptElement)\n    })\n\n    scriptElement.onerror = (error) => {\n      reject(new Error(typeof error === 'string' ? error : (error as any).message))\n      scriptElement.remove()\n    }\n\n    document.head.appendChild(scriptElement)\n  })\n}\n\nconst detectFullOffscreenCanvasSupport = () => {\n  if (typeof OffscreenCanvas === 'undefined') return false\n  try {\n    const canvas = new OffscreenCanvas(1, 1)\n    // Try to get a WebGL context - this will fail on iOS where only 2D is supported (iOS 16)\n    const gl = canvas.getContext('webgl2') || canvas.getContext('webgl')\n    return gl !== null\n  } catch (e) {\n    return false\n  }\n}\n\nconst hasFullOffscreenCanvasSupport = detectFullOffscreenCanvasSupport()\n\nexport const createCanvas = (width: number, height: number): OffscreenCanvas => {\n  if (hasFullOffscreenCanvasSupport) {\n    return new OffscreenCanvas(width, height)\n  }\n  const canvas = document.createElement('canvas')\n  canvas.width = width\n  canvas.height = height\n  return canvas as unknown as OffscreenCanvas // todo-low\n}\n\nexport async function loadImageFromUrl (imageUrl: string): Promise<ImageBitmap> {\n  const response = await fetch(imageUrl)\n  const blob = await response.blob()\n  return createImageBitmap(blob)\n}\n","import { default as chainmailLayer1 } from 'mc-assets/dist/other-textures/latest/models/armor/chainmail_layer_1.png'\nimport { default as chainmailLayer2 } from 'mc-assets/dist/other-textures/latest/models/armor/chainmail_layer_2.png'\nimport { default as diamondLayer1 } from 'mc-assets/dist/other-textures/latest/models/armor/diamond_layer_1.png'\nimport { default as diamondLayer2 } from 'mc-assets/dist/other-textures/latest/models/armor/diamond_layer_2.png'\nimport { default as goldenLayer1 } from 'mc-assets/dist/other-textures/latest/models/armor/gold_layer_1.png'\nimport { default as goldenLayer2 } from 'mc-assets/dist/other-textures/latest/models/armor/gold_layer_2.png'\nimport { default as ironLayer1 } from 'mc-assets/dist/other-textures/latest/models/armor/iron_layer_1.png'\nimport { default as ironLayer2 } from 'mc-assets/dist/other-textures/latest/models/armor/iron_layer_2.png'\nimport { default as leatherLayer1 } from 'mc-assets/dist/other-textures/latest/models/armor/leather_layer_1.png'\nimport { default as leatherLayer1Overlay } from 'mc-assets/dist/other-textures/latest/models/armor/leather_layer_1_overlay.png'\nimport { default as leatherLayer2 } from 'mc-assets/dist/other-textures/latest/models/armor/leather_layer_2.png'\nimport { default as leatherLayer2Overlay } from 'mc-assets/dist/other-textures/latest/models/armor/leather_layer_2_overlay.png'\nimport { default as netheriteLayer1 } from 'mc-assets/dist/other-textures/latest/models/armor/netherite_layer_1.png'\nimport { default as netheriteLayer2 } from 'mc-assets/dist/other-textures/latest/models/armor/netherite_layer_2.png'\nimport { default as turtleLayer1 } from 'mc-assets/dist/other-textures/latest/models/armor/turtle_layer_1.png'\n\nexport { default as elytraTexture } from 'mc-assets/dist/other-textures/latest/entity/elytra.png'\nexport { default as armorModel } from './armorModels.json'\n\nexport const armorTextures = {\n  'leather_layer_1': leatherLayer1,\n  'leather_layer_1_overlay': leatherLayer1Overlay,\n  'leather_layer_2': leatherLayer2,\n  'leather_layer_2_overlay': leatherLayer2Overlay,\n  'chainmail_layer_1': chainmailLayer1,\n  'chainmail_layer_2': chainmailLayer2,\n  'iron_layer_1': ironLayer1,\n  'iron_layer_2': ironLayer2,\n  'diamond_layer_1': diamondLayer1,\n  'diamond_layer_2': diamondLayer2,\n  'golden_layer_1': goldenLayer1,\n  'golden_layer_2': goldenLayer2,\n  'netherite_layer_1': netheriteLayer1,\n  'netherite_layer_2': netheriteLayer2,\n  'turtle_layer_1': turtleLayer1\n}\n","import type { AppConfig } from './appConfig'\nimport { miscUiState } from './globalState'\n\nconst qsParams = new URLSearchParams(window.location?.search ?? '')\n\nexport type AppQsParams = {\n  // AddServerOrConnect.tsx params\n  ip?: string\n  name?: string\n  version?: string\n  proxy?: string\n  username?: string\n  lockConnect?: string\n  autoConnect?: string\n  alwaysReconnect?: string\n  // googledrive.ts params\n  state?: string\n  // ServersListProvider.tsx params\n  serversList?: string\n  // Map and texture params\n  texturepack?: string\n  map?: string\n  mapDirBaseUrl?: string\n  mapDirGuess?: string\n  // Singleplayer params\n  singleplayer?: string\n  sp?: string\n  loadSave?: string\n  // Server params\n  reconnect?: string\n  server?: string\n  // Peer connection params\n  connectPeer?: string\n  peerVersion?: string\n  // UI params\n  modal?: string\n  viewerConnect?: string\n  // Map version param\n  mapVersion?: string\n  // Command params\n  command?: string\n  // Misc params\n  suggest_save?: string\n  noPacketsValidation?: string\n  testCrashApp?: string\n  onlyConnect?: string\n  connectText?: string\n  freezeSettings?: string\n  testIosCrash?: string\n\n  // Replay params\n  replayFilter?: string\n  replaySpeed?: string\n  replayFileUrl?: string\n  replayValidateClient?: string\n  replayStopOnError?: string\n  replaySkipMissingOnTimeout?: string\n  replayPacketsSenderDelay?: string\n\n  // Benchmark params\n  openBenchmark?: string\n  renderDistance?: string\n  downloadBenchmark?: string\n  benchmarkMapZipUrl?: string\n  benchmarkPosition?: string\n}\n\nexport type AppQsParamsArray = {\n  mapDir?: string[]\n  setting?: string[]\n  serverSetting?: string[]\n  command?: string[]\n}\n\ntype AppQsParamsArrayTransformed = {\n  [k in keyof AppQsParamsArray]: string[]\n}\n\nglobalThis.process ??= {} as any\nconst initialAppConfig = process?.env?.INLINED_APP_CONFIG as AppConfig ?? {}\n\nexport const appQueryParams = new Proxy<AppQsParams>({} as AppQsParams, {\n  get (target, property) {\n    if (typeof property !== 'string') {\n      return undefined\n    }\n    const qsParam = qsParams.get(property)\n    if (qsParam) return qsParam\n    return miscUiState.appConfig?.appParams?.[property]\n  },\n})\n\nexport const appQueryParamsArray = new Proxy({} as AppQsParamsArrayTransformed, {\n  get (target, property) {\n    if (typeof property !== 'string') {\n      return null\n    }\n    const qsParam = qsParams.getAll(property)\n    if (qsParam.length) return qsParam\n    return miscUiState.appConfig?.appParams?.[property] ?? []\n  },\n})\n\nexport function updateQsParam (name: keyof AppQsParams, value: string | undefined) {\n  const url = new URL(window.location.href)\n  if (value) {\n    url.searchParams.set(name, value)\n  } else {\n    url.searchParams.delete(name)\n  }\n  window.history.replaceState({}, '', url.toString())\n}\n\n// Helper function to check if a specific query parameter exists\nexport const hasQueryParam = (param: keyof AppQsParams) => qsParams.has(param)\n\n// Helper function to get all query parameters as a URLSearchParams object\nexport const getRawQueryParams = () => qsParams;\n\n(globalThis as any).debugQueryParams = Object.fromEntries(qsParams.entries())\n","import { resetStateAfterDisconnect } from './browserfs'\nimport { hideModal, activeModalStack, showModal, miscUiState } from './globalState'\nimport { appStatusState, resetAppStatusState } from './react/AppStatusProvider'\n\nlet ourLastStatus: string | undefined = ''\nexport const setLoadingScreenStatus = function (status: string | undefined | null, isError = false, hideDots = false, fromFlyingSquid = false, minecraftJsonMessage?: Record<string, any>) {\n  if (typeof status === 'string') status = window.translateText?.(status) ?? status\n  // null can come from flying squid, should restore our last status\n  if (status === null) {\n    status = ourLastStatus\n  } else if (!fromFlyingSquid) {\n    ourLastStatus = status\n  }\n  fromFlyingSquid = false\n\n  if (status === undefined) {\n    appStatusState.status = ''\n\n    hideModal({ reactType: 'app-status' }, {}, { force: true })\n    return\n  }\n\n  if (!activeModalStack.some(x => x.reactType === 'app-status')) {\n    // just showing app status\n    resetAppStatusState()\n  }\n  showModal({ reactType: 'app-status' })\n  if (appStatusState.isError) {\n    return\n  }\n  appStatusState.hideDots = hideDots\n  appStatusState.isError = isError\n  appStatusState.lastStatus = isError ? appStatusState.status : ''\n  appStatusState.status = status\n  appStatusState.minecraftJsonMessage = minecraftJsonMessage ?? null\n\n  if (isError && miscUiState.gameLoaded) {\n    resetStateAfterDisconnect()\n  }\n}\nglobalThis.setLoadingScreenStatus = setLoadingScreenStatus\n","import { subscribeKey } from 'valtio/utils'\nimport { options } from './optionsStorage'\nimport { isCypress } from './standaloneUtils'\nimport { reportWarningOnce } from './utils'\n\nlet audioContext: AudioContext\nconst sounds: Record<string, any> = {}\n\n// Track currently playing sounds and their gain nodes\nconst activeSounds: Array<{ source: AudioBufferSourceNode; gainNode: GainNode; volumeMultiplier: number }> = []\nwindow.activeSounds = activeSounds\n\n// load as many resources on page load as possible instead on demand as user can disable internet connection after he thinks the page is loaded\nconst loadingSounds = [] as string[]\nconst convertedSounds = [] as string[]\n\nexport async function loadSound (path: string, contents = path) {\n  if (loadingSounds.includes(path)) return true\n  loadingSounds.push(path)\n\n  try {\n    audioContext ??= new window.AudioContext()\n\n    const res = await window.fetch(contents)\n    if (!res.ok) {\n      const error = `Failed to load sound ${path}`\n      if (isCypress()) throw new Error(error)\n      else console.warn(error)\n      return\n    }\n    const arrayBuffer = await res.arrayBuffer()\n\n    // Decode the audio data immediately\n    const audioBuffer = await audioContext.decodeAudioData(arrayBuffer)\n    sounds[path] = audioBuffer\n    convertedSounds.push(path) // Mark as converted immediately\n\n    loadingSounds.splice(loadingSounds.indexOf(path), 1)\n  } catch (err) {\n    console.warn(`Failed to load sound ${path}:`, err)\n    loadingSounds.splice(loadingSounds.indexOf(path), 1)\n    if (isCypress()) throw err\n  }\n}\n\nexport const loadOrPlaySound = async (url, soundVolume = 1, loadTimeout = options.remoteSoundsLoadTimeout, loop = false) => {\n  const soundBuffer = sounds[url]\n  if (!soundBuffer) {\n    const start = Date.now()\n    const cancelled = await loadSound(url)\n    if (cancelled || Date.now() - start > loadTimeout) return\n  }\n\n  return playSound(url, soundVolume, loop)\n}\n\nexport async function playSound (url, soundVolume = 1, loop = false) {\n  const volume = soundVolume * (options.volume / 100)\n\n  if (!volume) return\n\n  try {\n    audioContext ??= new window.AudioContext()\n  } catch (err) {\n    reportWarningOnce('audioContext', 'Failed to create audio context. Some sounds will not play')\n    return\n  }\n\n  const soundBuffer = sounds[url]\n  if (!soundBuffer) {\n    console.warn(`Sound ${url} not loaded yet`)\n    return\n  }\n\n  const gainNode = audioContext.createGain()\n  const source = audioContext.createBufferSource()\n  source.buffer = soundBuffer\n  source.loop = loop\n  source.connect(gainNode)\n  gainNode.connect(audioContext.destination)\n  gainNode.gain.value = volume\n  source.start(0)\n\n  // Add to active sounds\n  activeSounds.push({ source, gainNode, volumeMultiplier: soundVolume })\n\n  const callbacks = [] as Array<() => void>\n  source.onended = () => {\n    // Remove from active sounds when finished\n    const index = activeSounds.findIndex(s => s.source === source)\n    if (index !== -1) activeSounds.splice(index, 1)\n\n    for (const callback of callbacks) {\n      callback()\n    }\n    callbacks.length = 0\n  }\n\n  return {\n    onEnded (callback: () => void) {\n      callbacks.push(callback)\n    },\n    stop () {\n      try {\n        source.stop()\n        // Remove from active sounds\n        const index = activeSounds.findIndex(s => s.source === source)\n        if (index !== -1) activeSounds.splice(index, 1)\n      } catch (err) {\n        console.warn('Failed to stop sound:', err)\n      }\n    },\n  }\n}\n\nexport function stopAllSounds () {\n  for (const { source } of activeSounds) {\n    try {\n      source.stop()\n    } catch (err) {\n      console.warn('Failed to stop sound:', err)\n    }\n  }\n  activeSounds.length = 0\n}\n\nexport function stopSound (url: string) {\n  const soundIndex = activeSounds.findIndex(s => s.source.buffer === sounds[url])\n  if (soundIndex !== -1) {\n    const { source } = activeSounds[soundIndex]\n    try {\n      source.stop()\n    } catch (err) {\n      console.warn('Failed to stop sound:', err)\n    }\n    activeSounds.splice(soundIndex, 1)\n  }\n}\n\nexport function changeVolumeOfCurrentlyPlayingSounds (newVolume: number) {\n  const normalizedVolume = newVolume / 100\n  for (const { gainNode, volumeMultiplier } of activeSounds) {\n    try {\n      gainNode.gain.value = normalizedVolume * volumeMultiplier\n    } catch (err) {\n      console.warn('Failed to change sound volume:', err)\n    }\n  }\n}\n\nsubscribeKey(options, 'volume', () => {\n  changeVolumeOfCurrentlyPlayingSounds(options.volume)\n})\n","import { versionToNumber } from 'renderer/viewer/common/utils'\nimport * as nbt from 'prismarine-nbt'\n\nexport const displayClientChat = (text: string) => {\n  const message = {\n    text\n  }\n  if (versionToNumber(bot.version) >= versionToNumber('1.19')) {\n    bot._client.emit('systemChat', {\n      formattedMessage: JSON.stringify(message),\n      position: 0,\n      sender: 'minecraft:chat'\n    })\n    return\n  }\n  bot._client.emit('chat', {\n    message: JSON.stringify(message),\n    position: 0,\n    sender: 'minecraft:chat'\n  })\n}\n\nexport const parseFormattedMessagePacket = (arg) => {\n  if (typeof arg === 'string') {\n    try {\n      arg = JSON.parse(arg)\n      return {\n        formatted: arg,\n        plain: ''\n      }\n    } catch {}\n  }\n  if (typeof arg === 'object') {\n    try {\n      return {\n        formatted: nbt.simplify(arg),\n        plain: ''\n      }\n    } catch (err) {\n      console.warn('Failed to parse formatted message', arg, err)\n      return {\n        plain: JSON.stringify(arg)\n      }\n    }\n  }\n  return {\n    plain: String(arg)\n  }\n}\n","import { join } from 'path'\nimport { promisify } from 'util'\nimport fs from 'fs'\nimport sanitizeFilename from 'sanitize-filename'\nimport { oneOf } from '@zardoy/utils'\nimport * as browserfs from 'browserfs'\nimport { options, resetOptions } from './optionsStorage'\n\nimport { fsState, loadSave } from './loadSave'\nimport { installResourcepackPack, installTexturePackFromHandle, updateTexturePackInstalledState } from './resourcePack'\nimport { miscUiState } from './globalState'\nimport { setLoadingScreenStatus } from './appStatus'\nimport { VALID_REPLAY_EXTENSIONS, openFile } from './packetsReplay/replayPackets'\nimport { getFixedFilesize } from './downloadAndOpenFile'\nimport { packetsReplayState } from './react/state/packetsReplayState'\nimport { createFullScreenProgressReporter } from './core/progressReporter'\nimport { showNotification } from './react/NotificationProvider'\nimport { resetAppStorage } from './react/appStorageProvider'\nimport { ConnectOptions } from './connect'\nconst { GoogleDriveFileSystem } = require('google-drive-browserfs/src/backends/GoogleDrive')\n\nbrowserfs.install(window)\nconst defaultMountablePoints = {\n  '/data': { fs: 'IndexedDB' },\n  '/resourcepack': { fs: 'InMemory' }, // temporary storage for currently loaded resource pack\n  '/temp': { fs: 'InMemory' }\n}\nconst fallbackMountablePoints = {\n  '/resourcepack': { fs: 'InMemory' }, // temporary storage for downloaded server resource pack\n  '/temp': { fs: 'InMemory' }\n}\nbrowserfs.configure({\n  fs: 'MountableFileSystem',\n  options: defaultMountablePoints,\n}, async (e) => {\n  if (e) {\n    browserfs.configure({\n      fs: 'MountableFileSystem',\n      options: fallbackMountablePoints,\n    }, async (e2) => {\n      if (e2) {\n        showNotification('Unknown FS error, cannot continue', e2.message, true)\n        throw e2\n      }\n      showNotification('Failed to access device storage', `Check you have free space. ${e.message}`, true)\n      miscUiState.fsReady = true\n      miscUiState.singleplayerAvailable = false\n    })\n    return\n  }\n  await updateTexturePackInstalledState()\n  miscUiState.fsReady = true\n  miscUiState.singleplayerAvailable = true\n})\n\nexport const forceCachedDataPaths = {}\nexport const forceRedirectPaths = {}\n\nwindow.fs = fs\n//@ts-expect-error\nfs.promises = new Proxy(Object.fromEntries(['readFile', 'writeFile', 'stat', 'mkdir', 'rmdir', 'unlink', 'rename', /* 'copyFile',  */'readdir'].map(key => [key, promisify(fs[key])])), {\n  get (target, p: string, receiver) {\n    if (!target[p]) throw new Error(`Not implemented fs.promises.${p}`)\n    return (...args) => {\n      // browser fs bug: if path doesn't start with / dirname will return . which would cause infinite loop, so we need to normalize paths\n      if (typeof args[0] === 'string' && !args[0].startsWith('/')) args[0] = '/' + args[0]\n      const toRemap = Object.entries(forceRedirectPaths).find(([from]) => args[0].startsWith(from))\n      if (toRemap) {\n        args[0] = args[0].replace(toRemap[0], toRemap[1])\n      }\n      // Write methods\n      // todo issue one-time warning (in chat I guess)\n      const readonly = fsState.isReadonly && !(args[0].startsWith('/data') && !fsState.inMemorySave) // allow copying worlds from external providers such as zip\n      if (readonly) {\n        if (oneOf(p, 'readFile', 'writeFile') && forceCachedDataPaths[args[0]]) {\n          if (p === 'readFile') {\n            return Promise.resolve(forceCachedDataPaths[args[0]])\n          } else if (p === 'writeFile') {\n            forceCachedDataPaths[args[0]] = args[1]\n            console.debug('Skipped writing to readonly fs', args[0])\n            return Promise.resolve()\n          }\n        }\n        if (oneOf(p, 'writeFile', 'mkdir', 'rename')) return\n      }\n      if (p === 'open' && fsState.isReadonly) {\n        args[1] = 'r' // read-only, zipfs throw otherwise\n      }\n      if (p === 'readFile') {\n        fsState.openReadOperations++\n      } else if (p === 'writeFile') {\n        fsState.openWriteOperations++\n      }\n      return target[p](...args).finally(() => {\n        if (p === 'readFile') {\n          fsState.openReadOperations--\n        } else if (p === 'writeFile') {\n          fsState.openWriteOperations--\n        }\n      })\n    }\n  }\n})\n//@ts-expect-error\nfs.promises.open = async (...args) => {\n  //@ts-expect-error\n  const fd = await promisify(fs.open)(...args)\n  return {\n    ...Object.fromEntries(['read', 'write', 'close'].map(x => [x, async (...args) => {\n      return new Promise(resolve => {\n        // todo it results in world corruption on interactions eg block placements\n        if (x === 'write' && fsState.isReadonly) {\n          resolve({ buffer: Buffer.from([]), bytesRead: 0 })\n          return\n        }\n\n        if (x === 'read') {\n          fsState.openReadOperations++\n        } else if (x === 'write' || x === 'close') {\n          fsState.openWriteOperations++\n        }\n        fs[x](fd, ...args, (err, bytesRead, buffer) => {\n          if (x === 'read') {\n            fsState.openReadOperations--\n          } else if (x === 'write' || x === 'close') {\n            // todo that's not correct\n            fsState.openWriteOperations--\n          }\n          if (err) throw err\n          // todo if readonly probably there is no need to open at all (return some mocked version - check reload)?\n          if (x === 'write' && !fsState.isReadonly) {\n            // flush data, though alternatively we can rely on close in unload\n            fs.fsync(fd, () => { })\n          }\n          resolve({ buffer, bytesRead })\n        })\n      })\n    }])),\n    // for debugging\n    fd,\n    filename: args[0],\n    async close () {\n      return new Promise<void>(resolve => {\n        fs.close(fd, (err) => {\n          if (err) {\n            throw err\n          } else {\n            resolve()\n          }\n        })\n      })\n    }\n  }\n}\n\n// for testing purposes, todo move it to core patch\nconst removeFileRecursiveSync = (path) => {\n  for (const file of fs.readdirSync(path)) {\n    const curPath = join(path, file)\n    if (fs.lstatSync(curPath).isDirectory()) {\n      // recurse\n      removeFileRecursiveSync(curPath)\n      fs.rmdirSync(curPath)\n    } else {\n      // delete file\n      fs.unlinkSync(curPath)\n    }\n  }\n}\n\nwindow.removeFileRecursiveSync = removeFileRecursiveSync\n\nexport const mkdirRecursive = async (path: string) => {\n  const parts = path.split('/')\n  let current = ''\n  for (const part of parts) {\n    current += part + '/'\n    try {\n      // eslint-disable-next-line no-await-in-loop\n      await fs.promises.mkdir(current)\n    } catch (err) {\n    }\n  }\n}\n\nexport const uniqueFileNameFromWorldName = async (title: string, savePath: string) => {\n  const name = sanitizeFilename(title)\n  let resultPath!: string\n  // getUniqueFolderName\n  let i = 0\n  let free = false\n  while (!free) {\n    try {\n      resultPath = `${savePath.replace(/\\$/, '')}/${name}${i === 0 ? '' : `-${i}`}`\n      // eslint-disable-next-line no-await-in-loop\n      await fs.promises.stat(resultPath)\n      i++\n    } catch (err) {\n      free = true\n    }\n  }\n  return resultPath\n}\n\nexport const mountExportFolder = async () => {\n  let handle: FileSystemDirectoryHandle\n  try {\n    handle = await showDirectoryPicker({\n      id: 'world-export',\n    })\n  } catch (err) {\n    if (err instanceof DOMException && err.name === 'AbortError') return\n    throw err\n  }\n  if (!handle) return false\n  await new Promise<void>(resolve => {\n    browserfs.configure({\n      fs: 'MountableFileSystem',\n      options: {\n        ...defaultMountablePoints,\n        '/export': {\n          fs: 'FileSystemAccess',\n          options: {\n            handle\n          }\n        }\n      },\n    }, (e) => {\n      if (e) throw e\n      resolve()\n    })\n  })\n  return true\n}\n\nlet googleDriveFileSystem\n\n/** Only cached! */\nexport const googleDriveGetFileIdFromPath = (path: string) => {\n  return googleDriveFileSystem._getExistingFileId(path)\n}\n\nexport const mountGoogleDriveFolder = async (readonly: boolean, rootId: string) => {\n  googleDriveFileSystem = new GoogleDriveFileSystem()\n  googleDriveFileSystem.rootDirId = rootId\n  googleDriveFileSystem.isReadonly = readonly\n  await new Promise<void>(resolve => {\n    browserfs.configure({\n      fs: 'MountableFileSystem',\n      options: {\n        ...defaultMountablePoints,\n        '/google': googleDriveFileSystem\n      },\n    }, (e) => {\n      if (e) throw e\n      resolve()\n    })\n  })\n  fsState.isReadonly = readonly\n  fsState.syncFs = false\n  fsState.inMemorySave = false\n  fsState.remoteBackend = true\n  return true\n}\n\nexport async function removeFileRecursiveAsync (path, removeDirectoryItself = true) {\n  const errors = [] as Array<[string, Error]>\n  try {\n    const files = await fs.promises.readdir(path)\n\n    // Use Promise.all to parallelize file/directory removal\n    await Promise.all(files.map(async (file) => {\n      const curPath = join(path, file)\n      const stats = await fs.promises.stat(curPath)\n      if (stats.isDirectory()) {\n        // Recurse\n        await removeFileRecursiveAsync(curPath)\n      } else {\n        // Delete file\n        await fs.promises.unlink(curPath)\n      }\n    }))\n\n    // After removing all files/directories, remove the current directory\n    if (removeDirectoryItself) {\n      await fs.promises.rmdir(path)\n    }\n  } catch (error) {\n    errors.push([path, error])\n  }\n\n  if (errors.length) {\n    setTimeout(() => {\n      console.error(errors)\n      throw new Error(`Error removing directories/files: ${errors.map(([path, err]) => `${path}: ${err.message}`).join(', ')}`)\n    })\n  }\n}\n\n\nconst SUPPORT_WRITE = true\n\nexport const openWorldDirectory = async (dragndropHandle?: FileSystemDirectoryHandle) => {\n  let _directoryHandle: FileSystemDirectoryHandle\n  if (dragndropHandle) {\n    _directoryHandle = dragndropHandle\n  } else {\n    try {\n      _directoryHandle = await window.showDirectoryPicker({\n        id: 'select-world', // important: this is used to remember user choice (start directory)\n      })\n    } catch (err) {\n      if (err instanceof DOMException && err.name === 'AbortError') return\n      throw err\n    }\n  }\n  const directoryHandle = _directoryHandle\n\n  const requestResult = SUPPORT_WRITE && !options.preferLoadReadonly ? await directoryHandle.requestPermission?.({ mode: 'readwrite' }) : undefined\n  const writeAccess = requestResult === 'granted'\n\n  const doContinue = writeAccess || !SUPPORT_WRITE || options.disableLoadPrompts || confirm('Continue in readonly mode?')\n  if (!doContinue) return\n  await new Promise<void>(resolve => {\n    browserfs.configure({\n      fs: 'MountableFileSystem',\n      options: {\n        ...defaultMountablePoints,\n        '/world': {\n          fs: 'FileSystemAccess',\n          options: {\n            handle: directoryHandle\n          }\n        }\n      },\n    }, (e) => {\n      if (e) throw e\n      resolve()\n    })\n  })\n\n  fsState.isReadonly = !writeAccess\n  fsState.syncFs = false\n  fsState.inMemorySave = false\n  fsState.remoteBackend = false\n  await loadSave()\n}\n\nconst tryToDetectResourcePack = async () => {\n  const askInstall = async () => {\n    // todo investigate browserfs read errors\n    return alert('ATM You can install texturepacks only via options menu.')\n    // if (confirm('Resource pack detected, do you want to install it?')) {\n    //   await installTexturePackFromHandle()\n    // }\n  }\n\n  if (fs.existsSync('/world/pack.mcmeta')) {\n    await askInstall()\n    return true\n  }\n  // const jszip = new JSZip()\n  // let loaded = await jszip.loadAsync(file)\n  // if (loaded.file('pack.mcmeta')) {\n  //   loaded = null\n  //   askInstall()\n  //   return true\n  // }\n  // loaded = null\n}\n\nexport const possiblyCleanHandle = (callback = () => { }) => {\n  if (!fsState.saveLoaded) {\n    // todo clean handle\n    browserfs.configure({\n      fs: 'MountableFileSystem',\n      options: defaultMountablePoints,\n    }, (e) => {\n      callback()\n      if (e) throw e\n    })\n  }\n}\n\nconst readdirSafe = async (path: string) => {\n  try {\n    return await fs.promises.readdir(path)\n  } catch (err) {\n    return null\n  }\n}\n\nexport const collectFilesToCopy = async (basePath: string, safe = false): Promise<string[]> => {\n  const result: string[] = []\n  const countFiles = async (relPath: string) => {\n    const resolvedPath = join(basePath, relPath)\n    const files = relPath === '.' && !safe ? await fs.promises.readdir(resolvedPath) : await readdirSafe(resolvedPath)\n    if (!files) return null\n    await Promise.all(files.map(async file => {\n      const res = await countFiles(join(relPath, file))\n      if (res === null) {\n        // is file\n        result.push(join(relPath, file))\n      }\n    }))\n  }\n  await countFiles('.')\n  return result\n}\n\nexport const copyFilesAsyncWithProgress = async (pathSrc: string, pathDest: string, throwRootNotExist = true, addMsg = '') => {\n  const stat = await existsViaStats(pathSrc)\n  if (!stat) {\n    if (throwRootNotExist) throw new Error(`Cannot copy. Source directory ${pathSrc} does not exist`)\n    console.debug('source directory does not exist', pathSrc)\n    return\n  }\n  if (!stat.isDirectory()) {\n    await fs.promises.writeFile(pathDest, await fs.promises.readFile(pathSrc) as any)\n    console.debug('copied single file', pathSrc, pathDest)\n    return\n  }\n\n  try {\n    setLoadingScreenStatus('Copying files')\n    let filesCount = 0\n    const countFiles = async (path: string) => {\n      const files = await fs.promises.readdir(path)\n      await Promise.all(files.map(async (file) => {\n        const curPath = join(path, file)\n        const stats = await fs.promises.stat(curPath)\n        if (stats.isDirectory()) {\n          // Recurse\n          await countFiles(curPath)\n        } else {\n          filesCount++\n        }\n      }))\n    }\n    console.debug('Counting files', pathSrc)\n    await countFiles(pathSrc)\n    console.debug('counted', filesCount)\n    let copied = 0\n    await copyFilesAsync(pathSrc, pathDest, (name) => {\n      copied++\n      setLoadingScreenStatus(`Copying files${addMsg} (${copied}/${filesCount}): ${name}`)\n    })\n  } finally {\n    setLoadingScreenStatus(undefined)\n  }\n}\n\nexport const existsViaStats = async (path: string) => {\n  try {\n    return await fs.promises.stat(path)\n  } catch (e) {\n    return false\n  }\n}\n\nexport const fileExistsAsyncOptimized = async (path: string) => {\n  try {\n    await fs.promises.readdir(path)\n  } catch (err) {\n    if (err.code === 'ENOTDIR') return true\n    // eslint-disable-next-line sonarjs/prefer-single-boolean-return\n    if (err.code === 'ENOENT') return false\n    // throw err\n    return false\n  }\n  return true\n}\n\nexport const copyFilesAsync = async (pathSrc: string, pathDest: string, fileCopied?: (name) => void) => {\n  // query: can't use fs.copy! use fs.promises.writeFile and readFile\n  const files = await fs.promises.readdir(pathSrc)\n\n  if (!await existsViaStats(pathDest)) {\n    await fs.promises.mkdir(pathDest, { recursive: true })\n  }\n\n  // Use Promise.all to parallelize file/directory copying\n  await Promise.all(files.map(async (file) => {\n    const curPathSrc = join(pathSrc, file)\n    const curPathDest = join(pathDest, file)\n    const stats = await fs.promises.stat(curPathSrc)\n    if (stats.isDirectory()) {\n      // Recurse\n      await fs.promises.mkdir(curPathDest)\n      await copyFilesAsync(curPathSrc, curPathDest, fileCopied)\n    } else {\n      // Copy file\n      try {\n        await fs.promises.writeFile(curPathDest, await fs.promises.readFile(curPathSrc) as any)\n        console.debug('copied file', curPathSrc, curPathDest)\n      } catch (err) {\n        console.error('Error copying file', curPathSrc, curPathDest, err)\n        throw err\n      }\n      fileCopied?.(curPathDest)\n    }\n  }))\n}\n\nexport const openWorldFromHttpDir = async (fileDescriptorUrls: string[]/*  | undefined */, baseUrlParam) => {\n  // todo try go guess mode\n  let index\n  let baseUrl\n  for (const url of fileDescriptorUrls) {\n    let file\n    try {\n      setLoadingScreenStatus(`Trying to get world descriptor from ${new URL(url).host}`)\n      const controller = new AbortController()\n      setTimeout(() => {\n        controller.abort()\n      }, 3000)\n      // eslint-disable-next-line no-await-in-loop\n      const response = await fetch(url, { signal: controller.signal })\n      // eslint-disable-next-line no-await-in-loop\n      file = await response.json()\n    } catch (err) {\n      console.error('Error fetching file descriptor', url, err)\n    }\n    if (!file) continue\n    if (file.baseUrl) {\n      baseUrl = new URL(file.baseUrl, baseUrl).toString()\n      index = file.index\n    } else {\n      index = file\n      baseUrl = baseUrlParam ?? url.split('/').slice(0, -1).join('/')\n    }\n    break\n  }\n  if (!index) throw new Error(`The provided mapDir file is not valid descriptor file! ${fileDescriptorUrls.join(', ')}`)\n  await new Promise<void>(async resolve => {\n    browserfs.configure({\n      fs: 'MountableFileSystem',\n      options: {\n        ...defaultMountablePoints,\n        '/world': {\n          fs: 'HTTPRequest',\n          options: {\n            index,\n            baseUrl\n          }\n        }\n      },\n    }, (e) => {\n      if (e) throw e\n      resolve()\n    })\n  })\n\n  fsState.saveLoaded = false\n  fsState.isReadonly = true\n  fsState.syncFs = false\n  fsState.inMemorySave = false\n  fsState.remoteBackend = true\n\n  await loadSave()\n}\n\n// todo rename method\nconst openWorldZipInner = async (file: File | ArrayBuffer, name = file['name'], connectOptions?: Partial<ConnectOptions>) => {\n  await new Promise<void>(async resolve => {\n    browserfs.configure({\n      // todo\n      fs: 'MountableFileSystem',\n      options: {\n        ...defaultMountablePoints,\n        '/world': {\n          fs: 'ZipFS',\n          options: {\n            zipData: Buffer.from(file instanceof File ? (await file.arrayBuffer()) : file),\n            name\n          }\n        }\n      },\n    }, (e) => {\n      if (e) throw e\n      resolve()\n    })\n  })\n\n  fsState.saveLoaded = false\n  fsState.isReadonly = true\n  fsState.syncFs = true\n  fsState.inMemorySave = false\n  fsState.remoteBackend = false\n\n  if (fs.existsSync('/world/level.dat')) {\n    await loadSave()\n  } else {\n    const dirs = fs.readdirSync('/world')\n    const availableWorlds: string[] = []\n    for (const dir of dirs) {\n      if (fs.existsSync(`/world/${dir}/level.dat`)) {\n        availableWorlds.push(dir)\n      }\n    }\n\n    if (availableWorlds.length === 0) {\n      if (await tryToDetectResourcePack()) return\n      alert('No worlds found in the zip')\n      return\n    }\n\n    if (availableWorlds.length === 1) {\n      await loadSave(`/world/${availableWorlds[0]}`, connectOptions)\n      return\n    }\n\n    alert(`Many (${availableWorlds.length}) worlds found in the zip!`)\n    // todo prompt picker\n    // const selectWorld\n  }\n}\n\nexport const openWorldZip = async (...args: Parameters<typeof openWorldZipInner>) => {\n  try {\n    return await openWorldZipInner(...args)\n  } finally {\n    possiblyCleanHandle()\n  }\n}\n\nexport const resetLocalStorage = () => {\n  resetOptions()\n  resetAppStorage()\n}\n\nwindow.resetLocalStorage = resetLocalStorage\n\nexport const openFilePicker = (specificCase?: 'resourcepack') => {\n  // create and show input picker\n  let picker: HTMLInputElement = document.body.querySelector('input#file-zip-picker')!\n  if (!picker) {\n    picker = document.createElement('input')\n    picker.type = 'file'\n    picker.accept = specificCase ? '.zip' : [...VALID_REPLAY_EXTENSIONS, '.zip'].join(',')\n\n    picker.addEventListener('change', () => {\n      const file = picker.files?.[0]\n      picker.value = ''\n      if (!file) return\n      if (specificCase === 'resourcepack') {\n        if (!file.name.endsWith('.zip')) {\n          const doContinue = confirm(`Are you sure ${file.name.slice(-20)} is .zip file? ONLY .zip files are supported. Continue?`)\n          if (!doContinue) return\n        }\n        void installResourcepackPack(file, createFullScreenProgressReporter()).catch((err) => {\n          setLoadingScreenStatus(err.message, true)\n        })\n      } else {\n        // eslint-disable-next-line no-lonely-if\n        if (VALID_REPLAY_EXTENSIONS.some(ext => file.name.endsWith(ext)) || file.name.startsWith('packets-replay')) {\n          void file.text().then(contents => {\n            openFile({\n              contents,\n              filename: file.name,\n              filesize: file.size\n            })\n          })\n        } else {\n          void openWorldZip(file)\n        }\n      }\n    })\n    picker.hidden = true\n    document.body.appendChild(picker)\n  }\n\n  picker.click()\n}\n\nexport const resetStateAfterDisconnect = () => {\n  miscUiState.gameLoaded = false\n  miscUiState.loadedDataVersion = null\n  miscUiState.singleplayer = false\n  miscUiState.flyingSquid = false\n  miscUiState.wanOpened = false\n  miscUiState.currentDisplayQr = null\n\n  fsState.saveLoaded = false\n}\n","// this should actually be moved to mineflayer / renderer\n\nimport { fromFormattedString, TextComponent } from '@xmcl/text-component'\nimport type { IndexedData } from 'minecraft-data'\nimport { versionToNumber } from 'renderer/viewer/common/utils'\n\nexport interface MessageFormatOptions {\n  doShadow?: boolean\n}\n\nexport type MessageFormatPart = Pick<TextComponent, 'hoverEvent' | 'clickEvent'> & {\n  text: string\n  color?: string\n  bold?: boolean\n  italic?: boolean\n  underlined?: boolean\n  strikethrough?: boolean\n  obfuscated?: boolean\n}\n\ntype MessageInput = {\n  text?: string\n  translate?: string\n  with?: Array<MessageInput | string>\n  color?: string\n  bold?: boolean\n  italic?: boolean\n  underlined?: boolean\n  strikethrough?: boolean\n  obfuscated?: boolean\n  extra?: MessageInput[]\n  json?: any\n}\n\nconst global = globalThis as any\n\n// todo move to sign-renderer, replace with prismarine-chat, fix mcData issue!\nexport const formatMessage = (message: MessageInput, mcData: IndexedData = global.loadedData) => {\n  let msglist: MessageFormatPart[] = []\n\n  const readMsg = (msg: MessageInput) => {\n    const styles = {\n      color: msg.color,\n      bold: !!msg.bold,\n      italic: !!msg.italic,\n      underlined: !!msg.underlined,\n      strikethrough: !!msg.strikethrough,\n      obfuscated: !!msg.obfuscated\n    }\n\n    if (!msg.text && typeof msg.json?.[''] === 'string') msg.text = msg.json['']\n    if (msg.text) {\n      msglist.push({\n        ...msg,\n        text: msg.text,\n        ...styles\n      })\n    } else if (msg.translate) {\n      const tText = mcData?.language[msg.translate] ?? msg.translate\n\n      if (msg.with) {\n        const splitted = tText.split(/%s|%\\d+\\$s/g)\n\n        let i = 0\n        for (const [j, part] of splitted.entries()) {\n          msglist.push({ text: part, ...styles })\n\n          if (j + 1 < splitted.length) {\n            if (msg.with[i]) {\n              const msgWith = msg.with[i]\n              if (typeof msgWith === 'string') {\n                readMsg({\n                  ...styles,\n                  text: msgWith\n                })\n              } else {\n                readMsg({\n                  ...styles,\n                  ...msgWith\n                })\n              }\n            }\n            i++\n          }\n        }\n      } else {\n        msglist.push({\n          ...msg,\n          text: tText,\n          ...styles\n        })\n      }\n    }\n\n    if (msg.extra) {\n      for (let ex of msg.extra) {\n        if (typeof ex === 'string') {\n          ex = { text: ex }\n        }\n        readMsg({ ...styles, ...ex })\n      }\n    }\n  }\n\n  readMsg(message)\n\n  const flat = (msg) => {\n    return [msg, msg.extra?.flatMap(flat) ?? []]\n  }\n\n  msglist = msglist.map(msg => {\n    // normalize \n    if (!msg.text.includes?.('')) return msg\n    const newMsg = fromFormattedString(msg.text)\n    return flat(newMsg)\n  }).flat(Infinity)\n\n  return msglist\n}\n\nexport const messageToString = (message: MessageInput | string) => {\n  if (typeof message === 'string') {\n    return message\n  }\n  const msglist = formatMessage(message)\n  return msglist.map(msg => msg.text).join('')\n}\n\nconst blockToItemRemaps = {\n  water: 'water_bucket',\n  lava: 'lava_bucket',\n  redstone_wire: 'redstone',\n  tripwire: 'tripwire_hook'\n}\n\nexport const getItemFromBlock = (block: import('prismarine-block').Block) => {\n  const item = global.loadedData.itemsByName[blockToItemRemaps[block.name] ?? block.name]\n  return item\n}\n\nexport function isAllowedChatCharacter (char: string): boolean {\n  // if (char.length !== 1) {\n  //   throw new Error('Input must be a single character')\n  // }\n\n  const charCode = char.codePointAt(0)!\n  return charCode !== 167 && charCode >= 32 && charCode !== 127\n}\n\nexport const isStringAllowed = (str: string) => {\n  const invalidChars = new Set<string>()\n  for (const [i, char] of [...str].entries()) {\n    const isSurrogatePair = str.codePointAt(i) !== str['charCodeAt'](i)\n    if (isSurrogatePair) continue\n\n    if (!isAllowedChatCharacter(char)) {\n      invalidChars.add(char)\n    }\n  }\n\n  const valid = invalidChars.size === 0\n  if (valid) {\n    return {\n      valid: true\n    }\n  }\n\n  return {\n    valid,\n    clean: [...str].filter(c => !invalidChars.has(c)).join(''),\n    invalid: [...invalidChars]\n  }\n}\n","// import { versionsByMinecraftVersion } from 'minecraft-data'\n// import minecraftInitialDataJson from '../generated/minecraft-initial-data.json'\nimport MinecraftData from 'minecraft-data'\nimport PrismarineBlock from 'prismarine-block'\nimport PrismarineItem from 'prismarine-item'\nimport { miscUiState } from './globalState'\nimport supportedVersions from './supportedVersions.mjs'\nimport { options } from './optionsStorage'\nimport { downloadSoundsIfNeeded } from './sounds/botSoundSystem'\nimport { AuthenticatedAccount } from './react/serversStorage'\n\nexport type ConnectOptions = {\n  server?: string\n  singleplayer?: any\n  username: string\n  proxy?: string\n  botVersion?: string\n  serverOverrides?\n  serverOverridesFlat?\n  peerId?: string\n  ignoreQs?: boolean\n  onSuccessfulPlay?: () => void\n  serverIndex?: string\n  authenticatedAccount?: AuthenticatedAccount | true\n  peerOptions?: any\n  viewerWsConnect?: string\n  saveServerToHistory?: boolean\n\n  /** Will enable local replay server */\n  worldStateFileContents?: string\n\n  connectEvents?: {\n    serverCreated?: () => void\n    // connect: () => void;\n    // disconnect: () => void;\n    // error: (err: any) => void;\n    // ready: () => void;\n    // end: () => void;\n  }\n}\n\nexport const getVersionAutoSelect = (autoVersionSelect = options.serversAutoVersionSelect) => {\n  if (autoVersionSelect === 'auto') {\n    return '1.19.4'\n  }\n  if (autoVersionSelect === 'latest') {\n    return supportedVersions.at(-1)!\n  }\n  return autoVersionSelect\n}\n\nexport const loadMinecraftData = async (version: string) => {\n  await window._LOAD_MC_DATA()\n  // setLoadingScreenStatus(`Loading data for ${version}`)\n  // // todo expose cache\n  // // const initialDataVersion = Object.keys(minecraftInitialDataJson)[0]!\n  // // if (version === initialDataVersion) {\n  // //   // ignore cache hit\n  // //   versionsByMinecraftVersion.pc[initialDataVersion]!.dataVersion!++\n  // // }\n\n  const mcData = MinecraftData(version)\n  window.PrismarineBlock = PrismarineBlock(mcData.version.minecraftVersion!)\n  window.PrismarineItem = PrismarineItem(mcData.version.minecraftVersion!)\n  window.loadedData = mcData\n  window.mcData = mcData\n  miscUiState.loadedDataVersion = version\n}\n\nexport type AssetDownloadReporter = (asset: string, isDone: boolean) => void\n\nexport const downloadAllMinecraftData = async (reporter?: AssetDownloadReporter) => {\n  reporter?.('mc-data', false)\n  await window._LOAD_MC_DATA()\n  reporter?.('mc-data', true)\n}\n\nconst loadFonts = async () => {\n  const FONT_FAMILY = 'mojangles'\n  if (!document.fonts.check(`1em ${FONT_FAMILY}`)) {\n    // todo instead re-render signs on load\n    await document.fonts.load(`1em ${FONT_FAMILY}`).catch(() => {\n      console.error('Failed to load font, signs wont be rendered correctly')\n    })\n  }\n}\n\nexport const downloadOtherGameData = async (reporter?: AssetDownloadReporter) => {\n  reporter?.('fonts', false)\n  reporter?.('sounds', false)\n\n  await Promise.all([\n    loadFonts().then(() => reporter?.('fonts', true)),\n    downloadSoundsIfNeeded().then(() => reporter?.('sounds', true))\n  ])\n}\n","import { setLoadingScreenStatus } from '../appStatus'\nimport { appStatusState } from '../react/AppStatusProvider'\nimport { hideNotification, showNotification } from '../react/NotificationProvider'\nimport { pixelartIcons } from '../react/PixelartIcon'\n\nexport interface ProgressReporter {\n  currentMessage: string | undefined\n  beginStage (stage: string, title: string): void\n  endStage (stage: string): void\n  setSubStage (stage: string, subStageTitle: string): void\n  reportProgress (stage: string, progress: number): void\n  executeWithMessage<T>(message: string, fn: () => Promise<T>): Promise<T>\n  executeWithMessage<T>(message: string, stage: string, fn: () => Promise<T>): Promise<T>\n\n  setMessage (message: string): void\n\n  end(): void\n  error(message: string): void\n}\n\ninterface ReporterDisplayImplementation {\n  setMessage (message: string): void\n  end (): void\n  error(message: string): void\n}\n\ninterface StageInfo {\n  title: string\n  subStage?: string\n  progress?: number\n}\n\nconst NO_STAGES_ACTION_END = false\n\nconst createProgressReporter = (implementation: ReporterDisplayImplementation): ProgressReporter => {\n  const stages = new Map<string, StageInfo>()\n  let currentMessage: string | undefined\n  let ended = false\n\n  const end = () => {\n    if (ended) return\n    ended = true\n    stages.clear()\n    implementation.end()\n  }\n\n  const updateStatus = () => {\n    if (ended) return\n    const activeStages = [...stages.entries()]\n    if (activeStages.length === 0) {\n      if (NO_STAGES_ACTION_END) {\n        end()\n      } else {\n        implementation.setMessage('Waiting for tasks')\n      }\n      return\n    }\n\n    const [currentStage, info] = activeStages.at(-1)!\n    let message = info.title\n    if (info.subStage) {\n      message += ` - ${info.subStage}`\n    }\n    if (info.progress !== undefined) {\n      const num = Math.round(info.progress * 100)\n      if (isFinite(num)) {\n        message += `: ${num}%`\n      }\n    }\n\n    currentMessage = message\n    implementation.setMessage(message)\n  }\n\n  const reporter = {\n    beginStage (stage: string, title: string) {\n      if (stages.has(stage)) {\n        throw new Error(`Stage ${stage} already is running`)\n      }\n      stages.set(stage, { title })\n      updateStatus()\n    },\n\n    endStage (stage: string) {\n      stages.delete(stage)\n      updateStatus()\n    },\n\n    setSubStage (stage: string, subStageTitle: string) {\n      const info = stages.get(stage)\n      if (info) {\n        info.subStage = subStageTitle\n        updateStatus()\n      }\n    },\n\n    reportProgress (stage: string, progress: number) {\n      const info = stages.get(stage)\n      if (info) {\n        info.progress = progress\n        updateStatus()\n      }\n    },\n\n    async executeWithMessage<T>(...args: any[]): Promise<T> {\n      const message = args[0]\n      const stage = typeof args[1] === 'string' ? args[1] : undefined\n      const fn = typeof args[1] === 'string' ? args[2] : args[1]\n\n      const tempStage = stage ?? 'temp-' + Math.random().toString(36).slice(2)\n      reporter.beginStage(tempStage, message)\n      try {\n        const result = await fn()\n        return result\n      } finally {\n        reporter.endStage(tempStage)\n      }\n    },\n\n    end (): void {\n      end()\n    },\n\n    setMessage (message: string): void {\n      if (ended) return\n      implementation.setMessage(message)\n    },\n\n    get currentMessage () {\n      return currentMessage\n    },\n\n    error (message: string): void {\n      if (ended) return\n      implementation.error(message)\n    }\n  }\n\n  return reporter\n}\n\nconst fullScreenReporters = [] as ProgressReporter[]\nexport const createFullScreenProgressReporter = (): ProgressReporter => {\n  const reporter = createProgressReporter({\n    setMessage (message: string) {\n      if (appStatusState.isError) return\n      setLoadingScreenStatus(message)\n    },\n    end () {\n      if (appStatusState.isError) return\n      fullScreenReporters.splice(fullScreenReporters.indexOf(reporter), 1)\n      if (fullScreenReporters.length === 0) {\n        setLoadingScreenStatus(undefined)\n      } else {\n        setLoadingScreenStatus(fullScreenReporters.at(-1)!.currentMessage)\n      }\n    },\n\n    error (message: string): void {\n      if (appStatusState.isError) return\n      setLoadingScreenStatus(message, true)\n    }\n  })\n  fullScreenReporters.push(reporter)\n  return reporter\n}\n\nexport const createNotificationProgressReporter = (endMessage?: string): ProgressReporter => {\n  const id = `progress-reporter-${Math.random().toString(36).slice(2)}`\n  return createProgressReporter({\n    setMessage (message: string) {\n      showNotification(`${message}...`, '', false, '', undefined, true, id)\n    },\n    end () {\n      if (endMessage) {\n        showNotification(endMessage, '', false, pixelartIcons.check, undefined, true)\n      } else {\n        hideNotification(id)\n      }\n    },\n\n    error (message: string): void {\n      showNotification(message, '', true, '', undefined, true)\n    }\n  })\n}\n\nexport const createConsoleLogProgressReporter = (group?: string): ProgressReporter => {\n  return createProgressReporter({\n    setMessage (message: string) {\n      console.log(group ? `[${group}] ${message}` : message)\n    },\n    end () {\n      console.log(group ? `[${group}] done` : 'done')\n    },\n\n    error (message: string): void {\n      console.error(message)\n    }\n  })\n}\n\nexport const createWrappedProgressReporter = (reporter: ProgressReporter, message?: string) => {\n  const stage = `wrapped-${message}`\n  if (message) {\n    reporter.beginStage(stage, message)\n  }\n\n  return createProgressReporter({\n    setMessage (message: string) {\n      reporter.setMessage(message)\n    },\n    end () {\n      if (message) {\n        reporter.endStage(stage)\n      }\n    },\n\n    error (message: string): void {\n      reporter.error(message)\n    }\n  })\n}\n\nexport const createNullProgressReporter = (): ProgressReporter => {\n  return createProgressReporter({\n    setMessage (message: string) {\n    },\n    end () {\n    },\n    error (message: string) {\n    }\n  })\n}\n","//@ts-check\nimport * as nbt from 'prismarine-nbt'\nimport { options } from './optionsStorage'\n\nconst { EventEmitter } = require('events')\nconst debug = require('debug')('minecraft-protocol')\nconst states = require('minecraft-protocol/src/states')\n\nwindow.serverDataChannel ??= {}\nexport const customCommunication = {\n  sendData(data) {\n    setTimeout(() => {\n      window.serverDataChannel[this.isServer ? 'emitClient' : 'emitServer'](data)\n    })\n  },\n  receiverSetup(processData) {\n    window.serverDataChannel[this.isServer ? 'emitServer' : 'emitClient'] = (data) => {\n      processData(data)\n    }\n  }\n}\n\nclass CustomChannelClient extends EventEmitter {\n  constructor(isServer, version) {\n    super()\n    this.version = version\n    this.isServer = !!isServer\n    this.state = states.HANDSHAKING\n  }\n\n  get state() {\n    return this.protocolState\n  }\n\n  setSerializer(state) {\n    customCommunication.receiverSetup.call(this, (/** @type {{name, params, state?}} */parsed) => {\n      if (!options.excludeCommunicationDebugEvents.includes(parsed.name)) {\n        debug(`receive in ${this.isServer ? 'server' : 'client'}: ${parsed.name}`)\n      }\n      this.emit(parsed.name, parsed.params, parsed)\n      this.emit('packet_name', parsed.name, parsed.params, parsed)\n    })\n  }\n\n  // eslint-disable-next-line @typescript-eslint/adjacent-overload-signatures, grouped-accessor-pairs\n  set state(newProperty) {\n    const oldProperty = this.protocolState\n    this.protocolState = newProperty\n\n    this.setSerializer(this.protocolState)\n\n    this.emit('state', newProperty, oldProperty)\n  }\n\n  end(endReason, fullReason) {\n    // eslint-disable-next-line unicorn/no-this-assignment\n    const client = this\n    if (client.state === states.PLAY) {\n      fullReason ||= loadedData.supportFeature('chatPacketsUseNbtComponents')\n        ? nbt.comp({ text: nbt.string(endReason) })\n        : JSON.stringify({ text: endReason })\n      client.write('kick_disconnect', { reason: fullReason })\n    } else if (client.state === states.LOGIN) {\n      fullReason ||= JSON.stringify({ text: endReason })\n      client.write('disconnect', { reason: fullReason })\n    }\n\n    this._endReason = endReason\n    this.emit('end', this._endReason) // still emits on server side only, doesn't send anything to our client\n  }\n\n  write(name, params) {\n    if (!options.excludeCommunicationDebugEvents.includes(name)) {\n      debug(`[${this.state}] from ${this.isServer ? 'server' : 'client'}: ` + name)\n      debug(params)\n    }\n\n    this.emit('writePacket', name, params)\n    customCommunication.sendData.call(this, { name, params, state: this.state })\n  }\n\n  writeBundle(packets) {\n    // no-op\n  }\n\n  writeRaw(buffer) {\n    // no-op\n  }\n}\n\nexport default CustomChannelClient\n","import EventEmitter from 'events'\n\nimport CustomChannelClient from './customClient'\n\nexport class LocalServer extends EventEmitter.EventEmitter {\n  socketServer = null\n  cipher = null\n  decipher = null\n  clients = {}\n\n  constructor (public version, public customPackets, public hideErrors = false) {\n    super()\n  }\n\n  listen () {\n    this.emit('connection', new CustomChannelClient(true, this.version))\n  }\n\n  close () { }\n}\n","module.exports = {\n  'motd': 'A Minecraft Server \\nRunning flying-squid',\n  // host: '',\n  // eslint-disable-next-line unicorn/numeric-separators-style\n  'port': 25565,\n  'max-players': 10,\n  'online-mode': false,\n  'gameMode': 0,\n  'difficulty': 0,\n  'worldFolder': 'world',\n  'pluginsFolder': true,\n  // todo set sid, disable entities auto-spawn\n  'generation': {\n    // grass_field\n    // diamond_square\n    // empty\n    // superflat\n    // all_the_blocks\n    // nether\n    'name': 'diamond_square',\n    options: {}\n    // 'options': {\n    //   'worldHeight': 80\n    // }\n  },\n  'kickTimeout': 10_000,\n  'plugins': {},\n  'modpe': false,\n  'view-distance': 2,\n  'player-list-text': {\n    'header': 'Flying squid',\n    'footer': 'Integrated server'\n  },\n  keepAlive: false,\n  'everybody-op': true,\n  'max-entities': 100,\n  'version': '1.18',\n  versionMajor: '1.18'\n}\n","import * as crypto from 'crypto'\nimport UUID from 'uuid-1345'\nimport { fsState } from './loadSave'\n\n\n// https://github.com/PrismarineJS/node-minecraft-protocol/blob/cf1f67117d586b5e6e21f0d9602da12e9fcf46b6/src/server/login.js#L170\nfunction javaUUID (s: string) {\n  const hash = crypto.createHash('md5')\n  hash.update(s, 'utf8')\n  const buffer = hash.digest()\n  buffer[6] = (buffer[6] & 15) | 48\n  buffer[8] = (buffer[8] & 63) | 128\n  return buffer\n}\n\nexport function nameToMcOfflineUUID (name) {\n  return (new UUID(javaUUID('OfflinePlayer:' + name))).toString()\n}\n\nexport async function savePlayers (autoSave: boolean) {\n  if (!localServer?.players[0]) return\n  if (autoSave && new URL(location.href).searchParams.get('noSave') === 'true') return\n  //@ts-expect-error TODO\n  await localServer.savePlayersSingleplayer()\n}\n\n// todo flying squid should expose save function instead\nexport const saveServer = async (autoSave = true) => {\n  if (!localServer || fsState.isReadonly) return\n  // todo\n  console.time('save server')\n  const worlds = [(localServer as any).overworld] as Array<import('prismarine-world').world.World>\n  await Promise.all([localServer.writeLevelDat(), savePlayers(autoSave), ...worlds.map(async world => world.saveNow())])\n  console.timeEnd('save server')\n}\nexport const disconnect = async () => {\n  if (localServer) {\n    await saveServer()\n    void localServer.quit() // todo investigate we should await\n  }\n  window.history.replaceState({}, '', `${window.location.pathname}`) // remove qs\n  bot.end('You left the server')\n  location.reload()\n}\n","import latest_gui_title_minecraft from 'mc-assets/dist/other-textures/latest/gui/title/minecraft.png'\nimport other_textures_1_19_gui_icons from 'mc-assets/dist/other-textures/1.19/gui/icons.png'\nimport other_textures_latest_gui_widgets from 'mc-assets/dist/other-textures/latest/gui/widgets.png'\nimport other_textures_latest_gui_bars from 'mc-assets/dist/other-textures/latest/gui/bars.png'\nimport latest_gui_container_inventory from 'mc-assets/dist/other-textures/latest/gui/container/inventory.png'\nimport latest_gui_container_shulker_box from 'mc-assets/dist/other-textures/latest/gui/container/shulker_box.png'\nimport latest_gui_container_generic_54 from 'mc-assets/dist/other-textures/latest/gui/container/generic_54.png'\nimport latest_gui_container_furnace from 'mc-assets/dist/other-textures/latest/gui/container/furnace.png'\nimport latest_gui_container_crafting_table from 'mc-assets/dist/other-textures/latest/gui/container/crafting_table.png'\nimport latest_gui_container_dispenser from 'mc-assets/dist/other-textures/latest/gui/container/dispenser.png'\nimport latest_gui_container_hopper from 'mc-assets/dist/other-textures/latest/gui/container/hopper.png'\nimport latest_gui_container_horse from 'mc-assets/dist/other-textures/latest/gui/container/horse.png'\nimport latest_gui_container_villager2 from 'mc-assets/dist/other-textures/latest/gui/container/villager2.png'\nimport latest_gui_container_enchanting_table from 'mc-assets/dist/other-textures/latest/gui/container/enchanting_table.png'\nimport latest_gui_container_anvil from 'mc-assets/dist/other-textures/latest/gui/container/anvil.png'\nimport latest_gui_container_beacon from 'mc-assets/dist/other-textures/latest/gui/container/beacon.png'\n\nexport const appReplacableResources: { [key in Keys]: { content: any, resourcePackPath: string, cssVar?: string, cssVarRepeat?: number } } = {\n\n  'latest_gui_title_minecraft': {\n    content: latest_gui_title_minecraft,\n    resourcePackPath: 'minecraft/textures/gui/title/minecraft.png',\n    ...{\"cssVar\":\"--title-gui\"}\n  },\n\n  'other_textures_1_19_gui_icons': {\n    content: other_textures_1_19_gui_icons,\n    resourcePackPath: 'minecraft/textures/gui/icons.png',\n    ...{\"cssVar\":\"--gui-icons\",\"cssVarRepeat\":2}\n  },\n\n  'other_textures_latest_gui_widgets': {\n    content: other_textures_latest_gui_widgets,\n    resourcePackPath: 'minecraft/textures/gui/widgets.png',\n    ...{\"cssVar\":\"--widgets-gui-atlas\"}\n  },\n\n  'other_textures_latest_gui_bars': {\n    content: other_textures_latest_gui_bars,\n    resourcePackPath: 'minecraft/textures/gui/bars.png',\n    ...{\"cssVar\":\"--bars-gui-atlas\"}\n  },\n\n  'latest_gui_container_inventory': {\n    content: latest_gui_container_inventory,\n    resourcePackPath: 'minecraft/textures/gui/container/inventory.png',\n    ...{}\n  },\n\n  'latest_gui_container_shulker_box': {\n    content: latest_gui_container_shulker_box,\n    resourcePackPath: 'minecraft/textures/gui/container/shulker_box.png',\n    ...{}\n  },\n\n  'latest_gui_container_generic_54': {\n    content: latest_gui_container_generic_54,\n    resourcePackPath: 'minecraft/textures/gui/container/generic_54.png',\n    ...{}\n  },\n\n  'latest_gui_container_furnace': {\n    content: latest_gui_container_furnace,\n    resourcePackPath: 'minecraft/textures/gui/container/furnace.png',\n    ...{}\n  },\n\n  'latest_gui_container_crafting_table': {\n    content: latest_gui_container_crafting_table,\n    resourcePackPath: 'minecraft/textures/gui/container/crafting_table.png',\n    ...{}\n  },\n\n  'latest_gui_container_dispenser': {\n    content: latest_gui_container_dispenser,\n    resourcePackPath: 'minecraft/textures/gui/container/dispenser.png',\n    ...{}\n  },\n\n  'latest_gui_container_hopper': {\n    content: latest_gui_container_hopper,\n    resourcePackPath: 'minecraft/textures/gui/container/hopper.png',\n    ...{}\n  },\n\n  'latest_gui_container_horse': {\n    content: latest_gui_container_horse,\n    resourcePackPath: 'minecraft/textures/gui/container/horse.png',\n    ...{}\n  },\n\n  'latest_gui_container_villager2': {\n    content: latest_gui_container_villager2,\n    resourcePackPath: 'minecraft/textures/gui/container/villager2.png',\n    ...{}\n  },\n\n  'latest_gui_container_enchanting_table': {\n    content: latest_gui_container_enchanting_table,\n    resourcePackPath: 'minecraft/textures/gui/container/enchanting_table.png',\n    ...{}\n  },\n\n  'latest_gui_container_anvil': {\n    content: latest_gui_container_anvil,\n    resourcePackPath: 'minecraft/textures/gui/container/anvil.png',\n    ...{}\n  },\n\n  'latest_gui_container_beacon': {\n    content: latest_gui_container_beacon,\n    resourcePackPath: 'minecraft/textures/gui/container/beacon.png',\n    ...{}\n  },\n}\ntype Keys = 'latest_gui_title_minecraft' | 'other_textures_1_19_gui_icons' | 'other_textures_latest_gui_widgets' | 'other_textures_latest_gui_bars' | 'latest_gui_container_inventory' | 'latest_gui_container_shulker_box' | 'latest_gui_container_generic_54' | 'latest_gui_container_furnace' | 'latest_gui_container_crafting_table' | 'latest_gui_container_dispenser' | 'latest_gui_container_hopper' | 'latest_gui_container_horse' | 'latest_gui_container_villager2' | 'latest_gui_container_enchanting_table' | 'latest_gui_container_anvil' | 'latest_gui_container_beacon'\nexport const resourcesContentOriginal = {\n\n  'latest_gui_title_minecraft': latest_gui_title_minecraft,\n\n  'other_textures_1_19_gui_icons': other_textures_1_19_gui_icons,\n\n  'other_textures_latest_gui_widgets': other_textures_latest_gui_widgets,\n\n  'other_textures_latest_gui_bars': other_textures_latest_gui_bars,\n\n  'latest_gui_container_inventory': latest_gui_container_inventory,\n\n  'latest_gui_container_shulker_box': latest_gui_container_shulker_box,\n\n  'latest_gui_container_generic_54': latest_gui_container_generic_54,\n\n  'latest_gui_container_furnace': latest_gui_container_furnace,\n\n  'latest_gui_container_crafting_table': latest_gui_container_crafting_table,\n\n  'latest_gui_container_dispenser': latest_gui_container_dispenser,\n\n  'latest_gui_container_hopper': latest_gui_container_hopper,\n\n  'latest_gui_container_horse': latest_gui_container_horse,\n\n  'latest_gui_container_villager2': latest_gui_container_villager2,\n\n  'latest_gui_container_enchanting_table': latest_gui_container_enchanting_table,\n\n  'latest_gui_container_anvil': latest_gui_container_anvil,\n\n  'latest_gui_container_beacon': latest_gui_container_beacon,\n}\n","//@ts-check\n\nimport { proxy, ref, subscribe } from 'valtio'\nimport type { WorldWarp } from 'flying-squid/dist/lib/modules/warps'\nimport type { OptionsGroupType } from './optionsGuiScheme'\nimport { options, disabledSettings } from './optionsStorage'\nimport { AppConfig } from './appConfig'\n\n// todo: refactor structure with support of hideNext=false\n\nexport const notHideableModalsWithoutForce = new Set([\n  'app-status',\n  'divkit:nonclosable',\n  'only-connect-server',\n])\n\ntype Modal = ({ elem?: HTMLElement & Record<string, any> } & { reactType: string })\n\ntype ContextMenuItem = { callback; label }\n\nexport const activeModalStack: Modal[] = proxy([])\n\nexport const insertActiveModalStack = (name: string, newModalStack = activeModalStacks[name]) => {\n  hideModal(undefined, undefined, { restorePrevious: false, force: true })\n  activeModalStack.splice(0, activeModalStack.length, ...newModalStack)\n  const last = activeModalStack.at(-1)\n  if (last) showModalInner(last)\n}\n\nexport const activeModalStacks: Record<string, Modal[]> = {}\n\nwindow.activeModalStack = activeModalStack\n\n/**\n * @returns true if operation was successful\n */\nconst showModalInner = (modal: Modal) => {\n  const cancel = modal.elem?.show?.()\n  return true\n}\n\nexport const showModal = (elem: /* (HTMLElement & Record<string, any>) |  */{ reactType: string } | string) => {\n  const resolved = typeof elem === 'string' ? { reactType: elem } : elem\n  const curModal = activeModalStack.at(-1)\n  if ((resolved.reactType && resolved.reactType === curModal?.reactType) || !showModalInner(resolved)) return\n  activeModalStack.push(resolved)\n}\n\nwindow.showModal = showModal\n\n/**\n *\n * @returns true if previous modal was restored\n */\nexport const hideModal = (modal = activeModalStack.at(-1), data: any = undefined, options: { force?: boolean; restorePrevious?: boolean } = {}) => {\n  const { force = false, restorePrevious = true } = options\n  if (!modal) return\n  let cancel = [...notHideableModalsWithoutForce].some(m => modal.reactType.startsWith(m)) ? !force : undefined\n  if (force) {\n    cancel = undefined\n  }\n\n  if (!cancel) {\n    const lastModal = activeModalStack.at(-1)\n    for (let i = activeModalStack.length - 1; i >= 0; i--) {\n      if (activeModalStack[i].reactType === modal.reactType) {\n        activeModalStack.splice(i, 1)\n        break\n      }\n    }\n    const newModal = activeModalStack.at(-1)\n    if (newModal && lastModal !== newModal && restorePrevious) {\n      // would be great to ignore cancel I guess?\n      showModalInner(newModal)\n    }\n    return true\n  }\n}\n\nexport const hideCurrentModal = (_data?, onHide?: () => void) => {\n  if (hideModal(undefined, undefined)) {\n    onHide?.()\n  }\n}\n\nexport const hideAllModals = () => {\n  while (activeModalStack.length > 0) {\n    if (!hideModal()) break\n  }\n  return activeModalStack.length === 0\n}\n\nexport const openOptionsMenu = (group: OptionsGroupType) => {\n  showModal({ reactType: `options-${group}` })\n}\n\nsubscribe(activeModalStack, () => {\n  document.body.style.setProperty('--has-modals-z', activeModalStack.length ? '-1' : null)\n})\n\n// ---\n\nexport const currentContextMenu = proxy({ items: [] as ContextMenuItem[] | null, x: 0, y: 0 })\n\nexport const showContextmenu = (items: ContextMenuItem[], { clientX, clientY }) => {\n  Object.assign(currentContextMenu, {\n    items,\n    x: clientX,\n    y: clientY,\n  })\n}\n\n// ---\n\nexport const miscUiState = proxy({\n  currentDisplayQr: null as string | null,\n  currentTouch: null as boolean | null,\n  hasErrors: false,\n  singleplayer: false,\n  flyingSquid: false,\n  wanOpened: false,\n  wanOpening: false,\n  /** wether game hud is shown (in playing state) */\n  gameLoaded: false,\n  showUI: true,\n  showDebugHud: false,\n  loadedServerIndex: '',\n  /** currently trying to load or loaded mc version, after all data is loaded */\n  loadedDataVersion: null as string | null,\n  fsReady: false,\n  singleplayerAvailable: false,\n  usingGamepadInput: false,\n  appConfig: null as AppConfig | null,\n  displaySearchInput: false,\n  displayFullmap: false\n})\n\nexport const isGameActive = (foregroundCheck: boolean) => {\n  if (foregroundCheck && activeModalStack.length) return false\n  return miscUiState.gameLoaded\n}\n\nwindow.miscUiState = miscUiState\n\n// state that is not possible to get via bot and in-game specific\nexport const gameAdditionalState = proxy({\n  isFlying: false,\n  isSprinting: false,\n  isSneaking: false,\n  isZooming: false,\n  warps: [] as WorldWarp[],\n  noConnection: false,\n  poorConnection: false,\n  viewerConnection: false,\n\n  usingServerResourcePack: false,\n})\n\nwindow.gameAdditionalState = gameAdditionalState\n","// workaround for mineflayer\nglobalThis.window ??= globalThis\nglobalThis.localStorage ??= {}\nprocess.versions.node = '18.0.0'\n\nif (!navigator.getGamepads) {\n  console.warn('navigator.getGamepads is not available, adding a workaround')\n  navigator.getGamepads ??= () => []\n}\n","// not all options are watched here\n\nimport { subscribeKey } from 'valtio/utils'\nimport { isMobile } from 'renderer/viewer/lib/simpleUtils'\nimport { WorldDataEmitter } from 'renderer/viewer/lib/worldDataEmitter'\nimport { options, watchValue } from './optionsStorage'\nimport { reloadChunks } from './utils'\nimport { miscUiState } from './globalState'\nimport { isCypress } from './standaloneUtils'\n\nsubscribeKey(options, 'renderDistance', reloadChunks)\nsubscribeKey(options, 'multiplayerRenderDistance', reloadChunks)\n\nwatchValue(options, o => {\n  document.documentElement.style.setProperty('--chatScale', `${o.chatScale / 100}`)\n  document.documentElement.style.setProperty('--chatWidth', `${o.chatWidth}px`)\n  document.documentElement.style.setProperty('--chatHeight', `${o.chatHeight}px`)\n  // gui scale is set in scaleInterface.ts\n})\nconst updateTouch = (o) => {\n  miscUiState.currentTouch = o.alwaysShowMobileControls || isMobile()\n}\nwatchValue(options, updateTouch)\nwindow.matchMedia('(pointer: coarse)').addEventListener('change', (e) => {\n  updateTouch(options)\n})\n\n/** happens once */\nexport const watchOptionsAfterViewerInit = () => {\n  watchValue(options, o => {\n    appViewer.inWorldRenderingConfig.showChunkBorders = o.showChunkBorders\n  })\n\n  watchValue(options, o => {\n    appViewer.inWorldRenderingConfig.mesherWorkers = o.lowMemoryMode ? 1 : o.numWorkers\n  })\n\n  watchValue(options, o => {\n    appViewer.inWorldRenderingConfig.renderEntities = o.renderEntities\n  })\n\n  watchValue(options, o => {\n    const { renderDebug } = o\n    if (renderDebug === 'none' || isCypress()) {\n      appViewer.config.statsVisible = 0\n    } else if (o.renderDebug === 'basic') {\n      appViewer.config.statsVisible = 1\n    } else if (o.renderDebug === 'advanced') {\n      appViewer.config.statsVisible = 2\n    }\n  })\n\n  // Track window focus state and update FPS limit accordingly\n  let windowFocused = true\n  const updateFpsLimit = (o: typeof options) => {\n    const backgroundFpsLimit = o.backgroundRendering\n    const normalFpsLimit = o.frameLimit\n\n    if (windowFocused) {\n      appViewer.config.fpsLimit = normalFpsLimit || undefined\n    } else if (backgroundFpsLimit === '5fps') {\n      appViewer.config.fpsLimit = 5\n    } else if (backgroundFpsLimit === '20fps') {\n      appViewer.config.fpsLimit = 20\n    } else {\n      appViewer.config.fpsLimit = undefined\n    }\n  }\n\n  window.addEventListener('focus', () => {\n    windowFocused = true\n    updateFpsLimit(options)\n  })\n  window.addEventListener('blur', () => {\n    windowFocused = false\n    updateFpsLimit(options)\n  })\n\n  watchValue(options, o => {\n    updateFpsLimit(o)\n  })\n\n  watchValue(options, o => {\n    appViewer.inWorldRenderingConfig.volume = Math.max(o.volume / 100, 0)\n  })\n\n  watchValue(options, o => {\n    appViewer.inWorldRenderingConfig.vrSupport = o.vrSupport\n    appViewer.inWorldRenderingConfig.vrPageGameRendering = o.vrPageGameRendering\n    appViewer.inWorldRenderingConfig.enableDebugOverlay = o.rendererPerfDebugOverlay\n  })\n\n  watchValue(options, (o, isChanged) => {\n    appViewer.inWorldRenderingConfig.clipWorldBelowY = o.clipWorldBelowY\n    appViewer.inWorldRenderingConfig.extraBlockRenderers = !o.disableSignsMapsSupport\n    appViewer.inWorldRenderingConfig.fetchPlayerSkins = o.loadPlayerSkins\n    appViewer.inWorldRenderingConfig.highlightBlockColor = o.highlightBlockColor\n    appViewer.inWorldRenderingConfig._experimentalSmoothChunkLoading = o.rendererSharedOptions._experimentalSmoothChunkLoading\n    appViewer.inWorldRenderingConfig._renderByChunks = o.rendererSharedOptions._renderByChunks\n  })\n\n  appViewer.inWorldRenderingConfig.smoothLighting = options.smoothLighting\n  subscribeKey(options, 'smoothLighting', () => {\n    appViewer.inWorldRenderingConfig.smoothLighting = options.smoothLighting\n  })\n\n  subscribeKey(options, 'newVersionsLighting', () => {\n    appViewer.inWorldRenderingConfig.enableLighting = !bot.supportFeature('blockStateId') || options.newVersionsLighting\n  })\n\n  customEvents.on('mineflayerBotCreated', () => {\n    appViewer.inWorldRenderingConfig.enableLighting = !bot.supportFeature('blockStateId') || options.newVersionsLighting\n  })\n\n  watchValue(options, o => {\n    appViewer.inWorldRenderingConfig.starfield = o.starfieldRendering\n  })\n\n  watchValue(options, o => {\n    // appViewer.inWorldRenderingConfig.neighborChunkUpdates = o.neighborChunkUpdates\n  })\n}\n\nexport const watchOptionsAfterWorldViewInit = (worldView: WorldDataEmitter) => {\n  watchValue(options, o => {\n    if (!worldView) return\n    worldView.keepChunksDistance = o.keepChunksDistance\n    appViewer.inWorldRenderingConfig.renderEars = o.renderEars\n    appViewer.inWorldRenderingConfig.showHand = o.showHand\n    appViewer.inWorldRenderingConfig.viewBobbing = o.viewBobbing\n  })\n}\n","import { proxy, subscribe } from 'valtio'\nimport { showInventory } from 'minecraft-inventory-gui/web/ext.mjs'\n\n// import Dirt from 'mc-assets/dist/other-textures/latest/blocks/dirt.png'\nimport { RecipeItem } from 'minecraft-data'\nimport { flat, fromFormattedString } from '@xmcl/text-component'\nimport { splitEvery, equals } from 'rambda'\nimport PItem, { Item } from 'prismarine-item'\nimport { versionToNumber } from 'renderer/viewer/common/utils'\nimport { getRenamedData } from 'flying-squid/dist/blockRenames'\nimport PrismarineChatLoader from 'prismarine-chat'\nimport * as nbt from 'prismarine-nbt'\nimport { BlockModel } from 'mc-assets'\nimport { renderSlot } from 'renderer/viewer/three/renderSlot'\nimport Generic95 from '../assets/generic_95.png'\nimport { appReplacableResources } from './generated/resources'\nimport { activeModalStack, hideCurrentModal, hideModal, miscUiState, showModal } from './globalState'\nimport { options } from './optionsStorage'\nimport { assertDefined, inGameError } from './utils'\nimport { displayClientChat } from './botUtils'\nimport { currentScaling } from './scaleInterface'\nimport { getItemDescription } from './itemsDescriptions'\nimport { MessageFormatPart } from './chatUtils'\nimport { GeneralInputItem, getItemMetadata, getItemModelName, getItemNameRaw, RenderItem } from './mineflayer/items'\nimport { playerState } from './mineflayer/playerState'\n\nconst loadedImagesCache = new Map<string, HTMLImageElement | ImageBitmap>()\nconst cleanLoadedImagesCache = () => {\n  loadedImagesCache.delete('blocks')\n  loadedImagesCache.delete('items')\n}\n\nlet lastWindow: ReturnType<typeof showInventory>\nlet lastWindowType: string | null | undefined // null is inventory\n/** bot version */\nlet version: string\nlet PrismarineItem: typeof Item\n\nexport const jeiCustomCategories = proxy({\n  value: [] as Array<{ id: string, categoryTitle: string, items: any[] }>\n})\n\nexport const onGameLoad = () => {\n  version = bot.version\n\n  PrismarineItem = PItem(version)\n\n  const mapWindowType = (type: string, inventoryStart: number) => {\n    if (type === 'minecraft:container') {\n      if (inventoryStart === 45 - 9 * 4) return 'minecraft:generic_9x1'\n      if (inventoryStart === 45 - 9 * 3) return 'minecraft:generic_9x2'\n      if (inventoryStart === 45 - 9 * 2) return 'minecraft:generic_9x3'\n      if (inventoryStart === 45 - 9) return 'minecraft:generic_9x4'\n      if (inventoryStart === 45) return 'minecraft:generic_9x5'\n      if (inventoryStart === 45 + 9) return 'minecraft:generic_9x6'\n    }\n    return type\n  }\n\n  const maybeParseNbtJson = (data: any) => {\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data)\n      } catch (err) {\n        // ignore\n      }\n    }\n    return nbt.simplify(data) ?? data\n  }\n\n  bot.on('windowOpen', (win) => {\n    const implementedWindow = implementedContainersGuiMap[mapWindowType(win.type as string, win.inventoryStart)]\n    if (implementedWindow) {\n      openWindow(implementedWindow, maybeParseNbtJson(win.title))\n    } else if (options.unimplementedContainers) {\n      openWindow('ChestWin', maybeParseNbtJson(win.title))\n    } else {\n      // todo format\n      displayClientChat(`[client error] cannot open unimplemented window ${win.id} (${win.type}). Slots: ${win.slots.map(item => getItemName(item)).filter(Boolean).join(', ')}`)\n      bot.currentWindow?.['close']()\n    }\n  })\n\n  // workaround: singleplayer player inventory crafting\n  let skipUpdate = false\n  bot.inventory.on('updateSlot', ((_oldSlot, oldItem, newItem) => {\n    const currentSlot = _oldSlot as number\n    if (!miscUiState.singleplayer || oldItem === newItem || skipUpdate) return\n    const { craftingResultSlot } = bot.inventory\n    if (currentSlot === craftingResultSlot && oldItem && !newItem) {\n      for (let i = 1; i < 5; i++) {\n        const count = bot.inventory.slots[i]?.count\n        if (count && count > 1) {\n          const slot = bot.inventory.slots[i]!\n          slot.count--\n          void bot.creative.setInventorySlot(i, slot)\n        } else {\n          void bot.creative.setInventorySlot(i, null)\n        }\n      }\n      return\n    }\n    if (currentSlot > 4) return\n    const craftingSlots = bot.inventory.slots.slice(1, 5)\n    try {\n      const resultingItem = getResultingRecipe(craftingSlots, 2)\n      skipUpdate = true\n      void bot.creative.setInventorySlot(craftingResultSlot, resultingItem ?? null).then(() => {\n        skipUpdate = false\n      })\n    } catch (err) {\n      console.error(err)\n      // todo resolve the error! and why would we ever get here on every update?\n    }\n  }) as any)\n\n  bot.on('windowClose', () => {\n    // todo hide up to the window itself!\n    if (lastWindow) {\n      hideCurrentModal()\n    }\n  })\n  bot.on('respawn', () => { // todo validate logic against native client (maybe login)\n    if (lastWindow) {\n      hideCurrentModal()\n    }\n  })\n\n  customEvents.on('search', (q) => {\n    if (!lastWindow) return\n    upJei(q)\n  })\n\n  if (!appViewer.resourcesManager['_inventoryChangeTracked']) {\n    appViewer.resourcesManager['_inventoryChangeTracked'] = true\n    const texturesChanged = () => {\n      cleanLoadedImagesCache()\n      if (!lastWindow) return\n      upWindowItemsLocal()\n      upJei(lastJeiSearch)\n    }\n    appViewer.resourcesManager.on('assetsInventoryReady', () => texturesChanged())\n    appViewer.resourcesManager.on('assetsTexturesUpdated', () => texturesChanged())\n  }\n}\n\nconst getImageSrc = (path): string | HTMLImageElement | ImageBitmap => {\n  switch (path) {\n    case 'gui/container/inventory': return appReplacableResources.latest_gui_container_inventory.content\n    case 'blocks': return appViewer.resourcesManager.blocksAtlasParser.latestImage\n    case 'items': return appViewer.resourcesManager.itemsAtlasParser.latestImage\n    case 'gui': return appViewer.resourcesManager.currentResources!.guiAtlas!.image\n    case 'gui/container/dispenser': return appReplacableResources.latest_gui_container_dispenser.content\n    case 'gui/container/furnace': return appReplacableResources.latest_gui_container_furnace.content\n    case 'gui/container/crafting_table': return appReplacableResources.latest_gui_container_crafting_table.content\n    case 'gui/container/shulker_box': return appReplacableResources.latest_gui_container_shulker_box.content\n    case 'gui/container/generic_54': return appReplacableResources.latest_gui_container_generic_54.content\n    case 'gui/container/generic_95': return Generic95\n    case 'gui/container/hopper': return appReplacableResources.latest_gui_container_hopper.content\n    case 'gui/container/horse': return appReplacableResources.latest_gui_container_horse.content\n    case 'gui/container/villager2': return appReplacableResources.latest_gui_container_villager2.content\n    case 'gui/container/enchanting_table': return appReplacableResources.latest_gui_container_enchanting_table.content\n    case 'gui/container/anvil': return appReplacableResources.latest_gui_container_anvil.content\n    case 'gui/container/beacon': return appReplacableResources.latest_gui_container_beacon.content\n    case 'gui/widgets': return appReplacableResources.other_textures_latest_gui_widgets.content\n  }\n  // empty texture\n  return 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII='\n}\n\nconst getImage = ({ path = undefined as string | undefined, texture = undefined as string | undefined, blockData = undefined as any, image = undefined as HTMLImageElement | undefined }, onLoad = () => { }) => {\n  if (image) {\n    return image\n  }\n  if (!path && !texture) {\n    throw new Error('Either pass path or texture')\n  }\n  const loadPath = (blockData ? 'blocks' : path ?? texture)!\n  if (loadedImagesCache.has(loadPath)) {\n    onLoad()\n  } else {\n    const imageSrc = getImageSrc(loadPath)\n    if (imageSrc instanceof ImageBitmap) {\n      onLoad()\n      loadedImagesCache.set(loadPath, imageSrc)\n      return imageSrc\n    }\n\n    let image: HTMLImageElement\n    if (imageSrc instanceof Image) {\n      image = imageSrc\n    } else {\n      image = new Image()\n      image.src = imageSrc\n    }\n    image.onload = onLoad\n    loadedImagesCache.set(loadPath, image)\n  }\n  return loadedImagesCache.get(loadPath)\n}\n\nconst getItemName = (slot: Item | RenderItem | null) => {\n  const parsed = getItemNameRaw(slot, appViewer.resourcesManager)\n  if (!parsed) return\n  // todo display full text renderer from sign renderer\n  const text = flat(parsed as MessageFormatPart).map(x => (typeof x === 'string' ? x : x.text))\n  return text.join('')\n}\n\nlet lastMappedSlots = [] as any[]\nconst itemToVisualKey = (slot: RenderItem | Item | null) => {\n  if (!slot) return ''\n  const keys = [\n    slot.name,\n    slot.durabilityUsed,\n    slot.maxDurability,\n    slot['count'],\n    slot['metadata'],\n    slot.nbt ? JSON.stringify(slot.nbt) : '',\n    slot['components'] ? JSON.stringify(slot['components']) : '',\n    appViewer.resourcesManager.currentResources!.guiAtlasVersion,\n  ].join('|')\n  return keys\n}\nconst validateSlot = (slot: any, index: number) => {\n  if (!slot.texture) {\n    throw new Error(`Slot has no texture: ${index} ${slot.name}`)\n  }\n}\nconst mapSlots = (slots: Array<RenderItem | Item | null>, isJei = false) => {\n  const newSlots = slots.map((slot, i) => {\n    if (!slot) return null\n\n    if (!isJei) {\n      const oldKey = lastMappedSlots[i]?.cacheKey\n      const newKey = itemToVisualKey(slot)\n      slot['cacheKey'] = i + '|' + newKey\n      if (oldKey && oldKey === newKey) {\n        validateSlot(lastMappedSlots[i], i)\n        return lastMappedSlots[i]\n      }\n    }\n\n    try {\n      if (slot.durabilityUsed && slot.maxDurability) slot.durabilityUsed = Math.min(slot.durabilityUsed, slot.maxDurability)\n      const debugIsQuickbar = !isJei && i === bot.inventory.hotbarStart + bot.quickBarSlot\n      const modelName = getItemModelName(slot, { 'minecraft:display_context': 'gui', }, appViewer.resourcesManager, appViewer.playerState.reactive)\n      const slotCustomProps = renderSlot({ modelName, originalItemName: slot.name }, appViewer.resourcesManager, debugIsQuickbar)\n      const itemCustomName = getItemName(slot)\n      Object.assign(slot, { ...slotCustomProps, displayName: itemCustomName ?? slot.displayName })\n      //@ts-expect-error\n      slot.toJSON = () => {\n        // Allow to serialize slot to JSON as minecraft-inventory-gui creates icon property as cache (recursively)\n        //@ts-expect-error\n        const { icon, ...rest } = slot\n        return rest\n      }\n      validateSlot(slot, i)\n    } catch (err) {\n      inGameError(err)\n    }\n    return slot\n  })\n  lastMappedSlots = JSON.parse(JSON.stringify(newSlots))\n  return newSlots\n}\n\nexport const upInventoryItems = (isInventory: boolean, invWindow = lastWindow) => {\n  // inv.pwindow.inv.slots[2].displayName = 'test'\n  // inv.pwindow.inv.slots[2].blockData = getBlockData('dirt')\n  const customSlots = mapSlots((isInventory ? bot.inventory : bot.currentWindow)!.slots)\n  invWindow.pwindow.setSlots(customSlots)\n  return customSlots\n}\n\nexport const onModalClose = (callback: () => any) => {\n  const modal = activeModalStack.at(-1)\n  const unsubscribe = subscribe(activeModalStack, () => {\n    const newModal = activeModalStack.at(-1)\n    if (modal?.reactType !== newModal?.reactType) {\n      callback()\n      unsubscribe()\n    }\n  }, true)\n}\n\nconst implementedContainersGuiMap = {\n  // todo allow arbitrary size instead!\n  'minecraft:generic_9x1': 'ChestWin',\n  'minecraft:generic_9x2': 'ChestWin',\n  'minecraft:generic_9x3': 'ChestWin',\n  'minecraft:generic_9x4': 'Generic95Win',\n  'minecraft:generic_9x5': 'Generic95Win',\n  // hopper\n  'minecraft:generic_5x1': 'HopperWin',\n  'minecraft:generic_9x6': 'LargeChestWin',\n  'minecraft:generic_3x3': 'DropDispenseWin',\n  'minecraft:furnace': 'FurnaceWin',\n  'minecraft:smoker': 'FurnaceWin',\n  'minecraft:shulker_box': 'ChestWin',\n  'minecraft:blast_furnace': 'FurnaceWin',\n  'minecraft:crafting': 'CraftingWin',\n  'minecraft:crafting3x3': 'CraftingWin', // todo different result slot\n  'minecraft:anvil': 'AnvilWin',\n  // enchant\n  'minecraft:enchanting_table': 'EnchantingWin',\n  // horse\n  'minecraft:horse': 'HorseWin',\n  // villager\n  'minecraft:villager': 'VillagerWin',\n}\n\nlet lastJeiSearch = ''\nconst upJei = (search: string) => {\n  lastJeiSearch = search\n  search = search.toLowerCase()\n  // todo fix pre flat\n  const itemsArray = [\n    ...jeiCustomCategories.value.flatMap(x => x.items).filter(x => x !== null),\n    ...loadedData.itemsArray.filter(x => x.displayName.toLowerCase().includes(search)).map(item => new PrismarineItem(item.id, 1)).filter(x => x !== null)\n  ]\n  const matchedSlots = itemsArray.map(x => {\n    x.displayName = getItemName(x) ?? x.displayName\n    if (!x.displayName.toLowerCase().includes(search)) return null\n    return x\n  }).filter(a => a !== null)\n  lastWindow.pwindow.win.jeiSlotsPage = 0\n  lastWindow.pwindow.win.jeiSlots = mapSlots(matchedSlots, true)\n}\n\nexport const openItemsCanvas = (type, _bot = bot as typeof bot | null) => {\n  const inv = showInventory(type, getImage, {}, _bot);\n  (inv.canvasManager.children[0].callbacks as any).getItemRecipes = (item) => {\n    const allRecipes = getAllItemRecipes(item.name)\n    inv.canvasManager.children[0].messageDisplay = ''\n    const itemDescription = getItemDescription(item)\n    if (!allRecipes?.length && !itemDescription) {\n      inv.canvasManager.children[0].messageDisplay = `No recipes found for ${item.displayName}`\n    }\n    return [...allRecipes ?? [], ...itemDescription ? [\n      [\n        'GenericDescription',\n        mapSlots([item], true)[0],\n        [],\n        itemDescription\n      ]\n    ] : []]\n  }\n  (inv.canvasManager.children[0].callbacks as any).getItemUsages = (item) => {\n    const allItemUsages = getAllItemUsages(item.name)\n    inv.canvasManager.children[0].messageDisplay = ''\n    if (!allItemUsages?.length) {\n      inv.canvasManager.children[0].messageDisplay = `No usages found for ${item.displayName}`\n    }\n    return allItemUsages\n  }\n  return inv\n}\n\nconst upWindowItemsLocal = () => {\n  if (!lastWindow && bot.currentWindow) {\n    // edge case: might happen due to high ping, inventory should be closed soon!\n    // openWindow(implementedContainersGuiMap[bot.currentWindow.type])\n    return\n  }\n  void Promise.resolve().then(() => upInventoryItems(lastWindowType === null))\n}\n\nlet skipClosePacketSending = false\nconst openWindow = (type: string | undefined, title: string | any = undefined) => {\n  // if (activeModalStack.some(x => x.reactType?.includes?.('player_win:'))) {\n  if (activeModalStack.length) { // game is not in foreground, don't close current modal\n    if (type) {\n      skipClosePacketSending = true\n      hideCurrentModal()\n    } else {\n      bot.currentWindow?.['close']()\n      return\n    }\n  }\n  lastWindowType = type ?? null\n  showModal({\n    reactType: `player_win:${type}`,\n  })\n  onModalClose(() => {\n    // might be already closed (event fired)\n    if (type !== undefined && bot.currentWindow && !skipClosePacketSending) bot.currentWindow['close']()\n    lastWindow.destroy()\n    lastWindow = null as any\n    lastWindowType = null\n    window.inventory = null\n    miscUiState.displaySearchInput = false\n    destroyFn()\n    skipClosePacketSending = false\n  })\n  cleanLoadedImagesCache()\n  const inv = openItemsCanvas(type)\n  inv.canvasManager.children[0].mobileHelpers = miscUiState.currentTouch\n  window.inventory = inv\n  const PrismarineChat = PrismarineChatLoader(bot.version)\n  try {\n    inv.canvasManager.children[0].customTitleText = title ?\n      typeof title === 'string' ?\n        fromFormattedString(title).text :\n        new PrismarineChat(title).toString() :\n      undefined\n  } catch (err) {\n    reportError?.(err)\n    inv.canvasManager.children[0].customTitleText = undefined\n  }\n  // todo\n  inv.canvasManager.setScale(currentScaling.scale === 1 ? 1.5 : currentScaling.scale)\n  inv.canvas.style.zIndex = '10'\n  inv.canvas.style.position = 'fixed'\n  inv.canvas.style.inset = '0'\n\n  inv.canvasManager.onClose = async () => {\n    await new Promise(resolve => {\n      setTimeout(resolve, 0)\n    })\n    if (activeModalStack.at(-1)?.reactType?.includes('player_win:')) {\n      hideModal(undefined, undefined, { force: true })\n    }\n    inv.canvasManager.destroy()\n  }\n\n  lastWindow = inv\n\n  upWindowItemsLocal()\n\n  lastWindow.pwindow.touch = miscUiState.currentTouch ?? false\n  const oldOnInventoryEvent = lastWindow.pwindow.onInventoryEvent.bind(lastWindow.pwindow)\n  lastWindow.pwindow.onInventoryEvent = (type, containing, windowIndex, inventoryIndex, item) => {\n    if (inv.canvasManager.children[0].currentGuide) {\n      const isRightClick = type === 'rightclick'\n      const isLeftClick = type === 'leftclick'\n      if (isLeftClick || isRightClick) {\n        inv.canvasManager.children[0].showRecipesOrUsages(isLeftClick, item)\n      }\n    } else {\n      oldOnInventoryEvent(type, containing, windowIndex, inventoryIndex, item)\n    }\n  }\n  lastWindow.pwindow.onJeiClick = (slotItem, _index, isRightclick) => {\n    if (versionToNumber(bot.version) < versionToNumber('1.13')) {\n      alert('Item give is broken on 1.12.2 and below, we are working on it!')\n      return\n    }\n    // slotItem is the slot from mapSlots\n    const itemId = loadedData.itemsByName[slotItem.name]?.id\n    if (!itemId) {\n      inGameError(`Item for block ${slotItem.name} not found`)\n      return\n    }\n    const item = PrismarineItem.fromNotch({\n      ...slotItem,\n      itemId,\n      itemCount: isRightclick ? 64 : 1,\n      components: slotItem.components ?? [],\n      removeComponents: slotItem.removedComponents ?? [],\n      itemDamage: slotItem.metadata ?? 0,\n      nbt: slotItem.nbt,\n    })\n    if (bot.game.gameMode === 'creative') {\n      const freeSlot = bot.inventory.firstEmptyInventorySlot()\n      if (freeSlot === null) return\n      void bot.creative.setInventorySlot(freeSlot, item)\n    } else {\n      inv.canvasManager.children[0].showRecipesOrUsages(!isRightclick, mapSlots([item], true)[0])\n    }\n  }\n\n  const isJeiEnabled = () => {\n    if (typeof options.jeiEnabled === 'boolean') return options.jeiEnabled\n    if (Array.isArray(options.jeiEnabled)) {\n      return options.jeiEnabled.includes(bot.game?.gameMode as any)\n    }\n    return false\n  }\n\n  if (isJeiEnabled()) {\n    lastWindow.pwindow.win.jeiSlotsPage = 0\n    // todo workaround so inventory opens immediately (though it still lags)\n    setTimeout(() => {\n      upJei('')\n    })\n    miscUiState.displaySearchInput = true\n  } else {\n    lastWindow.pwindow.win.jeiSlots = []\n    miscUiState.displaySearchInput = false\n  }\n\n  if (type === undefined) {\n    // player inventory\n    bot.inventory.on('updateSlot', upWindowItemsLocal)\n    destroyFn = () => {\n      bot.inventory.off('updateSlot', upWindowItemsLocal)\n    }\n  } else {\n    //@ts-expect-error\n    bot.currentWindow.on('updateSlot', () => {\n      upWindowItemsLocal()\n    })\n  }\n}\n\nlet destroyFn = () => { }\n\nexport const openPlayerInventory = () => {\n  openWindow(undefined)\n}\n\nconst getResultingRecipe = (slots: Array<Item | null>, gridRows: number) => {\n  const inputSlotsItems = slots.map(blockSlot => blockSlot?.type)\n  let currentShape = splitEvery(gridRows, inputSlotsItems as Array<number | undefined | null>)\n  // todo rewrite with candidates search\n  if (currentShape.length > 1) {\n    // eslint-disable-next-line @typescript-eslint/no-for-in-array\n    for (const slotX in currentShape[0]) {\n      if (currentShape[0][slotX] !== undefined) {\n        for (const [otherY] of Array.from({ length: gridRows }).entries()) {\n          if (currentShape[otherY]?.[slotX] === undefined) {\n            currentShape[otherY]![slotX] = null\n          }\n        }\n      }\n    }\n  }\n  currentShape = currentShape.map(arr => arr.filter(x => x !== undefined)).filter(x => x.length !== 0)\n\n  // todo rewrite\n  // eslint-disable-next-line @typescript-eslint/require-array-sort-compare\n  const slotsIngredients = [...inputSlotsItems].sort().filter(item => item !== undefined)\n  type Result = RecipeItem | undefined\n  let shapelessResult: Result\n  let shapeResult: Result\n  outer: for (const [id, recipeVariants] of Object.entries(loadedData.recipes ?? {})) {\n    for (const recipeVariant of recipeVariants) {\n      if ('inShape' in recipeVariant && equals(currentShape, recipeVariant.inShape as number[][])) {\n        shapeResult = recipeVariant.result!\n        break outer\n      }\n      if ('ingredients' in recipeVariant && equals(slotsIngredients, recipeVariant.ingredients?.sort() as number[])) {\n        shapelessResult = recipeVariant.result\n        break outer\n      }\n    }\n  }\n  const result = shapeResult ?? shapelessResult\n  if (!result) return\n  const id = typeof result === 'number' ? result : Array.isArray(result) ? result[0] : result.id\n  if (!id) return\n  const count = (typeof result === 'number' ? undefined : Array.isArray(result) ? result[1] : result.count) ?? 1\n  const metadata = typeof result === 'object' && !Array.isArray(result) ? result.metadata : undefined\n  const item = new PrismarineItem(id, count, metadata)\n  return item\n}\n\nconst ingredientToItem = (recipeItem) => (recipeItem === null ? null : new PrismarineItem(recipeItem, 1))\n\nconst getAllItemRecipes = (itemName: string) => {\n  const item = loadedData.itemsByName[itemName]\n  if (!item) return\n  const itemId = item.id\n  const recipes = loadedData.recipes?.[itemId]\n  if (!recipes) return\n  const results = [] as Array<{\n    result: Item,\n    ingredients: Array<Item | null>,\n    description?: string\n  }>\n\n  // get recipes here\n  for (const recipe of recipes) {\n    const { result } = recipe\n    if (!result) continue\n    const resultId = typeof result === 'number' ? result : Array.isArray(result) ? result[0]! : result.id\n    const resultCount = (typeof result === 'number' ? undefined : Array.isArray(result) ? result[1] : result.count) ?? 1\n    const resultMetadata = typeof result === 'object' && !Array.isArray(result) ? result.metadata : undefined\n    const resultItem = new PrismarineItem(resultId!, resultCount, resultMetadata)\n    if ('inShape' in recipe) {\n      const ingredients = recipe.inShape\n      if (!ingredients) continue\n\n      const ingredientsItems = ingredients.flatMap(items => items.map(item => ingredientToItem(item)))\n      results.push({ result: resultItem, ingredients: ingredientsItems })\n    }\n    if ('ingredients' in recipe) {\n      const { ingredients } = recipe\n      if (!ingredients) continue\n      const ingredientsItems = ingredients.map(item => ingredientToItem(item))\n      results.push({ result: resultItem, ingredients: ingredientsItems, description: 'Shapeless' })\n    }\n  }\n  return results.map(({ result, ingredients, description }) => {\n    return [\n      'CraftingTableGuide',\n      mapSlots([result], true)[0],\n      mapSlots(ingredients, true),\n      description\n    ]\n  })\n}\n\nconst getAllItemUsages = (itemName: string) => {\n  const item = loadedData.itemsByName[itemName]\n  if (!item) return\n  const foundRecipeIds = [] as string[]\n\n  for (const [id, recipes] of Object.entries(loadedData.recipes ?? {})) {\n    for (const recipe of recipes) {\n      if ('inShape' in recipe) {\n        if (recipe.inShape.some(row => row.includes(item.id))) {\n          foundRecipeIds.push(id)\n        }\n      }\n      if ('ingredients' in recipe) {\n        if (recipe.ingredients.includes(item.id)) {\n          foundRecipeIds.push(id)\n        }\n      }\n    }\n  }\n\n  return foundRecipeIds.flatMap(id => {\n    // todo should use exact match, not include all recipes!\n    return getAllItemRecipes(loadedData.items[id].name)\n  })\n}\n","import { Entity } from 'prismarine-entity'\nimport { versionToNumber } from 'renderer/viewer/common/utils'\nimport tracker from '@nxg-org/mineflayer-tracker'\nimport { loader as autoJumpPlugin } from '@nxg-org/mineflayer-auto-jump'\nimport { subscribeKey } from 'valtio/utils'\nimport { getThreeJsRendererMethods } from 'renderer/viewer/three/threeJsMethods'\nimport { Team } from 'mineflayer'\nimport { options, watchValue } from './optionsStorage'\nimport { gameAdditionalState, miscUiState } from './globalState'\nimport { EntityStatus } from './mineflayer/entityStatus'\n\n\nconst updateAutoJump = () => {\n  if (!bot?.autoJumper) return\n  const autoJump = options.autoParkour || (options.autoJump === 'auto' ? miscUiState.currentTouch && !miscUiState.usingGamepadInput : options.autoJump === 'always')\n  bot.autoJumper.setOpts({\n    // jumpIntoWater: options.autoParkour,\n    jumpOnAllEdges: options.autoParkour,\n    // strictBlockCollision: true,\n  })\n  if (autoJump === bot.autoJumper.enabled) return\n  if (autoJump) {\n    bot.autoJumper.enable()\n  } else {\n    bot.autoJumper.disable()\n  }\n}\nsubscribeKey(options, 'autoJump', () => {\n  updateAutoJump()\n})\nsubscribeKey(options, 'autoParkour', () => {\n  updateAutoJump()\n})\nsubscribeKey(miscUiState, 'usingGamepadInput', () => {\n  updateAutoJump()\n})\nsubscribeKey(miscUiState, 'currentTouch', () => {\n  updateAutoJump()\n})\n\ncustomEvents.on('gameLoaded', () => {\n  bot.loadPlugin(tracker)\n  bot.loadPlugin(autoJumpPlugin)\n  updateAutoJump()\n\n  const playerPerAnimation = {} as Record<string, string>\n  const checkEntityData = (e: Entity) => {\n    if (!e.username) return\n    window.debugEntityMetadata ??= {}\n    window.debugEntityMetadata[e.username] = e\n    if (e.type === 'player') {\n      bot.tracker.trackEntity(e)\n    }\n  }\n\n  const trackBotEntity = () => {\n    // Always track the bot entity for animations\n    if (bot.entity) {\n      bot.tracker.trackEntity(bot.entity)\n    }\n  }\n\n  let lastCall = 0\n  bot.on('physicsTick', () => {\n    // throttle, tps: 6\n    if (Date.now() - lastCall < 166) return\n    lastCall = Date.now()\n    for (const [id, { tracking, info }] of Object.entries(bot.tracker.trackingData)) {\n      if (!tracking) continue\n      const e = bot.entities[id]\n      if (!e) continue\n      const speed = info.avgVel\n      const WALKING_SPEED = 0.03\n      const SPRINTING_SPEED = 0.18\n      const isCrouched = e === bot.entity ? gameAdditionalState.isSneaking : e['crouching']\n      const isWalking = Math.abs(speed.x) > WALKING_SPEED || Math.abs(speed.z) > WALKING_SPEED\n      const isSprinting = Math.abs(speed.x) > SPRINTING_SPEED || Math.abs(speed.z) > SPRINTING_SPEED\n\n      const newAnimation =\n        isCrouched ? (isWalking ? 'crouchWalking' : 'crouch')\n          : isWalking ? (isSprinting ? 'running' : 'walking')\n            : 'idle'\n      if (newAnimation !== playerPerAnimation[id]) {\n        // Handle bot entity animation specially (for player entity in third person)\n        if (e === bot.entity) {\n          getThreeJsRendererMethods()?.playEntityAnimation('player_entity', newAnimation)\n        } else {\n          getThreeJsRendererMethods()?.playEntityAnimation(e.id, newAnimation)\n        }\n        playerPerAnimation[id] = newAnimation\n      }\n    }\n  })\n\n  bot.on('entitySwingArm', (e) => {\n    getThreeJsRendererMethods()?.playEntityAnimation(e.id, 'oneSwing')\n  })\n\n  bot.on('botArmSwingStart', (hand) => {\n    if (hand === 'right') {\n      getThreeJsRendererMethods()?.playEntityAnimation('player_entity', 'oneSwing')\n    }\n  })\n\n  bot.inventory.on('updateSlot', (slot) => {\n    if (slot === 5 || slot === 6 || slot === 7 || slot === 8) {\n      const item = bot.inventory.slots[slot]!\n      bot.entity.equipment[slot - 3] = item\n      appViewer.worldView?.emit('playerEntity', bot.entity)\n    }\n  })\n  bot.on('heldItemChanged', () => {\n    const item = bot.inventory.slots[bot.quickBarSlot + 36]!\n    bot.entity.equipment[0] = item\n    appViewer.worldView?.emit('playerEntity', bot.entity)\n  })\n\n  bot._client.on('damage_event', (data) => {\n    const { entityId, sourceTypeId: damage } = data\n    getThreeJsRendererMethods()?.damageEntity(entityId, damage)\n  })\n\n  bot._client.on('entity_status', (data) => {\n    if (versionToNumber(bot.version) >= versionToNumber('1.19.4')) return\n    const { entityId, entityStatus } = data\n    if (entityStatus === EntityStatus.HURT) {\n      getThreeJsRendererMethods()?.damageEntity(entityId, entityStatus)\n    }\n\n    if (entityStatus === EntityStatus.BURNED) {\n      updateEntityStates(entityId, true, true)\n    }\n  })\n\n  // on fire events\n  bot._client.on('entity_metadata', (data) => {\n    if (data.entityId !== bot.entity.id) return\n    handleEntityMetadata(data)\n  })\n\n  bot.on('end', () => {\n    if (onFireTimeout) {\n      clearTimeout(onFireTimeout)\n    }\n  })\n\n  bot.on('respawn', () => {\n    if (onFireTimeout) {\n      clearTimeout(onFireTimeout)\n    }\n  })\n\n  const updateCamera = (entity: Entity) => {\n    if (bot.game.gameMode !== 'spectator') return\n    bot.entity.position = entity.position.clone()\n    void bot.look(entity.yaw, entity.pitch, true)\n    bot.entity.yaw = entity.yaw\n    bot.entity.pitch = entity.pitch\n  }\n\n  bot.on('entityGone', (entity) => {\n    bot.tracker.stopTrackingEntity(entity, true)\n  })\n\n  bot.on('entityMoved', (e) => {\n    checkEntityData(e)\n    if (appViewer.playerState.reactive.cameraSpectatingEntity === e.id) {\n      updateCamera(e)\n    }\n  })\n  bot._client.on('entity_velocity', (packet) => {\n    const e = bot.entities[packet.entityId]\n    if (!e) return\n    checkEntityData(e)\n  })\n\n  for (const entity of Object.values(bot.entities)) {\n    if (entity !== bot.entity) {\n      checkEntityData(entity)\n    }\n  }\n\n  // Track bot entity initially\n  trackBotEntity()\n\n  bot.on('entitySpawn', (e) => {\n    checkEntityData(e)\n    if (appViewer.playerState.reactive.cameraSpectatingEntity === e.id) {\n      updateCamera(e)\n    }\n  })\n  bot.on('entityUpdate', checkEntityData)\n  bot.on('entityEquip', checkEntityData)\n\n  // Re-track bot entity after login\n  bot.on('login', () => {\n    setTimeout(() => {\n      trackBotEntity()\n    }) // Small delay to ensure bot.entity is properly set\n  })\n\n  bot._client.on('camera', (packet) => {\n    if (bot.player.entity.id === packet.cameraId) {\n      if (appViewer.playerState.utils.isSpectatingEntity() && appViewer.playerState.reactive.cameraSpectatingEntity) {\n        const entity = bot.entities[appViewer.playerState.reactive.cameraSpectatingEntity]\n        appViewer.playerState.reactive.cameraSpectatingEntity = undefined\n        if (entity) {\n          // do a force entity update\n          bot.emit('entityUpdate', entity)\n        }\n      }\n    } else if (appViewer.playerState.reactive.gameMode === 'spectator') {\n      const entity = bot.entities[packet.cameraId]\n      appViewer.playerState.reactive.cameraSpectatingEntity = packet.cameraId\n      if (entity) {\n        updateCamera(entity)\n        // do a force entity update\n        bot.emit('entityUpdate', entity)\n      }\n    }\n  })\n\n  const applySkinTexturesProxy = (url: string | undefined) => {\n    const { appConfig } = miscUiState\n    if (appConfig?.skinTexturesProxy) {\n      return url?.replace('http://textures.minecraft.net/', appConfig.skinTexturesProxy)\n        .replace('https://textures.minecraft.net/', appConfig.skinTexturesProxy)\n    }\n    return url\n  }\n\n  // Texture override from packet properties\n  const updateSkin = (player: import('mineflayer').Player) => {\n    if (!player.uuid || !player.username || !player.skinData) return\n\n    try {\n      const skinUrl = applySkinTexturesProxy(player.skinData.url)\n      const capeUrl = applySkinTexturesProxy((player.skinData as any).capeUrl)\n\n      // Find entity with matching UUID and update skin\n      let entityId = ''\n      for (const [entId, entity] of Object.entries(bot.entities)) {\n        if (entity.uuid === player.uuid) {\n          entityId = entId\n          break\n        }\n      }\n      // even if not found, still record to cache\n      void getThreeJsRendererMethods()?.updatePlayerSkin(entityId, player.username, player.uuid, skinUrl ?? true, capeUrl)\n    } catch (err) {\n      console.error('Error decoding player texture:', err)\n    }\n  }\n\n  bot.on('playerJoined', updateSkin)\n  bot.on('playerUpdated', updateSkin)\n\n  bot.on('teamUpdated', (team: Team) => {\n    for (const entity of Object.values(bot.entities)) {\n      if (entity.type === 'player' && entity.username && team.members.includes(entity.username) || entity.uuid && team.members.includes(entity.uuid)) {\n        bot.emit('entityUpdate', entity)\n      }\n    }\n  })\n\n  const updateEntityNameTags = (team: Team) => {\n    for (const entity of Object.values(bot.entities)) {\n      const entityTeam = entity.type === 'player' && entity.username ? bot.teamMap[entity.username] : entity.uuid ? bot.teamMap[entity.uuid] : undefined\n      if ((entityTeam?.nameTagVisibility === 'hideForOwnTeam' && entityTeam.name === team.name)\n        || (entityTeam?.nameTagVisibility === 'hideForOtherTeams' && entityTeam.name !== team.name)) {\n        bot.emit('entityUpdate', entity)\n      }\n    }\n  }\n\n  const doEntitiesNeedUpdating = (team: Team) => {\n    return team.nameTagVisibility === 'never'\n      || (team.nameTagVisibility === 'hideForOtherTeams' && appViewer.playerState.reactive.team?.team !== team.team)\n      || (team.nameTagVisibility === 'hideForOwnTeam' && appViewer.playerState.reactive.team?.team === team.team)\n  }\n\n  bot.on('teamMemberAdded', (team: Team, members: string[]) => {\n    if (members.includes(bot.username) && appViewer.playerState.reactive.team?.team !== team.team) {\n      appViewer.playerState.reactive.team = team\n      // Player was added to a team, need to check if any entities need updating\n      updateEntityNameTags(team)\n    } else if (doEntitiesNeedUpdating(team)) {\n      // Need to update all entities that were added\n      for (const entity of Object.values(bot.entities)) {\n        if (entity.type === 'player' && entity.username && members.includes(entity.username) || entity.uuid && members.includes(entity.uuid)) {\n          bot.emit('entityUpdate', entity)\n        }\n      }\n    }\n  })\n\n  bot.on('teamMemberRemoved', (team: Team, members: string[]) => {\n    if (members.includes(bot.username) && appViewer.playerState.reactive.team?.team === team.team) {\n      appViewer.playerState.reactive.team = undefined\n      // Player was removed from a team, need to check if any entities need updating\n      updateEntityNameTags(team)\n    } else if (doEntitiesNeedUpdating(team)) {\n      // Need to update all entities that were removed\n      for (const entity of Object.values(bot.entities)) {\n        if (entity.type === 'player' && entity.username && members.includes(entity.username) || entity.uuid && members.includes(entity.uuid)) {\n          bot.emit('entityUpdate', entity)\n        }\n      }\n    }\n  })\n\n  bot.on('teamRemoved', (team: Team) => {\n    if (appViewer.playerState.reactive.team?.team === team?.team) {\n      appViewer.playerState.reactive.team = undefined\n      // Player's team was removed, need to update all entities that are in a team\n      updateEntityNameTags(team)\n    }\n  })\n\n})\n\n// Constants\nconst SHARED_FLAGS_KEY = 0\nconst ENTITY_FLAGS = {\n  ON_FIRE: 0x01, // Bit 0\n  SNEAKING: 0x02, // Bit 1\n  SPRINTING: 0x08, // Bit 3\n  SWIMMING: 0x10, // Bit 4\n  INVISIBLE: 0x20, // Bit 5\n  GLOWING: 0x40, // Bit 6\n  FALL_FLYING: 0x80 // Bit 7 (elytra flying)\n}\n\nlet onFireTimeout: NodeJS.Timeout | undefined\nconst updateEntityStates = (entityId: number, onFire: boolean, timeout?: boolean) => {\n  if (entityId !== bot.entity.id) return\n  appViewer.playerState.reactive.onFire = onFire\n  if (onFireTimeout) {\n    clearTimeout(onFireTimeout)\n  }\n  if (timeout) {\n    onFireTimeout = setTimeout(() => {\n      updateEntityStates(entityId, false, false)\n    }, 5000)\n  }\n}\n\n// Process entity metadata packet\nfunction handleEntityMetadata (packet: { entityId: number, metadata: Array<{ key: number, type: string, value: number }> }) {\n  const { entityId, metadata } = packet\n\n  // Find shared flags in metadata\n  const flagsData = metadata.find(meta => meta.key === SHARED_FLAGS_KEY &&\n    meta.type === 'byte')\n\n  // Update fire state if flags were found\n  if (flagsData) {\n    const wasOnFire = appViewer.playerState.reactive.onFire\n    appViewer.playerState.reactive.onFire = (flagsData.value & ENTITY_FLAGS.ON_FIRE) !== 0\n  }\n}\n","import { contro } from './controls'\nimport { activeModalStack, isGameActive, miscUiState, showModal } from './globalState'\nimport { options } from './optionsStorage'\nimport { hideNotification, notificationProxy } from './react/NotificationProvider'\nimport { pointerLock } from './utils'\nimport { updateMotion, initMotionTracking } from './react/uiMotion'\n\nlet lastMouseMove: number\n\nexport type CameraMoveEvent = {\n  movementX: number\n  movementY: number\n  type: string\n  stopPropagation?: () => void\n}\n\nexport function onCameraMove (e: MouseEvent | CameraMoveEvent) {\n  if (!isGameActive(true)) return\n  if (e.type === 'mousemove' && !document.pointerLockElement) return\n  e.stopPropagation?.()\n  if (appViewer.playerState.utils.isSpectatingEntity()) return\n  const now = performance.now()\n  // todo: limit camera movement for now to avoid unexpected jumps\n  if (now - lastMouseMove < 4 && !options.preciseMouseInput) return\n  lastMouseMove = now\n  let { mouseSensX, mouseSensY } = options\n  if (mouseSensY === -1) mouseSensY = mouseSensX\n  moveCameraRawHandler({\n    x: e.movementX * mouseSensX * 0.0001,\n    y: e.movementY * mouseSensY * 0.0001\n  })\n  bot.mouse.update()\n  updateMotion()\n}\n\nexport const moveCameraRawHandler = ({ x, y }: { x: number; y: number }) => {\n  const maxPitch = 0.5 * Math.PI\n  const minPitch = -0.5 * Math.PI\n\n  appViewer.lastCamUpdate = Date.now()\n\n  // if (viewer.world.freeFlyMode) {\n  //   // Update freeFlyState directly\n  //   viewer.world.freeFlyState.yaw = (viewer.world.freeFlyState.yaw - x) % (2 * Math.PI)\n  //   viewer.world.freeFlyState.pitch = Math.max(minPitch, Math.min(maxPitch, viewer.world.freeFlyState.pitch - y))\n  //   return\n  // }\n\n  if (!bot?.entity) return\n  const pitch = bot.entity.pitch - y\n  void bot.look(bot.entity.yaw - x, Math.max(minPitch, Math.min(maxPitch, pitch)), true)\n  appViewer.backend?.updateCamera(null, bot.entity.yaw, pitch)\n}\n\nwindow.addEventListener('mousemove', (e: MouseEvent) => {\n  onCameraMove(e)\n}, { capture: true })\n\nexport const onControInit = () => {\n  contro.on('stickMovement', ({ stick, vector }) => {\n    if (!isGameActive(true)) return\n    if (stick !== 'right') return\n    let { x, z } = vector\n    if (Math.abs(x) < 0.18) x = 0\n    if (Math.abs(z) < 0.18) z = 0\n    onCameraMove({\n      movementX: x * 10,\n      movementY: z * 10,\n      type: 'stickMovement',\n      stopPropagation () {}\n    } as CameraMoveEvent)\n    miscUiState.usingGamepadInput = true\n  })\n}\n\nfunction pointerLockChangeCallback () {\n  if (appViewer.rendererState.preventEscapeMenu) return\n  if (!pointerLock.hasPointerLock && activeModalStack.length === 0 && miscUiState.gameLoaded) {\n    showModal({ reactType: 'pause-screen' })\n  }\n}\n\ndocument.addEventListener('pointerlockchange', pointerLockChangeCallback, false)\n","//@ts-check\n\nimport { Vec3 } from 'vec3'\nimport { proxy, subscribe } from 'valtio'\n\nimport { ControMax } from 'contro-max/build/controMax'\nimport { CommandEventArgument, SchemaCommandInput } from 'contro-max/build/types'\nimport { stringStartsWith } from 'contro-max/build/stringUtils'\nimport { GameMode } from 'mineflayer'\nimport { getThreeJsRendererMethods } from 'renderer/viewer/three/threeJsMethods'\nimport { isGameActive, showModal, gameAdditionalState, activeModalStack, hideCurrentModal, miscUiState, hideModal, hideAllModals } from './globalState'\nimport { goFullscreen, isInRealGameSession, pointerLock, reloadChunks } from './utils'\nimport { options } from './optionsStorage'\nimport { openPlayerInventory } from './inventoryWindows'\nimport { chatInputValueGlobal } from './react/Chat'\nimport { fsState } from './loadSave'\nimport { customCommandsConfig } from './customCommands'\nimport type { CustomCommand } from './react/KeybindingsCustom'\nimport { showOptionsModal } from './react/SelectOption'\nimport widgets from './react/widgets'\nimport { getItemFromBlock } from './chatUtils'\nimport { gamepadUiCursorState, moveGamepadCursorByPx } from './react/GamepadUiCursor'\nimport { completeResourcepackPackInstall, copyServerResourcePackToRegular, resourcePackState } from './resourcePack'\nimport { showNotification } from './react/NotificationProvider'\nimport { lastConnectOptions } from './react/AppStatusProvider'\nimport { onCameraMove, onControInit } from './cameraRotationControls'\nimport { createNotificationProgressReporter } from './core/progressReporter'\nimport { appStorage } from './react/appStorageProvider'\nimport { switchGameMode } from './packetsReplay/replayPackets'\nimport { tabListState } from './react/PlayerListOverlayProvider'\nimport { type ActionType, type ActionHoldConfig, type CustomAction } from './appConfig'\nimport { playerState } from './mineflayer/playerState'\n\nexport const customKeymaps = proxy(appStorage.keybindings)\nsubscribe(customKeymaps, () => {\n  appStorage.keybindings = customKeymaps\n})\n\nconst controlOptions = {\n  preventDefault: true\n}\n\nexport const contro = new ControMax({\n  commands: {\n    general: {\n      // movement\n      jump: ['Space', 'A'],\n      inventory: ['KeyE', 'X'],\n      drop: ['KeyQ', 'B'],\n      dropStack: [null],\n      sneak: ['ShiftLeft'],\n      toggleSneakOrDown: [null, 'Right Stick'],\n      sprint: ['ControlLeft', 'Left Stick'],\n      // game interactions\n      nextHotbarSlot: [null, 'Right Bumper'],\n      prevHotbarSlot: [null, 'Left Bumper'],\n      attackDestroy: [null, 'Right Trigger'],\n      interactPlace: [null, 'Left Trigger'],\n      swapHands: ['KeyF'],\n      selectItem: ['KeyH'],\n      rotateCameraLeft: [null],\n      rotateCameraRight: [null],\n      rotateCameraUp: [null],\n      rotateCameraDown: [null],\n      // ui?\n      chat: [['KeyT', 'Enter']],\n      command: ['Slash'],\n      playersList: ['Tab'],\n      debugOverlay: ['F3'],\n      debugOverlayHelpMenu: [null],\n      // client side\n      zoom: ['KeyC'],\n      viewerConsole: ['Backquote'],\n      togglePerspective: ['F5'],\n    },\n    ui: {\n      toggleFullscreen: ['F11'],\n      back: [null/* 'Escape' */, 'B'],\n      toggleMap: ['KeyJ'],\n      leftClick: [null, 'A'],\n      rightClick: [null, 'Y'],\n      speedupCursor: [null, 'Left Stick'],\n      pauseMenu: [null, 'Start']\n    },\n    communication: {\n      toggleMicrophone: ['KeyM'],\n    },\n    advanced: {\n      lockUrl: ['KeyY'],\n    },\n    custom: {} as Record<string, SchemaCommandInput & { type: string, input: any[] }>,\n    // waila: {\n    //   showLookingBlockRecipe: ['Numpad3'],\n    //   showLookingBlockUsages: ['Numpad4']\n    // }\n  } satisfies Record<string, Record<string, SchemaCommandInput>>,\n  movementKeymap: 'WASD',\n  movementVector: '2d',\n  groupedCommands: {\n    general: {\n      switchSlot: ['Digits', []]\n    }\n  },\n}, {\n  defaultControlOptions: controlOptions,\n  target: document,\n  captureEvents () {\n    return true\n  },\n  storeProvider: {\n    load: () => customKeymaps,\n    save () { },\n  },\n  gamepadPollingInterval: 10\n})\nwindow.controMax = contro\nexport type Command = CommandEventArgument<typeof contro['_commandsRaw']>['command']\n\nexport const isCommandDisabled = (command: Command) => {\n  return miscUiState.appConfig?.disabledCommands?.includes(command)\n}\n\nonControInit()\n\nupdateBinds(customKeymaps)\n\nconst updateDoPreventDefault = () => {\n  controlOptions.preventDefault = miscUiState.gameLoaded && !activeModalStack.length\n}\n\nsubscribe(miscUiState, updateDoPreventDefault)\nsubscribe(activeModalStack, updateDoPreventDefault)\nupdateDoPreventDefault()\n\nconst setSprinting = (state: boolean) => {\n  bot.setControlState('sprint', state)\n  gameAdditionalState.isSprinting = state\n}\n\nconst isSpectatingEntity = () => {\n  return appViewer.playerState.utils.isSpectatingEntity()\n}\n\ncontro.on('movementUpdate', ({ vector, soleVector, gamepadIndex }) => {\n  // Don't allow movement while spectating an entity\n  if (isSpectatingEntity()) return\n\n  if (gamepadIndex !== undefined && gamepadUiCursorState.display) {\n    const deadzone = 0.1 // TODO make deadzone configurable\n    if (Math.abs(soleVector.x) < deadzone && Math.abs(soleVector.z) < deadzone) {\n      return\n    }\n    moveGamepadCursorByPx(soleVector.x, true)\n    moveGamepadCursorByPx(soleVector.z, false)\n    emitMousemove()\n  }\n  miscUiState.usingGamepadInput = gamepadIndex !== undefined\n  if (!bot || !isGameActive(false)) return\n\n  // if (viewer.world.freeFlyMode) {\n  //   // Create movement vector from input\n  //   const direction = new THREE.Vector3(0, 0, 0)\n  //   if (vector.z !== undefined) direction.z = vector.z\n  //   if (vector.x !== undefined) direction.x = vector.x\n\n  //   // Apply camera rotation to movement direction\n  //   direction.applyQuaternion(viewer.camera.quaternion)\n\n  //   // Update freeFlyState position with normalized direction\n  //   const moveSpeed = 1\n  //   direction.multiplyScalar(moveSpeed)\n  //   viewer.world.freeFlyState.position.add(new Vec3(direction.x, direction.y, direction.z))\n  //   return\n  // }\n\n  // gamepadIndex will be used for splitscreen in future\n  const coordToAction = [\n    ['z', -1, 'forward'],\n    ['z', 1, 'back'],\n    ['x', -1, 'left'],\n    ['x', 1, 'right'],\n  ] as const\n\n  const newState: Partial<typeof bot.controlState> = {}\n  for (const [coord, v] of Object.entries(vector)) {\n    if (v === undefined || Math.abs(v) < 0.3) continue\n    // todo use raw values eg for slow movement\n    const mappedValue = v < 0 ? -1 : 1\n    // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\n    const foundAction = coordToAction.find(([c, mapV]) => c === coord && mapV === mappedValue)?.[2]!\n    newState[foundAction] = true\n  }\n\n  for (const key of ['forward', 'back', 'left', 'right'] as const) {\n    if (newState[key] === bot.controlState[key]) continue\n    const action = !!newState[key]\n    if (action && !isGameActive(true)) continue\n    bot.setControlState(key, action)\n\n    if (key === 'forward') {\n      // todo workaround: need to refactor\n      if (action) {\n        void contro.emit('trigger', { command: 'general.forward' } as any)\n      } else {\n        void contro.emit('release', { command: 'general.forward' } as any)\n        setSprinting(false)\n      }\n    }\n  }\n})\n\nlet lastCommandTrigger = null as { command: string, time: number } | null\n\nconst secondActionActivationTimeout = 300\nconst secondActionCommands = {\n  'general.jump' () {\n    // if (bot.game.gameMode === 'spectator') return\n    toggleFly()\n  },\n  'general.forward' () {\n    setSprinting(true)\n  }\n}\n\n// detect pause open, as ANY keyup event is not fired when you exit pointer lock (esc)\nsubscribe(activeModalStack, () => {\n  if (activeModalStack.length) {\n    // iterate over pressedKeys\n    for (const key of contro.pressedKeys) {\n      contro.pressedKeyOrButtonChanged({ code: key }, false)\n    }\n  }\n})\n\nconst emitMousemove = () => {\n  const { x, y } = gamepadUiCursorState\n  const xAbs = x / 100 * window.innerWidth\n  const yAbs = y / 100 * window.innerHeight\n  const element = document.elementFromPoint(xAbs, yAbs) as HTMLElement | null\n  if (!element) return\n  element.dispatchEvent(new MouseEvent('mousemove', {\n    clientX: xAbs,\n    clientY: yAbs\n  }))\n}\n\nlet lastClickedEl = null as HTMLElement | null\nlet lastClickedElTimeout: ReturnType<typeof setTimeout> | undefined\nconst inModalCommand = (command: Command, pressed: boolean) => {\n  if (pressed && !gamepadUiCursorState.display) return\n\n  if (pressed) {\n    if (command === 'ui.back') {\n      hideCurrentModal()\n    }\n    if (command === 'ui.pauseMenu') {\n      // hide all modals\n      hideAllModals()\n    }\n    if (command === 'ui.leftClick' || command === 'ui.rightClick') {\n      // in percent\n      const { x, y } = gamepadUiCursorState\n      const xAbs = x / 100 * window.innerWidth\n      const yAbs = y / 100 * window.innerHeight\n      const el = document.elementFromPoint(xAbs, yAbs) as HTMLElement\n      if (el) {\n        if (el === lastClickedEl && command === 'ui.leftClick') {\n          el.dispatchEvent(new MouseEvent('dblclick', {\n            bubbles: true,\n            clientX: xAbs,\n            clientY: yAbs\n          }))\n          return\n        }\n        el.dispatchEvent(new MouseEvent('mousedown', {\n          button: command === 'ui.leftClick' ? 0 : 2,\n          bubbles: true,\n          clientX: xAbs,\n          clientY: yAbs\n        }))\n        el.dispatchEvent(new MouseEvent(command === 'ui.leftClick' ? 'click' : 'contextmenu', {\n          bubbles: true,\n          clientX: xAbs,\n          clientY: yAbs\n        }))\n        el.dispatchEvent(new MouseEvent('mouseup', {\n          button: command === 'ui.leftClick' ? 0 : 2,\n          bubbles: true,\n          clientX: xAbs,\n          clientY: yAbs\n        }))\n        el.focus()\n        lastClickedEl = el\n        if (lastClickedElTimeout) clearTimeout(lastClickedElTimeout)\n        lastClickedElTimeout = setTimeout(() => {\n          lastClickedEl = null\n        }, 500)\n      }\n    }\n  }\n\n  if (command === 'ui.speedupCursor') {\n    gamepadUiCursorState.multiply = pressed ? 2 : 1\n  }\n}\n\n// Camera rotation controls\nconst cameraRotationControls = {\n  activeDirections: new Set<'left' | 'right' | 'up' | 'down'>(),\n  interval: null as ReturnType<typeof setInterval> | null,\n  config: {\n    speed: 1, // movement per interval\n    interval: 5 // ms between movements\n  },\n  movements: {\n    left: { movementX: -0.5, movementY: 0 },\n    right: { movementX: 0.5, movementY: 0 },\n    up: { movementX: 0, movementY: -0.5 },\n    down: { movementX: 0, movementY: 0.5 }\n  },\n  updateMovement () {\n    if (cameraRotationControls.activeDirections.size === 0) {\n      if (cameraRotationControls.interval) {\n        clearInterval(cameraRotationControls.interval)\n        cameraRotationControls.interval = null\n      }\n      return\n    }\n\n    if (!cameraRotationControls.interval) {\n      cameraRotationControls.interval = setInterval(() => {\n        // Combine all active movements\n        const movement = { movementX: 0, movementY: 0 }\n        for (const direction of cameraRotationControls.activeDirections) {\n          movement.movementX += cameraRotationControls.movements[direction].movementX\n          movement.movementY += cameraRotationControls.movements[direction].movementY\n        }\n\n        onCameraMove({\n          ...movement,\n          type: 'keyboardRotation',\n          stopPropagation () {}\n        })\n      }, cameraRotationControls.config.interval)\n    }\n  },\n  start (direction: 'left' | 'right' | 'up' | 'down') {\n    cameraRotationControls.activeDirections.add(direction)\n    cameraRotationControls.updateMovement()\n  },\n  stop (direction: 'left' | 'right' | 'up' | 'down') {\n    cameraRotationControls.activeDirections.delete(direction)\n    cameraRotationControls.updateMovement()\n  },\n  handleCommand (command: string, pressed: boolean) {\n    // Don't allow movement while spectating an entity\n    if (isSpectatingEntity()) return\n\n    const directionMap = {\n      'general.rotateCameraLeft': 'left',\n      'general.rotateCameraRight': 'right',\n      'general.rotateCameraUp': 'up',\n      'general.rotateCameraDown': 'down'\n    } as const\n\n    const direction = directionMap[command]\n    if (direction) {\n      if (pressed) cameraRotationControls.start(direction)\n      else cameraRotationControls.stop(direction)\n      return true\n    }\n    return false\n  }\n}\nwindow.cameraRotationControls = cameraRotationControls\n\nconst setSneaking = (state: boolean) => {\n  gameAdditionalState.isSneaking = state\n  bot.setControlState('sneak', state)\n\n}\n\nconst onTriggerOrReleased = (command: Command, pressed: boolean) => {\n  // always allow release!\n  if (!bot || !isGameActive(false)) return\n  if (stringStartsWith(command, 'general')) {\n    // handle general commands\n    // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check\n    switch (command) {\n      case 'general.jump':\n        if (isSpectatingEntity()) break\n        // if (viewer.world.freeFlyMode) {\n        //   const moveSpeed = 0.5\n        //   viewer.world.freeFlyState.position.add(new Vec3(0, pressed ? moveSpeed : 0, 0))\n        // } else {\n        bot.setControlState('jump', pressed)\n        // }\n        break\n      case 'general.sneak':\n        // if (viewer.world.freeFlyMode) {\n        //   const moveSpeed = 0.5\n        //   viewer.world.freeFlyState.position.add(new Vec3(0, pressed ? -moveSpeed : 0, 0))\n        // } else {\n        setSneaking(pressed)\n        // }\n        break\n      case 'general.sprint':\n        // todo add setting to change behavior\n        if (pressed) {\n          setSprinting(pressed)\n        }\n        break\n      case 'general.toggleSneakOrDown':\n        if (gameAdditionalState.isFlying) {\n          setSneaking(pressed)\n        } else if (pressed) {\n          setSneaking(!gameAdditionalState.isSneaking)\n        }\n        break\n      case 'general.attackDestroy':\n        document.dispatchEvent(new MouseEvent(pressed ? 'mousedown' : 'mouseup', { button: 0 }))\n        break\n      case 'general.interactPlace':\n        document.dispatchEvent(new MouseEvent(pressed ? 'mousedown' : 'mouseup', { button: 2 }))\n        break\n      case 'general.zoom':\n        gameAdditionalState.isZooming = pressed\n        break\n      case 'general.debugOverlay':\n        if (pressed) {\n          miscUiState.showDebugHud = !miscUiState.showDebugHud\n        }\n        break\n      case 'general.debugOverlayHelpMenu':\n        if (pressed) {\n          void onF3LongPress()\n        }\n        break\n      case 'general.rotateCameraLeft':\n      case 'general.rotateCameraRight':\n      case 'general.rotateCameraUp':\n      case 'general.rotateCameraDown':\n        cameraRotationControls.handleCommand(command, pressed)\n        break\n      case 'general.playersList':\n        tabListState.isOpen = pressed\n        break\n      case 'general.viewerConsole':\n        if (lastConnectOptions.value?.viewerWsConnect) {\n          showModal({ reactType: 'console' })\n        }\n        break\n      case 'general.togglePerspective':\n        if (pressed) {\n          const currentPerspective = playerState.reactive.perspective\n          // eslint-disable-next-line sonarjs/no-nested-switch\n          switch (currentPerspective) {\n            case 'first_person':\n              playerState.reactive.perspective = 'third_person_back'\n              break\n            case 'third_person_back':\n              playerState.reactive.perspective = 'third_person_front'\n              break\n            case 'third_person_front':\n              playerState.reactive.perspective = 'first_person'\n              break\n          }\n        }\n        break\n    }\n  } else if (stringStartsWith(command, 'ui')) {\n    switch (command) {\n      case 'ui.pauseMenu':\n        if (pressed) {\n          if (activeModalStack.length) {\n            hideCurrentModal()\n          } else {\n            showModal({ reactType: 'pause-screen' })\n          }\n        }\n        break\n      case 'ui.back':\n      case 'ui.toggleFullscreen':\n      case 'ui.toggleMap':\n      case 'ui.leftClick':\n      case 'ui.rightClick':\n      case 'ui.speedupCursor':\n        // These are handled elsewhere\n        break\n    }\n  }\n}\n\n// im still not sure, maybe need to refactor to handle in inventory instead\nconst alwaysPressedHandledCommand = (command: Command) => {\n  inModalCommand(command, true)\n  // triggered even outside of the game\n  if (command === 'general.inventory') {\n    if (activeModalStack.at(-1)?.reactType?.startsWith?.('player_win:')) { // todo?\n      hideCurrentModal()\n    }\n  }\n  if (command === 'advanced.lockUrl') {\n    lockUrl()\n  }\n  if (command === 'communication.toggleMicrophone') {\n    toggleMicrophoneMuted?.()\n  }\n}\n\nexport function lockUrl () {\n  let newQs = ''\n  if (fsState.saveLoaded && fsState.inMemorySave) {\n    const worldFolder = fsState.inMemorySavePath\n    const save = worldFolder.split('/').at(-1)\n    newQs = `loadSave=${save}`\n  } else if (process.env.NODE_ENV === 'development') {\n    newQs = `reconnect=1`\n  } else if (lastConnectOptions.value?.server) {\n    const qs = new URLSearchParams()\n    const { server, botVersion, proxy, username } = lastConnectOptions.value\n    qs.set('ip', server)\n    if (botVersion) qs.set('version', botVersion)\n    if (proxy) qs.set('proxy', proxy)\n    if (username) qs.set('username', username)\n    newQs = String(qs.toString())\n  }\n\n  if (newQs) {\n    window.history.replaceState({}, '', `${window.location.pathname}?${newQs}`)\n  }\n}\n\nfunction cycleHotbarSlot (dir: 1 | -1) {\n  const newHotbarSlot = (bot.quickBarSlot + dir + 9) % 9\n  bot.setQuickBarSlot(newHotbarSlot)\n}\n\n// custom commands handler\nconst customCommandsHandler = ({ command }) => {\n  const [section, name] = command.split('.')\n  if (!isGameActive(true) || section !== 'custom') return\n\n  if (contro.userConfig?.custom) {\n    customCommandsConfig[(contro.userConfig.custom[name] as CustomCommand).type].handler((contro.userConfig.custom[name] as CustomCommand).inputs)\n  }\n}\ncontro.on('trigger', customCommandsHandler)\n\ncontro.on('trigger', ({ command }) => {\n  if (isCommandDisabled(command)) return\n\n  const willContinue = !isGameActive(true)\n  alwaysPressedHandledCommand(command)\n  if (willContinue) return\n\n  const secondActionCommand = secondActionCommands[command]\n  if (secondActionCommand) {\n    if (command === lastCommandTrigger?.command && Date.now() - lastCommandTrigger.time < secondActionActivationTimeout) {\n      const commandToTrigger = secondActionCommands[lastCommandTrigger.command]\n      commandToTrigger()\n      lastCommandTrigger = null\n    } else {\n      lastCommandTrigger = {\n        command,\n        time: Date.now(),\n      }\n    }\n  }\n\n  onTriggerOrReleased(command, true)\n\n  if (stringStartsWith(command, 'general')) {\n    switch (command) {\n      case 'general.jump':\n      case 'general.sneak':\n      case 'general.toggleSneakOrDown':\n      case 'general.sprint':\n      case 'general.attackDestroy':\n      case 'general.rotateCameraLeft':\n      case 'general.rotateCameraRight':\n      case 'general.rotateCameraUp':\n      case 'general.rotateCameraDown':\n      case 'general.debugOverlay':\n      case 'general.debugOverlayHelpMenu':\n      case 'general.playersList':\n      case 'general.togglePerspective':\n        // no-op\n        break\n      case 'general.swapHands': {\n        if (isSpectatingEntity()) break\n        bot._client.write('block_dig', {\n          'status': 6,\n          'location': {\n            'x': 0,\n            'z': 0,\n            'y': 0\n          },\n          'face': 0,\n        })\n        break\n      }\n      case 'general.interactPlace':\n        // handled in onTriggerOrReleased\n        break\n      case 'general.inventory':\n        if (isSpectatingEntity()) break\n        document.exitPointerLock?.()\n        openPlayerInventory()\n        break\n      case 'general.drop': {\n        if (isSpectatingEntity()) break\n        // protocol 1.9+\n        bot._client.write('block_dig', {\n          'status': 4,\n          'location': {\n            'x': 0,\n            'z': 0,\n            'y': 0\n          },\n          'face': 0,\n          sequence: 0\n        })\n        const slot = bot.inventory.hotbarStart + bot.quickBarSlot\n        const item = bot.inventory.slots[slot]\n        if (item) {\n          item.count--\n          bot.inventory.updateSlot(slot, item.count > 0 ? item : null!)\n        }\n        break\n      }\n      case 'general.dropStack': {\n        if (bot.heldItem) {\n          void bot.tossStack(bot.heldItem)\n        }\n        break\n      }\n      case 'general.chat':\n        showModal({ reactType: 'chat' })\n        break\n      case 'general.command':\n        chatInputValueGlobal.value = '/'\n        showModal({ reactType: 'chat' })\n        break\n      case 'general.selectItem':\n        if (isSpectatingEntity()) break\n        void selectItem()\n        break\n      case 'general.nextHotbarSlot':\n        if (isSpectatingEntity()) break\n        cycleHotbarSlot(1)\n        break\n      case 'general.prevHotbarSlot':\n        if (isSpectatingEntity()) break\n        cycleHotbarSlot(-1)\n        break\n      case 'general.zoom':\n        break\n      case 'general.viewerConsole':\n        if (lastConnectOptions.value?.viewerWsConnect) {\n          showModal({ reactType: 'console' })\n        }\n        break\n    }\n  }\n\n  if (command === 'ui.toggleFullscreen') {\n    void goFullscreen(true)\n  }\n})\n\n// show-hide Fullmap\ncontro.on('trigger', ({ command }) => {\n  if (command !== 'ui.toggleMap') return\n  const isActive = isGameActive(true)\n  if (activeModalStack.at(-1)?.reactType === 'full-map') {\n    miscUiState.displayFullmap = false\n    hideModal({ reactType: 'full-map' })\n  } else if (isActive && !activeModalStack.length) {\n    miscUiState.displayFullmap = true\n    showModal({ reactType: 'full-map' })\n  }\n})\n\ncontro.on('release', ({ command }) => {\n  if (isCommandDisabled(command)) return\n\n  inModalCommand(command, false)\n  onTriggerOrReleased(command, false)\n})\n\n// hard-coded keybindings\n\nexport const f3Keybinds: Array<{\n  key?: string,\n  action: () => void | Promise<void>,\n  mobileTitle: string\n  enabled?: () => boolean\n}> = [\n  {\n    key: 'KeyA',\n    action () {\n      //@ts-expect-error\n      const loadedChunks = Object.entries(worldView.loadedChunks).filter(([, v]) => v).map(([key]) => key.split(',').map(Number))\n      for (const [x, z] of loadedChunks) {\n        worldView!.unloadChunk({ x, z })\n      }\n      // for (const child of viewer.scene.children) {\n      //   if (child.name === 'chunk') { // should not happen\n      //     viewer.scene.remove(child)\n      //     console.warn('forcefully removed chunk from scene')\n      //   }\n      // }\n      if (localServer) {\n        //@ts-expect-error not sure why it is private... maybe revisit api?\n        localServer.players[0].world.columns = {}\n      }\n      void reloadChunks()\n      if (appViewer.backend?.backendMethods && typeof appViewer.backend.backendMethods.reloadWorld === 'function') {\n        appViewer.backend.backendMethods.reloadWorld()\n      }\n    },\n    mobileTitle: 'Reload chunks',\n  },\n  {\n    key: 'KeyG',\n    action () {\n      options.showChunkBorders = !options.showChunkBorders\n    },\n    mobileTitle: 'Toggle chunk borders',\n  },\n  {\n    key: 'KeyH',\n    action () {\n      showModal({ reactType: 'chunks-debug' })\n    },\n    mobileTitle: 'Show Chunks Debug',\n  },\n  {\n    action () {\n      showModal({ reactType: 'renderer-debug' })\n    },\n    mobileTitle: 'Renderer Debug Menu',\n  },\n  {\n    key: 'KeyY',\n    async action () {\n      // waypoints\n      const widgetNames = widgets.map(widget => widget.name)\n      const widget = await showOptionsModal('Open Widget', widgetNames)\n      if (!widget) return\n      showModal({ reactType: `widget-${widget}` })\n    },\n    mobileTitle: 'Open Widget'\n  },\n  {\n    key: 'KeyT',\n    async action () {\n      // TODO!\n      if (resourcePackState.resourcePackInstalled || gameAdditionalState.usingServerResourcePack) {\n        showNotification('Reloading textures...')\n        await completeResourcepackPackInstall('default', 'default', gameAdditionalState.usingServerResourcePack, createNotificationProgressReporter())\n      }\n    },\n    mobileTitle: 'Reload Textures'\n  },\n  {\n    key: 'F4',\n    async action () {\n      let nextGameMode: GameMode\n      switch (bot.game.gameMode) {\n        case 'creative': {\n          nextGameMode = 'survival'\n\n          break\n        }\n        case 'survival': {\n          nextGameMode = 'adventure'\n\n          break\n        }\n        case 'adventure': {\n          nextGameMode = 'spectator'\n\n          break\n        }\n        case 'spectator': {\n          nextGameMode = 'creative'\n\n          break\n        }\n      // No default\n      }\n      if (lastConnectOptions.value?.worldStateFileContents) {\n        switchGameMode(nextGameMode)\n      } else {\n        bot.chat(`/gamemode ${nextGameMode}`)\n      }\n    },\n    mobileTitle: 'Cycle Game Mode'\n  },\n  {\n    key: 'KeyP',\n    async action () {\n      const { uuid, ping: playerPing, username } = bot.player\n      const proxyPing = await bot['pingProxy']()\n      void showOptionsModal(`${username}: last known total latency (ping): ${playerPing}. Connected to ${lastConnectOptions.value?.proxy} with current ping ${proxyPing}. Player UUID: ${uuid}`, [])\n    },\n    mobileTitle: 'Show Player & Ping Details',\n    enabled: () => !lastConnectOptions.value?.singleplayer && !!bot.player\n  },\n  {\n    action () {\n      void copyServerResourcePackToRegular()\n    },\n    mobileTitle: 'Copy Server Resource Pack',\n    enabled: () => !!gameAdditionalState.usingServerResourcePack\n  }\n]\n\nexport const reloadChunksAction = () => {\n  const action = f3Keybinds.find(f3Keybind => f3Keybind.key === 'KeyA')\n  void action!.action()\n}\n\ndocument.addEventListener('keydown', (e) => {\n  if (!isGameActive(false)) return\n  if (contro.pressedKeys.has('F3')) {\n    const keybind = f3Keybinds.find((v) => v.key === e.code)\n    if (keybind && (keybind.enabled?.() ?? true)) {\n      void keybind.action()\n      e.stopPropagation()\n    }\n  }\n}, {\n  capture: true,\n})\n\nconst isFlying = () => (bot.entity as any).flying\n\nconst startFlying = (sendAbilities = true) => {\n  if (sendAbilities) {\n    bot._client.write('abilities', {\n      flags: 2,\n    })\n  }\n  (bot.entity as any).flying = true\n}\n\nconst endFlying = (sendAbilities = true) => {\n  if (!isFlying()) return\n  if (sendAbilities) {\n    bot._client.write('abilities', {\n      flags: 0,\n    })\n  }\n  (bot.entity as any).flying = false\n}\n\nexport const onBotCreate = () => {\n}\n\nconst toggleFly = (newState = !isFlying(), sendAbilities?: boolean) => {\n  if (!bot.entity.canFly) return\n\n  if (newState) {\n    startFlying(sendAbilities)\n  } else {\n    endFlying(sendAbilities)\n  }\n  gameAdditionalState.isFlying = isFlying()\n}\n\nconst selectItem = async () => {\n  const block = bot.blockAtCursor(5)\n  if (!block) return\n  const itemId = getItemFromBlock(block)?.id\n  if (!itemId) return\n  const Item = require('prismarine-item')(bot.version)\n  const item = new Item(itemId, 1, 0)\n  await bot.creative.setInventorySlot(bot.inventory.hotbarStart + bot.quickBarSlot, item)\n  bot.updateHeldItem()\n}\n\naddEventListener('mousedown', async (e) => {\n  // always prevent default for side buttons (back / forward navigation)\n  if (e.button === 3 || e.button === 4) {\n    e.preventDefault()\n  }\n\n  if ((e.target as HTMLElement).matches?.('#VRButton')) return\n  if (!isInRealGameSession() && !(e.target as HTMLElement).id.includes('ui-root')) return\n  void pointerLock.requestPointerLock()\n  if (!bot) return\n  getThreeJsRendererMethods()?.onPageInteraction()\n  // wheel click\n  // todo support ctrl+wheel (+nbt)\n  if (e.button === 1) {\n    await selectItem()\n  }\n})\n\nwindow.addEventListener('keydown', (e) => {\n  if (e.code !== 'Escape') return\n  if (!activeModalStack.length) {\n    getThreeJsRendererMethods()?.onPageInteraction()\n  }\n\n  if (activeModalStack.length) {\n    const hideAll = e.ctrlKey || e.metaKey\n    if (hideAll) {\n      hideAllModals()\n    } else {\n      hideCurrentModal()\n    }\n    if (activeModalStack.length === 0) {\n      getThreeJsRendererMethods()?.onPageInteraction()\n      pointerLock.justHitEscape = true\n    }\n  } else if (pointerLock.hasPointerLock) {\n    document.exitPointerLock?.()\n    if (options.autoExitFullscreen) {\n      void document.exitFullscreen()\n    }\n  } else {\n    document.dispatchEvent(new Event('pointerlockchange'))\n  }\n})\n\nwindow.addEventListener('keydown', (e) => {\n  if (e.code !== 'F2' || e.repeat || !isGameActive(true)) return\n  e.preventDefault()\n  const canvas = document.getElementById('viewer-canvas') as HTMLCanvasElement\n  if (!canvas) return\n  const link = document.createElement('a')\n  link.href = canvas.toDataURL('image/png')\n  const date = new Date()\n  link.download = `screenshot ${date.toLocaleString().replaceAll('.', '-').replace(',', '')}.png`\n  link.click()\n})\n\nwindow.addEventListener('keydown', (e) => {\n  if (e.code !== 'F1' || e.repeat || !isGameActive(true)) return\n  e.preventDefault()\n  miscUiState.showUI = !miscUiState.showUI\n})\n\n// #region experimental debug things\nwindow.addEventListener('keydown', (e) => {\n  if (e.code === 'KeyL' && e.altKey && !e.shiftKey && !e.ctrlKey && !e.metaKey) {\n    console.clear()\n  }\n  if (e.code === 'KeyK' && e.altKey && e.shiftKey && !e.ctrlKey && !e.metaKey) {\n    if (sessionStorage.delayLoadUntilFocus) {\n      sessionStorage.removeItem('delayLoadUntilFocus')\n    } else {\n      sessionStorage.setItem('delayLoadUntilFocus', 'true')\n    }\n  }\n  if (e.code === 'KeyK' && e.altKey && !e.shiftKey && !e.ctrlKey && !e.metaKey) {\n    // eslint-disable-next-line no-debugger\n    debugger\n  }\n})\n// #endregion\n\nexport function updateBinds (commands: any) {\n  contro.inputSchema.commands.custom = Object.fromEntries(Object.entries(commands?.custom ?? {}).map(([key, value]) => {\n    return [key, {\n      keys: [],\n      gamepad: [],\n      type: '',\n      inputs: []\n    }]\n  }))\n\n  for (const [group, actions] of Object.entries(commands)) {\n    contro.userConfig![group] = Object.fromEntries(Object.entries(actions).map(([key, value]) => {\n      const newValue = {\n        keys: value?.keys ?? undefined,\n        gamepad: value?.gamepad ?? undefined,\n      }\n\n      if (group === 'custom') {\n        newValue['type'] = (value).type\n        newValue['inputs'] = (value).inputs\n      }\n\n      return [key, newValue]\n    }))\n  }\n}\n\nexport const onF3LongPress = async () => {\n  const actions = f3Keybinds.filter(f3Keybind => {\n    return f3Keybind.mobileTitle && (f3Keybind.enabled?.() ?? true)\n  })\n  const actionNames = actions.map(f3Keybind => {\n    return `${f3Keybind.mobileTitle}${f3Keybind.key ? ` (F3+${f3Keybind.key})` : ''}`\n  })\n  const select = await showOptionsModal('', actionNames)\n  if (!select) return\n  const actionIndex = actionNames.indexOf(select)\n  const f3Keybind = actions[actionIndex]!\n  void f3Keybind.action()\n}\n\nexport const handleMobileButtonCustomAction = (action: CustomAction) => {\n  const handler = customCommandsConfig[action.type]?.handler\n  if (handler) {\n    handler([...action.input])\n  }\n}\n\nexport const triggerCommand = (command: Command, isDown: boolean) => {\n  handleMobileButtonActionCommand(command, isDown)\n}\n\nexport const handleMobileButtonActionCommand = (command: ActionType | ActionHoldConfig, isDown: boolean) => {\n  const commandValue = typeof command === 'string' ? command : 'command' in command ? command.command : command\n\n  // Check if command is disabled before proceeding\n  if (typeof commandValue === 'string' && isCommandDisabled(commandValue as Command)) return\n\n  if (typeof commandValue === 'string' && !stringStartsWith(commandValue, 'custom')) {\n    const event: CommandEventArgument<typeof contro['_commandsRaw']> = {\n      command: commandValue as Command,\n      schema: {\n        keys: [],\n        gamepad: []\n      }\n    }\n    if (isDown) {\n      contro.emit('trigger', event)\n    } else {\n      contro.emit('release', event)\n    }\n  } else if (typeof commandValue === 'object') {\n    if (isDown) {\n      handleMobileButtonCustomAction(commandValue)\n    }\n  }\n}\n\nexport const handleMobileButtonLongPress = (actionHold: ActionHoldConfig) => {\n  if (typeof actionHold.longPressAction === 'string' && actionHold.longPressAction === 'general.debugOverlayHelpMenu') {\n    void onF3LongPress()\n  } else if (actionHold.longPressAction) {\n    handleMobileButtonActionCommand(actionHold.longPressAction, true)\n  }\n}\n","import { Duplex } from 'stream'\nimport { Peer, DataConnection } from 'peerjs'\nimport Client from 'minecraft-protocol/src/client'\nimport { resolveTimeout } from './utils'\nimport { setLoadingScreenStatus } from './appStatus'\nimport { miscUiState } from './globalState'\n\nclass CustomDuplex extends Duplex {\n  constructor (options, public writeAction) {\n    super(options)\n  }\n\n  _read () { }\n\n  _write (chunk, encoding, callback) {\n    this.writeAction(chunk)\n    callback()\n  }\n}\n\nlet peerInstance: Peer | undefined\n\nlet overridePeerJsServer = null as string | null\n\nexport const getJoinLink = () => {\n  if (!peerInstance) return\n  const url = new URL(window.location.href)\n  for (const key of url.searchParams.keys()) {\n    url.searchParams.delete(key)\n  }\n  url.searchParams.set('connectPeer', peerInstance.id)\n  url.searchParams.set('peerVersion', localServer!.options.version)\n  const host = (overridePeerJsServer ?? miscUiState.appConfig?.peerJsServer) ?? undefined\n  if (host) {\n    // TODO! use miscUiState.appConfig.peerJsServer\n    url.searchParams.set('server', host)\n  }\n  return url.toString()\n}\n\nconst copyJoinLink = async () => {\n  miscUiState.wanOpened = true\n  const joinLink = getJoinLink()!\n  if (navigator.clipboard) {\n    await navigator.clipboard.writeText(joinLink)\n  } else {\n    window.prompt('Copy to clipboard: Ctrl+C, Enter', joinLink)\n  }\n}\n\nexport const openToWanAndCopyJoinLink = async (writeText: (text) => void, doCopy = true) => {\n  if (!localServer) return\n  if (peerInstance) {\n    if (doCopy) await copyJoinLink()\n    return 'Already opened to wan. Join link copied'\n  }\n  miscUiState.wanOpening = true\n  const host = (overridePeerJsServer ?? miscUiState.appConfig?.peerJsServer) || undefined\n  const params = host ? parseUrl(host) : undefined\n  const peer = new Peer({\n    debug: 3,\n    secure: true,\n    ...params\n  })\n  peerInstance = peer\n  peer.on('connection', (connection) => {\n    console.log('connection')\n    const serverDuplex = new CustomDuplex({}, async (data) => connection.send(data))\n    const client = new Client(true, localServer.options.version, undefined)\n    client.setSocket(serverDuplex)\n    localServer._server.emit('connection', client)\n\n    connection.on('data', (data: any) => {\n      serverDuplex.push(Buffer.from(data))\n    })\n    // our side disconnect\n    const endConnection = () => {\n      console.log('connection.close')\n      serverDuplex.end()\n      connection.close()\n    }\n    serverDuplex.on('end', endConnection)\n    serverDuplex.on('force-close', endConnection)\n    client.on('end', endConnection)\n\n    const disconnected = () => {\n      serverDuplex.end()\n      client.end()\n    }\n    connection.on('iceStateChanged', (state) => {\n      console.log('iceStateChanged', state)\n      if (state === 'disconnected') {\n        disconnected()\n      }\n    })\n    connection.on('close', disconnected)\n    connection.on('error', disconnected)\n  })\n  const fallbackServer = miscUiState.appConfig?.peerJsServerFallback\n  const hasFallback = fallbackServer && peer.options.host !== fallbackServer\n  let hadErrorReported = false\n  peer.on('error', (error) => {\n    console.error('peerJS error', error)\n    if (error.type === 'server-error' && hasFallback) {\n      return\n    }\n    hadErrorReported = true\n    writeText(error.message || JSON.stringify(error))\n  })\n  let timeout\n  const destroy = () => {\n    clearTimeout(timeout)\n    timeout = undefined\n    peer.destroy()\n    peerInstance = undefined\n  }\n\n  const result = await new Promise<string>(resolve => {\n    peer.on('open', async () => {\n      await copyJoinLink()\n      resolve('Copied join link to clipboard')\n    })\n    timeout = setTimeout(async () => {\n      if (!hadErrorReported && timeout !== undefined) {\n        if (hasFallback && overridePeerJsServer === null) {\n          destroy()\n          overridePeerJsServer = fallbackServer\n          console.log('Trying fallback server due to timeout', fallbackServer)\n          resolve((await openToWanAndCopyJoinLink(writeText, doCopy))!)\n        } else {\n          writeText('timeout')\n          resolve('Failed to open to wan (timeout)')\n        }\n      }\n    }, 6000)\n\n    // fallback\n    peer.on('error', async (error) => {\n      if (!peer.open) {\n        if (hasFallback) {\n          destroy()\n\n          overridePeerJsServer = fallbackServer\n          console.log('Trying fallback server', fallbackServer)\n          resolve((await openToWanAndCopyJoinLink(writeText, doCopy))!)\n        }\n      }\n    })\n  })\n  if (peerInstance && !peerInstance.open) {\n    destroy()\n  }\n  miscUiState.wanOpening = false\n  return result\n}\n\nconst parseUrl = (url: string) => {\n  // peerJS does this internally for some reason: const url = new URL(`${protocol}://${host}:${port}${path}${key}/${method}`)\n  if (!url.startsWith('http')) url = `${location.protocol}//${url}`\n  const urlObj = new URL(url)\n  const key = urlObj.searchParams.get('key')\n  return {\n    host: urlObj.hostname,\n    path: urlObj.pathname,\n    protocol: urlObj.protocol.slice(0, -1),\n    ...urlObj.port ? { port: +urlObj.port } : {},\n    ...key ? { key } : {},\n  }\n}\n\nexport const closeWan = () => {\n  peerInstance?.destroy()\n  peerInstance = undefined\n  miscUiState.wanOpened = false\n  return 'Closed WAN'\n}\n\nexport type ConnectPeerOptions = {\n  server?: string\n}\n\nexport const connectToPeer = async (peerId: string, options: ConnectPeerOptions = {}) => {\n  setLoadingScreenStatus('Connecting to peer server')\n  // todo destroy connection on error\n  // TODO! use miscUiState.appConfig.peerJsServer\n  const host = options.server\n  const params = host ? parseUrl(host) : undefined\n  const peer = new Peer({\n    debug: 3,\n    ...params\n  })\n  await resolveTimeout(new Promise(resolve => {\n    peer.once('open', resolve)\n  }))\n  setLoadingScreenStatus('Connecting to the peer')\n  const connection = peer.connect(peerId, {\n    serialization: 'raw',\n  })\n  await resolveTimeout(new Promise<void>((resolve, reject) => {\n    connection.once('error', (error) => {\n      console.log(error.type, error.name)\n      console.log(error)\n      reject(error.message)\n    })\n    connection.once('open', resolve)\n  }))\n\n  const clientDuplex = new CustomDuplex({}, (data) => {\n    // todo debug until play state\n    // console.debug('sending', data.toString())\n    void connection.send(data)\n  })\n  connection.on('data', (data: any) => {\n    console.debug('received', Buffer.from(data).toString())\n    clientDuplex.push(Buffer.from(data))\n  })\n  connection.on('close', () => {\n    console.log('connection closed')\n    clientDuplex.end()\n    // bot._client.end()\n    // bot.end()\n    bot.emit('end', 'Disconnected.')\n  })\n  connection.on('error', (error) => {\n    console.error(error)\n    clientDuplex.end()\n  })\n\n  return clientDuplex\n}\n","import { useState, useEffect, useRef, createContext, useContext } from 'react'\nimport { UserOverridesConfig } from 'contro-max/build/types/store'\nimport { AllKeyCodes } from 'contro-max/build/types/keyCodes'\nimport { contro as controEx } from '../controls'\nimport { hideModal } from '../globalState'\nimport PixelartIcon, { pixelartIcons } from './PixelartIcon'\nimport KeybindingsCustom, { CustomCommandsMap } from './KeybindingsCustom'\nimport { BindingActionsContext } from './KeybindingsScreenProvider'\nimport Button from './Button'\nimport Screen from './Screen'\nimport Keybinding from './Keybinding'\nimport styles from './KeybindingsScreen.module.css'\n\n\ntype HandleClick = (group: string, action: string, index: number, type: string | null) => void\n\ntype setBinding = (data: any, group: string, command: string, buttonIndex: number) => void\n\nexport const Context = createContext({\n  isPS: false as boolean | undefined,\n  userConfig: controEx?.userConfig ?? {} as UserOverridesConfig | undefined,\n  setUserConfig (config) { },\n  handleClick: (() => { }) as HandleClick,\n  bindsMap: { keyboard: {} as any, gamepad: {} as any }\n})\n\nexport default ({\n  contro,\n  isPS,\n}: {\n  contro: typeof controEx,\n  isPS?: boolean\n}) => {\n  const containerRef = useRef<HTMLDivElement | null>(null)\n  const bindsMap = useRef({ keyboard: {} as any, gamepad: {} as any })\n  const { commands } = contro.inputSchema\n  const [userConfig, setUserConfig] = useState(contro.userConfig ?? {})\n  const [awaitingInputType, setAwaitingInputType] = useState(null as null | 'keyboard' | 'gamepad')\n  const [groupName, setGroupName] = useState('')\n  const [actionName, setActionName] = useState('')\n  const [buttonNum, setButtonNum] = useState(0)\n  const { updateBinds } = useContext(BindingActionsContext)\n  const [customCommands, setCustomCommands] = useState<CustomCommandsMap>(userConfig.custom as CustomCommandsMap ?? {})\n\n  const updateCurrBind = (group: string, action: string) => {\n    setGroupName(prev => group)\n    setActionName(prev => action)\n  }\n\n  const handleClick: HandleClick = (group, action, index, type) => {\n    (document.activeElement as HTMLElement)?.blur()\n    setAwaitingInputType(type as any)\n    updateCurrBind(group, action)\n    setButtonNum(prev => index)\n  }\n\n  const setBinding: setBinding = (data, group, command, buttonIndex) => {\n    setUserConfig(prev => {\n      const newConfig = { ...prev }\n      newConfig[group] ??= {}\n      newConfig[group][command] ??= {}\n\n      // keys and buttons should always exist in commands\n      const type = 'code' in data ? 'keys' : 'button' in data ? 'gamepad' : null\n      if (type) {\n        newConfig[group][command][type] ??= group === 'custom' ? [] : [...contro.inputSchema.commands[group][command][type]]\n        newConfig[group][command][type]![buttonIndex] = data.code ?? data.button\n      }\n\n      return newConfig\n    })\n  }\n\n  const resetBinding = (group: string, command: string, inputType: string) => {\n    if (!userConfig?.[group]?.[command]) return\n\n    setUserConfig(prev => {\n      const newConfig = { ...prev }\n      const prop = inputType === 'keyboard' ? 'keys' : 'gamepad'\n      newConfig[group][command][prop] = undefined\n      return newConfig\n    })\n  }\n\n  useEffect(() => {\n    updateBinds(userConfig)\n    setCustomCommands({ ...userConfig.custom as CustomCommandsMap })\n\n    updateBindMap()\n  }, [userConfig])\n\n  const updateBinding = (data: any) => {\n    if ((!data.state && awaitingInputType) || !awaitingInputType) {\n      setAwaitingInputType(null)\n      return\n    }\n\n\n    if ('code' in data) {\n      if (data.state && [...contro.pressedKeys].includes(data.code)) return\n\n      if (data.code === 'Escape' || ['Mouse0', 'Mouse1', 'Mouse2'].includes(data.code)) {\n        setAwaitingInputType(null)\n        return\n      }\n      const pressedModifiers = [...contro.pressedKeys].filter(key => /^(Meta|Control|Alt|Shift)?$/.test(key))\n      setBinding(\n        { code: pressedModifiers.length ? `${pressedModifiers[0]}+${data.code}` : data.code, state: true },\n        groupName,\n        actionName,\n        buttonNum\n      )\n    }\n    if ('button' in data) {\n      contro.enabled = false\n      void Promise.resolve().then(() => { contro.enabled = true })\n      setBinding(data, groupName, actionName, buttonNum)\n    }\n  }\n\n  const updateBindMap = () => {\n    bindsMap.current = { keyboard: {} as any, gamepad: {} as any }\n    if (commands) {\n      for (const [group, actions] of Object.entries(commands)) {\n        for (const [action, { keys, gamepad }] of Object.entries(actions)) {\n          if (keys) {\n            let currKeys\n            if (userConfig?.[group]?.[action]?.keys) {\n              currKeys = userConfig[group][action].keys\n            } else {\n              currKeys = keys\n            }\n            for (const [index, key] of currKeys.entries()) {\n              bindsMap.current.keyboard[key] ??= []\n              if (!bindsMap.current.keyboard[key].some(obj => obj.group === group && obj.action === action && obj.index === index)) {\n                bindsMap.current.keyboard[key].push({ group, action, index })\n              }\n            }\n          }\n          if (gamepad) {\n            let currButtons\n            if (userConfig?.[group]?.[action]?.gamepad) {\n              currButtons = userConfig[group][action].gamepad\n            } else {\n              currButtons = gamepad\n            }\n            if (currButtons.length > 0) {\n              bindsMap.current.gamepad[currButtons[0]] ??= []\n              bindsMap.current.gamepad[currButtons[0]].push({ group, action, index: 0 })\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // fill binds map\n  useEffect(() => {\n    updateBindMap()\n  }, [])\n\n  useEffect(() => {\n    if (!awaitingInputType) return\n    contro.on('pressedKeyOrButtonChanged', updateBinding)\n    const preventDefault = (e) => e.preventDefault()\n    document.addEventListener('keydown', preventDefault, { passive: false })\n\n    return () => {\n      contro.off('pressedKeyOrButtonChanged', updateBinding)\n      document.removeEventListener('keydown', preventDefault)\n    }\n  }, [groupName, actionName, awaitingInputType])\n\n\n  return <Context.Provider value={{\n    isPS,\n    userConfig,\n    setUserConfig,\n    handleClick,\n    bindsMap: bindsMap.current\n  }}\n  >\n    <Screen title=\"Keybindings\" backdrop>\n      {awaitingInputType && <AwaitingInputOverlay isGamepad={awaitingInputType === 'gamepad'} />}\n      <div\n        className={styles.container}\n        ref={containerRef}\n      >\n        <Button\n          onClick={() => { hideModal() }}\n          style={{ alignSelf: 'center' }}\n        >Back\n        </Button>\n\n        {Object.entries(commands).map(([group, actions], index) => {\n          if (group === 'custom') return null\n          return <div key={`group-container-${group}-${index}`} className={styles.group}>\n            <div className={styles['group-category']}>{group}</div>\n            {group === 'general' ? (\n              <div style={{\n                color: 'rgba(255, 255, 255, 0.7)',\n                fontSize: '6px',\n                textAlign: 'center'\n              }}\n              >\n                Note: Left, right and middle click keybindings are hardcoded and cannot be changed currently.\n              </div>\n            ) : null}\n            {Object.entries(actions).map(([action, { keys, gamepad }]) => {\n              return <div key={`action-container-${action}`} className={styles.actionBinds}>\n                <div className={styles.actionName}>{parseActionName(action)}</div>\n\n                <Button\n                  onClick={() => {\n                    updateCurrBind(group, action)\n                    resetBinding(group, action, 'keyboard')\n                  }}\n                  style={{ opacity: userConfig?.[group]?.[action]?.keys?.length ? 1 : 0 }}\n                  className={styles['undo-keyboard']}\n                  icon={pixelartIcons.undo}\n                />\n\n                {[0, 1].map((key, index) => <ButtonWithMatchesAlert\n                  key={`keyboard-${group}-${action}-${index}`}\n                  group={group}\n                  action={action}\n                  index={index}\n                  inputType=\"keyboard\"\n                  keys={keys}\n                  gamepad={gamepad}\n                />)}\n\n                <Button\n                  key={`keyboard-${group}-${action}`}\n                  onClick={() => {\n                    updateCurrBind(group, action)\n                    resetBinding(group, action, 'gamepad')\n                  }}\n                  style={{\n                    opacity: userConfig?.[group]?.[action]?.gamepad?.length ? 1 : 0,\n                    width: '0px'\n                  }}\n                  className={`${styles['undo-gamepad']} ${styles['margin-left']}`}\n                  icon={pixelartIcons.undo}\n                />\n                <ButtonWithMatchesAlert\n                  key={`gamepad-${group}-${action}`}\n                  group={group}\n                  action={action}\n                  index={0}\n                  inputType=\"gamepad\"\n                  keys={keys}\n                  gamepad={gamepad}\n                />\n              </div>\n            })}\n          </div>\n        })}\n\n        <KeybindingsCustom\n          customCommands={customCommands}\n          updateCurrBind={updateCurrBind}\n          resetBinding={resetBinding}\n        />\n      </div>\n    </Screen>\n  </Context.Provider>\n}\n\nexport const ButtonWithMatchesAlert = ({\n  group,\n  action,\n  index,\n  inputType,\n  keys,\n  gamepad,\n}) => {\n  const { isPS, userConfig, handleClick, bindsMap } = useContext(Context)\n  const [buttonSign, setButtonSign] = useState('')\n\n  useEffect(() => {\n    const type = inputType === 'keyboard' ? 'keys' : 'gamepad'\n\n    const customValue = userConfig?.[group]?.[action]?.[type]?.[index]\n    if (customValue) {\n      setButtonSign(customValue)\n    } else if (type === 'keys') {\n      setButtonSign(keys?.length ? keys[index] : '')\n    } else {\n      setButtonSign(gamepad?.[0] ?? '')\n    }\n  }, [userConfig, isPS])\n\n  return <div\n    key={`warning-container-${inputType}-${action}`}\n    className={`${styles['warning-container']}`}\n  >\n    <Button\n      key={`${inputType}-${group}-${action}-${index}`}\n      onClick={() => handleClick(group, action, index, inputType)}\n      className={`${styles.button}`}\n    >\n      <Keybinding type={inputType} val={buttonSign as AllKeyCodes} />\n    </Button>\n    {userConfig?.[group]?.[action]?.[inputType === 'keyboard' ? 'keys' : 'gamepad']?.some(key => Object.keys(bindsMap[inputType]).includes(key)\n      && bindsMap[inputType][key].length > 1\n      && bindsMap[inputType][key].some(prop => prop.index === index\n        && prop.group === group\n        && prop.action === action)) ? (\n      //@ts-format-ignore-region\n        <div id={`bind-warning-${group}-${action}-${inputType}-${index}`} className={styles['matched-bind-warning']}>\n          <PixelartIcon\n            iconName=\"alert\"\n            width={5}\n            styles={{\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              marginRight: '2px'\n            }}\n          />\n          <div>\n            This bind is already in use. <span />\n          </div>\n        </div>\n      )\n      //@ts-format-ignore-endregion\n      : null}\n  </div>\n}\n\nexport const AwaitingInputOverlay = ({ isGamepad }) => {\n  return <div\n    style={{\n      position: 'fixed',\n      inset: 0,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      flexDirection: 'column',\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      color: 'white',\n      fontSize: 20,\n      zIndex: 10,\n      textAlign: 'center',\n    }}\n    onContextMenu={e => e.preventDefault()}\n  >\n    <div>\n      {isGamepad ? 'Press the button on the gamepad ' : 'Press the key, side mouse button '}\n      or ESC to cancel.\n    </div>\n    <Button\n      onClick={() => {\n        document.dispatchEvent(new KeyboardEvent('keydown', { key: 'Escape' }))\n      }}\n    >\n      Cancel\n    </Button>\n  </div>\n}\n\nconst parseActionName = (action: string) => {\n  const parts = action.split(/(?=[A-Z])/)\n  parts[0] = parts[0].charAt(0).toUpperCase() + parts[0].slice(1)\n  return parts.join(' ')\n}\n","//@ts-check\nimport { renderToDom, ErrorBoundary } from '@zardoy/react-util'\nimport { useSnapshot } from 'valtio'\nimport { QRCodeSVG } from 'qrcode.react'\nimport { createPortal } from 'react-dom'\nimport { useEffect, useMemo, useState } from 'react'\nimport { activeModalStack, miscUiState } from './globalState'\nimport DeathScreenProvider from './react/DeathScreenProvider'\nimport OptionsRenderApp from './react/OptionsRenderApp'\nimport MainMenuRenderApp from './react/MainMenuRenderApp'\nimport SingleplayerProvider from './react/SingleplayerProvider'\nimport CreateWorldProvider from './react/CreateWorldProvider'\nimport AppStatusProvider from './react/AppStatusProvider'\nimport SelectOption from './react/SelectOption'\nimport EnterFullscreenButton from './react/EnterFullscreenButton'\nimport ChatProvider from './react/ChatProvider'\nimport TitleProvider from './react/TitleProvider'\nimport ScoreboardProvider from './react/ScoreboardProvider'\nimport SignEditorProvider from './react/SignEditorProvider'\nimport IndicatorEffectsProvider from './react/IndicatorEffectsProvider'\nimport PlayerListOverlayProvider from './react/PlayerListOverlayProvider'\nimport MinimapProvider, { DrawerAdapterImpl } from './react/MinimapProvider'\nimport HudBarsProvider from './react/HudBarsProvider'\nimport XPBarProvider from './react/XPBarProvider'\nimport DebugOverlay from './react/DebugOverlay'\nimport MobileTopButtons from './react/MobileTopButtons'\nimport PauseScreen from './react/PauseScreen'\nimport SoundMuffler from './react/SoundMuffler'\nimport TouchControls from './react/TouchControls'\nimport widgets from './react/widgets'\nimport { useIsModalActive, useIsWidgetActive } from './react/utilsApp'\nimport GlobalSearchInput from './react/GlobalSearchInput'\nimport TouchAreasControlsProvider from './react/TouchAreasControlsProvider'\nimport NotificationProvider, { showNotification } from './react/NotificationProvider'\nimport HotbarRenderApp from './react/HotbarRenderApp'\nimport Crosshair from './react/Crosshair'\nimport ButtonAppProvider from './react/ButtonAppProvider'\nimport ServersListProvider from './react/ServersListProvider'\nimport GamepadUiCursor from './react/GamepadUiCursor'\nimport KeybindingsScreenProvider from './react/KeybindingsScreenProvider'\nimport HeldMapUi from './react/HeldMapUi'\nimport BedTime from './react/BedTime'\nimport NoModalFoundProvider from './react/NoModalFoundProvider'\nimport SignInMessageProvider from './react/SignInMessageProvider'\nimport BookProvider from './react/BookProvider'\nimport { options } from './optionsStorage'\nimport BossBarOverlayProvider from './react/BossBarOverlayProvider'\nimport ModsPage from './react/ModsPage'\nimport DebugEdges from './react/DebugEdges'\nimport GameInteractionOverlay from './react/GameInteractionOverlay'\nimport MineflayerPluginHud from './react/MineflayerPluginHud'\nimport MineflayerPluginConsole from './react/MineflayerPluginConsole'\nimport { UIProvider } from './react/UIProvider'\nimport { useAppScale } from './scaleInterface'\nimport PacketsReplayProvider from './react/PacketsReplayProvider'\nimport TouchInteractionHint from './react/TouchInteractionHint'\nimport { ua } from './react/utils'\nimport VoiceMicrophone from './react/VoiceMicrophone'\nimport ConnectOnlyServerUi from './react/ConnectOnlyServerUi'\nimport ControDebug from './react/ControDebug'\nimport ChunksDebug from './react/ChunksDebug'\nimport ChunksDebugScreen from './react/ChunksDebugScreen'\nimport DebugResponseTimeIndicator from './react/debugs/DebugResponseTimeIndicator'\nimport RendererDebugMenu from './react/RendererDebugMenu'\nimport CreditsAboutModal from './react/CreditsAboutModal'\nimport GlobalOverlayHints from './react/GlobalOverlayHints'\nimport FullscreenTime from './react/FullscreenTime'\nimport StorageConflictModal from './react/StorageConflictModal'\nimport FireRenderer from './react/FireRenderer'\nimport MonacoEditor from './react/MonacoEditor'\n\nconst isFirefox = ua.getBrowser().name === 'Firefox'\nif (isFirefox) {\n  // set custom property\n  document.body.style.setProperty('--thin-if-firefox', 'thin')\n}\n\nconst isIphone = ua.getDevice().model === 'iPhone' // todo ipad?\n\nif (isIphone) {\n  document.documentElement.style.setProperty('--hud-bottom-max', '21px') // env-safe-aria-inset-bottom\n}\n\nconst RobustPortal = ({ children, to }) => {\n  return createPortal(<PerComponentErrorBoundary>{children}</PerComponentErrorBoundary>, to)\n}\n\nconst DisplayQr = () => {\n  const { currentDisplayQr } = useSnapshot(miscUiState)\n\n  if (!currentDisplayQr) return null\n\n  return <div\n    style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      zIndex: 15\n    }}\n    onClick={() => {\n      miscUiState.currentDisplayQr = null\n    }}\n  >\n    <QRCodeSVG size={384} value={currentDisplayQr} style={{ display: 'block', border: '2px solid black' }} />\n  </div>\n}\n\n// mounted earlier than ingame ui TODO\nconst GameHud = ({ children }) => {\n  const { loadedDataVersion } = useSnapshot(miscUiState)\n  const [gameLoaded, setGameLoaded] = useState(false)\n\n  useEffect(() => {\n    customEvents.on('mineflayerBotCreated', () => {\n      bot.once('inject_allowed', () => {\n        setGameLoaded(true)\n      })\n    })\n  }, [])\n  useEffect(() => {\n    if (!loadedDataVersion) setGameLoaded(false)\n  }, [loadedDataVersion])\n\n  return gameLoaded ? children : null\n}\n\nconst InGameComponent = ({ children }) => {\n  const { gameLoaded } = useSnapshot(miscUiState)\n  if (!gameLoaded) return null\n  return children\n}\n\n// for Fullmap and Minimap in InGameUi\nlet adapter: DrawerAdapterImpl\n\nconst InGameUi = () => {\n  const { gameLoaded, showUI: showUIRaw } = useSnapshot(miscUiState)\n  const { disabledUiParts, displayBossBars, showMinimap } = useSnapshot(options)\n  const modalsSnapshot = useSnapshot(activeModalStack)\n  const hasModals = modalsSnapshot.length > 0\n  const showUI = showUIRaw || hasModals\n  const displayFullmap = modalsSnapshot.some(modal => modal.reactType === 'full-map') || true\n  // bot can't be used here\n\n  if (!gameLoaded || !bot || disabledUiParts.includes('*')) return\n\n  if (!adapter) adapter = new DrawerAdapterImpl(bot.entity.position)\n\n  return <>\n    <RobustPortal to={document.querySelector('#ui-root')}>\n      {/* apply scaling */}\n      <div style={{ display: showUI ? 'block' : 'none' }}>\n        <PerComponentErrorBoundary>\n          <GameInteractionOverlay zIndex={7} />\n          {!disabledUiParts.includes('death-screen') && <DeathScreenProvider />}\n          {!disabledUiParts.includes('debug-overlay') && <DebugOverlay />}\n          {!disabledUiParts.includes('mobile-top-buttons') && <MobileTopButtons />}\n          {!disabledUiParts.includes('players-list') && <PlayerListOverlayProvider />}\n          {!disabledUiParts.includes('chat') && <ChatProvider />}\n          <SoundMuffler />\n          {showMinimap !== 'never' && <MinimapProvider adapter={adapter} displayMode='minimapOnly' />}\n          {!disabledUiParts.includes('title') && <TitleProvider />}\n          {!disabledUiParts.includes('scoreboard') && <ScoreboardProvider />}\n          <IndicatorEffectsProvider displayEffects={!disabledUiParts.includes('effects')} displayIndicators={!disabledUiParts.includes('indicators')} />\n          {!disabledUiParts.includes('crosshair') && <Crosshair />}\n          {!disabledUiParts.includes('books') && <BookProvider />}\n          {!disabledUiParts.includes('bossbars') && displayBossBars && <BossBarOverlayProvider />}\n          <VoiceMicrophone />\n          <ChunksDebugScreen />\n          <RendererDebugMenu />\n          {!disabledUiParts.includes('fire') && <FireRenderer />}\n        </PerComponentErrorBoundary>\n      </div>\n\n      <PerComponentErrorBoundary>\n        <PauseScreen />\n        <FullscreenTime />\n        <MineflayerPluginHud />\n        <MineflayerPluginConsole />\n        {showUI && <TouchInteractionHint />}\n        <GlobalOverlayHints />\n        <div style={{ display: showUI ? 'block' : 'none' }}>\n          {!disabledUiParts.includes('xp-bar') && <XPBarProvider />}\n          {!disabledUiParts.includes('hud-bars') && <HudBarsProvider />}\n          <BedTime />\n        </div>\n        {showUI && !disabledUiParts.includes('hotbar') && <HotbarRenderApp />}\n      </PerComponentErrorBoundary>\n    </RobustPortal>\n    <PerComponentErrorBoundary>\n      <SignEditorProvider />\n      <DisplayQr />\n    </PerComponentErrorBoundary>\n    <RobustPortal to={document.body}>\n      {displayFullmap && <MinimapProvider adapter={adapter} displayMode='fullmapOnly' />}\n      {/* because of z-index */}\n      {showUI && <TouchControls />}\n      <GlobalSearchInput />\n    </RobustPortal>\n  </>\n}\n\nconst AllWidgets = () => {\n  return widgets.map(widget => <WidgetDisplay key={widget.name} name={widget.name} Component={widget.default} />)\n}\n\nconst WidgetDisplay = ({ name, Component }) => {\n  const isWidgetActive = useIsWidgetActive(name)\n  if (!isWidgetActive) return null\n\n  return <Component />\n}\n\nconst App = () => {\n  const scale = useAppScale()\n  return (\n    <UIProvider scale={scale}>\n      <div>\n        <ButtonAppProvider>\n          <RobustPortal to={document.body}>\n            <div className='overlay-bottom-scaled'>\n              <InGameComponent>\n                <HeldMapUi />\n              </InGameComponent>\n            </div>\n            <ControDebug />\n            <div />\n          </RobustPortal>\n          <EnterFullscreenButton />\n          <StorageConflictModal />\n          <InGameUi />\n          <RobustPortal to={document.querySelector('#ui-root')}>\n            <AllWidgets />\n            <SingleplayerProvider />\n            <CreateWorldProvider />\n            <AppStatusProvider />\n            <KeybindingsScreenProvider />\n            <ServersListProvider />\n            <OptionsRenderApp />\n            <MainMenuRenderApp />\n            <ConnectOnlyServerUi />\n            <TouchAreasControlsProvider />\n            <SignInMessageProvider />\n            <PacketsReplayProvider />\n            <NotificationProvider />\n            <ModsPage />\n            <SelectOption />\n            <CreditsAboutModal />\n            <NoModalFoundProvider />\n          </RobustPortal>\n          <RobustPortal to={document.body}>\n            <div className='overlay-top-scaled'>\n              <GamepadUiCursor />\n            </div>\n            <div />\n            <DebugEdges />\n            <MonacoEditor />\n            <DebugResponseTimeIndicator />\n          </RobustPortal>\n        </ButtonAppProvider>\n      </div>\n    </UIProvider>\n  )\n}\n\nconst PerComponentErrorBoundary = ({ children }) => {\n  return children.map((child, i) => <ErrorBoundary\n    key={i}\n    renderError={(error) => {\n      const componentNameClean = (child.type.name || child.type.displayName || 'Unknown').replaceAll(/__|_COMPONENT/g, '')\n      showNotification(`UI component ${componentNameClean} crashed!`, 'Please report this. Use console for more.', true, undefined)\n      return null\n    }}\n  >\n    {child}\n  </ErrorBoundary>)\n}\n\nif (!new URLSearchParams(window.location.search).get('no-ui')) {\n  renderToDom(<App />, {\n    strictMode: false,\n    selector: '#react-root',\n  })\n}\n\ndisableReactProfiling()\nfunction disableReactProfiling () {\n  if (window.reactPerfPatchApplied) return\n  window.reactPerfPatchApplied = true\n  //@ts-expect-error\n  window.performance.markOrig = window.performance.mark\n  //@ts-expect-error\n  window.performance.mark = (name, options) => {\n    // ignore react internal marks\n    if (!name.startsWith('') && !localStorage.enableReactProfiling) {\n      //@ts-expect-error\n      window.performance.markOrig(name, options)\n    }\n  }\n}\n","/* eslint-disable import/order */\nimport './importsWorkaround'\nimport './styles.css'\nimport './testCrasher'\nimport './globals'\nimport './devtools'\nimport './entities'\nimport customChannels from './customChannels'\nimport './globalDomListeners'\nimport './mineflayer/maps'\nimport './mineflayer/cameraShake'\nimport './shims/patchShims'\nimport './mineflayer/java-tester/index'\nimport './external'\nimport './appConfig'\nimport './mineflayer/timers'\nimport './mineflayer/plugins'\nimport { getServerInfo } from './mineflayer/mc-protocol'\nimport { onGameLoad } from './inventoryWindows'\nimport initCollisionShapes from './getCollisionInteractionShapes'\nimport protocolMicrosoftAuth from 'minecraft-protocol/src/client/microsoftAuth'\nimport microsoftAuthflow from './microsoftAuthflow'\nimport { Duplex } from 'stream'\n\nimport './scaleInterface'\n\nimport { options } from './optionsStorage'\nimport './reactUi'\nimport { lockUrl, onBotCreate } from './controls'\nimport './dragndrop'\nimport { possiblyCleanHandle } from './browserfs'\nimport downloadAndOpenFile, { isInterestedInDownload } from './downloadAndOpenFile'\n\nimport fs from 'fs'\nimport net, { Socket } from 'net'\nimport mineflayer from 'mineflayer'\n\nimport debug from 'debug'\nimport { defaultsDeep } from 'lodash-es'\nimport initializePacketsReplay from './packetsReplay/packetsReplayLegacy'\n\nimport {\n  activeModalStack,\n  activeModalStacks,\n  hideModal,\n  insertActiveModalStack,\n  isGameActive,\n  miscUiState,\n  showModal,\n  gameAdditionalState,\n} from './globalState'\n\nimport { parseServerAddress } from './parseServerAddress'\nimport { setLoadingScreenStatus } from './appStatus'\nimport { isCypress } from './standaloneUtils'\n\nimport { startLocalServer, unsupportedLocalServerFeatures } from './createLocalServer'\nimport defaultServerOptions from './defaultLocalServerOptions'\nimport dayCycle from './dayCycle'\n\nimport { onAppLoad, resourcepackReload, resourcePackState } from './resourcePack'\nimport { ConnectPeerOptions, connectToPeer } from './localServerMultiplayer'\nimport CustomChannelClient from './customClient'\nimport { registerServiceWorker } from './serviceWorker'\nimport { appStatusState, lastConnectOptions, quickDevReconnect } from './react/AppStatusProvider'\n\nimport { fsState } from './loadSave'\nimport { watchFov } from './rendererUtils'\nimport { loadInMemorySave } from './react/SingleplayerProvider'\n\nimport { possiblyHandleStateVariable } from './googledrive'\nimport flyingSquidEvents from './flyingSquidEvents'\nimport { showNotification } from './react/NotificationProvider'\nimport { saveToBrowserMemory } from './react/PauseScreen'\nimport './devReload'\nimport './water'\nimport { ConnectOptions, getVersionAutoSelect, downloadOtherGameData, downloadAllMinecraftData, loadMinecraftData } from './connect'\nimport { ref, subscribe } from 'valtio'\nimport { signInMessageState } from './react/SignInMessageProvider'\nimport { findServerPassword, updateAuthenticatedAccountData, updateLoadedServerData, updateServerConnectionHistory } from './react/serversStorage'\nimport { mainMenuState } from './react/MainMenuRenderApp'\nimport './mobileShim'\nimport { parseFormattedMessagePacket } from './botUtils'\nimport { appStartup } from './clientMods'\nimport { getViewerVersionData, getWsProtocolStream, onBotCreatedViewerHandler } from './viewerConnector'\nimport { getWebsocketStream } from './mineflayer/websocket-core'\nimport { appQueryParams, appQueryParamsArray } from './appParams'\nimport { playerState } from './mineflayer/playerState'\nimport { states } from 'minecraft-protocol'\nimport { initMotionTracking } from './react/uiMotion'\nimport { UserError } from './mineflayer/userError'\nimport { startLocalReplayServer } from './packetsReplay/replayPackets'\nimport { createFullScreenProgressReporter, createWrappedProgressReporter, ProgressReporter } from './core/progressReporter'\nimport { appViewer } from './appViewer'\nimport './appViewerLoad'\nimport { registerOpenBenchmarkListener } from './benchmark'\nimport { tryHandleBuiltinCommand } from './builtinCommands'\nimport { loadingTimerState } from './react/LoadingTimer'\nimport { loadPluginsIntoWorld } from './react/CreateWorldProvider'\nimport { getCurrentProxy, getCurrentUsername } from './react/ServersList'\n\nwindow.debug = debug\nwindow.beforeRenderFrame = []\n\n// ACTUAL CODE\n\nvoid registerServiceWorker().then(() => {\n  mainMenuState.serviceWorkerLoaded = true\n})\nwatchFov()\ninitCollisionShapes()\ninitializePacketsReplay()\nonAppLoad()\ncustomChannels()\n\nif (appQueryParams.testCrashApp === '2') throw new Error('test')\n\nfunction hideCurrentScreens () {\n  activeModalStacks['main-menu'] = [...activeModalStack]\n  insertActiveModalStack('', [])\n}\n\nconst loadSingleplayer = (serverOverrides = {}, flattenedServerOverrides = {}, connectOptions?: Partial<ConnectOptions>) => {\n  const serverSettingsQsRaw = appQueryParamsArray.serverSetting ?? []\n  const serverSettingsQs = serverSettingsQsRaw.map(x => x.split(':')).reduce<Record<string, string>>((acc, [key, value]) => {\n    acc[key] = JSON.parse(value)\n    return acc\n  }, {})\n  void connect({\n    singleplayer: true,\n    username: options.localUsername,\n    serverOverrides,\n    serverOverridesFlat: {\n      ...flattenedServerOverrides,\n      ...serverSettingsQs\n    },\n    ...connectOptions\n  })\n}\nfunction listenGlobalEvents () {\n  window.addEventListener('connect', e => {\n    const options = (e as CustomEvent).detail\n    void connect(options)\n  })\n  window.addEventListener('singleplayer', (e) => {\n    const { detail } = (e as CustomEvent)\n    const { connectOptions, ...rest } = detail\n    loadSingleplayer(rest, {}, connectOptions)\n  })\n}\n\nexport async function connect (connectOptions: ConnectOptions) {\n  if (miscUiState.gameLoaded) return\n\n  if (sessionStorage.delayLoadUntilFocus) {\n    await new Promise(resolve => {\n      if (document.hasFocus()) {\n        resolve(undefined)\n      } else {\n        window.addEventListener('focus', resolve)\n      }\n    })\n  }\n  if (sessionStorage.delayLoadUntilClick) {\n    await new Promise(resolve => {\n      window.addEventListener('click', resolve)\n    })\n  }\n\n  appStatusState.showReconnect = false\n  loadingTimerState.loading = true\n  loadingTimerState.start = Date.now()\n  miscUiState.hasErrors = false\n  lastConnectOptions.value = connectOptions\n\n  const { singleplayer } = connectOptions\n  const p2pMultiplayer = !!connectOptions.peerId\n  miscUiState.singleplayer = singleplayer\n  miscUiState.flyingSquid = singleplayer || p2pMultiplayer\n\n  // Track server connection in history\n  if (!singleplayer && !p2pMultiplayer && connectOptions.server && connectOptions.saveServerToHistory !== false) {\n    const parsedServer = parseServerAddress(connectOptions.server)\n    updateServerConnectionHistory(parsedServer.host, connectOptions.botVersion)\n  }\n\n  const { renderDistance: renderDistanceSingleplayer, multiplayerRenderDistance } = options\n\n  const parsedServer = parseServerAddress(connectOptions.server)\n  const server = { host: parsedServer.host, port: parsedServer.port }\n  if (connectOptions.proxy?.startsWith(':')) {\n    connectOptions.proxy = `${location.protocol}//${location.hostname}${connectOptions.proxy}`\n  }\n  if (connectOptions.proxy && location.port !== '80' && location.port !== '443' && !/:\\d+$/.test(connectOptions.proxy)) {\n    const https = connectOptions.proxy.startsWith('https://') || location.protocol === 'https:'\n    connectOptions.proxy = `${connectOptions.proxy}:${https ? 443 : 80}`\n  }\n  const parsedProxy = parseServerAddress(connectOptions.proxy, false)\n  const proxy = { host: parsedProxy.host, port: parsedProxy.port }\n  let { username } = connectOptions\n\n  if (connectOptions.server) {\n    console.log(`connecting to ${server.host}:${server.port ?? 25_565}`)\n  }\n  console.log('using player username', username)\n\n  hideCurrentScreens()\n  const progress = createFullScreenProgressReporter()\n  const loggingInMsg = connectOptions.server ? 'Connecting to server' : 'Logging in'\n  progress.beginStage('connect', loggingInMsg)\n\n  let ended = false\n  let bot!: typeof __type_bot\n  let hadConnected = false\n  const destroyAll = (wasKicked = false) => {\n    if (ended) return\n    loadingTimerState.loading = false\n    const { alwaysReconnect } = appQueryParams\n    if ((!wasKicked && miscUiState.appConfig?.allowAutoConnect && appQueryParams.autoConnect && hadConnected) || (alwaysReconnect)) {\n      if (alwaysReconnect === 'quick' || alwaysReconnect === 'fast') {\n        quickDevReconnect()\n      } else {\n        location.reload()\n      }\n    }\n    errorAbortController.abort()\n    ended = true\n    progress.end()\n    // dont reset viewer so we can still do debugging\n    localServer = window.localServer = window.server = undefined\n    gameAdditionalState.viewerConnection = false\n\n    if (bot) {\n      bot.end()\n      // ensure mineflayer plugins receive this event for cleanup\n      bot.emit('end', '')\n      bot.removeAllListeners()\n      bot._client.removeAllListeners()\n      bot._client = {\n        //@ts-expect-error\n        write (packetName) {\n          console.warn('Tried to write packet', packetName, 'after bot was destroyed')\n        }\n      }\n      //@ts-expect-error\n      window.bot = bot = undefined\n    }\n    cleanFs()\n  }\n  const cleanFs = () => {\n    if (singleplayer && !fsState.inMemorySave) {\n      possiblyCleanHandle(() => {\n        // todo: this is not enough, we need to wait for all async operations to finish\n      })\n    }\n  }\n  let lastPacket = undefined as string | undefined\n  const onPossibleErrorDisconnect = () => {\n    if (lastPacket && bot?._client && bot._client.state !== states.PLAY) {\n      appStatusState.descriptionHint = `Last Server Packet: ${lastPacket}`\n    }\n  }\n  const handleError = (err) => {\n    console.error(err)\n    if (err === 'ResizeObserver loop completed with undelivered notifications.') {\n      return\n    }\n    if (isCypress()) throw err\n    miscUiState.hasErrors = true\n    if (miscUiState.gameLoaded) return\n    // close all modals\n    for (const modal of activeModalStack) {\n      hideModal(modal)\n    }\n\n    setLoadingScreenStatus(`Error encountered. ${err}`, true)\n    appStatusState.showReconnect = true\n    onPossibleErrorDisconnect()\n    destroyAll()\n  }\n\n  // todo(hard): remove it!\n  const errorAbortController = new AbortController()\n  window.addEventListener('unhandledrejection', (e) => {\n    if (e.reason.name === 'ServerPluginLoadFailure') {\n      if (confirm(`Failed to load server plugin ${e.reason.pluginName} (invoking ${e.reason.pluginMethod}). Continue?`)) {\n        return\n      }\n    }\n    if (e.reason?.stack?.includes('chrome-extension://')) {\n      // ignore issues caused by chrome extension\n      return\n    }\n    handleError(e.reason)\n  }, {\n    signal: errorAbortController.signal\n  })\n  window.addEventListener('error', (e) => {\n    handleError(e.message)\n  }, {\n    signal: errorAbortController.signal\n  })\n\n  let clientDataStream: Duplex | undefined\n\n  if (connectOptions.server && !connectOptions.viewerWsConnect && !parsedServer.isWebSocket) {\n    console.log(`using proxy ${proxy.host}:${proxy.port || location.port}`)\n    net['setProxy']({ hostname: proxy.host, port: proxy.port, headers: { Authorization: `Bearer ${new URLSearchParams(location.search).get('token') ?? ''}` } })\n  }\n\n  const renderDistance = singleplayer ? renderDistanceSingleplayer : multiplayerRenderDistance\n  let updateDataAfterJoin = () => { }\n  let localServer\n  let localReplaySession: ReturnType<typeof startLocalReplayServer> | undefined\n  let lastKnownKickReason = undefined as string | undefined\n  try {\n    const serverOptions = defaultsDeep({}, connectOptions.serverOverrides ?? {}, options.localServerOptions, defaultServerOptions)\n    Object.assign(serverOptions, connectOptions.serverOverridesFlat ?? {})\n\n    await progress.executeWithMessage('Downloading Minecraft data', 'download-mcdata', async () => {\n      loadingTimerState.networkOnlyStart = Date.now()\n\n      let downloadingAssets = [] as string[]\n      const reportAssetDownload = (asset: string, isDone: boolean) => {\n        if (isDone) {\n          downloadingAssets = downloadingAssets.filter(a => a !== asset)\n        } else {\n          downloadingAssets.push(asset)\n        }\n        progress.setSubStage('download-mcdata', `(${downloadingAssets.join(', ')})`)\n      }\n\n      await Promise.all([\n        downloadAllMinecraftData(reportAssetDownload),\n        downloadOtherGameData(reportAssetDownload)\n      ])\n      loadingTimerState.networkOnlyStart = 0\n    })\n\n    let dataDownloaded = false\n    const downloadMcData = async (version: string) => {\n      if (dataDownloaded) return\n      dataDownloaded = true\n      appViewer.resourcesManager.currentConfig = { version, texturesVersion: options.useVersionsTextures || undefined }\n\n      await progress.executeWithMessage(\n        'Processing downloaded Minecraft data',\n        async () => {\n          await loadMinecraftData(version)\n          await appViewer.resourcesManager.loadSourceData(version)\n        }\n      )\n\n      await progress.executeWithMessage(\n        'Applying user-installed resource pack',\n        async () => {\n          try {\n            await resourcepackReload(true)\n          } catch (err) {\n            console.error(err)\n            const doContinue = confirm('Failed to apply texture pack. See errors in the console. Continue?')\n            if (!doContinue) {\n              throw err\n            }\n          }\n        }\n      )\n\n      await progress.executeWithMessage(\n        'Preparing textures',\n        async () => {\n          await appViewer.resourcesManager.updateAssetsData({})\n        }\n      )\n    }\n\n    let finalVersion = connectOptions.botVersion || (singleplayer ? serverOptions.version : undefined)\n\n    if (connectOptions.worldStateFileContents) {\n      try {\n        localReplaySession = startLocalReplayServer(connectOptions.worldStateFileContents)\n      } catch (err) {\n        console.error(err)\n        throw new UserError(`Failed to start local replay server: ${err}`)\n      }\n      finalVersion = localReplaySession.version\n    }\n\n    if (singleplayer) {\n      // SINGLEPLAYER EXPLAINER:\n      // Note 1: here we have custom sync communication between server Client (flying-squid) and game client (mineflayer)\n      // Note 2: custom Server class is used which simplifies communication & Client creation on it's side\n      // local server started\n      // mineflayer.createBot (see source def)\n      // bot._client = bot._client ?? mc.createClient(options) <-- mc-protocol package\n      // tcpDns() skipped since we define connect option\n      // in setProtocol: we emit 'connect' here below so in that file we send set_protocol and login_start (onLogin handler)\n      // Client (class) of flying-squid (in server/login.js of mc-protocol): onLogin handler: skip most logic & go to loginClient() which assigns uuid and sends 'success' back to client (onLogin handler) and emits 'login' on the server (login.js in flying-squid handler)\n      // flying-squid: 'login' -> player.login -> now sends 'login' event to the client (handled in many plugins in mineflayer) -> then 'update_health' is sent which emits 'spawn' in mineflayer\n\n      const serverPlugins = new URLSearchParams(location.search).getAll('serverPlugin')\n      if (serverPlugins.length > 0 && !serverOptions.worldFolder) {\n        console.log('Placing server plugins', serverPlugins)\n\n        serverOptions.worldFolder ??= '/temp'\n        await loadPluginsIntoWorld('/temp', serverPlugins)\n\n        console.log('Server plugins placed')\n      }\n\n      localServer = window.localServer = window.server = startLocalServer(serverOptions)\n      connectOptions?.connectEvents?.serverCreated?.()\n      // todo need just to call quit if started\n      // loadingScreen.maybeRecoverable = false\n      // init world, todo: do it for any async plugins\n      if (!localServer.pluginsReady) {\n        await progress.executeWithMessage(\n          'Starting local server',\n          async () => {\n            await new Promise(resolve => {\n              localServer.once('pluginsReady', resolve)\n            })\n          }\n        )\n      }\n\n      localServer.on('newPlayer', (player) => {\n        player.on('loadingStatus', (newStatus) => {\n          progress.setMessage(newStatus)\n        })\n      })\n      flyingSquidEvents()\n    }\n\n    if (connectOptions.authenticatedAccount) username = 'you'\n    let initialLoadingText: string\n    if (singleplayer) {\n      initialLoadingText = 'Local server is still starting'\n    } else if (p2pMultiplayer) {\n      initialLoadingText = 'Connecting to peer'\n    } else if (connectOptions.server) {\n      if (!finalVersion) {\n        const versionAutoSelect = getVersionAutoSelect()\n        const wrapped = createWrappedProgressReporter(progress, `Fetching server version. Preffered: ${versionAutoSelect}`)\n        loadingTimerState.networkOnlyStart = Date.now()\n        const autoVersionSelect = await getServerInfo(server.host, server.port ? Number(server.port) : undefined, versionAutoSelect)\n        wrapped.end()\n        finalVersion = autoVersionSelect.version\n      }\n      initialLoadingText = `Connecting to server ${server.host}:${server.port ?? 25_565} with version ${finalVersion}`\n    } else if (connectOptions.viewerWsConnect) {\n      initialLoadingText = `Connecting to Mineflayer WebSocket server ${connectOptions.viewerWsConnect}`\n    } else if (connectOptions.worldStateFileContents) {\n      initialLoadingText = `Loading local replay server`\n    } else {\n      initialLoadingText = 'We have no idea what to do'\n    }\n    progress.setMessage(initialLoadingText)\n\n    if (parsedServer.isWebSocket) {\n      loadingTimerState.networkOnlyStart = Date.now()\n      clientDataStream = (await getWebsocketStream(server.host)).mineflayerStream\n    }\n\n    let newTokensCacheResult = null as any\n    const cachedTokens = typeof connectOptions.authenticatedAccount === 'object' ? connectOptions.authenticatedAccount.cachedTokens : {}\n    let authData: Awaited<ReturnType<typeof microsoftAuthflow>> | undefined\n    if (connectOptions.authenticatedAccount) {\n      authData = await microsoftAuthflow({\n        tokenCaches: cachedTokens,\n        proxyBaseUrl: connectOptions.proxy,\n        setProgressText (text) {\n          progress.setMessage(text)\n        },\n        setCacheResult (result) {\n          newTokensCacheResult = result\n        },\n        connectingServer: server.host\n      })\n    }\n\n    if (p2pMultiplayer) {\n      clientDataStream = await connectToPeer(connectOptions.peerId!, connectOptions.peerOptions)\n    }\n    if (connectOptions.viewerWsConnect) {\n      const { version, time, requiresPass } = await getViewerVersionData(connectOptions.viewerWsConnect)\n      let password\n      if (requiresPass) {\n        password = prompt('Enter password')\n        if (!password) {\n          throw new UserError('Password is required')\n        }\n      }\n      console.log('Latency:', Date.now() - time, 'ms')\n      // const version = '1.21.1'\n      finalVersion = version\n      await downloadMcData(version)\n      setLoadingScreenStatus(`Connecting to WebSocket server ${connectOptions.viewerWsConnect}`)\n      clientDataStream = (await getWsProtocolStream(connectOptions.viewerWsConnect)).clientDuplex\n      if (password) {\n        clientDataStream.write(password)\n      }\n      gameAdditionalState.viewerConnection = true\n    }\n\n    if (finalVersion) {\n      // ensure data is downloaded\n      loadingTimerState.networkOnlyStart ??= Date.now()\n      await downloadMcData(finalVersion)\n    }\n\n    const brand = clientDataStream ? 'minecraft-web-client' : undefined\n    bot = mineflayer.createBot({\n      host: server.host,\n      port: server.port ? +server.port : undefined,\n      brand,\n      version: finalVersion || false,\n      ...clientDataStream ? {\n        stream: clientDataStream as any,\n      } : {},\n      ...singleplayer || p2pMultiplayer || localReplaySession ? {\n        keepAlive: false,\n      } : {},\n      ...singleplayer ? {\n        version: serverOptions.version,\n        connect () { },\n        Client: CustomChannelClient as any,\n      } : {},\n      ...localReplaySession ? {\n        connect () { },\n        Client: CustomChannelClient as any,\n      } : {},\n      onMsaCode (data) {\n        signInMessageState.code = data.user_code\n        signInMessageState.link = data.verification_uri\n        signInMessageState.expiresOn = Date.now() + data.expires_in * 1000\n      },\n      sessionServer: authData?.sessionEndpoint?.toString(),\n      auth: connectOptions.authenticatedAccount ? async (client, options) => {\n        authData!.setOnMsaCodeCallback(options.onMsaCode)\n        authData?.setConnectingVersion(client.version)\n        //@ts-expect-error\n        client.authflow = authData!.authFlow\n        try {\n          signInMessageState.abortController = ref(new AbortController())\n          await Promise.race([\n            protocolMicrosoftAuth.authenticate(client, options),\n            new Promise((_r, reject) => {\n              signInMessageState.abortController.signal.addEventListener('abort', () => {\n                reject(new UserError('Aborted by user'))\n              })\n            })\n          ])\n          if (signInMessageState.shouldSaveToken) {\n            updateAuthenticatedAccountData(accounts => {\n              const existingAccount = accounts.find(a => a.username === client.username)\n              if (existingAccount) {\n                existingAccount.cachedTokens = { ...existingAccount.cachedTokens, ...newTokensCacheResult }\n              } else {\n                accounts.push({\n                  username: client.username,\n                  cachedTokens: { ...cachedTokens, ...newTokensCacheResult }\n                })\n              }\n              return accounts\n            })\n            updateDataAfterJoin = () => {\n              updateLoadedServerData(s => ({ ...s, authenticatedAccountOverride: client.username }), connectOptions.serverIndex)\n            }\n          } else {\n            updateDataAfterJoin = () => {\n              updateLoadedServerData(s => ({ ...s, authenticatedAccountOverride: undefined }), connectOptions.serverIndex)\n            }\n          }\n          setLoadingScreenStatus('Authentication successful. Logging in to server')\n        } finally {\n          signInMessageState.code = ''\n        }\n      } : undefined,\n      username,\n      viewDistance: renderDistance,\n      checkTimeoutInterval: 240 * 1000,\n      // noPongTimeout: 240 * 1000,\n      closeTimeout: 240 * 1000,\n      respawn: options.autoRespawn,\n      maxCatchupTicks: 0,\n      'mapDownloader-saveToFile': false,\n      // \"mapDownloader-saveInternal\": false, // do not save into memory, todo must be implemeneted as we do really care of ram\n    }) as unknown as typeof __type_bot\n    window.bot = bot\n\n    if (connectOptions.viewerWsConnect) {\n      void onBotCreatedViewerHandler()\n    }\n    customEvents.emit('mineflayerBotCreated')\n    if (singleplayer || p2pMultiplayer || localReplaySession) {\n      if (singleplayer || p2pMultiplayer) {\n        // in case of p2pMultiplayer there is still flying-squid on the host side\n        const _supportFeature = bot.supportFeature\n        bot.supportFeature = ((feature) => {\n          if (unsupportedLocalServerFeatures.includes(feature)) {\n            return false\n          }\n          return _supportFeature(feature)\n        }) as typeof bot.supportFeature\n      }\n\n      bot.emit('inject_allowed')\n      bot._client.emit('connect')\n    } else if (clientDataStream) {\n      // bot.emit('inject_allowed')\n      bot._client.emit('connect')\n    } else {\n      const setupConnectHandlers = () => {\n        Socket.prototype['handleStringMessage'] = function (message: string) {\n          if (message.startsWith('proxy-message') || message.startsWith('proxy-command:')) { // for future\n            return false\n          }\n          if (message.startsWith('proxy-shutdown:')) {\n            lastKnownKickReason = message.slice('proxy-shutdown:'.length)\n            return false\n          }\n          return true\n        }\n        bot._client.socket.on('connect', () => {\n          console.log('Proxy WebSocket connection established')\n          //@ts-expect-error\n          bot._client.socket._ws.addEventListener('close', () => {\n            console.log('WebSocket connection closed')\n            setTimeout(() => {\n              if (bot) {\n                bot.emit('end', 'WebSocket connection closed with unknown reason')\n              }\n            }, 1000)\n          })\n          bot._client.socket.on('close', () => {\n            setTimeout(() => {\n              if (bot) {\n                bot.emit('end', 'WebSocket connection closed with unknown reason')\n              }\n            })\n          })\n        })\n      }\n      // socket setup actually can be delayed because of dns lookup\n      if (bot._client.socket) {\n        setupConnectHandlers()\n      } else {\n        const originalSetSocket = bot._client.setSocket.bind(bot._client)\n        bot._client.setSocket = (socket) => {\n          if (!bot) return\n          originalSetSocket(socket)\n          setupConnectHandlers()\n        }\n      }\n\n    }\n  } catch (err) {\n    handleError(err)\n  }\n  if (!bot) return\n\n  const p2pConnectTimeout = p2pMultiplayer ? setTimeout(() => { throw new UserError('Spawn timeout. There might be error on the other side, check console.') }, 20_000) : undefined\n\n  // bot.on('inject_allowed', () => {\n  //   loadingScreen.maybeRecoverable = false\n  // })\n\n  bot.on('error', handleError)\n\n  bot.on('kicked', (kickReason) => {\n    console.log('You were kicked!', kickReason)\n    const { formatted: kickReasonFormatted, plain: kickReasonString } = parseFormattedMessagePacket(kickReason)\n    // close all modals\n    for (const modal of activeModalStack) {\n      hideModal(modal)\n    }\n    setLoadingScreenStatus(`The Minecraft server kicked you. Kick reason: ${kickReasonString}`, true, undefined, undefined, kickReasonFormatted)\n    appStatusState.showReconnect = true\n    destroyAll(true)\n  })\n\n  const packetBeforePlay = (_, __, ___, fullBuffer) => {\n    lastPacket = fullBuffer.toString()\n  }\n  bot._client.on('packet', packetBeforePlay as any)\n  const playStateSwitch = (newState) => {\n    if (newState === 'play') {\n      bot._client.removeListener('packet', packetBeforePlay)\n    }\n  }\n  bot._client.on('state', playStateSwitch)\n\n  bot.on('end', (endReason) => {\n    if (ended) return\n    console.log('disconnected for', endReason)\n    if (endReason === 'socketClosed') {\n      endReason = lastKnownKickReason ?? 'Connection with proxy server lost'\n    }\n    // close all modals\n    for (const modal of activeModalStack) {\n      hideModal(modal)\n    }\n    setLoadingScreenStatus(`You have been disconnected from the server. End reason:\\n${endReason}`, true)\n    appStatusState.showReconnect = true\n    onPossibleErrorDisconnect()\n    destroyAll()\n    if (isCypress()) throw new Error(`disconnected: ${endReason}`)\n  })\n\n  onBotCreate()\n\n  bot.once('login', () => {\n    errorAbortController.abort()\n    loadingTimerState.networkOnlyStart = 0\n    progress.setMessage('Loading world')\n  })\n\n  let worldWasReady = false\n  const waitForChunksToLoad = async (progress?: ProgressReporter) => {\n    await new Promise<void>(resolve => {\n      if (worldWasReady) {\n        resolve()\n        return\n      }\n      const unsub = subscribe(appViewer.rendererState, () => {\n        if (appViewer.rendererState.world.allChunksLoaded && appViewer.nonReactiveState.world.chunksTotalNumber) {\n          worldWasReady = true\n          resolve()\n          unsub()\n        } else {\n          const perc = Math.round(appViewer.rendererState.world.chunksLoaded.size / appViewer.nonReactiveState.world.chunksTotalNumber * 100)\n          progress?.reportProgress('chunks', perc / 100)\n        }\n      })\n    })\n  }\n\n  const spawnEarlier = !singleplayer && !p2pMultiplayer\n  const displayWorld = async () => {\n    if (resourcePackState.isServerInstalling) {\n      await new Promise<void>(resolve => {\n        subscribe(resourcePackState, () => {\n          if (!resourcePackState.isServerInstalling) {\n            resolve()\n          }\n        })\n      })\n      await appViewer.resourcesManager.promiseAssetsReady\n    }\n    if (appStatusState.isError) return\n\n    if (!appViewer.resourcesManager.currentResources?.itemsRenderer) {\n      await appViewer.resourcesManager.updateAssetsData({})\n    }\n\n    const loadWorldStart = Date.now()\n    console.log('try to focus window')\n    window.focus?.()\n    void waitForChunksToLoad().then(() => {\n      window.worldLoadTime = (Date.now() - loadWorldStart) / 1000\n      console.log('All chunks done and ready! Time from renderer connect to ready', (Date.now() - loadWorldStart) / 1000, 's')\n      document.dispatchEvent(new Event('cypress-world-ready'))\n    })\n\n    try {\n      if (p2pConnectTimeout) clearTimeout(p2pConnectTimeout)\n      playerState.reactive.onlineMode = !!connectOptions.authenticatedAccount\n\n      progress.setMessage('Placing blocks (starting viewer)')\n      if (!connectOptions.worldStateFileContents || connectOptions.worldStateFileContents.length < 3 * 1024 * 1024) {\n        localStorage.lastConnectOptions = JSON.stringify(connectOptions)\n        if (process.env.NODE_ENV === 'development' && !localStorage.lockUrl && !location.search.slice(1).length) {\n          lockUrl()\n        }\n      } else {\n        localStorage.removeItem('lastConnectOptions')\n      }\n      connectOptions.onSuccessfulPlay?.()\n      updateDataAfterJoin()\n      const password = findServerPassword()\n      if (password) {\n        setTimeout(() => {\n          bot.chat(`/login ${password}`)\n        }, 500)\n      }\n\n\n      console.log('bot spawned - starting viewer')\n      await appViewer.startWorld(bot.world, renderDistance)\n      appViewer.worldView!.listenToBot(bot)\n      if (appViewer.backend) {\n        void appViewer.worldView!.init(bot.entity.position)\n      }\n\n      initMotionTracking()\n      dayCycle()\n\n      // Bot position callback\n      const botPosition = () => {\n        appViewer.lastCamUpdate = Date.now()\n        // this might cause lag, but not sure\n        appViewer.backend?.updateCamera(bot.entity.position, bot.entity.yaw, bot.entity.pitch)\n        void appViewer.worldView?.updatePosition(bot.entity.position)\n      }\n      bot.on('move', botPosition)\n      botPosition()\n\n      progress.setMessage('Setting callbacks')\n\n      onGameLoad()\n\n      if (appStatusState.isError) return\n\n      const waitForChunks = async () => {\n        if (appQueryParams.sp === '1') return //todo\n        const waitForChunks = options.waitForChunksRender === 'sp-only' ? !!singleplayer : options.waitForChunksRender\n        if (!appViewer.backend || appViewer.rendererState.world.allChunksLoaded || !waitForChunks) {\n          return\n        }\n\n        await progress.executeWithMessage(\n          'Loading chunks',\n          'chunks',\n          async () => {\n            await waitForChunksToLoad(progress)\n          }\n        )\n      }\n\n      await waitForChunks()\n\n      setTimeout(() => {\n        if (appQueryParams.suggest_save) {\n          showNotification('Suggestion', 'Save the world to keep your progress!', false, undefined, async () => {\n            const savePath = await saveToBrowserMemory()\n            if (!savePath) return\n            const saveName = savePath.split('/').pop()\n            bot.end()\n            // todo hot reload\n            location.search = `loadSave=${saveName}`\n          })\n        }\n      }, 600)\n\n      miscUiState.gameLoaded = true\n      miscUiState.loadedServerIndex = connectOptions.serverIndex ?? ''\n      customEvents.emit('gameLoaded')\n\n      // Test iOS Safari crash by creating memory pressure\n      if (appQueryParams.testIosCrash) {\n        setTimeout(() => {\n          console.log('Starting iOS crash test with memory pressure...')\n          // eslint-disable-next-line sonarjs/no-unused-collection\n          const arrays: number[][] = []\n          try {\n            // Create large arrays until we run out of memory\n            // eslint-disable-next-line no-constant-condition\n            while (true) {\n              const arr = Array.from({ length: 1024 * 1024 }).fill(0).map((_, i) => i)\n              arrays.push(arr)\n            }\n          } catch (e) {\n            console.error('Memory allocation failed:', e)\n          }\n        }, 1000)\n      }\n\n      progress.end()\n      setLoadingScreenStatus(undefined)\n    } catch (err) {\n      handleError(err)\n    }\n    hadConnected = true\n  }\n  // don't use spawn event, player can be dead\n  bot.once(spawnEarlier ? 'forcedMove' : 'health', displayWorld)\n\n  if (singleplayer && connectOptions.serverOverrides.worldFolder) {\n    fsState.saveLoaded = true\n  }\n\n  if (!connectOptions.ignoreQs || process.env.NODE_ENV === 'development') {\n    // todo cleanup\n    customEvents.on('gameLoaded', () => {\n      const commands = appQueryParamsArray.command ?? []\n      for (let command of commands) {\n        if (!command.startsWith('/')) command = `/${command}`\n        const builtinHandled = tryHandleBuiltinCommand(command)\n        if (!builtinHandled) {\n          bot.chat(command)\n        }\n      }\n    })\n  }\n}\n\nlistenGlobalEvents()\n\n// #region fire click event on touch as we disable default behaviors\nlet activeTouch: { touch: Touch, elem: HTMLElement, start: number } | undefined\ndocument.body.addEventListener('touchend', (e) => {\n  if (!isGameActive(true)) return\n  if (activeTouch?.touch.identifier !== e.changedTouches[0].identifier) return\n  if (Date.now() - activeTouch.start > 500) {\n    activeTouch.elem.dispatchEvent(new Event('longtouch', { bubbles: true }))\n  } else {\n    activeTouch.elem.click()\n  }\n  activeTouch = undefined\n})\ndocument.body.addEventListener('touchstart', (e) => {\n  const targetElement = (e.target as HTMLElement).closest('#ui-root')\n  if (!isGameActive(true) || !targetElement) return\n  // we always prevent default behavior to disable magnifier on ios, but by doing so we also disable click events\n  e.preventDefault()\n  let firstClickable // todo remove composedPath and this workaround when lit-element is fully dropped\n  const path = e.composedPath() as Array<{ click?: () => void }>\n  for (const elem of path) {\n    if (elem.click) {\n      firstClickable = elem\n      break\n    }\n  }\n  if (!firstClickable) return\n  activeTouch = {\n    touch: e.touches[0],\n    elem: firstClickable,\n    start: Date.now(),\n  }\n}, { passive: false })\n// #endregion\n\n// immediate game enter actions: reconnect or URL QS\nconst maybeEnterGame = () => {\n  const waitForConfigFsLoad = (fn: () => void) => {\n    let unsubscribe: () => void | undefined\n    const checkDone = () => {\n      if (miscUiState.fsReady && miscUiState.appConfig) {\n        fn()\n        unsubscribe?.()\n        return true\n      }\n      return false\n    }\n\n    if (!checkDone()) {\n      const text = miscUiState.appConfig ? 'Loading' : 'Loading config'\n      setLoadingScreenStatus(text)\n      unsubscribe = subscribe(miscUiState, checkDone)\n    }\n  }\n\n  const reconnectOptions = sessionStorage.getItem('reconnectOptions') ? JSON.parse(sessionStorage.getItem('reconnectOptions')!) : undefined\n\n  if (reconnectOptions) {\n    sessionStorage.removeItem('reconnectOptions')\n    if (Date.now() - reconnectOptions.timestamp < 1000 * 60 * 2) {\n      return waitForConfigFsLoad(async () => {\n        void connect(reconnectOptions.value)\n      })\n    }\n  }\n\n  if (appQueryParams.reconnect && localStorage.lastConnectOptions && process.env.NODE_ENV === 'development') {\n    const lastConnect = JSON.parse(localStorage.lastConnectOptions ?? {})\n    return waitForConfigFsLoad(async () => {\n      void connect({\n        botVersion: appQueryParams.version ?? undefined,\n        ...lastConnect,\n        ip: appQueryParams.ip || undefined\n      })\n    })\n  }\n\n  if (appQueryParams.singleplayer === '1' || appQueryParams.sp === '1') {\n    return waitForConfigFsLoad(async () => {\n      loadSingleplayer({}, {\n        worldFolder: undefined,\n        ...appQueryParams.version ? { version: appQueryParams.version } : {}\n      })\n    })\n  }\n  if (appQueryParams.loadSave) {\n    const enterSave = async () => {\n      const savePath = `/data/worlds/${appQueryParams.loadSave}`\n      try {\n        await fs.promises.stat(savePath)\n        await loadInMemorySave(savePath)\n      } catch (err) {\n        alert(`Save ${savePath} not found`)\n      }\n    }\n    return waitForConfigFsLoad(enterSave)\n  }\n\n  if (appQueryParams.ip || appQueryParams.proxy) {\n    const openServerAction = () => {\n      if (appQueryParams.autoConnect && miscUiState.appConfig?.allowAutoConnect) {\n        void connect({\n          server: appQueryParams.ip,\n          proxy: getCurrentProxy(),\n          botVersion: appQueryParams.version ?? undefined,\n          username: getCurrentUsername()!,\n        })\n        return\n      }\n\n      setLoadingScreenStatus(undefined)\n      if (appQueryParams.onlyConnect || process.env.ALWAYS_MINIMAL_SERVER_UI === 'true') {\n        showModal({ reactType: 'only-connect-server' })\n      } else {\n        showModal({ reactType: 'editServer' })\n      }\n    }\n\n    // showModal({ reactType: 'empty' })\n    return waitForConfigFsLoad(openServerAction)\n  }\n\n  if (appQueryParams.connectPeer) {\n    // try to connect to peer\n    const peerId = appQueryParams.connectPeer\n    const peerOptions = {} as ConnectPeerOptions\n    if (appQueryParams.server) {\n      peerOptions.server = appQueryParams.server\n    }\n    const version = appQueryParams.peerVersion\n    let username: string | null = options.guestUsername\n    if (options.askGuestName) username = prompt('Enter your username to connect to peer', username)\n    if (!username) return\n    options.guestUsername = username\n    void connect({\n      username,\n      botVersion: version || undefined,\n      peerId,\n      peerOptions\n    })\n    return\n\n  }\n\n  if (appQueryParams.viewerConnect) {\n    void connect({\n      username: `viewer-${Math.random().toString(36).slice(2, 10)}`,\n      viewerWsConnect: appQueryParams.viewerConnect,\n    })\n    return\n  }\n\n  if (appQueryParams.modal) {\n    const modals = appQueryParams.modal.split(',')\n    for (const modal of modals) {\n      showModal({ reactType: modal })\n    }\n    return\n  }\n\n  if (appQueryParams.serversList && !miscUiState.appConfig?.appParams?.serversList) {\n    // open UI only if it's in URL\n    showModal({ reactType: 'serversList' })\n  }\n\n  if (isInterestedInDownload()) {\n    void downloadAndOpenFile()\n  }\n\n  void possiblyHandleStateVariable()\n}\n\ntry {\n  maybeEnterGame()\n} catch (err) {\n  console.error(err)\n  alert(`Something went wrong: ${err}`)\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\nconst initialLoader = document.querySelector('.initial-loader') as HTMLElement | null\nif (initialLoader) {\n  initialLoader.style.opacity = '0'\n  initialLoader.style.pointerEvents = 'none'\n}\nwindow.pageLoaded = true\n\nappViewer.waitBackendLoadPromises.push(appStartup())\nregisterOpenBenchmarkListener()\n","import { appQueryParams } from './appParams'\n\nif (appQueryParams.testCrashApp === '1') {\n  throw new Error('test error')\n}\n","import EventEmitter from 'events'\n\nwindow.reportError = window.reportError ?? console.error\nwindow.bot = undefined\nwindow.THREE = undefined\nwindow.localServer = undefined\nwindow.worldView = undefined\nwindow.viewer = undefined // legacy\nwindow.appViewer = undefined\nwindow.loadedData = undefined\nwindow.customEvents = new EventEmitter()\nwindow.customEvents.setMaxListeners(10_000)\nwindow.translate = (key) => {\n  if (typeof key !== 'string') return key\n  return window.translateText?.(key) ?? key\n}\n","import type { ChatMessage } from 'prismarine-chat'\nimport { createCanvas } from '../lib/utils'\n\ntype SignBlockEntity = {\n  Color?: string\n  GlowingText?: 0 | 1\n  Text1?: string\n  Text2?: string\n  Text3?: string\n  Text4?: string\n} | {\n  // todo\n  is_waxed?: 0 | 1\n  front_text: {\n    color: string\n    messages: string[]\n    // todo\n    has_glowing_text?: 0 | 1\n  }\n  // todo\n  // back_text: {}\n}\n\ntype JsonEncodedType = string | null | Record<string, any>\n\nconst parseSafe = (text: string, task: string) => {\n  try {\n    return JSON.parse(text)\n  } catch (e) {\n    console.warn(`Failed to parse ${task}`, e)\n    return null\n  }\n}\n\nconst LEGACY_COLORS = {\n  black: '#000000',\n  dark_blue: '#0000AA',\n  dark_green: '#00AA00',\n  dark_aqua: '#00AAAA',\n  dark_red: '#AA0000',\n  dark_purple: '#AA00AA',\n  gold: '#FFAA00',\n  gray: '#AAAAAA',\n  dark_gray: '#555555',\n  blue: '#5555FF',\n  green: '#55FF55',\n  aqua: '#55FFFF',\n  red: '#FF5555',\n  light_purple: '#FF55FF',\n  yellow: '#FFFF55',\n  white: '#FFFFFF',\n}\n\nexport const renderSign = (\n  blockEntity: SignBlockEntity,\n  isHanging: boolean,\n  PrismarineChat: typeof ChatMessage,\n  ctxHook = (ctx) => { },\n  canvasCreator = (width, height): OffscreenCanvas => { return createCanvas(width, height) }\n) => {\n  // todo don't use texture rendering, investigate the font rendering when possible\n  // or increase factor when needed\n  const factor = 40\n  const fontSize = 1.6 * factor\n  const signboardY = [16, 9]\n  const heightOffset = signboardY[0] - signboardY[1]\n  const heightScalar = heightOffset / 16\n  // todo the text should be clipped based on it's render width (needs investigate)\n\n  const texts = 'front_text' in blockEntity ? /* > 1.20 */ blockEntity.front_text.messages : [\n    blockEntity.Text1,\n    blockEntity.Text2,\n    blockEntity.Text3,\n    blockEntity.Text4\n  ]\n\n  if (!texts.some((text) => text !== 'null')) {\n    return undefined\n  }\n\n  const canvas = canvasCreator(16 * factor, heightOffset * factor)\n\n  const _ctx = canvas.getContext('2d')!\n\n  ctxHook(_ctx)\n  const defaultColor = ('front_text' in blockEntity ? blockEntity.front_text.color : blockEntity.Color) || 'black'\n  for (const [lineNum, text] of texts.slice(0, 4).entries()) {\n    if (text === 'null') continue\n    renderComponent(text, PrismarineChat, canvas, fontSize, defaultColor, fontSize * (lineNum + 1) + (isHanging ? 0 : -8))\n  }\n  return canvas\n}\n\nexport const renderComponent = (\n  text: JsonEncodedType | string | undefined,\n  PrismarineChat: typeof ChatMessage,\n  canvas: OffscreenCanvas,\n  fontSize: number,\n  defaultColor: string,\n  offset = 0\n) => {\n  // todo: in pre flatenning it seems the format was not json\n  const parsed = typeof text === 'string' && (text?.startsWith('{') || text?.startsWith('\"')) ? parseSafe(text ?? '\"\"', 'sign text') : text\n  if (!parsed || (typeof parsed !== 'object' && typeof parsed !== 'string')) return\n  // todo fix type\n\n  const ctx = canvas.getContext('2d')!\n  if (!ctx) throw new Error('Could not get 2d context')\n  ctx.imageSmoothingEnabled = false\n  ctx.font = `${fontSize}px mojangles`\n\n  type Formatting = {\n    color: string | undefined\n    underlined: boolean | undefined\n    strikethrough: boolean | undefined\n    bold: boolean | undefined\n    italic: boolean | undefined\n  }\n\n  type Message = ChatMessage & Formatting & { text: string }\n\n  const message = new PrismarineChat(parsed) as Message\n\n  const toRenderCanvas: Array<{\n    fontStyle: string\n    fillStyle: string\n    underlineStyle: boolean\n    strikeStyle: boolean\n    offset: number\n    text: string\n  }> = []\n  let visibleFormatting = false\n  let plainText = ''\n  let textOffset = offset\n  const textWidths: number[] = []\n\n  const renderText = (component: Message, parentFormatting?: Formatting | undefined) => {\n    const { text } = component\n    const formatting = {\n      color: component.color ?? parentFormatting?.color,\n      underlined: component.underlined ?? parentFormatting?.underlined,\n      strikethrough: component.strikethrough ?? parentFormatting?.strikethrough,\n      bold: component.bold ?? parentFormatting?.bold,\n      italic: component.italic ?? parentFormatting?.italic\n    }\n    visibleFormatting = visibleFormatting || formatting.underlined || formatting.strikethrough || false\n    if (text?.includes('\\n')) {\n      for (const line of text.split('\\n')) {\n        addTextPart(line, formatting)\n        textOffset += fontSize\n        plainText = ''\n      }\n    } else if (text) {\n      addTextPart(text, formatting)\n    }\n    if (component.extra) {\n      for (const child of component.extra) {\n        renderText(child as Message, formatting)\n      }\n    }\n  }\n\n  const addTextPart = (text: string, formatting: Formatting) => {\n    plainText += text\n    textWidths[textOffset] = ctx.measureText(plainText).width\n    let color = formatting.color ?? defaultColor\n    if (!color.startsWith('#')) {\n      color = LEGACY_COLORS[color.toLowerCase()] || color\n    }\n    toRenderCanvas.push({\n      fontStyle: `${formatting.bold ? 'bold' : ''} ${formatting.italic ? 'italic' : ''}`,\n      fillStyle: color,\n      underlineStyle: formatting.underlined ?? false,\n      strikeStyle: formatting.strikethrough ?? false,\n      offset: textOffset,\n      text\n    })\n  }\n\n  renderText(message)\n\n  // skip rendering empty lines\n  if (!visibleFormatting && !message.toString().trim()) return\n\n  let renderedWidth = 0\n  let previousOffsetY = 0\n  for (const { fillStyle, fontStyle, underlineStyle, strikeStyle, offset: offsetY, text } of toRenderCanvas) {\n    if (previousOffsetY !== offsetY) {\n      renderedWidth = 0\n    }\n    previousOffsetY = offsetY\n    ctx.fillStyle = fillStyle\n    ctx.textRendering = 'optimizeLegibility'\n    ctx.font = `${fontStyle} ${fontSize}px mojangles`\n    const textWidth = textWidths[offsetY] ?? ctx.measureText(text).width\n    const offsetX = (canvas.width - textWidth) / 2 + renderedWidth\n    ctx.fillText(text, offsetX, offsetY)\n    if (strikeStyle) {\n      ctx.lineWidth = fontSize / 8\n      ctx.strokeStyle = fillStyle\n      ctx.beginPath()\n      ctx.moveTo(offsetX, offsetY - ctx.lineWidth * 2.5)\n      ctx.lineTo(offsetX + ctx.measureText(text).width, offsetY - ctx.lineWidth * 2.5)\n      ctx.stroke()\n    }\n    if (underlineStyle) {\n      ctx.lineWidth = fontSize / 8\n      ctx.strokeStyle = fillStyle\n      ctx.beginPath()\n      ctx.moveTo(offsetX, offsetY + ctx.lineWidth)\n      ctx.lineTo(offsetX + ctx.measureText(text).width, offsetY + ctx.lineWidth)\n      ctx.stroke()\n    }\n    renderedWidth += ctx.measureText(text).width\n  }\n}\n","export const dynamicMcDataFiles = ['blocks', 'blockCollisionShapes', 'biomes', 'version']\n","export function buildCleanupDecorator (cleanupMethod: string) {\n  return function () {\n    return function (_target: { snapshotInitialValues }, propertyKey: string) {\n      const target = _target as any\n      // Store the initial value of the property\n      if (!target._snapshotMethodPatched) {\n        target.snapshotInitialValues = function () {\n          this._initialValues = {}\n          for (const key of target._toCleanup) {\n            this._initialValues[key] = this[key]\n          }\n        }\n        target._snapshotMethodPatched = true\n      }\n      (target._toCleanup ??= []).push(propertyKey)\n      if (!target._cleanupPatched) {\n        const originalMethod = target[cleanupMethod]\n        target[cleanupMethod] = function () {\n          for (const key of target._toCleanup) {\n            this[key] = this._initialValues[key]\n          }\n          // eslint-disable-next-line prefer-rest-params\n          Reflect.apply(originalMethod, this, arguments)\n        }\n      }\n      target._cleanupPatched = true\n    }\n  }\n}\n","/* eslint-disable unicorn/prefer-dom-node-text-content */\nconst rightOffset = 0\n\nconst stats = {}\n\nlet lastY = 40\nexport const addNewStat = (id: string, width = 80, x = rightOffset, y = lastY) => {\n  const pane = document.createElement('div')\n  pane.style.position = 'fixed'\n  pane.style.top = `${y ?? lastY}px`\n  pane.style.right = `${x}px`\n  // gray bg\n  pane.style.backgroundColor = 'rgba(0, 0, 0, 0.7)'\n  pane.style.color = 'white'\n  pane.style.padding = '2px'\n  pane.style.fontFamily = 'monospace'\n  pane.style.fontSize = '12px'\n  pane.style.zIndex = '100'\n  pane.style.pointerEvents = 'none'\n  document.body.appendChild(pane)\n  stats[id] = pane\n  if (y === undefined && x === rightOffset) { // otherwise it's a custom position\n    // rightOffset += width\n    lastY += 20\n  }\n\n  return {\n    updateText (text: string) {\n      if (pane.innerText === text) return\n      pane.innerText = text\n    },\n    setVisibility (visible: boolean) {\n      pane.style.display = visible ? 'block' : 'none'\n    }\n  }\n}\n\nexport const addNewStat2 = (id: string, { top, bottom, right, left, displayOnlyWhenWider }: { top?: number, bottom?: number, right?: number, left?: number, displayOnlyWhenWider?: number }) => {\n  if (top === undefined && bottom === undefined) top = 0\n  const pane = document.createElement('div')\n  pane.style.position = 'fixed'\n  if (top !== undefined) {\n    pane.style.top = `${top}px`\n  }\n  if (bottom !== undefined) {\n    pane.style.bottom = `${bottom}px`\n  }\n  if (left !== undefined) {\n    pane.style.left = `${left}px`\n  }\n  if (right !== undefined) {\n    pane.style.right = `${right}px`\n  }\n  // gray bg\n  pane.style.backgroundColor = 'rgba(0, 0, 0, 0.7)'\n  pane.style.color = 'white'\n  pane.style.padding = '2px'\n  pane.style.fontFamily = 'monospace'\n  pane.style.fontSize = '12px'\n  pane.style.zIndex = '10000'\n  pane.style.pointerEvents = 'none'\n  document.body.appendChild(pane)\n  stats[id] = pane\n\n  const resizeCheck = () => {\n    if (!displayOnlyWhenWider) return\n    pane.style.display = window.innerWidth > displayOnlyWhenWider ? 'block' : 'none'\n  }\n  window.addEventListener('resize', resizeCheck)\n  resizeCheck()\n\n  return {\n    updateText (text: string) {\n      pane.innerText = text\n    },\n    setVisibility (visible: boolean) {\n      pane.style.display = visible ? 'block' : 'none'\n    }\n  }\n}\n\nexport const updateStatText = (id, text) => {\n  if (!stats[id]) return\n  stats[id].innerText = text\n}\n\nexport const updatePanesVisibility = (visible: boolean) => {\n  // eslint-disable-next-line guard-for-in\n  for (const id in stats) {\n    stats[id].style.display = visible ? 'block' : 'none'\n  }\n}\n\nexport const removeAllStats = () => {\n  // eslint-disable-next-line guard-for-in\n  for (const id in stats) {\n    removeStat(id)\n  }\n}\n\nexport const removeStat = (id) => {\n  if (!stats[id]) return\n  stats[id].remove()\n  delete stats[id]\n}\n\nif (typeof customEvents !== 'undefined') {\n  customEvents.on('gameLoaded', () => {\n    const chunksLoaded = addNewStat('chunks-loaded', 80, 0, 0)\n    const chunksTotal = addNewStat('chunks-read', 80, 0, 0)\n  })\n}\n","import { ItemSelector } from 'mc-assets/dist/itemDefinitions'\nimport { GameMode, Team } from 'mineflayer'\nimport { proxy } from 'valtio'\nimport type { HandItemBlock } from '../three/holdingBlock'\n\nexport type MovementState = 'NOT_MOVING' | 'WALKING' | 'SPRINTING' | 'SNEAKING'\nexport type ItemSpecificContextProperties = Partial<Pick<ItemSelector['properties'], 'minecraft:using_item' | 'minecraft:use_duration' | 'minecraft:use_cycle' | 'minecraft:display_context'>>\nexport type CameraPerspective = 'first_person' | 'third_person_back' | 'third_person_front'\n\nexport type BlockShape = { position: any; width: any; height: any; depth: any; }\nexport type BlocksShapes = BlockShape[]\n\n// edit src/mineflayer/playerState.ts for implementation of player state from mineflayer\nexport const getInitialPlayerState = () => proxy({\n  playerSkin: undefined as string | undefined,\n  inWater: false,\n  waterBreathing: false,\n  backgroundColor: [0, 0, 0] as [number, number, number],\n  ambientLight: 0,\n  directionalLight: 0,\n  eyeHeight: 0,\n  gameMode: undefined as GameMode | undefined,\n  lookingAtBlock: undefined as {\n    x: number\n    y: number\n    z: number\n    face?: number\n    shapes: BlocksShapes\n  } | undefined,\n  diggingBlock: undefined as {\n    x: number\n    y: number\n    z: number\n    stage: number\n    face?: number\n    mergedShape: BlockShape | undefined\n  } | undefined,\n  movementState: 'NOT_MOVING' as MovementState,\n  onGround: true,\n  sneaking: false,\n  flying: false,\n  sprinting: false,\n  itemUsageTicks: 0,\n  username: '',\n  onlineMode: false,\n  lightingDisabled: false,\n  shouldHideHand: false,\n  heldItemMain: undefined as HandItemBlock | undefined,\n  heldItemOff: undefined as HandItemBlock | undefined,\n  perspective: 'first_person' as CameraPerspective,\n  onFire: false,\n\n  cameraSpectatingEntity: undefined as number | undefined,\n\n  team: undefined as Team | undefined,\n})\n\nexport const getPlayerStateUtils = (reactive: PlayerStateReactive) => ({\n  isSpectator () {\n    return reactive.gameMode === 'spectator'\n  },\n  isSpectatingEntity () {\n    return reactive.cameraSpectatingEntity !== undefined && reactive.gameMode === 'spectator'\n  },\n  isThirdPerson () {\n    if ((this as PlayerStateUtils).isSpectatingEntity()) return false\n    return reactive.perspective === 'third_person_back' || reactive.perspective === 'third_person_front'\n  }\n})\n\nexport const getInitialPlayerStateRenderer = () => ({\n  reactive: getInitialPlayerState()\n})\n\nexport type PlayerStateReactive = ReturnType<typeof getInitialPlayerState>\nexport type PlayerStateUtils = ReturnType<typeof getPlayerStateUtils>\n\nexport type PlayerStateRenderer = PlayerStateReactive\n\nexport const getItemSelector = (playerState: PlayerStateRenderer, specificProperties: ItemSpecificContextProperties, item?: import('prismarine-item').Item) => {\n  return {\n    ...specificProperties,\n    'minecraft:date': new Date(),\n    // \"minecraft:context_dimension\": bot.entityp,\n    // 'minecraft:time': bot.time.timeOfDay / 24_000,\n  }\n}\n","import { loadSkinToCanvas } from 'skinview-utils'\nimport { createCanvas, loadImageFromUrl } from '../utils'\n\nexport { default as stevePngUrl } from 'mc-assets/dist/other-textures/latest/entity/player/wide/steve.png'\n\nconst config = {\n  apiEnabled: true,\n}\n\nexport const setSkinsConfig = (newConfig: Partial<typeof config>) => {\n  Object.assign(config, newConfig)\n}\n\nexport async function loadSkinFromUsername (username: string, type: 'skin' | 'cape'): Promise<string | undefined> {\n  if (!config.apiEnabled) return\n\n  if (type === 'cape') return\n  const url = `https://playerdb.co/api/player/minecraft/${username}`\n  const response = await fetch(url)\n  if (!response.ok) return\n\n  const data: {\n    data: {\n      player: {\n        skin_texture: string\n      }\n    }\n  } = await response.json()\n  return data.data.player.skin_texture\n}\n\nexport const parseSkinTexturesValue = (value: string) => {\n  const decodedData: {\n    textures: {\n      SKIN: {\n        url: string\n      }\n    }\n  } = JSON.parse(Buffer.from(value, 'base64').toString())\n  return decodedData.textures?.SKIN?.url\n}\n\nexport async function loadSkinImage (skinUrl: string): Promise<{ canvas: OffscreenCanvas, image: ImageBitmap }> {\n  if (!skinUrl.startsWith('data:')) {\n    skinUrl = await fetchAndConvertBase64Skin(skinUrl.replace('http://', 'https://'))\n  }\n\n  const image = await loadImageFromUrl(skinUrl)\n  const skinCanvas = createCanvas(64, 64)\n  loadSkinToCanvas(skinCanvas, image)\n  return { canvas: skinCanvas, image }\n}\n\nconst fetchAndConvertBase64Skin = async (skinUrl: string) => {\n  const response = await fetch(skinUrl, { })\n  const arrayBuffer = await response.arrayBuffer()\n  const base64 = Buffer.from(arrayBuffer).toString('base64')\n  return `data:image/png;base64,${base64}`\n}\n","/* eslint-disable guard-for-in */\nimport { EventEmitter } from 'events'\nimport { Vec3 } from 'vec3'\nimport mcDataRaw from 'minecraft-data/data.js' // note: using alias\nimport TypedEmitter from 'typed-emitter'\nimport { WorldBlockProvider } from 'mc-assets/dist/worldBlockProvider'\nimport { generateSpiralMatrix } from 'flying-squid/dist/utils'\nimport { subscribeKey } from 'valtio/utils'\nimport { proxy } from 'valtio'\nimport { dynamicMcDataFiles } from '../../buildMesherConfig.mjs'\nimport type { ResourcesManagerTransferred } from '../../../src/resourcesManager'\nimport { DisplayWorldOptions, GraphicsInitOptions, RendererReactiveState } from '../../../src/appViewer'\nimport { SoundSystem } from '../three/threeJsSound'\nimport { buildCleanupDecorator } from './cleanupDecorator'\nimport { HighestBlockInfo, CustomBlockModels, BlockStateModelInfo, getBlockAssetsCacheKey, MesherConfig, MesherMainEvent } from './mesher/shared'\nimport { chunkPos } from './simpleUtils'\nimport { addNewStat, removeAllStats, updatePanesVisibility, updateStatText } from './ui/newStats'\nimport { WorldDataEmitterWorker } from './worldDataEmitter'\nimport { getPlayerStateUtils, PlayerStateReactive, PlayerStateRenderer, PlayerStateUtils } from './basePlayerState'\nimport { MesherLogReader } from './mesherlogReader'\nimport { setSkinsConfig } from './utils/skins'\n\nfunction mod (x, n) {\n  return ((x % n) + n) % n\n}\n\nconst toMajorVersion = version => {\n  const [a, b] = (String(version)).split('.')\n  return `${a}.${b}`\n}\n\nexport const worldCleanup = buildCleanupDecorator('resetWorld')\n\nexport const defaultWorldRendererConfig = {\n  showChunkBorders: false,\n  mesherWorkers: 4,\n  isPlayground: false,\n  renderEars: true,\n  skinTexturesProxy: undefined as string | undefined,\n  // game renderer setting actually\n  showHand: false,\n  viewBobbing: false,\n  extraBlockRenderers: true,\n  clipWorldBelowY: undefined as number | undefined,\n  smoothLighting: true,\n  enableLighting: true,\n  starfield: true,\n  addChunksBatchWaitTime: 200,\n  vrSupport: true,\n  vrPageGameRendering: true,\n  renderEntities: true,\n  fov: 75,\n  fetchPlayerSkins: true,\n  highlightBlockColor: 'blue',\n  foreground: true,\n  enableDebugOverlay: false,\n  _experimentalSmoothChunkLoading: true,\n  _renderByChunks: false,\n  volume: 1\n}\n\nexport type WorldRendererConfig = typeof defaultWorldRendererConfig\n\nexport abstract class WorldRendererCommon<WorkerSend = any, WorkerReceive = any> {\n  worldReadyResolvers = Promise.withResolvers<void>()\n  worldReadyPromise = this.worldReadyResolvers.promise\n  timeOfTheDay = 0\n  worldSizeParams = { minY: 0, worldHeight: 256 }\n  reactiveDebugParams = proxy({\n    stopRendering: false,\n    chunksRenderAboveOverride: undefined as number | undefined,\n    chunksRenderAboveEnabled: false,\n    chunksRenderBelowOverride: undefined as number | undefined,\n    chunksRenderBelowEnabled: false,\n    chunksRenderDistanceOverride: undefined as number | undefined,\n    chunksRenderDistanceEnabled: false,\n    disableEntities: false,\n    // disableParticles: false\n  })\n\n  active = false\n\n  // #region CHUNK & SECTIONS TRACKING\n  @worldCleanup()\n  loadedChunks = {} as Record<string, boolean> // data is added for these chunks and they might be still processing\n\n  @worldCleanup()\n  finishedChunks = {} as Record<string, boolean> // these chunks are fully loaded into the world (scene)\n\n  @worldCleanup()\n  finishedSections = {} as Record<string, boolean> // these sections are fully loaded into the world (scene)\n\n  @worldCleanup()\n  // loading sections (chunks)\n  sectionsWaiting = new Map<string, number>()\n\n  @worldCleanup()\n  queuedChunks = new Set<string>()\n  queuedFunctions = [] as Array<() => void>\n  // #endregion\n\n  renderUpdateEmitter = new EventEmitter() as unknown as TypedEmitter<{\n    dirty (pos: Vec3, value: boolean): void\n    update (/* pos: Vec3, value: boolean */): void\n    chunkFinished (key: string): void\n    heightmap (key: string, heightmap: Uint8Array): void\n  }>\n  customTexturesDataUrl = undefined as string | undefined\n  workers: any[] = []\n  viewerChunkPosition?: Vec3\n  lastCamUpdate = 0\n  droppedFpsPercentage = 0\n  initialChunkLoadWasStartedIn: number | undefined\n  initialChunksLoad = true\n  enableChunksLoadDelay = false\n  texturesVersion?: string\n  viewDistance = -1\n  chunksLength = 0\n  allChunksFinished = false\n  messageQueue: any[] = []\n  isProcessingQueue = false\n  ONMESSAGE_TIME_LIMIT = 30 // ms\n\n  handleResize = () => { }\n  highestBlocksByChunks = new Map<string, { [chunkKey: string]: HighestBlockInfo }>()\n  blockEntities = {}\n\n  workersProcessAverageTime = 0\n  workersProcessAverageTimeCount = 0\n  maxWorkersProcessTime = 0\n  geometryReceiveCount = {} as Record<number, number>\n  allLoadedIn: undefined | number\n  onWorldSwitched = [] as Array<() => void>\n  renderTimeMax = 0\n  renderTimeAvg = 0\n  renderTimeAvgCount = 0\n  edgeChunks = {} as Record<string, boolean>\n  lastAddChunk = null as null | {\n    timeout: any\n    x: number\n    z: number\n  }\n  neighborChunkUpdates = true\n  lastChunkDistance = 0\n  debugStopGeometryUpdate = false\n\n  protocolCustomBlocks = new Map<string, CustomBlockModels>()\n\n  @worldCleanup()\n  blockStateModelInfo = new Map<string, BlockStateModelInfo>()\n\n  abstract outputFormat: 'threeJs' | 'webgpu'\n  worldBlockProvider: WorldBlockProvider\n  soundSystem: SoundSystem | undefined\n\n  abstract changeBackgroundColor (color: [number, number, number]): void\n\n  worldRendererConfig: WorldRendererConfig\n  playerStateReactive: PlayerStateReactive\n  playerStateUtils: PlayerStateUtils\n  reactiveState: RendererReactiveState\n  mesherLogReader: MesherLogReader | undefined\n  forceCallFromMesherReplayer = false\n  stopMesherMessagesProcessing = false\n\n  abortController = new AbortController()\n  lastRendered = 0\n  renderingActive = true\n  geometryReceiveCountPerSec = 0\n  mesherLogger = {\n    contents: [] as string[],\n    active: new URL(location.href).searchParams.get('mesherlog') === 'true'\n  }\n  currentRenderedFrames = 0\n  fpsAverage = 0\n  lastFps = 0\n  fpsWorst = undefined as number | undefined\n  fpsSamples = 0\n  mainThreadRendering = true\n  backendInfoReport = '-'\n  chunksFullInfo = '-'\n  workerCustomHandleTime = 0\n\n  get version () {\n    return this.displayOptions.version\n  }\n\n  get displayAdvancedStats () {\n    return (this.initOptions.config.statsVisible ?? 0) > 1\n  }\n\n  constructor (public readonly resourcesManager: ResourcesManagerTransferred, public displayOptions: DisplayWorldOptions, public initOptions: GraphicsInitOptions) {\n    this.snapshotInitialValues()\n    this.worldRendererConfig = displayOptions.inWorldRenderingConfig\n    this.playerStateReactive = displayOptions.playerStateReactive\n    this.playerStateUtils = getPlayerStateUtils(this.playerStateReactive)\n    this.reactiveState = displayOptions.rendererState\n    // this.mesherLogReader = new MesherLogReader(this)\n    this.renderUpdateEmitter.on('update', () => {\n      const loadedChunks = Object.keys(this.finishedChunks).length\n      updateStatText('loaded-chunks', `${loadedChunks}/${this.chunksLength} chunks (${this.lastChunkDistance}/${this.viewDistance})`)\n    })\n\n    addNewStat('downloaded-chunks', 100, 140, 20)\n\n    this.connect(this.displayOptions.worldView)\n\n    const interval = setInterval(() => {\n      this.geometryReceiveCountPerSec = Object.values(this.geometryReceiveCount).reduce((acc, curr) => acc + curr, 0)\n      this.geometryReceiveCount = {}\n      updatePanesVisibility(this.displayAdvancedStats)\n      this.updateChunksStats()\n      if (this.mainThreadRendering) {\n        this.fpsUpdate()\n      }\n    }, 500)\n    this.abortController.signal.addEventListener('abort', () => {\n      clearInterval(interval)\n    })\n  }\n\n  fpsUpdate () {\n    this.fpsSamples++\n    this.fpsAverage = (this.fpsAverage * (this.fpsSamples - 1) + this.currentRenderedFrames) / this.fpsSamples\n    if (this.fpsWorst === undefined) {\n      this.fpsWorst = this.currentRenderedFrames\n    } else {\n      this.fpsWorst = Math.min(this.fpsWorst, this.currentRenderedFrames)\n    }\n    this.lastFps = this.currentRenderedFrames\n    this.currentRenderedFrames = 0\n  }\n\n  logWorkerWork (message: string | (() => string)) {\n    if (!this.mesherLogger.active) return\n    this.mesherLogger.contents.push(typeof message === 'function' ? message() : message)\n  }\n\n  async init () {\n    if (this.active) throw new Error('WorldRendererCommon is already initialized')\n\n    await Promise.all([\n      this.resetWorkers(),\n      (async () => {\n        if (this.resourcesManager.currentResources?.allReady) {\n          await this.updateAssetsData()\n        }\n      })()\n    ])\n\n    this.resourcesManager.on('assetsTexturesUpdated', async () => {\n      if (!this.active) return\n      await this.updateAssetsData()\n    })\n\n    this.watchReactivePlayerState()\n    this.watchReactiveConfig()\n    this.worldReadyResolvers.resolve()\n  }\n\n  snapshotInitialValues () { }\n\n  wasChunkSentToWorker (chunkKey: string) {\n    return this.loadedChunks[chunkKey]\n  }\n\n  async getHighestBlocks (chunkKey: string) {\n    return this.highestBlocksByChunks.get(chunkKey)\n  }\n\n  updateCustomBlock (chunkKey: string, blockPos: string, model: string) {\n    this.protocolCustomBlocks.set(chunkKey, {\n      ...this.protocolCustomBlocks.get(chunkKey),\n      [blockPos]: model\n    })\n    this.logWorkerWork(() => `-> updateCustomBlock ${chunkKey} ${blockPos} ${model} ${this.wasChunkSentToWorker(chunkKey)}`)\n    if (this.wasChunkSentToWorker(chunkKey)) {\n      const [x, y, z] = blockPos.split(',').map(Number)\n      this.setBlockStateId(new Vec3(x, y, z), undefined)\n    }\n  }\n\n  async getBlockInfo (blockPos: { x: number, y: number, z: number }, stateId: number) {\n    const chunkKey = `${Math.floor(blockPos.x / 16) * 16},${Math.floor(blockPos.z / 16) * 16}`\n    const customBlockName = this.protocolCustomBlocks.get(chunkKey)?.[`${blockPos.x},${blockPos.y},${blockPos.z}`]\n    const cacheKey = getBlockAssetsCacheKey(stateId, customBlockName)\n    const modelInfo = this.blockStateModelInfo.get(cacheKey)\n    return {\n      customBlockName,\n      modelInfo\n    }\n  }\n\n  initWorkers (numWorkers = this.worldRendererConfig.mesherWorkers) {\n    // init workers\n    for (let i = 0; i < numWorkers + 1; i++) {\n      const worker = initMesherWorker((data) => {\n        if (Array.isArray(data)) {\n          this.messageQueue.push(...data)\n        } else {\n          this.messageQueue.push(data)\n        }\n        void this.processMessageQueue('worker')\n      })\n      this.workers.push(worker)\n    }\n  }\n\n  onReactivePlayerStateUpdated<T extends keyof PlayerStateReactive>(key: T, callback: (value: PlayerStateReactive[T]) => void, initial = true) {\n    if (initial) {\n      callback(this.playerStateReactive[key])\n    }\n    subscribeKey(this.playerStateReactive, key, callback)\n  }\n\n  onReactiveConfigUpdated<T extends keyof typeof this.worldRendererConfig>(key: T, callback: (value: typeof this.worldRendererConfig[T]) => void) {\n    callback(this.worldRendererConfig[key])\n    subscribeKey(this.worldRendererConfig, key, callback)\n  }\n\n  onReactiveDebugUpdated<T extends keyof typeof this.reactiveDebugParams>(key: T, callback: (value: typeof this.reactiveDebugParams[T]) => void) {\n    callback(this.reactiveDebugParams[key])\n    subscribeKey(this.reactiveDebugParams, key, callback)\n  }\n\n  watchReactivePlayerState () {\n    this.onReactivePlayerStateUpdated('backgroundColor', (value) => {\n      this.changeBackgroundColor(value)\n    })\n  }\n\n  watchReactiveConfig () {\n    this.onReactiveConfigUpdated('fetchPlayerSkins', (value) => {\n      setSkinsConfig({ apiEnabled: value })\n    })\n  }\n\n  async processMessageQueue (source: string) {\n    if (this.isProcessingQueue || this.messageQueue.length === 0) return\n    this.logWorkerWork(`# ${source} processing queue`)\n    if (this.lastRendered && performance.now() - this.lastRendered > this.ONMESSAGE_TIME_LIMIT && this.worldRendererConfig._experimentalSmoothChunkLoading && this.renderingActive) {\n      const start = performance.now()\n      await new Promise(resolve => {\n        requestAnimationFrame(resolve)\n      })\n      this.logWorkerWork(`# processing got delayed by ${performance.now() - start}ms`)\n    }\n    this.isProcessingQueue = true\n\n    const startTime = performance.now()\n    let processedCount = 0\n\n    while (this.messageQueue.length > 0) {\n      const processingStopped = this.stopMesherMessagesProcessing\n      if (!processingStopped) {\n        const data = this.messageQueue.shift()!\n        this.handleMessage(data)\n        processedCount++\n      }\n\n      // Check if we've exceeded the time limit\n      if (processingStopped || (performance.now() - startTime > this.ONMESSAGE_TIME_LIMIT && this.renderingActive && this.worldRendererConfig._experimentalSmoothChunkLoading)) {\n        // If we have more messages and exceeded time limit, schedule next batch\n        if (this.messageQueue.length > 0) {\n          requestAnimationFrame(async () => {\n            this.isProcessingQueue = false\n            void this.processMessageQueue('queue-delay')\n          })\n          return\n        }\n        break\n      }\n    }\n\n    this.isProcessingQueue = false\n  }\n\n  handleMessage (rawData: any) {\n    const data = rawData as MesherMainEvent\n    if (!this.active) return\n    this.mesherLogReader?.workerMessageReceived(data.type, data)\n    if (data.type !== 'geometry' || !this.debugStopGeometryUpdate) {\n      const start = performance.now()\n      this.handleWorkerMessage(data as WorkerReceive)\n      this.workerCustomHandleTime += performance.now() - start\n    }\n    if (data.type === 'geometry') {\n      this.logWorkerWork(() => `-> ${data.workerIndex} geometry ${data.key} ${JSON.stringify({ dataSize: JSON.stringify(data).length })}`)\n      this.geometryReceiveCount[data.workerIndex] ??= 0\n      this.geometryReceiveCount[data.workerIndex]++\n      const chunkCoords = data.key.split(',').map(Number)\n      this.lastChunkDistance = Math.max(...this.getDistance(new Vec3(chunkCoords[0], 0, chunkCoords[2])))\n    }\n    if (data.type === 'sectionFinished') { // on after load & unload section\n      this.logWorkerWork(`<- ${data.workerIndex} sectionFinished ${data.key} ${JSON.stringify({ processTime: data.processTime })}`)\n      if (!this.sectionsWaiting.has(data.key)) throw new Error(`sectionFinished event for non-outstanding section ${data.key}`)\n      this.sectionsWaiting.set(data.key, this.sectionsWaiting.get(data.key)! - 1)\n      if (this.sectionsWaiting.get(data.key) === 0) {\n        this.sectionsWaiting.delete(data.key)\n        this.finishedSections[data.key] = true\n      }\n\n      const chunkCoords = data.key.split(',').map(Number)\n      const chunkKey = `${chunkCoords[0]},${chunkCoords[2]}`\n      if (this.loadedChunks[chunkKey]) { // ensure chunk data was added, not a neighbor chunk update\n        let loaded = true\n        for (let y = this.worldMinYRender; y < this.worldSizeParams.worldHeight; y += 16) {\n          if (!this.finishedSections[`${chunkCoords[0]},${y},${chunkCoords[2]}`]) {\n            loaded = false\n            break\n          }\n        }\n        if (loaded) {\n          // CHUNK FINISHED\n          this.finishedChunks[chunkKey] = true\n          this.reactiveState.world.chunksLoaded.add(`${Math.floor(chunkCoords[0] / 16)},${Math.floor(chunkCoords[2] / 16)}`)\n          this.renderUpdateEmitter.emit(`chunkFinished`, `${chunkCoords[0]},${chunkCoords[2]}`)\n          this.checkAllFinished()\n          // merge highest blocks by sections into highest blocks by chunks\n          // for (let y = this.worldMinYRender; y < this.worldSizeParams.worldHeight; y += 16) {\n          //   const sectionKey = `${chunkCoords[0]},${y},${chunkCoords[2]}`\n          //   for (let x = 0; x < 16; x++) {\n          //     for (let z = 0; z < 16; z++) {\n          //       const posInsideKey = `${chunkCoords[0] + x},${chunkCoords[2] + z}`\n          //       let block = null as HighestBlockInfo | null\n          //       const highestBlock = this.highestBlocksBySections[sectionKey]?.[posInsideKey]\n          //       if (!highestBlock) continue\n          //       if (!block || highestBlock.y > block.y) {\n          //         block = highestBlock\n          //       }\n          //       if (block) {\n          //         this.highestBlocksByChunks[chunkKey] ??= {}\n          //         this.highestBlocksByChunks[chunkKey][posInsideKey] = block\n          //       }\n          //     }\n          //   }\n          //   delete this.highestBlocksBySections[sectionKey]\n          // }\n        }\n      }\n\n      this.renderUpdateEmitter.emit('update')\n      if (data.processTime) {\n        this.workersProcessAverageTimeCount++\n        this.workersProcessAverageTime = ((this.workersProcessAverageTime * (this.workersProcessAverageTimeCount - 1)) + data.processTime) / this.workersProcessAverageTimeCount\n        this.maxWorkersProcessTime = Math.max(this.maxWorkersProcessTime, data.processTime)\n      }\n    }\n\n    if (data.type === 'blockStateModelInfo') {\n      for (const [cacheKey, info] of Object.entries(data.info)) {\n        this.blockStateModelInfo.set(cacheKey, info)\n      }\n    }\n\n    if (data.type === 'heightmap') {\n      this.reactiveState.world.heightmaps.set(data.key, new Uint8Array(data.heightmap))\n    }\n  }\n\n  downloadMesherLog () {\n    const a = document.createElement('a')\n    a.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(this.mesherLogger.contents.join('\\n'))\n    a.download = 'mesher.log'\n    a.click()\n  }\n\n  checkAllFinished () {\n    if (this.sectionsWaiting.size === 0) {\n      this.reactiveState.world.mesherWork = false\n    }\n    // todo check exact surrounding chunks\n    const allFinished = Object.keys(this.finishedChunks).length >= this.chunksLength\n    if (allFinished) {\n      this.allChunksLoaded?.()\n      this.allChunksFinished = true\n      this.allLoadedIn ??= Date.now() - this.initialChunkLoadWasStartedIn!\n    }\n    this.updateChunksStats()\n  }\n\n  changeHandSwingingState (isAnimationPlaying: boolean, isLeftHand: boolean): void { }\n\n  abstract handleWorkerMessage (data: WorkerReceive): void\n\n  abstract updateCamera (pos: Vec3 | null, yaw: number, pitch: number): void\n\n  abstract render (): void\n\n  /**\n   * Optionally update data that are depedendent on the viewer position\n   */\n  updatePosDataChunk? (key: string): void\n\n  allChunksLoaded? (): void\n\n  timeUpdated? (newTime: number): void\n\n  updateViewerPosition (pos: Vec3) {\n    this.viewerChunkPosition = pos\n    for (const [key, value] of Object.entries(this.loadedChunks)) {\n      if (!value) continue\n      this.updatePosDataChunk?.(key)\n    }\n  }\n\n  sendWorkers (message: WorkerSend) {\n    for (const worker of this.workers) {\n      worker.postMessage(message)\n    }\n  }\n\n  getDistance (posAbsolute: Vec3) {\n    const [botX, botZ] = chunkPos(this.viewerChunkPosition!)\n    const dx = Math.abs(botX - Math.floor(posAbsolute.x / 16))\n    const dz = Math.abs(botZ - Math.floor(posAbsolute.z / 16))\n    return [dx, dz] as [number, number]\n  }\n\n  abstract updateShowChunksBorder (value: boolean): void\n\n  resetWorld () {\n    // destroy workers\n    for (const worker of this.workers) {\n      worker.terminate()\n    }\n    this.workers = []\n  }\n\n  async resetWorkers () {\n    this.resetWorld()\n\n    // for workers in single file build\n    if (typeof document !== 'undefined' && document?.readyState === 'loading') {\n      await new Promise(resolve => {\n        document.addEventListener('DOMContentLoaded', resolve)\n      })\n    }\n\n    this.initWorkers()\n    this.active = true\n\n    this.sendMesherMcData()\n  }\n\n  getMesherConfig (): MesherConfig {\n    let skyLight = 15\n    const timeOfDay = this.timeOfTheDay\n    if (timeOfDay < 0 || timeOfDay > 24_000) {\n      //\n    } else if (timeOfDay <= 6000 || timeOfDay >= 18_000) {\n      skyLight = 15\n    } else if (timeOfDay > 6000 && timeOfDay < 12_000) {\n      skyLight = 15 - ((timeOfDay - 6000) / 6000) * 15\n    } else if (timeOfDay >= 12_000 && timeOfDay < 18_000) {\n      skyLight = ((timeOfDay - 12_000) / 6000) * 15\n    }\n\n    skyLight = Math.floor(skyLight)\n    return {\n      version: this.version,\n      enableLighting: this.worldRendererConfig.enableLighting,\n      skyLight,\n      smoothLighting: this.worldRendererConfig.smoothLighting,\n      outputFormat: this.outputFormat,\n      // textureSize: this.resourcesManager.currentResources!.blocksAtlasParser.atlas.latest.width,\n      debugModelVariant: undefined,\n      clipWorldBelowY: this.worldRendererConfig.clipWorldBelowY,\n      disableSignsMapsSupport: !this.worldRendererConfig.extraBlockRenderers,\n      worldMinY: this.worldMinYRender,\n      worldMaxY: this.worldMinYRender + this.worldSizeParams.worldHeight,\n    }\n  }\n\n  sendMesherMcData () {\n    const allMcData = mcDataRaw.pc[this.version] ?? mcDataRaw.pc[toMajorVersion(this.version)]\n    const mcData = {\n      version: JSON.parse(JSON.stringify(allMcData.version))\n    }\n    for (const key of dynamicMcDataFiles) {\n      mcData[key] = allMcData[key]\n    }\n\n    for (const worker of this.workers) {\n      worker.postMessage({ type: 'mcData', mcData, config: this.getMesherConfig() })\n    }\n    this.logWorkerWork('# mcData sent')\n  }\n\n  async updateAssetsData () {\n    const resources = this.resourcesManager.currentResources\n\n    if (this.workers.length === 0) throw new Error('workers not initialized yet')\n    for (const [i, worker] of this.workers.entries()) {\n      const { blockstatesModels } = resources\n\n      worker.postMessage({\n        type: 'mesherData',\n        workerIndex: i,\n        blocksAtlas: {\n          latest: resources.blocksAtlasJson\n        },\n        blockstatesModels,\n        config: this.getMesherConfig(),\n      })\n    }\n\n    this.logWorkerWork('# mesherData sent')\n    console.log('textures loaded')\n  }\n\n  get worldMinYRender () {\n    return Math.floor(Math.max(this.worldSizeParams.minY, this.worldRendererConfig.clipWorldBelowY ?? -Infinity) / 16) * 16\n  }\n\n  updateChunksStats () {\n    const loadedChunks = Object.keys(this.finishedChunks)\n    this.displayOptions.nonReactiveState.world.chunksLoaded = new Set(loadedChunks)\n    this.displayOptions.nonReactiveState.world.chunksTotalNumber = this.chunksLength\n    this.reactiveState.world.allChunksLoaded = this.allChunksFinished\n\n    const text = `Q: ${this.messageQueue.length} ${Object.keys(this.loadedChunks).length}/${Object.keys(this.finishedChunks).length}/${this.chunksLength} chunks (${this.workers.length}:${this.workersProcessAverageTime.toFixed(0)}ms/${this.geometryReceiveCountPerSec}ss/${this.allLoadedIn?.toFixed(1) ?? '-'}s)`\n    this.chunksFullInfo = text\n    updateStatText('downloaded-chunks', text)\n  }\n\n  addColumn (x: number, z: number, chunk: any, isLightUpdate: boolean) {\n    if (!this.active) return\n    if (this.workers.length === 0) throw new Error('workers not initialized yet')\n    this.initialChunksLoad = false\n    this.initialChunkLoadWasStartedIn ??= Date.now()\n    this.loadedChunks[`${x},${z}`] = true\n    this.updateChunksStats()\n\n    const chunkKey = `${x},${z}`\n    const customBlockModels = this.protocolCustomBlocks.get(chunkKey)\n\n    for (const worker of this.workers) {\n      worker.postMessage({\n        type: 'chunk',\n        x,\n        z,\n        chunk,\n        customBlockModels: customBlockModels || undefined\n      })\n    }\n    this.workers[0].postMessage({\n      type: 'getHeightmap',\n      x,\n      z,\n    })\n    this.logWorkerWork(() => `-> chunk ${JSON.stringify({ x, z, chunkLength: chunk.length, customBlockModelsLength: customBlockModels ? Object.keys(customBlockModels).length : 0 })}`)\n    this.mesherLogReader?.chunkReceived(x, z, chunk.length)\n    for (let y = this.worldMinYRender; y < this.worldSizeParams.worldHeight; y += 16) {\n      const loc = new Vec3(x, y, z)\n      this.setSectionDirty(loc)\n      if (this.neighborChunkUpdates && (!isLightUpdate || this.worldRendererConfig.smoothLighting)) {\n        this.setSectionDirty(loc.offset(-16, 0, 0))\n        this.setSectionDirty(loc.offset(16, 0, 0))\n        this.setSectionDirty(loc.offset(0, 0, -16))\n        this.setSectionDirty(loc.offset(0, 0, 16))\n      }\n    }\n  }\n\n  markAsLoaded (x, z) {\n    this.loadedChunks[`${x},${z}`] = true\n    this.finishedChunks[`${x},${z}`] = true\n    this.logWorkerWork(`-> markAsLoaded ${JSON.stringify({ x, z })}`)\n    this.checkAllFinished()\n  }\n\n  removeColumn (x, z) {\n    delete this.loadedChunks[`${x},${z}`]\n    for (const worker of this.workers) {\n      worker.postMessage({ type: 'unloadChunk', x, z })\n    }\n    this.logWorkerWork(`-> unloadChunk ${JSON.stringify({ x, z })}`)\n    delete this.finishedChunks[`${x},${z}`]\n    this.allChunksFinished = Object.keys(this.finishedChunks).length === this.chunksLength\n    if (Object.keys(this.finishedChunks).length === 0) {\n      this.allLoadedIn = undefined\n      this.initialChunkLoadWasStartedIn = undefined\n    }\n    for (let y = this.worldSizeParams.minY; y < this.worldSizeParams.worldHeight; y += 16) {\n      this.setSectionDirty(new Vec3(x, y, z), false)\n      delete this.finishedSections[`${x},${y},${z}`]\n    }\n    this.highestBlocksByChunks.delete(`${x},${z}`)\n\n    this.updateChunksStats()\n\n    if (Object.keys(this.loadedChunks).length === 0) {\n      this.mesherLogger.contents = []\n      this.logWorkerWork('# all chunks unloaded. New log started')\n      void this.mesherLogReader?.maybeStartReplay()\n    }\n  }\n\n  setBlockStateId (pos: Vec3, stateId: number | undefined, needAoRecalculation = true) {\n    const set = async () => {\n      const sectionX = Math.floor(pos.x / 16) * 16\n      const sectionZ = Math.floor(pos.z / 16) * 16\n      if (this.queuedChunks.has(`${sectionX},${sectionZ}`)) {\n        await new Promise<void>(resolve => {\n          this.queuedFunctions.push(() => {\n            resolve()\n          })\n        })\n      }\n      if (!this.loadedChunks[`${sectionX},${sectionZ}`]) {\n        // console.debug('[should be unreachable] setBlockStateId called for unloaded chunk', pos)\n      }\n      this.setBlockStateIdInner(pos, stateId, needAoRecalculation)\n    }\n    void set()\n  }\n\n  updateEntity (e: any, isUpdate = false) { }\n\n  abstract updatePlayerEntity? (e: any): void\n\n  lightUpdate (chunkX: number, chunkZ: number) { }\n\n  connect (worldView: WorldDataEmitterWorker) {\n    const worldEmitter = worldView\n\n    worldEmitter.on('entity', (e) => {\n      this.updateEntity(e, false)\n    })\n    worldEmitter.on('entityMoved', (e) => {\n      this.updateEntity(e, true)\n    })\n    worldEmitter.on('playerEntity', (e) => {\n      this.updatePlayerEntity?.(e)\n    })\n\n    let currentLoadChunkBatch = null as {\n      timeout\n      data\n    } | null\n    worldEmitter.on('loadChunk', ({ x, z, chunk, worldConfig, isLightUpdate }) => {\n      this.worldSizeParams = worldConfig\n      this.queuedChunks.add(`${x},${z}`)\n      const args = [x, z, chunk, isLightUpdate]\n      if (!currentLoadChunkBatch) {\n        // add a setting to use debounce instead\n        currentLoadChunkBatch = {\n          data: [],\n          timeout: setTimeout(() => {\n            for (const args of currentLoadChunkBatch!.data) {\n              this.queuedChunks.delete(`${args[0]},${args[1]}`)\n              this.addColumn(...args as Parameters<typeof this.addColumn>)\n            }\n            for (const fn of this.queuedFunctions) {\n              fn()\n            }\n            this.queuedFunctions = []\n            currentLoadChunkBatch = null\n          }, this.worldRendererConfig.addChunksBatchWaitTime)\n        }\n      }\n      currentLoadChunkBatch.data.push(args)\n    })\n    // todo remove and use other architecture instead so data flow is clear\n    worldEmitter.on('blockEntities', (blockEntities) => {\n      this.blockEntities = blockEntities\n    })\n\n    worldEmitter.on('unloadChunk', ({ x, z }) => {\n      this.removeColumn(x, z)\n    })\n\n    worldEmitter.on('blockUpdate', ({ pos, stateId }) => {\n      this.setBlockStateId(new Vec3(pos.x, pos.y, pos.z), stateId)\n    })\n\n    worldEmitter.on('chunkPosUpdate', ({ pos }) => {\n      this.updateViewerPosition(pos)\n    })\n\n    worldEmitter.on('end', () => {\n      this.worldStop?.()\n    })\n\n\n    worldEmitter.on('renderDistance', (d) => {\n      this.viewDistance = d\n      this.chunksLength = d === 0 ? 1 : generateSpiralMatrix(d).length\n    })\n\n    worldEmitter.on('renderDistance', (d) => {\n      this.viewDistance = d\n      this.chunksLength = d === 0 ? 1 : generateSpiralMatrix(d).length\n      this.allChunksFinished = Object.keys(this.finishedChunks).length === this.chunksLength\n    })\n\n    worldEmitter.on('markAsLoaded', ({ x, z }) => {\n      this.markAsLoaded(x, z)\n    })\n\n    worldEmitter.on('updateLight', ({ pos }) => {\n      this.lightUpdate(pos.x, pos.z)\n    })\n\n    worldEmitter.on('onWorldSwitch', () => {\n      for (const fn of this.onWorldSwitched) {\n        try {\n          fn()\n        } catch (e) {\n          setTimeout(() => {\n            console.log('[Renderer Backend] Error in onWorldSwitched:')\n            throw e\n          }, 0)\n        }\n      }\n    })\n\n    worldEmitter.on('time', (timeOfDay) => {\n      this.timeUpdated?.(timeOfDay)\n\n      if (timeOfDay < 0 || timeOfDay > 24_000) {\n        throw new Error('Invalid time of day. It should be between 0 and 24000.')\n      }\n\n      this.timeOfTheDay = timeOfDay\n\n      // if (this.worldRendererConfig.skyLight === skyLight) return\n      // this.worldRendererConfig.skyLight = skyLight\n      // if (this instanceof WorldRendererThree) {\n      //   (this).rerenderAllChunks?.()\n      // }\n    })\n  }\n\n  setBlockStateIdInner (pos: Vec3, stateId: number | undefined, needAoRecalculation = true) {\n    const chunkKey = `${Math.floor(pos.x / 16) * 16},${Math.floor(pos.z / 16) * 16}`\n    const blockPosKey = `${pos.x},${pos.y},${pos.z}`\n    const customBlockModels = this.protocolCustomBlocks.get(chunkKey) || {}\n\n    for (const worker of this.workers) {\n      worker.postMessage({\n        type: 'blockUpdate',\n        pos,\n        stateId,\n        customBlockModels\n      })\n    }\n    this.logWorkerWork(`-> blockUpdate ${JSON.stringify({ pos, stateId, customBlockModels })}`)\n    this.setSectionDirty(pos, true, true)\n    if (this.neighborChunkUpdates) {\n      if ((pos.x & 15) === 0) this.setSectionDirty(pos.offset(-16, 0, 0), true, true)\n      if ((pos.x & 15) === 15) this.setSectionDirty(pos.offset(16, 0, 0), true, true)\n      if ((pos.y & 15) === 0) this.setSectionDirty(pos.offset(0, -16, 0), true, true)\n      if ((pos.y & 15) === 15) this.setSectionDirty(pos.offset(0, 16, 0), true, true)\n      if ((pos.z & 15) === 0) this.setSectionDirty(pos.offset(0, 0, -16), true, true)\n      if ((pos.z & 15) === 15) this.setSectionDirty(pos.offset(0, 0, 16), true, true)\n\n      if (needAoRecalculation) {\n        // top view neighbors\n        if ((pos.x & 15) === 0 && (pos.z & 15) === 0) this.setSectionDirty(pos.offset(-16, 0, -16), true, true)\n        if ((pos.x & 15) === 15 && (pos.z & 15) === 0) this.setSectionDirty(pos.offset(16, 0, -16), true, true)\n        if ((pos.x & 15) === 0 && (pos.z & 15) === 15) this.setSectionDirty(pos.offset(-16, 0, 16), true, true)\n        if ((pos.x & 15) === 15 && (pos.z & 15) === 15) this.setSectionDirty(pos.offset(16, 0, 16), true, true)\n\n        // side view neighbors (but ignore updates above)\n        // z view neighbors\n        if ((pos.x & 15) === 0 && (pos.y & 15) === 0) this.setSectionDirty(pos.offset(-16, -16, 0), true, true)\n        if ((pos.x & 15) === 15 && (pos.y & 15) === 0) this.setSectionDirty(pos.offset(16, -16, 0), true, true)\n\n        // x view neighbors\n        if ((pos.z & 15) === 0 && (pos.y & 15) === 0) this.setSectionDirty(pos.offset(0, -16, -16), true, true)\n        if ((pos.z & 15) === 15 && (pos.y & 15) === 0) this.setSectionDirty(pos.offset(0, -16, 16), true, true)\n\n        // x & z neighbors\n        if ((pos.y & 15) === 0 && (pos.x & 15) === 0 && (pos.z & 15) === 0) this.setSectionDirty(pos.offset(-16, -16, -16), true, true)\n        if ((pos.y & 15) === 0 && (pos.x & 15) === 15 && (pos.z & 15) === 0) this.setSectionDirty(pos.offset(16, -16, -16), true, true)\n        if ((pos.y & 15) === 0 && (pos.x & 15) === 0 && (pos.z & 15) === 15) this.setSectionDirty(pos.offset(-16, -16, 16), true, true)\n        if ((pos.y & 15) === 0 && (pos.x & 15) === 15 && (pos.z & 15) === 15) this.setSectionDirty(pos.offset(16, -16, 16), true, true)\n      }\n    }\n  }\n\n  abstract worldStop? ()\n\n  queueAwaited = false\n  toWorkerMessagesQueue = {} as { [workerIndex: string]: any[] }\n\n  getWorkerNumber (pos: Vec3, updateAction = false) {\n    if (updateAction) {\n      const key = `${Math.floor(pos.x / 16) * 16},${Math.floor(pos.y / 16) * 16},${Math.floor(pos.z / 16) * 16}`\n      const cantUseChangeWorker = this.sectionsWaiting.get(key) && !this.finishedSections[key]\n      if (!cantUseChangeWorker) return 0\n    }\n\n    const hash = mod(Math.floor(pos.x / 16) + Math.floor(pos.y / 16) + Math.floor(pos.z / 16), this.workers.length - 1)\n    return hash + 1\n  }\n\n  async debugGetWorkerCustomBlockModel (pos: Vec3) {\n    const data = [] as Array<Promise<string>>\n    for (const worker of this.workers) {\n      data.push(new Promise((resolve) => {\n        worker.addEventListener('message', (e) => {\n          if (e.data.type === 'customBlockModel') {\n            resolve(e.data.customBlockModel)\n          }\n        })\n      }))\n      worker.postMessage({\n        type: 'getCustomBlockModel',\n        pos\n      })\n    }\n    return Promise.all(data)\n  }\n\n  setSectionDirty (pos: Vec3, value = true, useChangeWorker = false) { // value false is used for unloading chunks\n    if (!this.forceCallFromMesherReplayer && this.mesherLogReader) return\n\n    if (this.viewDistance === -1) throw new Error('viewDistance not set')\n    this.reactiveState.world.mesherWork = true\n    const distance = this.getDistance(pos)\n    // todo shouldnt we check loadedChunks instead?\n    if (!this.workers.length || distance[0] > this.viewDistance || distance[1] > this.viewDistance) return\n    const key = `${Math.floor(pos.x / 16) * 16},${Math.floor(pos.y / 16) * 16},${Math.floor(pos.z / 16) * 16}`\n    // if (this.sectionsOutstanding.has(key)) return\n    this.renderUpdateEmitter.emit('dirty', pos, value)\n    // Dispatch sections to workers based on position\n    // This guarantees uniformity accross workers and that a given section\n    // is always dispatched to the same worker\n    const hash = this.getWorkerNumber(pos, useChangeWorker && this.mesherLogger.active)\n    this.sectionsWaiting.set(key, (this.sectionsWaiting.get(key) ?? 0) + 1)\n    if (this.forceCallFromMesherReplayer) {\n      this.workers[hash].postMessage({\n        type: 'dirty',\n        x: pos.x,\n        y: pos.y,\n        z: pos.z,\n        value,\n        config: this.getMesherConfig(),\n      })\n    } else {\n      this.toWorkerMessagesQueue[hash] ??= []\n      this.toWorkerMessagesQueue[hash].push({\n        // this.workers[hash].postMessage({\n        type: 'dirty',\n        x: pos.x,\n        y: pos.y,\n        z: pos.z,\n        value,\n        config: this.getMesherConfig(),\n      })\n      this.dispatchMessages()\n    }\n  }\n\n  dispatchMessages () {\n    if (this.queueAwaited) return\n    this.queueAwaited = true\n    setTimeout(() => {\n      // group messages and send as one\n      for (const workerIndex in this.toWorkerMessagesQueue) {\n        const worker = this.workers[Number(workerIndex)]\n        worker.postMessage(this.toWorkerMessagesQueue[workerIndex])\n        for (const message of this.toWorkerMessagesQueue[workerIndex]) {\n          this.logWorkerWork(`-> ${workerIndex} dispatchMessages ${message.type} ${JSON.stringify({ x: message.x, y: message.y, z: message.z, value: message.value })}`)\n        }\n      }\n      this.toWorkerMessagesQueue = {}\n      this.queueAwaited = false\n    })\n  }\n\n  // Listen for chunk rendering updates emitted if a worker finished a render and resolve if the number\n  // of sections not rendered are 0\n  async waitForChunksToRender () {\n    return new Promise<void>((resolve, reject) => {\n      if ([...this.sectionsWaiting].length === 0) {\n        resolve()\n        return\n      }\n\n      const updateHandler = () => {\n        if (this.sectionsWaiting.size === 0) {\n          this.renderUpdateEmitter.removeListener('update', updateHandler)\n          resolve()\n        }\n      }\n      this.renderUpdateEmitter.on('update', updateHandler)\n    })\n  }\n\n  async waitForChunkToLoad (pos: Vec3) {\n    return new Promise<void>((resolve, reject) => {\n      const key = `${Math.floor(pos.x / 16) * 16},${Math.floor(pos.z / 16) * 16}`\n      if (this.loadedChunks[key]) {\n        resolve()\n        return\n      }\n      const updateHandler = () => {\n        if (this.loadedChunks[key]) {\n          this.renderUpdateEmitter.removeListener('update', updateHandler)\n          resolve()\n        }\n      }\n      this.renderUpdateEmitter.on('update', updateHandler)\n    })\n  }\n\n  destroy () {\n    // Stop all workers\n    for (const worker of this.workers) {\n      worker.terminate()\n    }\n    this.workers = []\n\n    // Stop and destroy sound system\n    if (this.soundSystem) {\n      this.soundSystem.destroy()\n      this.soundSystem = undefined\n    }\n\n    this.active = false\n\n    this.renderUpdateEmitter.removeAllListeners()\n    this.abortController.abort()\n    removeAllStats()\n  }\n}\n\nexport const initMesherWorker = (onGotMessage: (data: any) => void) => {\n  // Node environment needs an absolute path, but browser needs the url of the file\n  const workerName = 'mesher.js'\n\n  let worker: any\n  if (process.env.SINGLE_FILE_BUILD) {\n    const workerCode = document.getElementById('mesher-worker-code')!.textContent!\n    const blob = new Blob([workerCode], { type: 'text/javascript' })\n    worker = new Worker(window.URL.createObjectURL(blob))\n  } else {\n    worker = new Worker(workerName)\n  }\n\n  worker.onmessage = ({ data }) => {\n    onGotMessage(data)\n  }\n  if (worker.on) worker.on('message', (data) => { worker.onmessage({ data }) })\n  return worker\n}\n\nexport const meshersSendMcData = (workers: Worker[], version: string, addData = {} as Record<string, any>) => {\n  const allMcData = mcDataRaw.pc[version] ?? mcDataRaw.pc[toMajorVersion(version)]\n  const mcData = {\n    version: JSON.parse(JSON.stringify(allMcData.version))\n  }\n  for (const key of dynamicMcDataFiles) {\n    mcData[key] = allMcData[key]\n  }\n\n  for (const worker of workers) {\n    worker.postMessage({ type: 'mcData', mcData, ...addData })\n  }\n}\n","import { BlockType } from '../../../playground/shared'\n\n// only here for easier testing\nexport const defaultMesherConfig = {\n  version: '',\n  worldMaxY: 256,\n  worldMinY: 0,\n  enableLighting: true,\n  skyLight: 15,\n  smoothLighting: true,\n  outputFormat: 'threeJs' as 'threeJs' | 'webgpu',\n  // textureSize: 1024, // for testing\n  debugModelVariant: undefined as undefined | number[],\n  clipWorldBelowY: undefined as undefined | number,\n  disableSignsMapsSupport: false\n}\n\nexport type CustomBlockModels = {\n  [blockPosKey: string]: string // blockPosKey is \"x,y,z\" -> model name\n}\n\nexport type MesherConfig = typeof defaultMesherConfig\n\nexport type MesherGeometryOutput = {\n  sx: number,\n  sy: number,\n  sz: number,\n  // resulting: float32array\n  positions: any,\n  normals: any,\n  colors: any,\n  uvs: any,\n  t_positions?: number[],\n  t_normals?: number[],\n  t_colors?: number[],\n  t_uvs?: number[],\n\n  indices: Uint32Array | Uint16Array | number[],\n  indicesCount: number,\n  using32Array: boolean,\n  tiles: Record<string, BlockType>,\n  heads: Record<string, any>,\n  signs: Record<string, any>,\n  // isFull: boolean\n  hadErrors: boolean\n  blocksCount: number\n  customBlockModels?: CustomBlockModels\n}\n\nexport interface MesherMainEvents {\n  geometry: { type: 'geometry'; key: string; geometry: MesherGeometryOutput; workerIndex: number };\n  sectionFinished: { type: 'sectionFinished'; key: string; workerIndex: number; processTime?: number };\n  blockStateModelInfo: { type: 'blockStateModelInfo'; info: Record<string, BlockStateModelInfo> };\n  heightmap: { type: 'heightmap'; key: string; heightmap: Uint8Array };\n}\n\nexport type MesherMainEvent = MesherMainEvents[keyof MesherMainEvents]\n\nexport type HighestBlockInfo = { y: number, stateId: number | undefined, biomeId: number | undefined }\n\nexport type BlockStateModelInfo = {\n  cacheKey: string\n  issues: string[]\n  modelNames: string[]\n  conditions: string[]\n}\n\nexport const getBlockAssetsCacheKey = (stateId: number, modelNameOverride?: string) => {\n  return modelNameOverride ? `${stateId}:${modelNameOverride}` : String(stateId)\n}\n","import { BlockModelPartsResolved } from './world'\n\nexport type BlockElement = NonNullable<BlockModelPartsResolved[0][0]['elements']>[0]\n\n\nexport function buildRotationMatrix (axis, degree) {\n  const radians = degree / 180 * Math.PI\n  const cos = Math.cos(radians)\n  const sin = Math.sin(radians)\n\n  const axis0 = { x: 0, y: 1, z: 2 }[axis]\n  const axis1 = (axis0 + 1) % 3\n  const axis2 = (axis0 + 2) % 3\n\n  const matrix = [\n    [0, 0, 0],\n    [0, 0, 0],\n    [0, 0, 0]\n  ]\n\n  matrix[axis0][axis0] = 1\n  matrix[axis1][axis1] = cos\n  matrix[axis1][axis2] = -sin\n  matrix[axis2][axis1] = +sin\n  matrix[axis2][axis2] = cos\n\n  return matrix\n}\n\nexport function vecadd3 (a, b) {\n  if (!b) return a\n  return [a[0] + b[0], a[1] + b[1], a[2] + b[2]]\n}\n\nexport function vecsub3 (a, b) {\n  if (!b) return a\n  return [a[0] - b[0], a[1] - b[1], a[2] - b[2]]\n}\n\nexport function matmul3 (matrix, vector): [number, number, number] {\n  if (!matrix) return vector\n  return [\n    matrix[0][0] * vector[0] + matrix[0][1] * vector[1] + matrix[0][2] * vector[2],\n    matrix[1][0] * vector[0] + matrix[1][1] * vector[1] + matrix[1][2] * vector[2],\n    matrix[2][0] * vector[0] + matrix[2][1] * vector[1] + matrix[2][2] * vector[2]\n  ]\n}\n\nexport function matmulmat3 (a, b) {\n  const te = [[0, 0, 0], [0, 0, 0], [0, 0, 0]]\n\n  const a11 = a[0][0]; const a12 = a[1][0]; const a13 = a[2][0]\n  const a21 = a[0][1]; const a22 = a[1][1]; const a23 = a[2][1]\n  const a31 = a[0][2]; const a32 = a[1][2]; const a33 = a[2][2]\n\n  const b11 = b[0][0]; const b12 = b[1][0]; const b13 = b[2][0]\n  const b21 = b[0][1]; const b22 = b[1][1]; const b23 = b[2][1]\n  const b31 = b[0][2]; const b32 = b[1][2]; const b33 = b[2][2]\n\n  te[0][0] = a11 * b11 + a12 * b21 + a13 * b31\n  te[1][0] = a11 * b12 + a12 * b22 + a13 * b32\n  te[2][0] = a11 * b13 + a12 * b23 + a13 * b33\n\n  te[0][1] = a21 * b11 + a22 * b21 + a23 * b31\n  te[1][1] = a21 * b12 + a22 * b22 + a23 * b32\n  te[2][1] = a21 * b13 + a22 * b23 + a23 * b33\n\n  te[0][2] = a31 * b11 + a32 * b21 + a33 * b31\n  te[1][2] = a31 * b12 + a32 * b22 + a33 * b32\n  te[2][2] = a31 * b13 + a32 * b23 + a33 * b33\n\n  return te\n}\n\nexport const elemFaces = {\n  up: {\n    dir: [0, 1, 0],\n    mask1: [1, 1, 0],\n    mask2: [0, 1, 1],\n    corners: [\n      [0, 1, 1, 0, 1],\n      [1, 1, 1, 1, 1],\n      [0, 1, 0, 0, 0],\n      [1, 1, 0, 1, 0]\n    ]\n  },\n  down: {\n    dir: [0, -1, 0],\n    mask1: [1, 1, 0],\n    mask2: [0, 1, 1],\n    corners: [\n      [1, 0, 1, 0, 1],\n      [0, 0, 1, 1, 1],\n      [1, 0, 0, 0, 0],\n      [0, 0, 0, 1, 0]\n    ]\n  },\n  east: {\n    dir: [1, 0, 0],\n    mask1: [1, 1, 0],\n    mask2: [1, 0, 1],\n    corners: [\n      [1, 1, 1, 0, 0],\n      [1, 0, 1, 0, 1],\n      [1, 1, 0, 1, 0],\n      [1, 0, 0, 1, 1]\n    ]\n  },\n  west: {\n    dir: [-1, 0, 0],\n    mask1: [1, 1, 0],\n    mask2: [1, 0, 1],\n    corners: [\n      [0, 1, 0, 0, 0],\n      [0, 0, 0, 0, 1],\n      [0, 1, 1, 1, 0],\n      [0, 0, 1, 1, 1]\n    ]\n  },\n  north: {\n    dir: [0, 0, -1],\n    mask1: [1, 0, 1],\n    mask2: [0, 1, 1],\n    corners: [\n      [1, 0, 0, 1, 1],\n      [0, 0, 0, 0, 1],\n      [1, 1, 0, 1, 0],\n      [0, 1, 0, 0, 0]\n    ]\n  },\n  south: {\n    dir: [0, 0, 1],\n    mask1: [1, 0, 1],\n    mask2: [0, 1, 1],\n    corners: [\n      [0, 0, 1, 0, 1],\n      [1, 0, 1, 1, 1],\n      [0, 1, 1, 0, 0],\n      [1, 1, 1, 1, 0]\n    ]\n  }\n}\n","/* eslint-disable @stylistic/function-call-argument-newline */\nimport { Vec3 } from 'vec3'\nimport { Block } from 'prismarine-block'\nimport { IndexedData } from 'minecraft-data'\nimport * as THREE from 'three'\nimport { BlockModelPartsResolved } from './world'\nimport { BlockElement, buildRotationMatrix, elemFaces, matmul3, matmulmat3, vecadd3, vecsub3 } from './modelsGeometryCommon'\n\ntype NeighborSide = 'up' | 'down' | 'east' | 'west' | 'north' | 'south'\n\nfunction tintToGl (tint) {\n  const r = (tint >> 16) & 0xff\n  const g = (tint >> 8) & 0xff\n  const b = tint & 0xff\n  return [r / 255, g / 255, b / 255]\n}\n\ntype Neighbors = Partial<Record<NeighborSide, boolean>>\nfunction renderElement (element: BlockElement, doAO: boolean, attr, globalMatrix, globalShift, block: Block | undefined, biome: string, neighbors: Neighbors) {\n  const cursor = new Vec3(0, 0, 0)\n\n  // const key = `${position.x},${position.y},${position.z}`\n  // if (!globalThis.allowedBlocks.includes(key)) return\n  // const cullIfIdentical = block.name.indexOf('glass') >= 0\n\n  // eslint-disable-next-line guard-for-in\n  for (const face in element.faces) {\n    const eFace = element.faces[face]\n    const { corners, mask1, mask2 } = elemFaces[face]\n    const dir = matmul3(globalMatrix, elemFaces[face].dir)\n\n    if (eFace.cullface) {\n      if (neighbors[face]) continue\n    }\n\n    const minx = element.from[0]\n    const miny = element.from[1]\n    const minz = element.from[2]\n    const maxx = element.to[0]\n    const maxy = element.to[1]\n    const maxz = element.to[2]\n\n    const texture = eFace.texture as any\n    const { u } = texture\n    const { v } = texture\n    const { su } = texture\n    const { sv } = texture\n\n    const ndx = Math.floor(attr.positions.length / 3)\n\n    let tint = [1, 1, 1]\n    if (eFace.tintindex !== undefined) {\n      if (eFace.tintindex === 0) {\n        // TODO\n        // if (block.name === 'redstone_wire') {\n        //   tint = tints.redstone[`${block.getProperties().power}`]\n        // } else if (block.name === 'birch_leaves' ||\n        //   block.name === 'spruce_leaves' ||\n        //   block.name === 'lily_pad') {\n        //   tint = tints.constant[block.name]\n        // } else if (block.name.includes('leaves') || block.name === 'vine') {\n        //   tint = tints.foliage[biome]\n        // } else {\n        //   tint = tints.grass[biome]\n        // }\n        const grassTint = [145 / 255, 189 / 255, 89 / 255]\n        tint = grassTint\n      }\n    }\n\n    // UV rotation\n    const r = eFace.rotation || 0\n    const uvcs = Math.cos(r * Math.PI / 180)\n    const uvsn = -Math.sin(r * Math.PI / 180)\n\n    let localMatrix = null as any\n    let localShift = null as any\n\n    if (element.rotation) {\n      // todo do we support rescale?\n      localMatrix = buildRotationMatrix(\n        element.rotation.axis,\n        element.rotation.angle\n      )\n\n      localShift = vecsub3(\n        element.rotation.origin,\n        matmul3(\n          localMatrix,\n          element.rotation.origin\n        )\n      )\n    }\n\n    const aos: number[] = []\n    // const neighborPos = position.plus(new Vec3(...dir))\n    // const baseLight = world.getLight(neighborPos, undefined, undefined, block.name) / 15\n    const baseLight = 1\n    for (const pos of corners) {\n      let vertex = [\n        (pos[0] ? maxx : minx),\n        (pos[1] ? maxy : miny),\n        (pos[2] ? maxz : minz)\n      ]\n\n      vertex = vecadd3(matmul3(localMatrix, vertex), localShift)\n      vertex = vecadd3(matmul3(globalMatrix, vertex), globalShift)\n      vertex = vertex.map(v => v / 16)\n\n      attr.positions.push(\n        vertex[0]/*  + (cursor.x & 15) - 8 */,\n        vertex[1]/*  + (cursor.y & 15) x */,\n        vertex[2]/*  + (cursor.z & 15) - 8 */\n      )\n\n      attr.normals.push(...dir)\n\n      const baseu = (pos[3] - 0.5) * uvcs - (pos[4] - 0.5) * uvsn + 0.5\n      const basev = (pos[3] - 0.5) * uvsn + (pos[4] - 0.5) * uvcs + 0.5\n      attr.uvs.push(baseu * su + u, basev * sv + v)\n\n      let light = 1\n      if (doAO) {\n        const cornerLightResult = 15\n\n        const side1Block = 0\n        const side2Block = 0\n        const cornerBlock = 0\n\n        const ao = (side1Block && side2Block) ? 0 : (3 - (side1Block + side2Block + cornerBlock))\n        // todo light should go upper on lower blocks\n        light = (ao + 1) / 4 * (cornerLightResult / 15)\n        aos.push(ao)\n      }\n\n      attr.colors.push(baseLight * tint[0] * light, baseLight * tint[1] * light, baseLight * tint[2] * light)\n    }\n\n    // if (needTiles) {\n    //   attr.tiles[`${cursor.x},${cursor.y},${cursor.z}`] ??= {\n    //     block: block.name,\n    //     faces: [],\n    //   }\n    //   attr.tiles[`${cursor.x},${cursor.y},${cursor.z}`].faces.push({\n    //     face,\n    //     neighbor: `${neighborPos.x},${neighborPos.y},${neighborPos.z}`,\n    //     light: baseLight\n    //     // texture: eFace.texture.name,\n    //   })\n    // }\n\n    if (doAO && aos[0] + aos[3] >= aos[1] + aos[2]) {\n      attr.indices.push(\n\n        ndx, ndx + 3, ndx + 2,\n        ndx, ndx + 1, ndx + 3\n      )\n    } else {\n      attr.indices.push(\n\n        ndx, ndx + 1, ndx + 2,\n        ndx + 2, ndx + 1, ndx + 3\n      )\n    }\n  }\n}\n\nexport const renderBlockThreeAttr = (models: BlockModelPartsResolved, block: Block | undefined, biome: string, mcData: IndexedData, variants = [], neighbors: Neighbors = {}) => {\n  const sx = 0\n  const sy = 0\n  const sz = 0\n\n  const attr = {\n    sx: sx + 0.5,\n    sy: sy + 0.5,\n    sz: sz + 0.5,\n    positions: [],\n    normals: [],\n    colors: [],\n    uvs: [],\n    t_positions: [],\n    t_normals: [],\n    t_colors: [],\n    t_uvs: [],\n    indices: [],\n    tiles: {},\n  } as Record<string, any>\n\n  for (const [i, modelVars] of models.entries()) {\n    const model = modelVars[variants[i]] ?? modelVars[0]\n    if (!model) continue\n    let globalMatrix = null as any\n    let globalShift = null as any\n    for (const axis of ['x', 'y', 'z'] as const) {\n      if (axis in model) {\n        if (globalMatrix) { globalMatrix = matmulmat3(globalMatrix, buildRotationMatrix(axis, -(model[axis] ?? 0))) } else { globalMatrix = buildRotationMatrix(axis, -(model[axis] ?? 0)) }\n      }\n    }\n    if (globalMatrix) {\n      globalShift = [8, 8, 8]\n      globalShift = vecsub3(globalShift, matmul3(globalMatrix, globalShift))\n    }\n\n    const ao = model.ao ?? true\n\n    for (const element of model.elements ?? []) {\n      renderElement(element, ao, attr, globalMatrix, globalShift, block, biome, neighbors)\n    }\n  }\n\n  let ndx = attr.positions.length / 3\n  for (let i = 0; i < attr.t_positions.length / 12; i++) {\n    attr.indices.push(\n      ndx, ndx + 1, ndx + 2, ndx + 2, ndx + 1, ndx + 3,\n      // back face\n      ndx, ndx + 2, ndx + 1, ndx + 2, ndx + 3, ndx + 1\n    )\n    ndx += 4\n  }\n\n  attr.positions.push(...attr.t_positions)\n  attr.normals.push(...attr.t_normals)\n  attr.colors.push(...attr.t_colors)\n  attr.uvs.push(...attr.t_uvs)\n\n  delete attr.t_positions\n  delete attr.t_normals\n  delete attr.t_colors\n  delete attr.t_uvs\n\n  attr.positions = new Float32Array(attr.positions) as any\n  attr.normals = new Float32Array(attr.normals) as any\n  attr.colors = new Float32Array(attr.colors) as any\n  attr.uvs = new Float32Array(attr.uvs) as any\n\n  return attr\n}\n\nexport const renderBlockThree = (...args: Parameters<typeof renderBlockThreeAttr>) => {\n  const attr = renderBlockThreeAttr(...args)\n  const data = {\n    geometry: attr\n  }\n\n  const geometry = new THREE.BufferGeometry()\n  geometry.setAttribute('position', new THREE.BufferAttribute(data.geometry.positions, 3))\n  geometry.setAttribute('normal', new THREE.BufferAttribute(data.geometry.normals, 3))\n  geometry.setAttribute('color', new THREE.BufferAttribute(data.geometry.colors, 3))\n  geometry.setAttribute('uv', new THREE.BufferAttribute(data.geometry.uvs, 2))\n  geometry.setIndex(data.geometry.indices)\n  geometry.name = 'block-geometry'\n\n  return geometry\n}\n\nexport const getThreeBlockModelGroup = (material: THREE.Material, ...args: Parameters<typeof renderBlockThree>) => {\n  const geometry = renderBlockThree(...args)\n  const mesh = new THREE.Mesh(geometry, material)\n  mesh.position.set(-0.5, -0.5, -0.5)\n  const group = new THREE.Group()\n  group.add(mesh)\n  group.rotation.set(0, -THREE.MathUtils.degToRad(90), 0, 'ZYX')\n  globalThis.mesh = group\n  return group\n  // return new THREE.Mesh(new THREE.BoxGeometry(1, 1, 1), new THREE.MeshPhongMaterial({ color: 0x00_00_ff, transparent: true, opacity: 0.5 }))\n}\n\nexport const setBlockPosition = (object: THREE.Object3D, position: { x: number, y: number, z: number }) => {\n  object.position.set(position.x + 0.5, position.y + 0.5, position.z + 0.5)\n}\n","// eslint-disable-next-line import/no-named-as-default\nimport GUI from 'lil-gui'\n\nexport interface ParamMeta {\n  min?: number\n  max?: number\n  step?: number\n}\n\nexport class DebugGui {\n  private gui: GUI\n  private readonly storageKey: string\n  private target: any\n  private readonly params: string[]\n  private readonly paramsMeta: Record<string, ParamMeta>\n  private _visible = false // Default to not visible\n  private readonly initialValues: Record<string, any> = {} // Store initial values\n  private initialized = false\n\n  constructor (id: string, target: any, params?: string[], paramsMeta?: Record<string, ParamMeta>) {\n    this.gui = new GUI()\n    this.storageKey = `debug_params_${id}`\n    this.target = target\n    this.paramsMeta = paramsMeta ?? {}\n    this.params = params ?? Object.keys(target)\n\n    // Store initial values\n    for (const param of this.params) {\n      this.initialValues[param] = target[param]\n    }\n\n    // Hide by default\n    this.gui.domElement.style.display = 'none'\n  }\n\n  // Initialize and show the GUI\n  activate () {\n    if (!this.initialized) {\n      this.loadSavedValues()\n      this.setupControls()\n      this.initialized = true\n    }\n    this.show()\n    return this\n  }\n\n  // Getter for visibility\n  get visible (): boolean {\n    return this._visible\n  }\n\n  // Setter for visibility\n  set visible (value: boolean) {\n    this._visible = value\n    this.gui.domElement.style.display = value ? 'block' : 'none'\n    this.saveVisibility()\n  }\n\n  private loadSavedValues () {\n    try {\n      const saved = localStorage.getItem(this.storageKey)\n      if (saved) {\n        const values = JSON.parse(saved)\n        // Apply saved values to target\n        for (const param of this.params) {\n          if (param in values) {\n            const value = values[param]\n            if (value !== null) {\n              this.target[param] = value\n            }\n          }\n        }\n      }\n    } catch (e) {\n      console.warn('Failed to load debug values:', e)\n    }\n  }\n\n  private saveValues (deleteKey = false) {\n    try {\n      const values = {}\n      for (const param of this.params) {\n        values[param] = this.target[param]\n      }\n      if (deleteKey) {\n        localStorage.removeItem(this.storageKey)\n      } else {\n        localStorage.setItem(this.storageKey, JSON.stringify(values))\n      }\n    } catch (e) {\n      console.warn('Failed to save debug values:', e)\n    }\n  }\n\n  private saveVisibility () {\n    try {\n      localStorage.setItem(`${this.storageKey}_visible`, this._visible.toString())\n    } catch (e) {\n      console.warn('Failed to save debug visibility:', e)\n    }\n  }\n\n  private setupControls () {\n    // Add visibility toggle at the top\n    this.gui.add(this, 'visible').name('Show Controls')\n    this.gui.add({ resetAll: () => {\n      for (const param of this.params) {\n        this.target[param] = this.initialValues[param]\n      }\n      this.saveValues(true)\n      this.gui.destroy()\n      this.gui = new GUI()\n      this.setupControls()\n    } }, 'resetAll').name('Reset All Parameters')\n\n    for (const param of this.params) {\n      const value = this.target[param]\n      const meta = this.paramsMeta[param] ?? {}\n\n      if (typeof value === 'number') {\n        // For numbers, use meta values or calculate reasonable defaults\n        const min = meta.min ?? value - Math.abs(value * 2)\n        const max = meta.max ?? value + Math.abs(value * 2)\n        const step = meta.step ?? Math.abs(value) / 100\n\n        this.gui.add(this.target, param, min, max, step)\n          .onChange(() => this.saveValues())\n      } else if (typeof value === 'boolean') {\n        // For booleans, create a checkbox\n        this.gui.add(this.target, param)\n          .onChange(() => this.saveValues())\n      } else if (typeof value === 'string' && ['x', 'y', 'z'].includes(param)) {\n        // Special case for xyz coordinates\n        const min = meta.min ?? -10\n        const max = meta.max ?? 10\n        const step = meta.step ?? 0.1\n\n        this.gui.add(this.target, param, min, max, step)\n          .onChange(() => this.saveValues())\n      } else if (Array.isArray(value)) {\n        // For arrays, create a dropdown\n        this.gui.add(this.target, param, value)\n          .onChange(() => this.saveValues())\n      }\n    }\n  }\n\n  // Method to manually trigger save\n  save () {\n    this.saveValues()\n    this.saveVisibility()\n  }\n\n  // Method to destroy the GUI and clean up\n  destroy () {\n    this.saveVisibility()\n    this.gui.destroy()\n  }\n\n  // Toggle visibility\n  toggle () {\n    this.visible = !this.visible\n  }\n\n  // Show the GUI\n  show () {\n    this.visible = true\n  }\n\n  // Hide the GUI\n  hide () {\n    this.visible = false\n  }\n}\n","import * as tweenJs from '@tweenjs/tween.js'\n\nexport class AnimationController {\n  private currentAnimation: tweenJs.Group | null = null\n  private isAnimating = false\n  private cancelRequested = false\n  private completionCallbacks: Array<() => void> = []\n  private currentCancelCallback: (() => void) | null = null\n\n  /** Main method */\n  async startAnimation (createAnimation: () => tweenJs.Group, onCancelled?: () => void): Promise<void> {\n    if (this.isAnimating) {\n      await this.cancelCurrentAnimation()\n    }\n\n    return new Promise((resolve) => {\n      this.isAnimating = true\n      this.cancelRequested = false\n      this.currentCancelCallback = onCancelled ?? null\n      this.currentAnimation = createAnimation()\n\n      this.completionCallbacks.push(() => {\n        this.isAnimating = false\n        this.currentAnimation = null\n        resolve()\n      })\n    })\n  }\n\n  /** Main method */\n  async cancelCurrentAnimation (): Promise<void> {\n    if (!this.isAnimating) return\n\n    if (this.currentCancelCallback) {\n      const callback = this.currentCancelCallback\n      this.currentCancelCallback = null\n      callback()\n    }\n\n    return new Promise((resolve) => {\n      this.cancelRequested = true\n      this.completionCallbacks.push(() => {\n        resolve()\n      })\n    })\n  }\n\n  animationCycleFinish () {\n    if (this.cancelRequested) this.forceFinish()\n  }\n\n  forceFinish (callComplete = true) {\n    if (!this.isAnimating) return\n\n    if (this.currentAnimation) {\n      for (const tween of this.currentAnimation.getAll()) tween.stop()\n      this.currentAnimation.removeAll()\n      this.currentAnimation = null\n    }\n\n    this.isAnimating = false\n    this.cancelRequested = false\n\n    const callbacks = [...this.completionCallbacks]\n    this.completionCallbacks = []\n    if (callComplete) {\n      for (const cb of callbacks) cb()\n    }\n  }\n\n  /** Required method */\n  update () {\n    if (this.currentAnimation) {\n      this.currentAnimation.update()\n    }\n  }\n\n  get isActive () {\n    return this.isAnimating\n  }\n\n  get shouldCancel () {\n    return this.cancelRequested\n  }\n}\n","import * as tweenJs from '@tweenjs/tween.js'\nimport { AnimationController } from './animationController'\n\nexport type StateProperties = Record<string, number>\nexport type StateGetterFn = () => StateProperties\nexport type StateSetterFn = (property: string, value: number) => void\n\n// Speed in units per second for each property type\nconst DEFAULT_SPEEDS = {\n  x: 3000, // pixels/units per second\n  y: 3000,\n  z: 3000,\n  rotation: Math.PI, // radians per second\n  scale: 1, // scale units per second\n  default: 3000 // default speed for unknown properties\n}\n\nexport class SmoothSwitcher {\n  private readonly animationController = new AnimationController()\n  // private readonly currentState: StateProperties = {}\n  private readonly defaultState: StateProperties\n  private readonly speeds: Record<string, number>\n  public currentStateName = ''\n  public transitioningToStateName = ''\n\n  constructor (\n    public getState: StateGetterFn,\n    public setState: StateSetterFn,\n    speeds?: Partial<Record<string, number>>\n  ) {\n\n    // Initialize speeds with defaults and overrides\n    this.speeds = { ...DEFAULT_SPEEDS }\n    if (speeds) {\n      Object.assign(this.speeds, speeds)\n    }\n\n    // Store initial values\n    this.defaultState = this.getState()\n  }\n\n  /**\n   * Calculate transition duration based on the largest property change\n   */\n  private calculateDuration (newState: Partial<StateProperties>): number {\n    let maxDuration = 0\n    const currentState = this.getState()\n\n    for (const [key, targetValue] of Object.entries(newState)) {\n      const currentValue = currentState[key]\n      const diff = Math.abs(targetValue! - currentValue)\n      const speed = this.getPropertySpeed(key)\n      const duration = (diff / speed) * 1000 // Convert to milliseconds\n\n      maxDuration = Math.max(maxDuration, duration)\n    }\n\n    // Ensure minimum duration of 50ms and maximum of 2000ms\n    return Math.min(Math.max(maxDuration, 200), 2000)\n  }\n\n  private getPropertySpeed (property: string): number {\n    // Check for specific property speed\n    if (property in this.speeds) {\n      return this.speeds[property]\n    }\n\n    // Check for property type (rotation, scale, etc.)\n    if (property.toLowerCase().includes('rotation')) return this.speeds.rotation\n    if (property.toLowerCase().includes('scale')) return this.speeds.scale\n    if (property.toLowerCase() === 'x' || property.toLowerCase() === 'y' || property.toLowerCase() === 'z') {\n      return this.speeds[property]\n    }\n\n    return this.speeds.default\n  }\n\n  /**\n   * Start a transition to a new state\n   * @param newState Partial state - only need to specify properties that change\n   * @param easing Easing function to use\n   */\n  startTransition (\n    newState: Partial<StateProperties>,\n    stateName?: string,\n    onEnd?: () => void,\n    easing: (amount: number) => number = tweenJs.Easing.Linear.None,\n    onCancelled?: () => void\n  ): void {\n    if (this.isTransitioning) {\n      this.animationController.forceFinish(false)\n    }\n\n    this.transitioningToStateName = stateName ?? ''\n    const state = this.getState()\n\n    const duration = this.calculateDuration(newState)\n    // console.log('duration', duration, JSON.stringify(state), JSON.stringify(newState))\n\n    void this.animationController.startAnimation(() => {\n      const group = new tweenJs.Group()\n      new tweenJs.Tween(state, group)\n        .to(newState, duration)\n        .easing(easing)\n        .onUpdate((obj) => {\n          for (const key of Object.keys(obj)) {\n            this.setState(key, obj[key])\n          }\n        })\n        .onComplete(() => {\n          this.animationController.forceFinish()\n          this.currentStateName = this.transitioningToStateName\n          this.transitioningToStateName = ''\n          onEnd?.()\n        })\n        .start()\n      return group\n    }, onCancelled)\n  }\n\n  /**\n   * Reset to default state\n   */\n  reset (): void {\n    this.startTransition(this.defaultState)\n  }\n\n\n  /**\n   * Update the animation (should be called in your render/update loop)\n   */\n  update (): void {\n    this.animationController.update()\n  }\n\n  /**\n   * Force finish the current transition\n   */\n  forceFinish (): void {\n    this.animationController.forceFinish()\n  }\n\n  /**\n   * Start a new transition to the specified state\n   */\n  transitionTo (\n    newState: Partial<StateProperties>,\n    stateName?: string,\n    onEnd?: () => void,\n    onCancelled?: () => void\n  ): void {\n    this.startTransition(newState, stateName, onEnd, tweenJs.Easing.Linear.None, onCancelled)\n  }\n\n  /**\n   * Get the current value of a property\n   */\n  getCurrentValue (property: string): number {\n    return this.getState()[property]\n  }\n\n  /**\n   * Check if currently transitioning\n   */\n  get isTransitioning (): boolean {\n    return this.animationController.isActive\n  }\n}\n","import { subscribeKey } from 'valtio/utils'\n\n// eslint-disable-next-line max-params\nexport function watchProperty<T extends Record<string, any>, K> (asyncGetter: (value: T[keyof T]) => Promise<K>, valtioProxy: T, key: keyof T, readySetter: (res: K) => void, cleanup?: (res: K) => void) {\n  let i = 0\n  let lastRes: K | undefined\n  const request = async () => {\n    const req = ++i\n    const res = await asyncGetter(valtioProxy[key])\n    if (req === i) {\n      if (lastRes) {\n        cleanup?.(lastRes)\n      }\n      readySetter(res)\n      lastRes = res\n    } else {\n      // rejected\n      cleanup?.(res)\n    }\n  }\n  void request()\n  return subscribeKey(valtioProxy, key, request)\n}\n","import * as THREE from 'three'\nimport { getLoadedImage } from 'mc-assets/dist/utils'\nimport { createCanvas } from '../lib/utils'\n\nexport const disposeObject = (obj: THREE.Object3D, cleanTextures = false) => {\n  // not cleaning texture there as it might be used by other objects, but would be good to also do that\n  if (obj instanceof THREE.Mesh) {\n    obj.geometry?.dispose?.()\n    obj.material?.dispose?.()\n  }\n  if (obj.children) {\n    // eslint-disable-next-line unicorn/no-array-for-each\n    obj.children.forEach(child => disposeObject(child, cleanTextures))\n  }\n  if (cleanTextures) {\n    if (obj instanceof THREE.Mesh) {\n      obj.material?.map?.dispose?.()\n    }\n  }\n}\n\nlet textureCache: Record<string, THREE.Texture> = {}\nlet imagesPromises: Record<string, Promise<THREE.Texture>> = {}\n\nexport const loadThreeJsTextureFromUrlSync = (imageUrl: string) => {\n  const texture = new THREE.Texture()\n  const promise = getLoadedImage(imageUrl).then(image => {\n    texture.image = image\n    texture.needsUpdate = true\n    return texture\n  })\n  return {\n    texture,\n    promise\n  }\n}\n\nexport const loadThreeJsTextureFromUrl = async (imageUrl: string) => {\n  const loaded = new THREE.TextureLoader().loadAsync(imageUrl)\n  return loaded\n}\n\nexport const loadThreeJsTextureFromBitmap = (image: ImageBitmap) => {\n  const canvas = createCanvas(image.width, image.height)\n  const ctx = canvas.getContext('2d')!\n  ctx.drawImage(image, 0, 0)\n  const texture = new THREE.Texture(canvas)\n  texture.magFilter = THREE.NearestFilter\n  texture.minFilter = THREE.NearestFilter\n  return texture\n}\n\nexport async function loadTexture (texture: string, cb: (texture: THREE.Texture) => void, onLoad?: () => void): Promise<void> {\n  const cached = textureCache[texture]\n  if (!cached) {\n    const { promise, resolve } = Promise.withResolvers<THREE.Texture>()\n    const t = loadThreeJsTextureFromUrlSync(texture)\n    textureCache[texture] = t.texture\n    void t.promise.then(resolve)\n    imagesPromises[texture] = promise\n  }\n\n  cb(textureCache[texture])\n  void imagesPromises[texture].then(() => {\n    onLoad?.()\n  })\n}\n\nexport const clearTextureCache = () => {\n  textureCache = {}\n  imagesPromises = {}\n}\n\n","import * as THREE from 'three'\nimport * as tweenJs from '@tweenjs/tween.js'\nimport PrismarineItem from 'prismarine-item'\nimport worldBlockProvider, { WorldBlockProvider } from 'mc-assets/dist/worldBlockProvider'\nimport { BlockModel } from 'mc-assets'\nimport { getThreeBlockModelGroup, renderBlockThree, setBlockPosition } from '../lib/mesher/standaloneRenderer'\nimport { MovementState, PlayerStateRenderer } from '../lib/basePlayerState'\nimport { DebugGui } from '../lib/DebugGui'\nimport { SmoothSwitcher } from '../lib/smoothSwitcher'\nimport { watchProperty } from '../lib/utils/proxy'\nimport { WorldRendererConfig } from '../lib/worldrendererCommon'\nimport { getMyHand } from './hand'\nimport { WorldRendererThree } from './worldrendererThree'\nimport { disposeObject } from './threeJsUtils'\n\nexport type HandItemBlock = {\n  name?\n  properties?\n  fullItem?\n  type: 'block' | 'item' | 'hand'\n  id?: number\n}\n\nconst rotationPositionData = {\n  itemRight: {\n    'rotation': [\n      0,\n      -90,\n      25\n    ],\n    'translation': [\n      1.13,\n      3.2,\n      1.13\n    ],\n    'scale': [\n      0.68,\n      0.68,\n      0.68\n    ]\n  },\n  itemLeft: {\n    'rotation': [\n      0,\n      90,\n      -25\n    ],\n    'translation': [\n      1.13,\n      3.2,\n      1.13\n    ],\n    'scale': [\n      0.68,\n      0.68,\n      0.68\n    ]\n  },\n  blockRight: {\n    'rotation': [\n      0,\n      45,\n      0\n    ],\n    'translation': [\n      0,\n      0,\n      0\n    ],\n    'scale': [\n      0.4,\n      0.4,\n      0.4\n    ]\n  },\n  blockLeft: {\n    'rotation': [\n      0,\n      225,\n      0\n    ],\n    'translation': [\n      0,\n      0,\n      0\n    ],\n    'scale': [\n      0.4,\n      0.4,\n      0.4\n    ]\n  }\n}\n\nexport default class HoldingBlock {\n  // TODO refactor with the tree builder for better visual understanding\n  holdingBlock: THREE.Object3D | undefined = undefined\n  blockSwapAnimation: {\n    switcher: SmoothSwitcher\n    // hidden: boolean\n  } | undefined = undefined\n  cameraGroup = new THREE.Mesh()\n  objectOuterGroup = new THREE.Group() // 3\n  objectInnerGroup = new THREE.Group() // 4\n  holdingBlockInnerGroup = new THREE.Group() // 5\n  camera = new THREE.PerspectiveCamera(75, 1, 0.1, 100)\n  stopUpdate = false\n  lastHeldItem: HandItemBlock | undefined\n  isSwinging = false\n  nextIterStopCallbacks: Array<() => void> | undefined\n  idleAnimator: HandIdleAnimator | undefined\n  ready = false\n  lastUpdate = 0\n  playerHand: THREE.Object3D | undefined\n  offHandDisplay = false\n  offHandModeLegacy = false\n\n  swingAnimator: HandSwingAnimator | undefined\n  config: WorldRendererConfig\n\n  constructor (public worldRenderer: WorldRendererThree, public offHand = false) {\n    this.initCameraGroup()\n    this.worldRenderer.onReactivePlayerStateUpdated('heldItemMain', () => {\n      if (!this.offHand) {\n        this.updateItem()\n      }\n    }, false)\n    this.worldRenderer.onReactivePlayerStateUpdated('heldItemOff', () => {\n      if (this.offHand) {\n        this.updateItem()\n      }\n    }, false)\n    this.config = worldRenderer.displayOptions.inWorldRenderingConfig\n\n    this.offHandDisplay = this.offHand\n    // this.offHandDisplay = true\n    if (!this.offHand) {\n      // load default hand\n      void getMyHand().then((hand) => {\n        this.playerHand = hand\n        // trigger update\n        this.updateItem()\n      }).then(() => {\n        // now watch over the player skin\n        watchProperty(\n          async () => {\n            return getMyHand(this.worldRenderer.playerStateReactive.playerSkin, this.worldRenderer.playerStateReactive.onlineMode ? this.worldRenderer.playerStateReactive.username : undefined)\n          },\n          this.worldRenderer.playerStateReactive,\n          'playerSkin',\n          (newHand) => {\n            if (newHand) {\n              this.playerHand = newHand\n              // trigger update\n              this.updateItem()\n            }\n          },\n          (oldHand) => {\n            disposeObject(oldHand!, true)\n          }\n        )\n      })\n    }\n  }\n\n  updateItem () {\n    if (!this.ready) return\n    const item = this.offHand ? this.worldRenderer.playerStateReactive.heldItemOff : this.worldRenderer.playerStateReactive.heldItemMain\n    if (item) {\n      void this.setNewItem(item)\n    } else if (this.offHand) {\n      void this.setNewItem()\n    } else {\n      void this.setNewItem({\n        type: 'hand',\n      })\n    }\n  }\n\n  initCameraGroup () {\n    this.cameraGroup = new THREE.Mesh()\n  }\n\n  startSwing () {\n    this.swingAnimator?.startSwing()\n  }\n\n  stopSwing () {\n    this.swingAnimator?.stopSwing()\n  }\n\n  render (originalCamera: THREE.PerspectiveCamera, renderer: THREE.WebGLRenderer, ambientLight: THREE.AmbientLight, directionalLight: THREE.DirectionalLight) {\n    if (!this.lastHeldItem) return\n    const now = performance.now()\n    if (this.lastUpdate && now - this.lastUpdate > 50) { // one tick\n      void this.replaceItemModel(this.lastHeldItem)\n    }\n\n    // Only update idle animation if not swinging\n    if (this.swingAnimator?.isCurrentlySwinging() || this.swingAnimator?.debugParams.animationStage) {\n      this.swingAnimator?.update()\n    } else {\n      this.idleAnimator?.update()\n    }\n\n    this.blockSwapAnimation?.switcher.update()\n\n    const scene = new THREE.Scene()\n    scene.add(this.cameraGroup)\n    // if (this.camera.aspect !== originalCamera.aspect) {\n    //   this.camera.aspect = originalCamera.aspect\n    //   this.camera.updateProjectionMatrix()\n    // }\n    this.updateCameraGroup()\n    scene.add(ambientLight.clone())\n    scene.add(directionalLight.clone())\n\n    const viewerSize = renderer.getSize(new THREE.Vector2())\n    const minSize = Math.min(viewerSize.width, viewerSize.height)\n    const x = viewerSize.width - minSize\n\n    // Mirror the scene for offhand by scaling\n    const { offHandDisplay } = this\n    if (offHandDisplay) {\n      this.cameraGroup.scale.x = -1\n    }\n\n    renderer.autoClear = false\n    renderer.clearDepth()\n    if (this.offHandDisplay) {\n      renderer.setViewport(0, 0, minSize, minSize)\n    } else {\n      const x = viewerSize.width - minSize\n      // if (x) x -= x / 4\n      renderer.setViewport(x, 0, minSize, minSize)\n    }\n    renderer.render(scene, this.camera)\n    renderer.setViewport(0, 0, viewerSize.width, viewerSize.height)\n\n    // Reset the mirroring after rendering\n    if (offHandDisplay) {\n      this.cameraGroup.scale.x = 1\n    }\n  }\n\n  // worldTest () {\n  //   const mesh = new THREE.Mesh(new THREE.BoxGeometry(1, 1, 1), new THREE.MeshPhongMaterial({ color: 0x00_00_ff, transparent: true, opacity: 0.5 }))\n  //   mesh.position.set(0.5, 0.5, 0.5)\n  //   const group = new THREE.Group()\n  //   group.add(mesh)\n  //   group.position.set(-0.5, -0.5, -0.5)\n  //   const outerGroup = new THREE.Group()\n  //   outerGroup.add(group)\n  //   outerGroup.position.set(this.camera.position.x, this.camera.position.y, this.camera.position.z)\n  //   this.scene.add(outerGroup)\n\n  //   new tweenJs.Tween(group.rotation).to({ z: THREE.MathUtils.degToRad(90) }, 1000).yoyo(true).repeat(Infinity).start()\n  // }\n\n  async playBlockSwapAnimation (forceState: 'appeared' | 'disappeared') {\n    this.blockSwapAnimation ??= {\n      switcher: new SmoothSwitcher(\n        () => ({\n          y: this.objectInnerGroup.position.y\n        }),\n        (property, value) => {\n          if (property === 'y') this.objectInnerGroup.position.y = value\n        },\n        {\n          y: 16 // units per second\n        }\n      )\n    }\n\n    const newState = forceState\n    // if (forceState && newState !== forceState) {\n    //   throw new Error(`forceState does not match current state ${forceState} !== ${newState}`)\n    // }\n\n    const targetY = this.objectInnerGroup.position.y + (this.objectInnerGroup.scale.y * 1.5 * (newState === 'appeared' ? 1 : -1))\n\n    // if (newState === this.blockSwapAnimation.switcher.transitioningToStateName) {\n    //   return false\n    // }\n\n    let cancelled = false\n    return new Promise<boolean>((resolve) => {\n      this.blockSwapAnimation!.switcher.transitionTo(\n        { y: targetY },\n        newState,\n        () => {\n          if (!cancelled) {\n            resolve(true)\n          }\n        },\n        () => {\n          cancelled = true\n          resolve(false)\n        }\n      )\n    })\n  }\n\n  isDifferentItem (block: HandItemBlock | undefined) {\n    const Item = PrismarineItem(this.worldRenderer.version)\n    if (!this.lastHeldItem) {\n      return true\n    }\n    if (this.lastHeldItem.name !== block?.name) {\n      return true\n    }\n    // eslint-disable-next-line sonarjs/prefer-single-boolean-return\n    if (!Item.equal(this.lastHeldItem.fullItem, block?.fullItem ?? {}) || JSON.stringify(this.lastHeldItem.fullItem.components) !== JSON.stringify(block?.fullItem?.components)) {\n      return true\n    }\n\n    return false\n  }\n\n  updateCameraGroup () {\n    if (this.stopUpdate) return\n    const { camera } = this\n    this.cameraGroup.position.copy(camera.position)\n    this.cameraGroup.rotation.copy(camera.rotation)\n\n    // const viewerSize = viewer.renderer.getSize(new THREE.Vector2())\n    // const aspect = viewerSize.width / viewerSize.height\n    const aspect = 1\n\n\n    // Adjust the position based on the aspect ratio\n    const { position, scale: scaleData } = this.getHandHeld3d()\n    const distance = -position.z\n    const side = this.offHandModeLegacy ? -1 : 1\n    this.objectOuterGroup.position.set(\n      distance * position.x * aspect * side,\n      distance * position.y,\n      -distance\n    )\n\n    // const scale = Math.min(0.8, Math.max(1, 1 * aspect))\n    const scale = scaleData * 2.22 * 0.2\n    this.objectOuterGroup.scale.set(scale, scale, scale)\n  }\n\n  lastItemModelName: string | undefined\n  private async createItemModel (handItem: HandItemBlock): Promise<{ model: THREE.Object3D; type: 'hand' | 'block' | 'item' } | undefined> {\n    this.lastUpdate = performance.now()\n    if (!handItem || (handItem.type === 'hand' && !this.playerHand)) return undefined\n\n    let blockInner: THREE.Object3D | undefined\n    if (handItem.type === 'item' || handItem.type === 'block') {\n      const result = this.worldRenderer.entities.getItemMesh({\n        ...handItem.fullItem,\n        itemId: handItem.id,\n      }, {\n        'minecraft:display_context': 'firstperson',\n        'minecraft:use_duration': this.worldRenderer.playerStateReactive.itemUsageTicks,\n        'minecraft:using_item': !!this.worldRenderer.playerStateReactive.itemUsageTicks,\n      }, false, this.lastItemModelName)\n      if (result) {\n        const { mesh: itemMesh, isBlock, modelName } = result\n        if (isBlock) {\n          blockInner = itemMesh\n          handItem.type = 'block'\n        } else {\n          itemMesh.position.set(0.5, 0.5, 0.5)\n          blockInner = itemMesh\n          handItem.type = 'item'\n        }\n        this.lastItemModelName = modelName\n      }\n    } else {\n      blockInner = this.playerHand!\n    }\n    if (!blockInner) return\n    blockInner.name = 'holdingBlock'\n\n    const rotationDeg = this.getHandHeld3d().rotation\n    blockInner.rotation.x = THREE.MathUtils.degToRad(rotationDeg.x)\n    blockInner.rotation.y = THREE.MathUtils.degToRad(rotationDeg.y)\n    blockInner.rotation.z = THREE.MathUtils.degToRad(rotationDeg.z)\n\n    return { model: blockInner, type: handItem.type }\n  }\n\n  async replaceItemModel (handItem?: HandItemBlock): Promise<void> {\n    // if switch animation is in progress, do not replace the item\n    if (this.blockSwapAnimation?.switcher.isTransitioning) return\n\n    if (!handItem) {\n      this.holdingBlock?.removeFromParent()\n      this.holdingBlock = undefined\n      this.swingAnimator?.stopSwing()\n      this.swingAnimator = undefined\n      this.idleAnimator = undefined\n      return\n    }\n\n    const result = await this.createItemModel(handItem)\n    if (!result) return\n\n    // Update the model without changing the group structure\n    this.holdingBlock?.removeFromParent()\n    this.holdingBlock = result.model\n    this.holdingBlockInnerGroup.add(result.model)\n\n\n  }\n\n  testUnknownBlockSwitch () {\n    void this.setNewItem({\n      type: 'item',\n      name: 'minecraft:some-unknown-block',\n      id: 0,\n      fullItem: {}\n    })\n  }\n\n  switchRequest = 0\n  async setNewItem (handItem?: HandItemBlock) {\n    if (!this.isDifferentItem(handItem)) return\n    this.lastItemModelName = undefined\n    const switchRequest = ++this.switchRequest\n    this.lastHeldItem = handItem\n    let playAppearAnimation = false\n    if (this.holdingBlock) {\n      // play disappear animation\n      playAppearAnimation = true\n      const result = await this.playBlockSwapAnimation('disappeared')\n      if (!result) return\n      this.holdingBlock?.removeFromParent()\n      this.holdingBlock = undefined\n    }\n\n    if (!handItem) {\n      this.swingAnimator?.stopSwing()\n      this.swingAnimator = undefined\n      this.idleAnimator = undefined\n      this.blockSwapAnimation = undefined\n      return\n    }\n\n    if (switchRequest !== this.switchRequest) return\n    const result = await this.createItemModel(handItem)\n    if (!result || switchRequest !== this.switchRequest) return\n\n    const blockOuterGroup = new THREE.Group()\n    this.holdingBlockInnerGroup.removeFromParent()\n    this.holdingBlockInnerGroup = new THREE.Group()\n    this.holdingBlockInnerGroup.add(result.model)\n    blockOuterGroup.add(this.holdingBlockInnerGroup)\n    this.holdingBlock = result.model\n    this.objectInnerGroup = new THREE.Group()\n    this.objectInnerGroup.add(blockOuterGroup)\n    this.objectInnerGroup.position.set(-0.5, -0.5, -0.5)\n    if (playAppearAnimation) {\n      this.objectInnerGroup.position.y -= this.objectInnerGroup.scale.y * 1.5\n    }\n    Object.assign(blockOuterGroup.position, { x: 0.5, y: 0.5, z: 0.5 })\n\n    this.objectOuterGroup = new THREE.Group()\n    this.objectOuterGroup.add(this.objectInnerGroup)\n\n    this.cameraGroup.add(this.objectOuterGroup)\n    const rotationDeg = this.getHandHeld3d().rotation\n    this.objectOuterGroup.rotation.y = THREE.MathUtils.degToRad(rotationDeg.yOuter)\n\n    if (playAppearAnimation) {\n      await this.playBlockSwapAnimation('appeared')\n    }\n\n    this.swingAnimator = new HandSwingAnimator(this.holdingBlockInnerGroup)\n    this.swingAnimator.type = result.type\n    if (this.config.viewBobbing) {\n      this.idleAnimator = new HandIdleAnimator(this.holdingBlockInnerGroup, this.worldRenderer.playerStateReactive)\n    }\n  }\n\n  getHandHeld3d () {\n    const type = this.lastHeldItem?.type ?? 'hand'\n    const side = this.offHandModeLegacy ? 'Left' : 'Right'\n\n    let scale = 0.8 * 1.15 // default scale for hand\n    let position = {\n      x: 0.4,\n      y: -0.7,\n      z: -0.45\n    }\n    let rotation = {\n      x: -32.4,\n      y: 42.8,\n      z: -41.3,\n      yOuter: 0\n    }\n\n    if (type === 'item') {\n      const itemData = rotationPositionData[`item${side}`]\n      position = {\n        x: -0.05,\n        y: -0.7,\n        z: -0.45\n      }\n      rotation = {\n        x: itemData.rotation[0],\n        y: itemData.rotation[1],\n        z: itemData.rotation[2],\n        yOuter: 0\n      }\n      scale = itemData.scale[0] * 1.15\n    } else if (type === 'block') {\n      const blockData = rotationPositionData[`block${side}`]\n      position = {\n        x: 0.4,\n        y: -0.7,\n        z: -0.45\n      }\n      rotation = {\n        x: blockData.rotation[0],\n        y: blockData.rotation[1],\n        z: blockData.rotation[2],\n        yOuter: 0\n      }\n      scale = blockData.scale[0] * 1.15\n    }\n\n    return {\n      rotation,\n      position,\n      scale\n    }\n  }\n}\n\nclass HandIdleAnimator {\n  globalTime = 0\n  lastTime = 0\n  currentState: MovementState\n  targetState: MovementState\n  defaultPosition: { x: number; y: number; z: number; rotationX: number; rotationY: number; rotationZ: number }\n  private readonly idleOffset = { y: 0, rotationZ: 0 }\n  private readonly tween = new tweenJs.Group()\n  private idleTween: tweenJs.Tween<{ y: number; rotationZ: number }> | null = null\n  private readonly stateSwitcher: SmoothSwitcher\n\n  // Debug parameters\n  private readonly debugParams = {\n    // Transition durations for different state changes\n    walkingSpeed: 8,\n    sprintingSpeed: 16,\n    walkingAmplitude: { x: 1 / 30, y: 1 / 10, rotationZ: 0.25 },\n    sprintingAmplitude: { x: 1 / 30, y: 1 / 10, rotationZ: 0.4 }\n  }\n\n  private readonly debugGui: DebugGui\n\n  constructor (public handMesh: THREE.Object3D, public playerState: PlayerStateRenderer) {\n    this.handMesh = handMesh\n    this.globalTime = 0\n    this.currentState = 'NOT_MOVING'\n    this.targetState = 'NOT_MOVING'\n\n    this.defaultPosition = {\n      x: handMesh.position.x,\n      y: handMesh.position.y,\n      z: handMesh.position.z,\n      rotationX: handMesh.rotation.x,\n      rotationY: handMesh.rotation.y,\n      rotationZ: handMesh.rotation.z\n    }\n\n    // Initialize state switcher with appropriate speeds\n    this.stateSwitcher = new SmoothSwitcher(\n      () => {\n        return {\n          x: this.handMesh.position.x,\n          y: this.handMesh.position.y,\n          z: this.handMesh.position.z,\n          rotationX: this.handMesh.rotation.x,\n          rotationY: this.handMesh.rotation.y,\n          rotationZ: this.handMesh.rotation.z\n        }\n      },\n      (property, value) => {\n        switch (property) {\n          case 'x': this.handMesh.position.x = value; break\n          case 'y': this.handMesh.position.y = value; break\n          case 'z': this.handMesh.position.z = value; break\n          case 'rotationX': this.handMesh.rotation.x = value; break\n          case 'rotationY': this.handMesh.rotation.y = value; break\n          case 'rotationZ': this.handMesh.rotation.z = value; break\n        }\n      },\n      {\n        x: 2, // units per second\n        y: 2,\n        z: 2,\n        rotation: Math.PI // radians per second\n      }\n    )\n\n    // Initialize debug GUI\n    this.debugGui = new DebugGui('idle_animator', this.debugParams)\n    // this.debugGui.activate()\n  }\n\n  private startIdleAnimation () {\n    if (this.idleTween) {\n      this.idleTween.stop()\n    }\n\n    // Start from current position for smooth transition\n    this.idleOffset.y = this.handMesh.position.y - this.defaultPosition.y\n    this.idleOffset.rotationZ = this.handMesh.rotation.z - this.defaultPosition.rotationZ\n\n    this.idleTween = new tweenJs.Tween(this.idleOffset, this.tween)\n      .to({\n        y: 0.05,\n        rotationZ: 0.05\n      }, 3000)\n      .easing(tweenJs.Easing.Sinusoidal.InOut)\n      .yoyo(true)\n      .repeat(Infinity)\n      .start()\n  }\n\n  private stopIdleAnimation () {\n    if (this.idleTween) {\n      this.idleTween.stop()\n      this.idleOffset.y = 0\n      this.idleOffset.rotationZ = 0\n    }\n  }\n\n  private getStateTransform (state: MovementState, time: number) {\n    switch (state) {\n      case 'NOT_MOVING':\n      case 'SNEAKING':\n        return {\n          x: this.defaultPosition.x,\n          y: this.defaultPosition.y,\n          z: this.defaultPosition.z,\n          rotationX: this.defaultPosition.rotationX,\n          rotationY: this.defaultPosition.rotationY,\n          rotationZ: this.defaultPosition.rotationZ\n        }\n      case 'WALKING':\n      case 'SPRINTING': {\n        const speed = state === 'SPRINTING' ? this.debugParams.sprintingSpeed : this.debugParams.walkingSpeed\n        const amplitude = state === 'SPRINTING' ? this.debugParams.sprintingAmplitude : this.debugParams.walkingAmplitude\n\n        return {\n          x: this.defaultPosition.x + Math.sin(time * speed) * amplitude.x,\n          y: this.defaultPosition.y - Math.abs(Math.cos(time * speed)) * amplitude.y,\n          z: this.defaultPosition.z,\n          rotationX: this.defaultPosition.rotationX,\n          rotationY: this.defaultPosition.rotationY,\n          // rotationZ: this.defaultPosition.rotationZ + Math.sin(time * speed) * amplitude.rotationZ\n          rotationZ: this.defaultPosition.rotationZ\n        }\n      }\n    }\n  }\n\n  setState (newState: MovementState) {\n    if (newState === this.targetState) return\n\n    this.targetState = newState\n    const noTransition = false\n    if (this.currentState !== newState) {\n      // Stop idle animation during state transitions\n      this.stopIdleAnimation()\n\n      // Calculate new state transform\n      if (!noTransition) {\n        // this.globalTime = 0\n        const stateTransform = this.getStateTransform(newState, this.globalTime)\n\n        // Start transition to new state\n        this.stateSwitcher.transitionTo(stateTransform, newState)\n        // this.updated = false\n      }\n      this.currentState = newState\n    }\n  }\n\n  updated = false\n  update () {\n    this.stateSwitcher.update()\n\n    const now = performance.now()\n    const deltaTime = (now - this.lastTime) / 1000\n    this.lastTime = now\n\n    // Update global time based on current state\n    if (!this.stateSwitcher.isTransitioning) {\n      switch (this.currentState) {\n        case 'NOT_MOVING':\n        case 'SNEAKING':\n          this.globalTime = Math.PI / 4\n          break\n        case 'SPRINTING':\n        case 'WALKING':\n          this.globalTime += deltaTime\n          break\n      }\n    }\n\n    // Check for state changes from player state\n    if (this.playerState) {\n      const newState = this.playerState.movementState\n      if (newState !== this.targetState) {\n        this.setState(newState)\n      }\n    }\n\n    // If we're not transitioning between states and in a stable state that should have idle animation\n    if (!this.stateSwitcher.isTransitioning &&\n      (this.currentState === 'NOT_MOVING' || this.currentState === 'SNEAKING')) {\n      // Start idle animation if not already running\n      if (!this.idleTween?.isPlaying()) {\n        this.startIdleAnimation()\n      }\n      // Update idle animation\n      this.tween.update()\n\n      // Apply idle offsets\n      this.handMesh.position.y = this.defaultPosition.y + this.idleOffset.y\n      this.handMesh.rotation.z = this.defaultPosition.rotationZ + this.idleOffset.rotationZ\n    }\n\n    // If we're in a movement state and not transitioning, update the movement animation\n    if (!this.stateSwitcher.isTransitioning &&\n      (this.currentState === 'WALKING' || this.currentState === 'SPRINTING')) {\n      const stateTransform = this.getStateTransform(this.currentState, this.globalTime)\n      Object.assign(this.handMesh.position, stateTransform)\n      Object.assign(this.handMesh.rotation, {\n        x: stateTransform.rotationX,\n        y: stateTransform.rotationY,\n        z: stateTransform.rotationZ\n      })\n      // this.stateSwitcher.transitionTo(stateTransform, this.currentState)\n    }\n  }\n\n  getCurrentState () {\n    return this.currentState\n  }\n\n  destroy () {\n    this.stopIdleAnimation()\n    this.stateSwitcher.forceFinish()\n  }\n}\n\nclass HandSwingAnimator {\n  private readonly PI = Math.PI\n  private animationTimer = 0\n  private lastTime = 0\n  private isAnimating = false\n  private stopRequested = false\n  private readonly originalRotation: THREE.Euler\n  private readonly originalPosition: THREE.Vector3\n  private readonly originalScale: THREE.Vector3\n\n  readonly debugParams = {\n    // Animation timing\n    animationTime: 250,\n    animationStage: 0,\n    useClassicSwing: true,\n\n    // Item/Block animation parameters\n    itemSwingXPosScale: -0.8,\n    itemSwingYPosScale: 0.2,\n    itemSwingZPosScale: -0.2,\n    itemHeightScale: -0.6,\n    itemPreswingRotY: 45,\n    itemSwingXRotAmount: -30,\n    itemSwingYRotAmount: -35,\n    itemSwingZRotAmount: -5,\n\n    // Hand/Arm animation parameters\n    armSwingXPosScale: -0.3,\n    armSwingYPosScale: 0.4,\n    armSwingZPosScale: -0.4,\n    armSwingYRotAmount: 70,\n    armSwingZRotAmount: -20,\n    armHeightScale: -0.6\n  }\n\n  private readonly debugGui: DebugGui\n\n  public type: 'hand' | 'block' | 'item' = 'hand'\n\n  constructor (public handMesh: THREE.Object3D) {\n    this.handMesh = handMesh\n    // Store initial transforms\n    this.originalRotation = handMesh.rotation.clone()\n    this.originalPosition = handMesh.position.clone()\n    this.originalScale = handMesh.scale.clone()\n\n    // Initialize debug GUI\n    this.debugGui = new DebugGui('hand_animator', this.debugParams, undefined, {\n      animationStage: {\n        min: 0,\n        max: 1,\n        step: 0.01\n      },\n      // Add ranges for all animation parameters\n      itemSwingXPosScale: { min: -2, max: 2, step: 0.1 },\n      itemSwingYPosScale: { min: -2, max: 2, step: 0.1 },\n      itemSwingZPosScale: { min: -2, max: 2, step: 0.1 },\n      itemHeightScale: { min: -2, max: 2, step: 0.1 },\n      itemPreswingRotY: { min: -180, max: 180, step: 5 },\n      itemSwingXRotAmount: { min: -180, max: 180, step: 5 },\n      itemSwingYRotAmount: { min: -180, max: 180, step: 5 },\n      itemSwingZRotAmount: { min: -180, max: 180, step: 5 },\n      armSwingXPosScale: { min: -2, max: 2, step: 0.1 },\n      armSwingYPosScale: { min: -2, max: 2, step: 0.1 },\n      armSwingZPosScale: { min: -2, max: 2, step: 0.1 },\n      armSwingYRotAmount: { min: -180, max: 180, step: 5 },\n      armSwingZRotAmount: { min: -180, max: 180, step: 5 },\n      armHeightScale: { min: -2, max: 2, step: 0.1 }\n    })\n    // this.debugGui.activate()\n  }\n\n  update () {\n    if (!this.isAnimating && !this.debugParams.animationStage) {\n      // If not animating, ensure we're at original position\n      this.handMesh.rotation.copy(this.originalRotation)\n      this.handMesh.position.copy(this.originalPosition)\n      this.handMesh.scale.copy(this.originalScale)\n      return\n    }\n\n    const now = performance.now()\n    const deltaTime = (now - this.lastTime) / 1000\n    this.lastTime = now\n\n    // Update animation progress\n    this.animationTimer += deltaTime * 1000 // Convert to ms\n\n    // Calculate animation stage (0 to 1)\n    const stage = this.debugParams.animationStage || Math.min(this.animationTimer / this.debugParams.animationTime, 1)\n\n    if (stage >= 1) {\n      // Animation complete\n      if (this.stopRequested) {\n        // If stop was requested, actually stop now that we've completed a swing\n        this.isAnimating = false\n        this.stopRequested = false\n        this.animationTimer = 0\n        this.handMesh.rotation.copy(this.originalRotation)\n        this.handMesh.position.copy(this.originalPosition)\n        this.handMesh.scale.copy(this.originalScale)\n        return\n      }\n      // Otherwise reset timer and continue\n      this.animationTimer = 0\n      return\n    }\n\n    // Start from original transforms\n    this.handMesh.rotation.copy(this.originalRotation)\n    this.handMesh.position.copy(this.originalPosition)\n    this.handMesh.scale.copy(this.originalScale)\n\n    // Calculate swing progress\n    const swingProgress = stage\n    const sqrtProgress = Math.sqrt(swingProgress)\n    const sinProgress = Math.sin(swingProgress * this.PI)\n    const sinSqrtProgress = Math.sin(sqrtProgress * this.PI)\n\n    if (this.type === 'hand') {\n      // Hand animation\n      const xOffset = this.debugParams.armSwingXPosScale * sinSqrtProgress\n      const yOffset = this.debugParams.armSwingYPosScale * Math.sin(sqrtProgress * this.PI * 2)\n      const zOffset = this.debugParams.armSwingZPosScale * sinProgress\n\n      this.handMesh.position.x += xOffset\n      this.handMesh.position.y += yOffset + this.debugParams.armHeightScale * swingProgress\n      this.handMesh.position.z += zOffset\n\n      // Rotations\n      this.handMesh.rotation.y += THREE.MathUtils.degToRad(this.debugParams.armSwingYRotAmount * sinSqrtProgress)\n      this.handMesh.rotation.z += THREE.MathUtils.degToRad(this.debugParams.armSwingZRotAmount * sinProgress)\n    } else {\n      // Item/Block animation\n      const xOffset = this.debugParams.itemSwingXPosScale * sinSqrtProgress\n      const yOffset = this.debugParams.itemSwingYPosScale * Math.sin(sqrtProgress * this.PI * 2)\n      const zOffset = this.debugParams.itemSwingZPosScale * sinProgress\n\n      this.handMesh.position.x += xOffset\n      this.handMesh.position.y += yOffset + this.debugParams.itemHeightScale * swingProgress\n      this.handMesh.position.z += zOffset\n\n      // Pre-swing rotation\n      this.handMesh.rotation.y += THREE.MathUtils.degToRad(this.debugParams.itemPreswingRotY)\n\n      // Swing rotations\n      this.handMesh.rotation.x += THREE.MathUtils.degToRad(this.debugParams.itemSwingXRotAmount * sinProgress)\n      this.handMesh.rotation.y += THREE.MathUtils.degToRad(this.debugParams.itemSwingYRotAmount * sinSqrtProgress)\n      this.handMesh.rotation.z += THREE.MathUtils.degToRad(this.debugParams.itemSwingZRotAmount * sinProgress)\n    }\n  }\n\n  startSwing () {\n    this.stopRequested = false\n    if (this.isAnimating) return\n\n    this.isAnimating = true\n    this.animationTimer = 0\n    this.lastTime = performance.now()\n  }\n\n  stopSwing () {\n    if (!this.isAnimating) return\n    this.stopRequested = true\n  }\n\n  isCurrentlySwinging () {\n    return this.isAnimating\n  }\n}\n\nexport const getBlockMeshFromModel = (material: THREE.Material, model: BlockModel, name: string, blockProvider: WorldBlockProvider) => {\n  const worldRenderModel = blockProvider.transformModel(model, {\n    name,\n    properties: {}\n  }) as any\n  return getThreeBlockModelGroup(material, [[worldRenderModel]], undefined, 'plains', loadedData)\n}\n","import * as THREE from 'three'\n\nexport interface Create3DItemMeshOptions {\n  depth: number\n  pixelSize?: number\n}\n\nexport interface Create3DItemMeshResult {\n  geometry: THREE.BufferGeometry\n  totalVertices: number\n  totalTriangles: number\n}\n\n/**\n * Creates a 3D item geometry with front/back faces and connecting edges\n * from a canvas containing the item texture\n */\nexport function create3DItemMesh (\n  canvas: HTMLCanvasElement,\n  options: Create3DItemMeshOptions\n): Create3DItemMeshResult {\n  const { depth, pixelSize } = options\n\n  // Validate canvas dimensions\n  if (canvas.width <= 0 || canvas.height <= 0) {\n    throw new Error(`Invalid canvas dimensions: ${canvas.width}x${canvas.height}`)\n  }\n\n  const ctx = canvas.getContext('2d')!\n  const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height)\n  const { data } = imageData\n\n  const w = canvas.width\n  const h = canvas.height\n  const halfDepth = depth / 2\n  const actualPixelSize = pixelSize ?? (1 / Math.max(w, h))\n\n  // Find opaque pixels\n  const isOpaque = (x: number, y: number) => {\n    if (x < 0 || y < 0 || x >= w || y >= h) return false\n    const i = (y * w + x) * 4\n    return data[i + 3] > 128 // alpha > 128\n  }\n\n  const vertices: number[] = []\n  const indices: number[] = []\n  const uvs: number[] = []\n  const normals: number[] = []\n\n  let vertexIndex = 0\n\n  // Helper to add a vertex\n  const addVertex = (x: number, y: number, z: number, u: number, v: number, nx: number, ny: number, nz: number) => {\n    vertices.push(x, y, z)\n    uvs.push(u, v)\n    normals.push(nx, ny, nz)\n    return vertexIndex++\n  }\n\n  // Helper to add a quad (two triangles)\n  const addQuad = (v0: number, v1: number, v2: number, v3: number) => {\n    indices.push(v0, v1, v2, v0, v2, v3)\n  }\n\n  // Convert pixel coordinates to world coordinates\n  const pixelToWorld = (px: number, py: number) => {\n    const x = (px / w - 0.5) * actualPixelSize * w\n    const y = -(py / h - 0.5) * actualPixelSize * h\n    return { x, y }\n  }\n\n  // Create a grid of vertices for front and back faces\n  const frontVertices: Array<Array<number | null>> = Array.from({ length: h + 1 }, () => Array.from({ length: w + 1 }, () => null))\n  const backVertices: Array<Array<number | null>> = Array.from({ length: h + 1 }, () => Array.from({ length: w + 1 }, () => null))\n\n  // Create vertices at pixel corners\n  for (let py = 0; py <= h; py++) {\n    for (let px = 0; px <= w; px++) {\n      const { x, y } = pixelToWorld(px - 0.5, py - 0.5)\n\n      // UV coordinates should map to the texture space of the extracted tile\n      const u = px / w\n      const v = py / h\n\n      // Check if this vertex is needed for any face or edge\n      let needVertex = false\n\n      // Check all 4 adjacent pixels to see if any are opaque\n      const adjacentPixels = [\n        [px - 1, py - 1], // top-left pixel\n        [px, py - 1], // top-right pixel\n        [px - 1, py], // bottom-left pixel\n        [px, py] // bottom-right pixel\n      ]\n\n      for (const [adjX, adjY] of adjacentPixels) {\n        if (isOpaque(adjX, adjY)) {\n          needVertex = true\n          break\n        }\n      }\n\n      if (needVertex) {\n        frontVertices[py][px] = addVertex(x, y, halfDepth, u, v, 0, 0, 1)\n        backVertices[py][px] = addVertex(x, y, -halfDepth, u, v, 0, 0, -1)\n      }\n    }\n  }\n\n  // Create front and back faces\n  for (let py = 0; py < h; py++) {\n    for (let px = 0; px < w; px++) {\n      if (!isOpaque(px, py)) continue\n\n      const v00 = frontVertices[py][px]\n      const v10 = frontVertices[py][px + 1]\n      const v11 = frontVertices[py + 1][px + 1]\n      const v01 = frontVertices[py + 1][px]\n\n      const b00 = backVertices[py][px]\n      const b10 = backVertices[py][px + 1]\n      const b11 = backVertices[py + 1][px + 1]\n      const b01 = backVertices[py + 1][px]\n\n      if (v00 !== null && v10 !== null && v11 !== null && v01 !== null) {\n        // Front face\n        addQuad(v00, v10, v11, v01)\n      }\n\n      if (b00 !== null && b10 !== null && b11 !== null && b01 !== null) {\n        // Back face (reversed winding)\n        addQuad(b10, b00, b01, b11)\n      }\n    }\n  }\n\n  // Create edge faces for each side of the pixel with proper UVs\n  for (let py = 0; py < h; py++) {\n    for (let px = 0; px < w; px++) {\n      if (!isOpaque(px, py)) continue\n\n      const pixelU = (px + 0.5) / w // Center of current pixel\n      const pixelV = (py + 0.5) / h\n\n      // Left edge (x = px)\n      if (!isOpaque(px - 1, py)) {\n        const f0 = frontVertices[py][px]\n        const f1 = frontVertices[py + 1][px]\n        const b0 = backVertices[py][px]\n        const b1 = backVertices[py + 1][px]\n\n        if (f0 !== null && f1 !== null && b0 !== null && b1 !== null) {\n          // Create new vertices for edge with current pixel's UV\n          const ef0 = addVertex(vertices[f0 * 3], vertices[f0 * 3 + 1], vertices[f0 * 3 + 2], pixelU, pixelV, -1, 0, 0)\n          const ef1 = addVertex(vertices[f1 * 3], vertices[f1 * 3 + 1], vertices[f1 * 3 + 2], pixelU, pixelV, -1, 0, 0)\n          const eb1 = addVertex(vertices[b1 * 3], vertices[b1 * 3 + 1], vertices[b1 * 3 + 2], pixelU, pixelV, -1, 0, 0)\n          const eb0 = addVertex(vertices[b0 * 3], vertices[b0 * 3 + 1], vertices[b0 * 3 + 2], pixelU, pixelV, -1, 0, 0)\n          addQuad(ef0, ef1, eb1, eb0)\n        }\n      }\n\n      // Right edge (x = px + 1)\n      if (!isOpaque(px + 1, py)) {\n        const f0 = frontVertices[py + 1][px + 1]\n        const f1 = frontVertices[py][px + 1]\n        const b0 = backVertices[py + 1][px + 1]\n        const b1 = backVertices[py][px + 1]\n\n        if (f0 !== null && f1 !== null && b0 !== null && b1 !== null) {\n          const ef0 = addVertex(vertices[f0 * 3], vertices[f0 * 3 + 1], vertices[f0 * 3 + 2], pixelU, pixelV, 1, 0, 0)\n          const ef1 = addVertex(vertices[f1 * 3], vertices[f1 * 3 + 1], vertices[f1 * 3 + 2], pixelU, pixelV, 1, 0, 0)\n          const eb1 = addVertex(vertices[b1 * 3], vertices[b1 * 3 + 1], vertices[b1 * 3 + 2], pixelU, pixelV, 1, 0, 0)\n          const eb0 = addVertex(vertices[b0 * 3], vertices[b0 * 3 + 1], vertices[b0 * 3 + 2], pixelU, pixelV, 1, 0, 0)\n          addQuad(ef0, ef1, eb1, eb0)\n        }\n      }\n\n      // Top edge (y = py)\n      if (!isOpaque(px, py - 1)) {\n        const f0 = frontVertices[py][px]\n        const f1 = frontVertices[py][px + 1]\n        const b0 = backVertices[py][px]\n        const b1 = backVertices[py][px + 1]\n\n        if (f0 !== null && f1 !== null && b0 !== null && b1 !== null) {\n          const ef0 = addVertex(vertices[f0 * 3], vertices[f0 * 3 + 1], vertices[f0 * 3 + 2], pixelU, pixelV, 0, -1, 0)\n          const ef1 = addVertex(vertices[f1 * 3], vertices[f1 * 3 + 1], vertices[f1 * 3 + 2], pixelU, pixelV, 0, -1, 0)\n          const eb1 = addVertex(vertices[b1 * 3], vertices[b1 * 3 + 1], vertices[b1 * 3 + 2], pixelU, pixelV, 0, -1, 0)\n          const eb0 = addVertex(vertices[b0 * 3], vertices[b0 * 3 + 1], vertices[b0 * 3 + 2], pixelU, pixelV, 0, -1, 0)\n          addQuad(ef0, ef1, eb1, eb0)\n        }\n      }\n\n      // Bottom edge (y = py + 1)\n      if (!isOpaque(px, py + 1)) {\n        const f0 = frontVertices[py + 1][px + 1]\n        const f1 = frontVertices[py + 1][px]\n        const b0 = backVertices[py + 1][px + 1]\n        const b1 = backVertices[py + 1][px]\n\n        if (f0 !== null && f1 !== null && b0 !== null && b1 !== null) {\n          const ef0 = addVertex(vertices[f0 * 3], vertices[f0 * 3 + 1], vertices[f0 * 3 + 2], pixelU, pixelV, 0, 1, 0)\n          const ef1 = addVertex(vertices[f1 * 3], vertices[f1 * 3 + 1], vertices[f1 * 3 + 2], pixelU, pixelV, 0, 1, 0)\n          const eb1 = addVertex(vertices[b1 * 3], vertices[b1 * 3 + 1], vertices[b1 * 3 + 2], pixelU, pixelV, 0, 1, 0)\n          const eb0 = addVertex(vertices[b0 * 3], vertices[b0 * 3 + 1], vertices[b0 * 3 + 2], pixelU, pixelV, 0, 1, 0)\n          addQuad(ef0, ef1, eb1, eb0)\n        }\n      }\n    }\n  }\n\n  const geometry = new THREE.BufferGeometry()\n  geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3))\n  geometry.setAttribute('uv', new THREE.Float32BufferAttribute(uvs, 2))\n  geometry.setAttribute('normal', new THREE.Float32BufferAttribute(normals, 3))\n  geometry.setIndex(indices)\n\n  // Compute normals properly\n  geometry.computeVertexNormals()\n\n  return {\n    geometry,\n    totalVertices: vertexIndex,\n    totalTriangles: indices.length / 3\n  }\n}\n\nexport interface ItemTextureInfo {\n  u: number\n  v: number\n  sizeX: number\n  sizeY: number\n}\n\nexport interface ItemMeshResult {\n  mesh: THREE.Object3D\n  itemsTexture?: THREE.Texture\n  itemsTextureFlipped?: THREE.Texture\n  cleanup?: () => void\n}\n\n/**\n * Extracts item texture region to a canvas\n */\nexport function extractItemTextureToCanvas (\n  sourceTexture: THREE.Texture,\n  textureInfo: ItemTextureInfo\n): HTMLCanvasElement {\n  const { u, v, sizeX, sizeY } = textureInfo\n\n  // Calculate canvas size - fix the calculation\n  const canvasWidth = Math.max(1, Math.floor(sizeX * sourceTexture.image.width))\n  const canvasHeight = Math.max(1, Math.floor(sizeY * sourceTexture.image.height))\n\n  const canvas = document.createElement('canvas')\n  canvas.width = canvasWidth\n  canvas.height = canvasHeight\n\n  const ctx = canvas.getContext('2d')!\n  ctx.imageSmoothingEnabled = false\n\n  // Draw the item texture region to canvas\n  ctx.drawImage(\n    sourceTexture.image,\n    u * sourceTexture.image.width,\n    v * sourceTexture.image.height,\n    sizeX * sourceTexture.image.width,\n    sizeY * sourceTexture.image.height,\n    0,\n    0,\n    canvas.width,\n    canvas.height\n  )\n\n  return canvas\n}\n\n/**\n * Creates either a 2D or 3D item mesh based on parameters\n */\nexport function createItemMesh (\n  sourceTexture: THREE.Texture,\n  textureInfo: ItemTextureInfo,\n  options: {\n    faceCamera?: boolean\n    use3D?: boolean\n    depth?: number\n  } = {}\n): ItemMeshResult {\n  const { faceCamera = false, use3D = true, depth = 0.04 } = options\n  const { u, v, sizeX, sizeY } = textureInfo\n\n  if (faceCamera) {\n    // Create sprite for camera-facing items\n    const itemsTexture = sourceTexture.clone()\n    itemsTexture.flipY = true\n    itemsTexture.offset.set(u, 1 - v - sizeY)\n    itemsTexture.repeat.set(sizeX, sizeY)\n    itemsTexture.needsUpdate = true\n    itemsTexture.magFilter = THREE.NearestFilter\n    itemsTexture.minFilter = THREE.NearestFilter\n\n    const spriteMat = new THREE.SpriteMaterial({\n      map: itemsTexture,\n      transparent: true,\n      alphaTest: 0.1,\n    })\n    const mesh = new THREE.Sprite(spriteMat)\n\n    return {\n      mesh,\n      itemsTexture,\n      cleanup () {\n        itemsTexture.dispose()\n      }\n    }\n  }\n\n  if (use3D) {\n    // Try to create 3D mesh\n    try {\n      const canvas = extractItemTextureToCanvas(sourceTexture, textureInfo)\n      const { geometry } = create3DItemMesh(canvas, { depth })\n\n      // Create texture from canvas for the 3D mesh\n      const itemsTexture = new THREE.CanvasTexture(canvas)\n      itemsTexture.magFilter = THREE.NearestFilter\n      itemsTexture.minFilter = THREE.NearestFilter\n      itemsTexture.wrapS = itemsTexture.wrapT = THREE.ClampToEdgeWrapping\n      itemsTexture.flipY = false\n      itemsTexture.needsUpdate = true\n\n      const material = new THREE.MeshStandardMaterial({\n        map: itemsTexture,\n        side: THREE.DoubleSide,\n        transparent: true,\n        alphaTest: 0.1,\n      })\n\n      const mesh = new THREE.Mesh(geometry, material)\n\n      return {\n        mesh,\n        itemsTexture,\n        cleanup () {\n          itemsTexture.dispose()\n          geometry.dispose()\n          if (material.map) material.map.dispose()\n          material.dispose()\n        }\n      }\n    } catch (error) {\n      console.warn('Failed to create 3D item mesh, falling back to 2D:', error)\n      // Fall through to 2D rendering\n    }\n  }\n\n  // Fallback to 2D flat rendering\n  const itemsTexture = sourceTexture.clone()\n  itemsTexture.flipY = true\n  itemsTexture.offset.set(u, 1 - v - sizeY)\n  itemsTexture.repeat.set(sizeX, sizeY)\n  itemsTexture.needsUpdate = true\n  itemsTexture.magFilter = THREE.NearestFilter\n  itemsTexture.minFilter = THREE.NearestFilter\n\n  const itemsTextureFlipped = itemsTexture.clone()\n  itemsTextureFlipped.repeat.x *= -1\n  itemsTextureFlipped.needsUpdate = true\n  itemsTextureFlipped.offset.set(u + sizeX, 1 - v - sizeY)\n\n  const material = new THREE.MeshStandardMaterial({\n    map: itemsTexture,\n    transparent: true,\n    alphaTest: 0.1,\n  })\n  const materialFlipped = new THREE.MeshStandardMaterial({\n    map: itemsTextureFlipped,\n    transparent: true,\n    alphaTest: 0.1,\n  })\n  const mesh = new THREE.Mesh(new THREE.BoxGeometry(1, 1, 0), [\n    new THREE.MeshBasicMaterial({ color: 0x00_00_00 }), new THREE.MeshBasicMaterial({ color: 0x00_00_00 }),\n    new THREE.MeshBasicMaterial({ color: 0x00_00_00 }), new THREE.MeshBasicMaterial({ color: 0x00_00_00 }),\n    material, materialFlipped,\n  ])\n\n  return {\n    mesh,\n    itemsTexture,\n    itemsTextureFlipped,\n    cleanup () {\n      itemsTexture.dispose()\n      itemsTextureFlipped.dispose()\n      material.dispose()\n      materialFlipped.dispose()\n    }\n  }\n}\n\n/**\n * Creates a complete 3D item mesh from a canvas texture\n */\nexport function createItemMeshFromCanvas (\n  canvas: HTMLCanvasElement,\n  options: Create3DItemMeshOptions\n): THREE.Mesh {\n  const { geometry } = create3DItemMesh(canvas, options)\n\n  // Base color texture for the item\n  const colorTexture = new THREE.CanvasTexture(canvas)\n  colorTexture.magFilter = THREE.NearestFilter\n  colorTexture.minFilter = THREE.NearestFilter\n  colorTexture.wrapS = colorTexture.wrapT = THREE.ClampToEdgeWrapping\n  colorTexture.flipY = false // Important for canvas textures\n  colorTexture.needsUpdate = true\n\n  // Material - no transparency, no alpha test needed for edges\n  const material = new THREE.MeshBasicMaterial({\n    map: colorTexture,\n    side: THREE.DoubleSide,\n    transparent: true,\n    alphaTest: 0.1\n  })\n\n  return new THREE.Mesh(geometry, material)\n}\n","import * as THREE from 'three'\nimport { OBJLoader } from 'three-stdlib'\nimport huskPng from 'mc-assets/dist/other-textures/latest/entity/zombie/husk.png'\nimport { Vec3 } from 'vec3'\nimport ocelotPng from '../../../../node_modules/mc-assets/dist/other-textures/latest/entity/cat/ocelot.png'\nimport arrowTexture from '../../../../node_modules/mc-assets/dist/other-textures/1.21.2/entity/projectiles/arrow.png'\nimport spectralArrowTexture from '../../../../node_modules/mc-assets/dist/other-textures/1.21.2/entity/projectiles/spectral_arrow.png'\nimport tippedArrowTexture from '../../../../node_modules/mc-assets/dist/other-textures/1.21.2/entity/projectiles/tipped_arrow.png'\nimport { loadTexture } from '../threeJsUtils'\nimport { WorldRendererThree } from '../worldrendererThree'\nimport entities from './entities.json'\nimport { externalModels } from './objModels'\nimport externalTexturesJson from './externalTextures.json'\n\ninterface ElemFace {\n  dir: [number, number, number]\n  u0: [number, number, number]\n  v0: [number, number, number]\n  u1: [number, number, number]\n  v1: [number, number, number]\n  corners: Array<[number, number, number, number, number]>\n}\n\ninterface GeoData {\n  positions: number[]\n  normals: number[]\n  uvs: number[]\n  indices: number[]\n  skinIndices: number[]\n  skinWeights: number[]\n}\n\ninterface JsonBone {\n  name: string\n  pivot?: [number, number, number]\n  bind_pose_rotation?: [number, number, number]\n  rotation?: [number, number, number]\n  parent?: string\n  cubes?: JsonCube[]\n  mirror?: boolean\n}\n\ninterface JsonCube {\n  origin: [number, number, number]\n  size: [number, number, number]\n  uv: [number, number]\n  inflate?: number\n  rotation?: [number, number, number]\n}\n\ninterface JsonModel {\n  texturewidth?: number\n  textureheight?: number\n  bones: JsonBone[]\n}\n\ninterface EntityOverrides {\n  textures?: Record<string, string>\n  rotation?: Record<string, { x?: number; y?: number; z?: number }>\n}\n\nconst elemFaces: Record<string, ElemFace> = {\n  up: {\n    dir: [0, 1, 0],\n    u0: [0, 0, 1],\n    v0: [0, 0, 0],\n    u1: [1, 0, 1],\n    v1: [0, 0, 1],\n    corners: [\n      [0, 1, 1, 0, 0],\n      [1, 1, 1, 1, 0],\n      [0, 1, 0, 0, 1],\n      [1, 1, 0, 1, 1]\n    ]\n  },\n  down: {\n    dir: [0, -1, 0],\n    u0: [1, 0, 1],\n    v0: [0, 0, 0],\n    u1: [2, 0, 1],\n    v1: [0, 0, 1],\n    corners: [\n      [1, 0, 1, 0, 0],\n      [0, 0, 1, 1, 0],\n      [1, 0, 0, 0, 1],\n      [0, 0, 0, 1, 1]\n    ]\n  },\n  east: {\n    dir: [1, 0, 0],\n    u0: [0, 0, 0],\n    v0: [0, 0, 1],\n    u1: [0, 0, 1],\n    v1: [0, 1, 1],\n    corners: [\n      [1, 1, 1, 0, 0],\n      [1, 0, 1, 0, 1],\n      [1, 1, 0, 1, 0],\n      [1, 0, 0, 1, 1]\n    ]\n  },\n  west: {\n    dir: [-1, 0, 0],\n    u0: [1, 0, 1],\n    v0: [0, 0, 1],\n    u1: [1, 0, 2],\n    v1: [0, 1, 1],\n    corners: [\n      [0, 1, 0, 0, 0],\n      [0, 0, 0, 0, 1],\n      [0, 1, 1, 1, 0],\n      [0, 0, 1, 1, 1]\n    ]\n  },\n  north: {\n    dir: [0, 0, -1],\n    u0: [0, 0, 1],\n    v0: [0, 0, 1],\n    u1: [1, 0, 1],\n    v1: [0, 1, 1],\n    corners: [\n      [1, 0, 0, 0, 1],\n      [0, 0, 0, 1, 1],\n      [1, 1, 0, 0, 0],\n      [0, 1, 0, 1, 0]\n    ]\n  },\n  south: {\n    dir: [0, 0, 1],\n    u0: [1, 0, 2],\n    v0: [0, 0, 1],\n    u1: [2, 0, 2],\n    v1: [0, 1, 1],\n    corners: [\n      [0, 0, 1, 0, 1],\n      [1, 0, 1, 1, 1],\n      [0, 1, 1, 0, 0],\n      [1, 1, 1, 1, 0]\n    ]\n  }\n}\n\nfunction dot (a: number[], b: number[]): number {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2]\n}\n\nfunction addCube (\n  attr: GeoData,\n  boneId: number,\n  bone: THREE.Bone,\n  cube: JsonCube,\n  sameTextureForAllFaces = false,\n  texWidth = 64,\n  texHeight = 64,\n  mirror = false,\n  errors: string[] = []\n): void {\n  const cubeRotation = new THREE.Euler(0, 0, 0)\n  if (cube.rotation) {\n    cubeRotation.x = -cube.rotation[0] * Math.PI / 180\n    cubeRotation.y = -cube.rotation[1] * Math.PI / 180\n    cubeRotation.z = -cube.rotation[2] * Math.PI / 180\n  }\n  for (const { dir, corners, u0, v0, u1, v1 } of Object.values(elemFaces)) {\n    const ndx = Math.floor(attr.positions.length / 3)\n\n    const eastOrWest = dir[0] !== 0\n    const faceUvs: number[] = []\n    for (const pos of corners) {\n      let u: number\n      let v: number\n      if (sameTextureForAllFaces) {\n        u = (cube.uv[0] + pos[3] * cube.size[0]) / texWidth\n        v = (cube.uv[1] + pos[4] * cube.size[1]) / texHeight\n      } else {\n        u = (cube.uv[0] + dot(pos[3] ? u1 : u0, cube.size)) / texWidth\n        v = (cube.uv[1] + dot(pos[4] ? v1 : v0, cube.size)) / texHeight\n      }\n      // if (isNaN(u) || isNaN(v)) {\n      //   errors.push(`NaN u: ${u}, v: ${v}`)\n      //   continue\n      // }\n      // if (u < 0 || u > 1 || v < 0 || v > 1) {\n      //   errors.push(`u: ${u}, v: ${v} out of range`)\n      //   continue\n      // }\n\n      const posX = eastOrWest && mirror ? pos[0] ^ 1 : pos[0]\n      const posY = pos[1]\n      const posZ = eastOrWest && mirror ? pos[2] ^ 1 : pos[2]\n      const inflate = cube.inflate ?? 0\n      let vecPos = new THREE.Vector3(\n        cube.origin[0] + posX * cube.size[0] + (posX ? inflate : -inflate),\n        cube.origin[1] + posY * cube.size[1] + (posY ? inflate : -inflate),\n        cube.origin[2] + posZ * cube.size[2] + (posZ ? inflate : -inflate)\n      )\n\n      vecPos = vecPos.applyEuler(cubeRotation)\n      vecPos = vecPos.sub(bone.position)\n      vecPos = vecPos.applyEuler(bone.rotation)\n      vecPos = vecPos.add(bone.position)\n\n      attr.positions.push(vecPos.x, vecPos.y, vecPos.z)\n      attr.normals.push(dir[0], dir[1], dir[2])\n      faceUvs.push(u, v)\n      attr.skinIndices.push(boneId, 0, 0, 0)\n      attr.skinWeights.push(1, 0, 0, 0)\n    }\n\n    if (mirror) {\n      for (let i = 0; i + 1 < corners.length; i += 2) {\n        const faceIndex = i * 2\n        const tempFaceUvs = faceUvs.slice(faceIndex, faceIndex + 4)\n        faceUvs[faceIndex] = tempFaceUvs[2]\n        faceUvs[faceIndex + 1] = tempFaceUvs[eastOrWest ? 1 : 3]\n        faceUvs[faceIndex + 2] = tempFaceUvs[0]\n        faceUvs[faceIndex + 3] = tempFaceUvs[eastOrWest ? 3 : 1]\n      }\n    }\n    attr.uvs.push(...faceUvs)\n\n    attr.indices.push(ndx, ndx + 1, ndx + 2, ndx + 2, ndx + 1, ndx + 3)\n  }\n}\n\nexport function getMesh (\n  worldRenderer: WorldRendererThree | undefined,\n  texture: string,\n  jsonModel: JsonModel,\n  overrides: EntityOverrides = {},\n  debugFlags: EntityDebugFlags = {}\n): THREE.SkinnedMesh {\n  let textureWidth = jsonModel.texturewidth ?? 64\n  let textureHeight = jsonModel.textureheight ?? 64\n  let textureOffset: number[] | undefined\n  const useBlockTexture = texture.startsWith('block:')\n  const blocksTexture = worldRenderer?.material.map\n  if (useBlockTexture) {\n    if (!worldRenderer) throw new Error('worldRenderer is required for block textures')\n    const blockName = texture.slice(6)\n    const textureInfo = worldRenderer.resourcesManager.currentResources.blocksAtlasJson.textures[blockName]\n    if (textureInfo) {\n      textureWidth = blocksTexture?.image.width ?? textureWidth\n      textureHeight = blocksTexture?.image.height ?? textureHeight\n      // todo support su/sv\n      textureOffset = [textureInfo.u, textureInfo.v]\n    } else {\n      console.error(`Unknown block ${blockName}`)\n    }\n  }\n\n  const bones: Record<string, THREE.Bone> = {}\n\n  const geoData: GeoData = {\n    positions: [],\n    normals: [],\n    uvs: [],\n    indices: [],\n    skinIndices: [],\n    skinWeights: []\n  }\n  let i = 0\n  for (const jsonBone of jsonModel.bones) {\n    const bone = new THREE.Bone()\n    if (jsonBone.pivot) {\n      bone.position.x = jsonBone.pivot[0]\n      bone.position.y = jsonBone.pivot[1]\n      bone.position.z = jsonBone.pivot[2]\n    }\n    if (jsonBone.bind_pose_rotation) {\n      bone.rotation.x = -jsonBone.bind_pose_rotation[0] * Math.PI / 180\n      bone.rotation.y = -jsonBone.bind_pose_rotation[1] * Math.PI / 180\n      bone.rotation.z = -jsonBone.bind_pose_rotation[2] * Math.PI / 180\n    } else if (jsonBone.rotation) {\n      bone.rotation.x = -jsonBone.rotation[0] * Math.PI / 180\n      bone.rotation.y = -jsonBone.rotation[1] * Math.PI / 180\n      bone.rotation.z = -jsonBone.rotation[2] * Math.PI / 180\n    }\n    if (overrides.rotation?.[jsonBone.name]) {\n      bone.rotation.x -= (overrides.rotation[jsonBone.name].x ?? 0) * Math.PI / 180\n      bone.rotation.y -= (overrides.rotation[jsonBone.name].y ?? 0) * Math.PI / 180\n      bone.rotation.z -= (overrides.rotation[jsonBone.name].z ?? 0) * Math.PI / 180\n    }\n    bone.name = `bone_${jsonBone.name}`\n    bones[jsonBone.name] = bone\n\n    if (jsonBone.cubes) {\n      for (const cube of jsonBone.cubes) {\n        const errors: string[] = []\n        addCube(geoData, i, bone, cube, useBlockTexture, textureWidth, textureHeight, jsonBone.mirror, errors)\n        if (errors.length) {\n          debugFlags.errors ??= []\n          debugFlags.errors.push(...errors.map(error => `Bone ${jsonBone.name}: ${error}`))\n        }\n      }\n    }\n    i++\n  }\n\n  const rootBones: THREE.Object3D[] = []\n  for (const jsonBone of jsonModel.bones) {\n    if (jsonBone.parent && bones[jsonBone.parent]) {\n      bones[jsonBone.parent].add(bones[jsonBone.name])\n    } else {\n      rootBones.push(bones[jsonBone.name])\n    }\n  }\n\n  const skeleton = new THREE.Skeleton(Object.values(bones))\n\n  const geometry = new THREE.BufferGeometry()\n  geometry.setAttribute('position', new THREE.Float32BufferAttribute(geoData.positions, 3))\n  geometry.setAttribute('normal', new THREE.Float32BufferAttribute(geoData.normals, 3))\n  geometry.setAttribute('uv', new THREE.Float32BufferAttribute(geoData.uvs, 2))\n  geometry.setAttribute('skinIndex', new THREE.Uint16BufferAttribute(geoData.skinIndices, 4))\n  geometry.setAttribute('skinWeight', new THREE.Float32BufferAttribute(geoData.skinWeights, 4))\n  geometry.setIndex(geoData.indices)\n\n  const material = new THREE.MeshLambertMaterial({ transparent: true, alphaTest: 0.1 })\n  const mesh = new THREE.SkinnedMesh(geometry, material)\n  mesh.add(...rootBones)\n  mesh.bind(skeleton)\n  mesh.scale.set(1 / 16, 1 / 16, 1 / 16)\n\n  if (textureOffset) {\n    // todo(memory) dont clone\n    const loadedTexture = blocksTexture!.clone()\n    loadedTexture.offset.set(textureOffset[0], textureOffset[1])\n    loadedTexture.needsUpdate = true\n    material.map = loadedTexture\n  } else {\n    void loadTexture(texture, loadedTexture => {\n      if (material.map) {\n        // texture is already loaded\n        return\n      }\n      loadedTexture.magFilter = THREE.NearestFilter\n      loadedTexture.minFilter = THREE.NearestFilter\n      loadedTexture.flipY = false\n      loadedTexture.wrapS = THREE.RepeatWrapping\n      loadedTexture.wrapT = THREE.RepeatWrapping\n      material.map = loadedTexture\n    }, () => {\n      // This callback runs after the texture is fully loaded\n      const actualWidth = material.map!.image.width\n      if (actualWidth && textureWidth !== actualWidth) {\n        material.map!.repeat.x = textureWidth / actualWidth\n      }\n      const actualHeight = material.map!.image.height\n      if (actualHeight && textureHeight !== actualHeight) {\n        material.map!.repeat.y = textureHeight / actualHeight\n      }\n      material.needsUpdate = true\n    })\n  }\n\n  return mesh\n}\n\nexport const rendererSpecialHandled = ['item_frame', 'item', 'player']\n\ntype EntityMapping = {\n  pattern: string | RegExp\n  target: string\n}\n\nconst temporaryMappings: EntityMapping[] = [\n  // Exact matches\n  { pattern: 'furnace_minecart', target: 'minecart' },\n  { pattern: 'spawner_minecart', target: 'minecart' },\n  { pattern: 'chest_minecart', target: 'minecart' },\n  { pattern: 'hopper_minecart', target: 'minecart' },\n  { pattern: 'command_block_minecart', target: 'minecart' },\n  { pattern: 'tnt_minecart', target: 'minecart' },\n  { pattern: 'glow_item_frame', target: 'item_frame' },\n  { pattern: 'glow_squid', target: 'squid' },\n  { pattern: 'trader_llama', target: 'llama' },\n  { pattern: 'chest_boat', target: 'boat' },\n  { pattern: 'spectral_arrow', target: 'arrow' },\n  { pattern: 'husk', target: 'zombie' },\n  { pattern: 'zombie_horse', target: 'horse' },\n  { pattern: 'donkey', target: 'horse' },\n  { pattern: 'skeleton_horse', target: 'horse' },\n  { pattern: 'mule', target: 'horse' },\n  { pattern: 'ocelot', target: 'cat' },\n  // Regex patterns\n  { pattern: /_minecraft$/, target: 'minecraft' },\n  { pattern: /_boat$/, target: 'boat' },\n  { pattern: /_raft$/, target: 'boat' },\n  { pattern: /_horse$/, target: 'horse' },\n  { pattern: /_zombie$/, target: 'zombie' },\n  { pattern: /_arrow$/, target: 'zombie' },\n]\n\nfunction getEntityMapping (type: string): string | undefined {\n  for (const mapping of temporaryMappings) {\n    if (typeof mapping.pattern === 'string') {\n      if (mapping.pattern === type) return mapping.target\n    } else if (mapping.pattern.test(type)) { return mapping.target }\n  }\n  return undefined\n}\n\nconst getEntity = (name: string) => {\n  return entities[name]\n}\n\nconst scaleEntity: Record<string, number> = {\n  zombie: 1.85,\n  husk: 1.85,\n  arrow: 0.0025\n}\n\nconst offsetEntity: Record<string, Vec3> = {\n  zombie: new Vec3(0, 1, 0),\n  husk: new Vec3(0, 1, 0),\n  boat: new Vec3(0, -1, 0),\n  arrow: new Vec3(0, -0.9, 0)\n}\n\ninterface EntityGeometry {\n  geometry: Array<{\n    name: string;\n    [key: string]: any;\n  }>;\n}\n\nexport type EntityDebugFlags = {\n  type?: 'obj' | 'bedrock'\n  tempMap?: string\n  textureMap?: boolean\n  errors?: string[]\n  isHardcodedTexture?: boolean\n}\n\nexport class EntityMesh {\n  mesh: THREE.Object3D\n\n  constructor (\n    version: string,\n    type: string,\n    worldRenderer?: WorldRendererThree,\n    overrides: EntityOverrides = {},\n    debugFlags: EntityDebugFlags = {}\n  ) {\n    const originalType = type\n    const mappedValue = getEntityMapping(type)\n    if (mappedValue) {\n      type = mappedValue\n      debugFlags.tempMap = mappedValue\n    }\n\n    if (externalModels[type]) {\n      const objLoader = new OBJLoader()\n      const texturePathMap = {\n        'zombie_horse': `textures/${version}/entity/horse/horse_zombie.png`,\n        'husk': huskPng,\n        'skeleton_horse': `textures/${version}/entity/horse/horse_skeleton.png`,\n        'donkey': `textures/${version}/entity/horse/donkey.png`,\n        'mule': `textures/${version}/entity/horse/mule.png`,\n        'ocelot': ocelotPng,\n        'arrow': arrowTexture,\n        'spectral_arrow': spectralArrowTexture,\n        'tipped_arrow': tippedArrowTexture\n      }\n      const tempTextureMap = texturePathMap[originalType] || texturePathMap[type]\n      if (tempTextureMap) {\n        debugFlags.textureMap = true\n      }\n      const texturePath = tempTextureMap || externalTexturesJson[type]\n      if (externalTexturesJson[type]) {\n        debugFlags.isHardcodedTexture = true\n      }\n      if (!texturePath) throw new Error(`No texture for ${type}`)\n      const texture = new THREE.TextureLoader().load(texturePath)\n      texture.minFilter = THREE.NearestFilter\n      texture.magFilter = THREE.NearestFilter\n      const material = new THREE.MeshBasicMaterial({\n        map: texture,\n        transparent: true,\n        alphaTest: 0.1\n      })\n      const obj = objLoader.parse(externalModels[type])\n      const scale = scaleEntity[originalType] || scaleEntity[type]\n      if (scale) obj.scale.set(scale, scale, scale)\n      const offset = offsetEntity[originalType]\n      if (offset) obj.position.set(offset.x, offset.y, offset.z)\n      obj.traverse((child) => {\n        if (child instanceof THREE.Mesh) {\n          child.material = material\n          // todo\n          if (child.name === 'Head layer') child.visible = false\n          if (child.name === 'Head' && overrides.rotation?.head) { // todo\n            child.rotation.x -= (overrides.rotation.head.x ?? 0) * Math.PI / 180\n            child.rotation.y -= (overrides.rotation.head.y ?? 0) * Math.PI / 180\n            child.rotation.z -= (overrides.rotation.head.z ?? 0) * Math.PI / 180\n          }\n        }\n      })\n      this.mesh = obj\n      debugFlags.type = 'obj'\n      return\n    }\n\n    if (originalType === 'arrow') {\n      // overrides.textures = {\n      //   'default': testArrow,\n      //   ...overrides.textures,\n      // }\n    }\n\n    const e = getEntity(type)\n    if (!e) {\n      // if (knownNotHandled.includes(type)) return\n      // throw new Error(`Unknown entity ${type}`)\n      return\n    }\n\n    this.mesh = new THREE.Object3D()\n    for (const [name, jsonModel] of Object.entries(e.geometry)) {\n      const texture = overrides.textures?.[name] ?? e.textures[name]\n      if (!texture) continue\n      // console.log(JSON.stringify(jsonModel, null, 2))\n      const mesh = getMesh(worldRenderer,\n        texture.endsWith('.png') || texture.startsWith('data:image/') || texture.startsWith('block:')\n          ? texture : texture + '.png',\n        jsonModel,\n        overrides,\n        debugFlags)\n      mesh.name = `geometry_${name}`\n      this.mesh.add(mesh)\n    }\n    debugFlags.type = 'bedrock'\n  }\n\n  static getStaticData (name: string): { boneNames: string[] } {\n    name = getEntityMapping(name) || name\n    if (externalModels[name]) {\n      return {\n        boneNames: [] // todo\n      }\n    }\n    const e = getEntity(name) as EntityGeometry\n    if (!e) throw new Error(`Unknown entity ${name}`)\n    return {\n      boneNames: Object.values(e.geometry).flatMap(x => x.name)\n    }\n  }\n}\nglobalThis.EntityMesh = EntityMesh\n","//@ts-check\nimport { PlayerAnimation } from 'skinview3d'\n\nexport class WalkingGeneralSwing extends PlayerAnimation {\n\n  switchAnimationCallback\n\n  isRunning = false\n  isMoving = true\n  isCrouched = false\n\n  _startArmSwing\n\n  swingArm() {\n    this._startArmSwing = this.progress\n  }\n\n  animate(player) {\n    // Multiply by animation's natural speed\n    let t = 0\n    const updateT = () => {\n      if (!this.isMoving) {\n        t = 0\n        return\n      }\n      if (this.isRunning) {\n        t = this.progress * 10 + Math.PI * 0.5\n      } else {\n        t = this.progress * 8\n      }\n    }\n    updateT()\n    let reset = false\n\n    croughAnimation(player, this.isCrouched)\n\n    if ((this.isRunning ? Math.cos(t) : Math.sin(t)) < 0.01) {\n      if (this.switchAnimationCallback) {\n        reset = true\n        this.progress = 0\n        updateT()\n      }\n    }\n\n    if (this.isRunning) {\n      // Leg swing with larger amplitude\n      player.skin.leftLeg.rotation.x = Math.cos(t + Math.PI) * 1.3\n      player.skin.rightLeg.rotation.x = Math.cos(t) * 1.3\n    } else {\n      // Leg swing\n      player.skin.leftLeg.rotation.x = Math.sin(t) * 0.5\n      player.skin.rightLeg.rotation.x = Math.sin(t + Math.PI) * 0.5\n    }\n\n    if (this._startArmSwing) {\n      const tHand = (this.progress - this._startArmSwing) * 18 + Math.PI * 0.5\n      // player.skin.rightArm.rotation.x = Math.cos(tHand) * 1.5\n      // const basicArmRotationZ = Math.PI * 0.1\n      // player.skin.rightArm.rotation.z = Math.cos(t + Math.PI) * 0.3 - basicArmRotationZ\n      HitAnimation.animate((this.progress - this._startArmSwing), player, this.isMoving)\n\n      if (tHand > Math.PI + Math.PI) {\n        this._startArmSwing = null\n        player.skin.rightArm.rotation.z = 0\n      }\n    }\n\n    if (this.isRunning) {\n      player.skin.leftArm.rotation.x = Math.cos(t) * 1.5\n      if (!this._startArmSwing) {\n        player.skin.rightArm.rotation.x = Math.cos(t + Math.PI) * 1.5\n      }\n      const basicArmRotationZ = Math.PI * 0.1\n      player.skin.leftArm.rotation.z = Math.cos(t) * 0.1 + basicArmRotationZ\n      if (!this._startArmSwing) {\n        player.skin.rightArm.rotation.z = Math.cos(t + Math.PI) * 0.1 - basicArmRotationZ\n      }\n    } else {\n      // Arm swing\n      player.skin.leftArm.rotation.x = Math.sin(t + Math.PI) * 0.5\n      if (!this._startArmSwing) {\n        player.skin.rightArm.rotation.x = Math.sin(t) * 0.5\n      }\n      const basicArmRotationZ = Math.PI * 0.02\n      player.skin.leftArm.rotation.z = Math.cos(t) * 0.03 + basicArmRotationZ\n      if (!this._startArmSwing) {\n        player.skin.rightArm.rotation.z = Math.cos(t + Math.PI) * 0.03 - basicArmRotationZ\n      }\n    }\n\n    if (this.isRunning) {\n      player.rotation.z = Math.cos(t + Math.PI) * 0.01\n    }\n    if (this.isRunning) {\n      const basicCapeRotationX = Math.PI * 0.3\n      player.cape.rotation.x = Math.sin(t * 2) * 0.1 + basicCapeRotationX\n    } else {\n      // Always add an angle for cape around the x axis\n      const basicCapeRotationX = Math.PI * 0.06\n      player.cape.rotation.x = Math.sin(t / 1.5) * 0.06 + basicCapeRotationX\n    }\n\n    if (reset) {\n      this.switchAnimationCallback()\n      this.switchAnimationCallback = null\n    }\n  }\n}\n\nconst HitAnimation = {\n  animate(progress, player, isMovingOrRunning) {\n    const t = progress * 18\n    player.skin.rightArm.rotation.x = -0.453_786_055_2 * 2 + 2 * Math.sin(t + Math.PI) * 0.3\n\n    if (!isMovingOrRunning) {\n      const basicArmRotationZ = 0.01 * Math.PI + 0.06\n      player.skin.rightArm.rotation.z = -Math.cos(t) * 0.403 + basicArmRotationZ\n      player.skin.body.rotation.y = -Math.cos(t) * 0.06\n      player.skin.leftArm.rotation.x = Math.sin(t + Math.PI) * 0.077\n      player.skin.leftArm.rotation.z = -Math.cos(t) * 0.015 + 0.13 - 0.05\n      player.skin.leftArm.position.z = Math.cos(t) * 0.3\n      player.skin.leftArm.position.x = 5 - Math.cos(t) * 0.05\n    }\n  },\n}\n\nconst croughAnimation = (player, isCrouched) => {\n  const erp = 0\n\n  // let pr = this.progress * 8;\n  let pr = isCrouched ? 1 : 0\n  const showProgress = false\n  if (showProgress) {\n    pr = Math.floor(pr)\n  }\n  player.skin.body.rotation.x = 0.453_786_055_2 * Math.abs(Math.sin((pr * Math.PI) / 2))\n  player.skin.body.position.z =\n\t\t\t1.325_618_1 * Math.abs(Math.sin((pr * Math.PI) / 2)) - 3.450_031_037_7 * Math.abs(Math.sin((pr * Math.PI) / 2))\n  player.skin.body.position.y = -6 - 2.103_677_462 * Math.abs(Math.sin((pr * Math.PI) / 2))\n  player.cape.position.y = 8 - 1.851_236_166_577_372 * Math.abs(Math.sin((pr * Math.PI) / 2))\n  player.cape.rotation.x = (10.8 * Math.PI) / 180 + 0.294_220_265_771 * Math.abs(Math.sin((pr * Math.PI) / 2))\n  player.cape.position.z =\n\t\t\t-2 + 3.786_619_432 * Math.abs(Math.sin((pr * Math.PI) / 2)) - 3.450_031_037_7 * Math.abs(Math.sin((pr * Math.PI) / 2))\n  player.elytra.position.x = player.cape.position.x\n  player.elytra.position.y = player.cape.position.y\n  player.elytra.position.z = player.cape.position.z\n  player.elytra.rotation.x = player.cape.rotation.x - (10.8 * Math.PI) / 180\n  // const pr1 = this.progress / this.speed;\n  const pr1 = 1\n  if (Math.abs(Math.sin((pr * Math.PI) / 2)) === 1) {\n    player.elytra.leftWing.rotation.z =\n\t\t\t\t0.261_799_44 + 0.458_200_6 * Math.abs(Math.sin((Math.min(pr1 - erp, 1) * Math.PI) / 2))\n    player.elytra.updateRightWing()\n  } else if (isCrouched !== undefined) {\n    player.elytra.leftWing.rotation.z =\n\t\t\t\t0.72 - 0.458_200_6 * Math.abs(Math.sin((Math.min(pr1 - erp, 1) * Math.PI) / 2))\n    player.elytra.updateRightWing()\n  }\n  player.skin.head.position.y = -3.618_325_234_674 * Math.abs(Math.sin((pr * Math.PI) / 2))\n  player.skin.leftArm.position.z =\n\t\t\t3.618_325_234_674 * Math.abs(Math.sin((pr * Math.PI) / 2)) - 3.450_031_037_7 * Math.abs(Math.sin((pr * Math.PI) / 2))\n  player.skin.rightArm.position.z = player.skin.leftArm.position.z\n  player.skin.leftArm.rotation.x = 0.410_367_746_202 * Math.abs(Math.sin((pr * Math.PI) / 2))\n  player.skin.rightArm.rotation.x = player.skin.leftArm.rotation.x\n  player.skin.leftArm.rotation.z = 0.1\n  player.skin.rightArm.rotation.z = -player.skin.leftArm.rotation.z\n  player.skin.leftArm.position.y = -2 - 2.539_433_18 * Math.abs(Math.sin((pr * Math.PI) / 2))\n  player.skin.rightArm.position.y = player.skin.leftArm.position.y\n  player.skin.rightLeg.position.z = -3.450_031_037_7 * Math.abs(Math.sin((pr * Math.PI) / 2))\n  player.skin.leftLeg.position.z = player.skin.rightLeg.position.z\n}\n","//@ts-check\nimport { UnionToIntersection } from 'type-fest'\nimport nbt from 'prismarine-nbt'\nimport * as TWEEN from '@tweenjs/tween.js'\nimport * as THREE from 'three'\nimport { PlayerAnimation, PlayerObject } from 'skinview3d'\nimport { inferModelType, loadCapeToCanvas, loadEarsToCanvasFromSkin } from 'skinview-utils'\n// todo replace with url\nimport { degreesToRadians } from '@nxg-org/mineflayer-tracker/lib/mathUtils'\nimport { NameTagObject } from 'skinview3d/libs/nametag'\nimport { flat, fromFormattedString } from '@xmcl/text-component'\nimport mojangson from 'mojangson'\nimport { snakeCase } from 'change-case'\nimport { Item } from 'prismarine-item'\nimport { isEntityAttackable } from 'mineflayer-mouse/dist/attackableEntity'\nimport { Team } from 'mineflayer'\nimport PrismarineChatLoader from 'prismarine-chat'\nimport { EntityMetadataVersions } from '../../../src/mcDataTypes'\nimport { ItemSpecificContextProperties } from '../lib/basePlayerState'\nimport { loadSkinFromUsername, loadSkinImage, stevePngUrl } from '../lib/utils/skins'\nimport { renderComponent } from '../sign-renderer'\nimport { createCanvas } from '../lib/utils'\nimport { getBlockMeshFromModel } from './holdingBlock'\nimport { createItemMesh } from './itemMesh'\nimport * as Entity from './entity/EntityMesh'\nimport { getMesh } from './entity/EntityMesh'\nimport { WalkingGeneralSwing } from './entity/animations'\nimport { disposeObject, loadTexture, loadThreeJsTextureFromUrl } from './threeJsUtils'\nimport { armorModel, armorTextures, elytraTexture } from './entity/armorModels'\nimport { WorldRendererThree } from './worldrendererThree'\n\nexport const steveTexture = loadThreeJsTextureFromUrl(stevePngUrl)\n\nexport const TWEEN_DURATION = 120\n\ntype PlayerObjectType = PlayerObject & {\n  animation?: PlayerAnimation\n  realPlayerUuid: string\n  realUsername: string\n}\n\nfunction convert2sComplementToHex (complement: number) {\n  if (complement < 0) {\n    complement = (0xFF_FF_FF_FF + complement + 1) >>> 0\n  }\n  return complement.toString(16)\n}\n\nfunction toRgba (color: string | undefined) {\n  if (color === undefined) {\n    return undefined\n  }\n  if (parseInt(color, 10) === 0) {\n    return 'rgba(0, 0, 0, 0)'\n  }\n  const hex = convert2sComplementToHex(parseInt(color, 10))\n  if (hex.length === 8) {\n    return `#${hex.slice(2, 8)}${hex.slice(0, 2)}`\n  } else {\n    return `#${hex}`\n  }\n}\n\nfunction toQuaternion (quaternion: any, defaultValue?: THREE.Quaternion) {\n  if (quaternion === undefined) {\n    return defaultValue\n  }\n  if (quaternion instanceof THREE.Quaternion) {\n    return quaternion\n  }\n  if (Array.isArray(quaternion)) {\n    return new THREE.Quaternion(quaternion[0], quaternion[1], quaternion[2], quaternion[3])\n  }\n  return new THREE.Quaternion(quaternion.x, quaternion.y, quaternion.z, quaternion.w)\n}\n\nfunction poseToEuler (pose: any, defaultValue?: THREE.Euler) {\n  if (pose === undefined) {\n    return defaultValue ?? new THREE.Euler()\n  }\n  if (pose instanceof THREE.Euler) {\n    return pose\n  }\n  if (pose['yaw'] !== undefined && pose['pitch'] !== undefined && pose['roll'] !== undefined) {\n    // Convert Minecraft pitch, yaw, roll definitions to our angle system\n    return new THREE.Euler(-degreesToRadians(pose.pitch), -degreesToRadians(pose.yaw), degreesToRadians(pose.roll), 'ZYX')\n  }\n  if (pose['x'] !== undefined && pose['y'] !== undefined && pose['z'] !== undefined) {\n    return new THREE.Euler(pose.z, pose.y, pose.x, 'ZYX')\n  }\n  if (Array.isArray(pose)) {\n    return new THREE.Euler(pose[0], pose[1], pose[2])\n  }\n  return defaultValue ?? new THREE.Euler()\n}\n\nfunction getUsernameTexture ({\n  username,\n  nameTagBackgroundColor = 'rgba(0, 0, 0, 0.3)',\n  nameTagTextOpacity = 255\n}: any, { fontFamily = 'mojangles' }: any, version: string) {\n  const canvas = createCanvas(64, 64)\n\n  const PrismarineChat = PrismarineChatLoader(version)\n\n  const ctx = canvas.getContext('2d')\n  if (!ctx) throw new Error('Could not get 2d context')\n\n  const fontSize = 48\n  const padding = 5\n  ctx.font = `${fontSize}px ${fontFamily}`\n\n  const plainLines = String(typeof username === 'string' ? username : new PrismarineChat(username).toString()).split('\\n')\n  let textWidth = 0\n  for (const line of plainLines) {\n    const width = ctx.measureText(line).width + padding * 2\n    if (width > textWidth) textWidth = width\n  }\n\n  canvas.width = textWidth\n  canvas.height = (fontSize + padding) * plainLines.length\n\n  ctx.fillStyle = nameTagBackgroundColor\n  ctx.fillRect(0, 0, canvas.width, canvas.height)\n\n  ctx.globalAlpha = nameTagTextOpacity / 255\n\n  renderComponent(username, PrismarineChat, canvas, fontSize, 'white', -padding + fontSize)\n\n  ctx.globalAlpha = 1\n\n  return canvas\n}\n\nconst addNametag = (entity, options: { fontFamily: string }, mesh, version: string) => {\n  for (const c of mesh.children) {\n    if (c.name === 'nametag') {\n      c.removeFromParent()\n    }\n  }\n  if (entity.username !== undefined) {\n    const canvas = getUsernameTexture(entity, options, version)\n    const tex = new THREE.Texture(canvas)\n    tex.needsUpdate = true\n    let nameTag: THREE.Object3D\n    if (entity.nameTagFixed) {\n      const geometry = new THREE.PlaneGeometry()\n      const material = new THREE.MeshBasicMaterial({ map: tex })\n      material.transparent = true\n      nameTag = new THREE.Mesh(geometry, material)\n      nameTag.rotation.set(entity.pitch, THREE.MathUtils.degToRad(entity.yaw + 180), 0)\n      nameTag.position.y += entity.height + 0.3\n    } else {\n      const spriteMat = new THREE.SpriteMaterial({ map: tex })\n      nameTag = new THREE.Sprite(spriteMat)\n      nameTag.position.y += entity.height + 0.6\n    }\n    nameTag.renderOrder = 1000\n    nameTag.scale.set(canvas.width * 0.005, canvas.height * 0.005, 1)\n    if (entity.nameTagRotationRight) {\n      nameTag.applyQuaternion(entity.nameTagRotationRight)\n    }\n    if (entity.nameTagScale) {\n      nameTag.scale.multiply(entity.nameTagScale)\n    }\n    if (entity.nameTagRotationLeft) {\n      nameTag.applyQuaternion(entity.nameTagRotationLeft)\n    }\n    if (entity.nameTagTranslation) {\n      nameTag.position.add(entity.nameTagTranslation)\n    }\n    nameTag.name = 'nametag'\n\n    mesh.add(nameTag)\n    return nameTag\n  }\n}\n\n// todo cleanup\nconst nametags = {}\n\nconst isFirstUpperCase = (str) => str.charAt(0) === str.charAt(0).toUpperCase()\n\nfunction getEntityMesh (entity: import('prismarine-entity').Entity & { delete?: any; pos?: any; name?: any }, world: WorldRendererThree, options: { fontFamily: string }, overrides) {\n  if (entity.name) {\n    try {\n      // https://github.com/PrismarineJS/prismarine-viewer/pull/410\n      const entityName = (isFirstUpperCase(entity.name) ? snakeCase(entity.name) : entity.name).toLowerCase()\n      const e = new Entity.EntityMesh('1.16.4', entityName, world, overrides)\n\n      if (e.mesh) {\n        addNametag(entity, options, e.mesh, world.version)\n        return e.mesh\n      }\n    } catch (err) {\n      reportError?.(err)\n    }\n  }\n\n  if (!isEntityAttackable(loadedData, entity)) return\n  const geometry = new THREE.BoxGeometry(entity.width, entity.height, entity.width)\n  geometry.translate(0, entity.height / 2, 0)\n  const material = new THREE.MeshBasicMaterial({ color: 0xff_00_ff })\n  const cube = new THREE.Mesh(geometry, material)\n  const nametagCount = (nametags[entity.name] = (nametags[entity.name] || 0) + 1)\n  if (nametagCount < 6) {\n    addNametag({\n      username: entity.name,\n      height: entity.height,\n    }, options, cube, world.version)\n  }\n  return cube\n}\n\nexport type SceneEntity = THREE.Object3D & {\n  playerObject?: PlayerObjectType\n  username?: string\n  uuid?: string\n  additionalCleanup?: () => void\n  originalEntity: import('prismarine-entity').Entity & { delete?; pos?, name, team?: Team }\n}\n\nexport class Entities {\n  entities = {} as Record<string, SceneEntity>\n  playerEntity: SceneEntity | null = null // Special entity for the player in third person\n  entitiesOptions = {\n    fontFamily: 'mojangles'\n  }\n  debugMode: string\n  onSkinUpdate: () => void\n  clock = new THREE.Clock()\n  currentlyRendering = true\n  cachedMapsImages = {} as Record<number, string>\n  itemFrameMaps = {} as Record<number, Array<THREE.Mesh<THREE.PlaneGeometry, THREE.MeshLambertMaterial>>>\n\n  get entitiesByName (): Record<string, SceneEntity[]> {\n    const byName: Record<string, SceneEntity[]> = {}\n    for (const entity of Object.values(this.entities)) {\n      if (!entity['realName']) continue\n      byName[entity['realName']] = byName[entity['realName']] || []\n      byName[entity['realName']].push(entity)\n    }\n    return byName\n  }\n\n  get entitiesRenderingCount (): number {\n    return Object.values(this.entities).filter(entity => entity.visible).length\n  }\n\n  getDebugString (): string {\n    const totalEntities = Object.keys(this.entities).length\n    const visibleEntities = this.entitiesRenderingCount\n\n    const playerEntities = Object.values(this.entities).filter(entity => entity.playerObject)\n    const visiblePlayerEntities = playerEntities.filter(entity => entity.visible)\n\n    return `${visibleEntities}/${totalEntities} ${visiblePlayerEntities.length}/${playerEntities.length}`\n  }\n\n  constructor (public worldRenderer: WorldRendererThree) {\n    this.debugMode = 'none'\n    this.onSkinUpdate = () => { }\n    this.watchResourcesUpdates()\n  }\n\n  handlePlayerEntity (playerData: SceneEntity['originalEntity']) {\n    // Create player entity if it doesn't exist\n    if (!this.playerEntity) {\n      // Create the player entity similar to how normal entities are created\n      const group = new THREE.Group() as unknown as SceneEntity\n      group.originalEntity = { ...playerData, name: 'player' } as SceneEntity['originalEntity']\n\n      const wrapper = new THREE.Group()\n      const playerObject = this.setupPlayerObject(playerData, wrapper, {})\n      group.playerObject = playerObject\n      group.add(wrapper)\n\n      group.name = 'player_entity'\n      this.playerEntity = group\n      this.worldRenderer.scene.add(group)\n\n      void this.updatePlayerSkin(playerData.id, playerData.username, playerData.uuid ?? undefined, stevePngUrl)\n    }\n\n    // Update position and rotation\n    if (playerData.position) {\n      this.playerEntity.position.set(playerData.position.x, playerData.position.y, playerData.position.z)\n    }\n    if (playerData.yaw !== undefined) {\n      this.playerEntity.rotation.y = playerData.yaw\n    }\n\n    this.updateEntityEquipment(this.playerEntity, playerData)\n  }\n\n  clear () {\n    for (const mesh of Object.values(this.entities)) {\n      this.worldRenderer.scene.remove(mesh)\n      disposeObject(mesh)\n    }\n    this.entities = {}\n\n    // Clean up player entity\n    if (this.playerEntity) {\n      this.worldRenderer.scene.remove(this.playerEntity)\n      disposeObject(this.playerEntity)\n      this.playerEntity = null\n    }\n  }\n\n  reloadEntities () {\n    for (const entity of Object.values(this.entities)) {\n      // update all entities textures like held items, armour, etc\n      // todo update entity textures itself\n      this.update({ ...entity.originalEntity, delete: true, } as SceneEntity['originalEntity'], {})\n      this.update(entity.originalEntity, {})\n    }\n  }\n\n  watchResourcesUpdates () {\n    this.worldRenderer.resourcesManager.on('assetsTexturesUpdated', () => this.reloadEntities())\n    this.worldRenderer.resourcesManager.on('assetsInventoryReady', () => this.reloadEntities())\n  }\n\n  setDebugMode (mode: string, entity: THREE.Object3D | null = null) {\n    this.debugMode = mode\n    for (const mesh of entity ? [entity] : Object.values(this.entities)) {\n      const boxHelper = mesh.children.find(c => c.name === 'debug')!\n      boxHelper.visible = false\n      if (this.debugMode === 'basic') {\n        boxHelper.visible = true\n      }\n      // todo advanced\n    }\n  }\n\n  setRendering (rendering: boolean, entity: THREE.Object3D | null = null) {\n    this.currentlyRendering = rendering\n    for (const ent of entity ? [entity] : Object.values(this.entities)) {\n      if (rendering) {\n        if (!this.worldRenderer.scene.children.includes(ent)) this.worldRenderer.scene.add(ent)\n      } else {\n        this.worldRenderer.scene.remove(ent)\n      }\n    }\n  }\n\n  render () {\n    const renderEntitiesConfig = this.worldRenderer.worldRendererConfig.renderEntities\n    if (renderEntitiesConfig !== this.currentlyRendering) {\n      this.setRendering(renderEntitiesConfig)\n    }\n\n    const dt = this.clock.getDelta()\n    const botPos = this.worldRenderer.viewerChunkPosition\n    const VISIBLE_DISTANCE = 10 * 10\n\n    // Update regular entities\n    for (const [entityId, entity] of [...Object.entries(this.entities), ['player_entity', this.playerEntity] as [string, SceneEntity | null]]) {\n      if (!entity) continue\n      const { playerObject } = entity\n\n      // Update animations\n      if (playerObject?.animation) {\n        playerObject.animation.update(playerObject, dt)\n      }\n\n      // Update visibility based on distance and chunk load status\n      if (botPos && entity.position) {\n        const dx = entity.position.x - botPos.x\n        const dy = entity.position.y - botPos.y\n        const dz = entity.position.z - botPos.z\n        const distanceSquared = dx * dx + dy * dy + dz * dz\n\n        // Entity is visible if within 20 blocks OR in a finished chunk\n        entity.visible = !!(distanceSquared < VISIBLE_DISTANCE || this.worldRenderer.shouldObjectVisible(entity))\n\n        this.maybeRenderPlayerSkin(entityId)\n      }\n\n      if (entity.visible) {\n        // Update armor positions\n        this.syncArmorPositions(entity)\n      }\n\n      if (entityId === 'player_entity') {\n        entity.visible = this.worldRenderer.playerStateUtils.isThirdPerson()\n\n        if (entity.visible) {\n          // sync\n          const yOffset = this.worldRenderer.playerStateReactive.eyeHeight\n          const pos = this.worldRenderer.cameraObject.position.clone().add(new THREE.Vector3(0, -yOffset, 0))\n          entity.position.set(pos.x, pos.y, pos.z)\n\n          const rotation = this.worldRenderer.cameraShake.getBaseRotation()\n          entity.rotation.set(0, rotation.yaw, 0)\n\n          // Sync head rotation\n          entity.traverse((c) => {\n            if (c.name === 'head') {\n              c.rotation.set(-rotation.pitch, 0, 0)\n            }\n          })\n        }\n      }\n    }\n  }\n\n  private syncArmorPositions (entity: SceneEntity) {\n    if (!entity.playerObject) return\n\n    // todo-low use property access for less loop iterations (small performance gain)\n    entity.traverse((armor) => {\n      if (!armor.name.startsWith('geometry_armor_')) return\n\n      const { skin } = entity.playerObject!\n\n      switch (armor.name) {\n        case 'geometry_armor_head':\n          // Head armor sync\n          if (armor.children[0]?.children[0]) {\n            armor.children[0].children[0].rotation.set(\n              -skin.head.rotation.x,\n              skin.head.rotation.y,\n              skin.head.rotation.z,\n              skin.head.rotation.order\n            )\n          }\n          break\n\n        case 'geometry_armor_legs':\n          // Legs armor sync\n          if (armor.children[0]) {\n            // Left leg\n            if (armor.children[0].children[2]) {\n              armor.children[0].children[2].rotation.set(\n                -skin.leftLeg.rotation.x,\n                skin.leftLeg.rotation.y,\n                skin.leftLeg.rotation.z,\n                skin.leftLeg.rotation.order\n              )\n            }\n            // Right leg\n            if (armor.children[0].children[1]) {\n              armor.children[0].children[1].rotation.set(\n                -skin.rightLeg.rotation.x,\n                skin.rightLeg.rotation.y,\n                skin.rightLeg.rotation.z,\n                skin.rightLeg.rotation.order\n              )\n            }\n          }\n          break\n\n        case 'geometry_armor_feet':\n          // Boots armor sync\n          if (armor.children[0]) {\n            // Right boot\n            if (armor.children[0].children[0]) {\n              armor.children[0].children[0].rotation.set(\n                -skin.rightLeg.rotation.x,\n                skin.rightLeg.rotation.y,\n                skin.rightLeg.rotation.z,\n                skin.rightLeg.rotation.order\n              )\n            }\n            // Left boot (reversed Z rotation)\n            if (armor.children[0].children[1]) {\n              armor.children[0].children[1].rotation.set(\n                -skin.leftLeg.rotation.x,\n                skin.leftLeg.rotation.y,\n                -skin.leftLeg.rotation.z,\n                skin.leftLeg.rotation.order\n              )\n            }\n          }\n          break\n      }\n    })\n  }\n\n  getPlayerObject (entityId: string | number) {\n    if (this.playerEntity?.originalEntity.id === entityId) return this.playerEntity?.playerObject\n    const playerObject = this.entities[entityId]?.playerObject\n    return playerObject\n  }\n\n  uuidPerSkinUrlsCache = {} as Record<string, { skinUrl?: string, capeUrl?: string }>\n\n  private isCanvasBlank (canvas: HTMLCanvasElement): boolean {\n    return !canvas.getContext('2d')\n      ?.getImageData(0, 0, canvas.width, canvas.height).data\n      .some(channel => channel !== 0)\n  }\n\n  // todo true/undefined doesnt reset the skin to the default one\n  // eslint-disable-next-line max-params\n  async updatePlayerSkin (entityId: string | number, username: string | undefined, uuidCache: string | undefined, skinUrl: string | true, capeUrl: string | true | undefined = undefined) {\n    const isCustomSkin = skinUrl !== stevePngUrl\n    if (isCustomSkin) {\n      this.loadedSkinEntityIds.add(String(entityId))\n    }\n    if (uuidCache) {\n      if (typeof skinUrl === 'string' || typeof capeUrl === 'string') this.uuidPerSkinUrlsCache[uuidCache] = {}\n      if (typeof skinUrl === 'string') this.uuidPerSkinUrlsCache[uuidCache].skinUrl = skinUrl\n      if (typeof capeUrl === 'string') this.uuidPerSkinUrlsCache[uuidCache].capeUrl = capeUrl\n      if (skinUrl === true) {\n        skinUrl = this.uuidPerSkinUrlsCache[uuidCache]?.skinUrl ?? skinUrl\n      }\n      capeUrl ??= this.uuidPerSkinUrlsCache[uuidCache]?.capeUrl\n    }\n\n    const playerObject = this.getPlayerObject(entityId)\n    if (!playerObject) return\n\n    if (skinUrl === true) {\n      if (!username) return\n      const newSkinUrl = await loadSkinFromUsername(username, 'skin')\n      if (!this.getPlayerObject(entityId)) return\n      if (!newSkinUrl) return\n      skinUrl = newSkinUrl\n    }\n\n    if (typeof skinUrl !== 'string') throw new Error('Invalid skin url')\n    const renderEars = this.worldRenderer.worldRendererConfig.renderEars || username === 'deadmau5'\n    void this.loadAndApplySkin(entityId, skinUrl, renderEars).then(async () => {\n      if (capeUrl) {\n        if (capeUrl === true && username) {\n          const newCapeUrl = await loadSkinFromUsername(username, 'cape')\n          if (!this.getPlayerObject(entityId)) return\n          if (!newCapeUrl) return\n          capeUrl = newCapeUrl\n        }\n        if (typeof capeUrl === 'string') {\n          void this.loadAndApplyCape(entityId, capeUrl)\n        }\n      }\n    })\n\n\n    playerObject.cape.visible = false\n    if (!capeUrl) {\n      playerObject.backEquipment = null\n      playerObject.elytra.map = null\n      if (playerObject.cape.map) {\n        playerObject.cape.map.dispose()\n      }\n      playerObject.cape.map = null\n    }\n  }\n\n  private async loadAndApplySkin (entityId: string | number, skinUrl: string, renderEars: boolean) {\n    let playerObject = this.getPlayerObject(entityId)\n    if (!playerObject) return\n\n    try {\n      let playerCustomSkinImage: ImageBitmap | undefined\n\n      playerObject = this.getPlayerObject(entityId)\n      if (!playerObject) return\n\n      let skinTexture: THREE.Texture\n      let skinCanvas: OffscreenCanvas\n      if (skinUrl === stevePngUrl) {\n        skinTexture = await steveTexture\n        const canvas = createCanvas(64, 64)\n        const ctx = canvas.getContext('2d')\n        if (!ctx) throw new Error('Failed to get context')\n        ctx.drawImage(skinTexture.image, 0, 0)\n        skinCanvas = canvas\n      } else {\n        const { canvas, image } = await loadSkinImage(skinUrl)\n        playerCustomSkinImage = image\n        skinTexture = new THREE.CanvasTexture(canvas)\n        skinCanvas = canvas\n      }\n\n      skinTexture.magFilter = THREE.NearestFilter\n      skinTexture.minFilter = THREE.NearestFilter\n      skinTexture.needsUpdate = true\n      playerObject.skin.map = skinTexture as any\n      playerObject.skin.modelType = inferModelType(skinCanvas)\n\n      let earsCanvas: HTMLCanvasElement | undefined\n      if (!playerCustomSkinImage) {\n        renderEars = false\n      } else if (renderEars) {\n        earsCanvas = document.createElement('canvas')\n        loadEarsToCanvasFromSkin(earsCanvas, playerCustomSkinImage)\n        renderEars = !this.isCanvasBlank(earsCanvas)\n      }\n      if (renderEars) {\n        const earsTexture = new THREE.CanvasTexture(earsCanvas!)\n        earsTexture.magFilter = THREE.NearestFilter\n        earsTexture.minFilter = THREE.NearestFilter\n        earsTexture.needsUpdate = true\n        //@ts-expect-error\n        playerObject.ears.map = earsTexture\n        playerObject.ears.visible = true\n      } else {\n        playerObject.ears.map = null\n        playerObject.ears.visible = false\n      }\n      this.onSkinUpdate?.()\n    } catch (error) {\n      console.error('Error loading skin:', error)\n    }\n  }\n\n  private async loadAndApplyCape (entityId: string | number, capeUrl: string) {\n    let playerObject = this.getPlayerObject(entityId)\n    if (!playerObject) return\n\n    try {\n      const { canvas: capeCanvas, image: capeImage } = await loadSkinImage(capeUrl)\n\n      playerObject = this.getPlayerObject(entityId)\n      if (!playerObject) return\n\n      loadCapeToCanvas(capeCanvas, capeImage)\n      const capeTexture = new THREE.CanvasTexture(capeCanvas)\n      capeTexture.magFilter = THREE.NearestFilter\n      capeTexture.minFilter = THREE.NearestFilter\n      capeTexture.needsUpdate = true\n      //@ts-expect-error\n      playerObject.cape.map = capeTexture\n      playerObject.cape.visible = true\n      //@ts-expect-error\n      playerObject.elytra.map = capeTexture\n      this.onSkinUpdate?.()\n\n      if (!playerObject.backEquipment) {\n        playerObject.backEquipment = 'cape'\n      }\n    } catch (error) {\n      console.error('Error loading cape:', error)\n    }\n  }\n\n  debugSwingArm () {\n    const playerObject = Object.values(this.entities).find(entity => entity.playerObject?.animation instanceof WalkingGeneralSwing)\n    if (!playerObject) return\n    (playerObject.playerObject!.animation as WalkingGeneralSwing).swingArm()\n  }\n\n  playAnimation (entityPlayerId, animation: 'walking' | 'running' | 'oneSwing' | 'idle' | 'crouch' | 'crouchWalking') {\n    // TODO CLEANUP!\n    // Handle special player entity ID for bot entity in third person\n    if (entityPlayerId === 'player_entity' && this.playerEntity?.playerObject) {\n      const { playerObject } = this.playerEntity\n      if (animation === 'oneSwing') {\n        if (!(playerObject.animation instanceof WalkingGeneralSwing)) throw new Error('Expected WalkingGeneralSwing')\n        playerObject.animation.swingArm()\n        return\n      }\n\n      if (playerObject.animation instanceof WalkingGeneralSwing) {\n        playerObject.animation.switchAnimationCallback = () => {\n          if (!(playerObject.animation instanceof WalkingGeneralSwing)) throw new Error('Expected WalkingGeneralSwing')\n          playerObject.animation.isMoving = animation === 'walking' || animation === 'running' || animation === 'crouchWalking'\n          playerObject.animation.isRunning = animation === 'running'\n          playerObject.animation.isCrouched = animation === 'crouch' || animation === 'crouchWalking'\n        }\n      }\n      return\n    }\n\n    // Handle regular entities\n    const playerObject = this.getPlayerObject(entityPlayerId)\n    if (playerObject) {\n      if (animation === 'oneSwing') {\n        if (!(playerObject.animation instanceof WalkingGeneralSwing)) throw new Error('Expected WalkingGeneralSwing')\n        playerObject.animation.swingArm()\n        return\n      }\n\n      if (playerObject.animation instanceof WalkingGeneralSwing) {\n        playerObject.animation.switchAnimationCallback = () => {\n          if (!(playerObject.animation instanceof WalkingGeneralSwing)) throw new Error('Expected WalkingGeneralSwing')\n          playerObject.animation.isMoving = animation === 'walking' || animation === 'running' || animation === 'crouchWalking'\n          playerObject.animation.isRunning = animation === 'running'\n          playerObject.animation.isCrouched = animation === 'crouch' || animation === 'crouchWalking'\n        }\n      }\n      return\n    }\n\n    // Handle player entity (for third person view) - fallback for backwards compatibility\n    if (this.playerEntity?.playerObject) {\n      const { playerObject: playerEntityObject } = this.playerEntity\n      if (animation === 'oneSwing') {\n        if (!(playerEntityObject.animation instanceof WalkingGeneralSwing)) throw new Error('Expected WalkingGeneralSwing')\n        playerEntityObject.animation.swingArm()\n        return\n      }\n\n      if (playerEntityObject.animation instanceof WalkingGeneralSwing) {\n        playerEntityObject.animation.switchAnimationCallback = () => {\n          if (!(playerEntityObject.animation instanceof WalkingGeneralSwing)) throw new Error('Expected WalkingGeneralSwing')\n          playerEntityObject.animation.isMoving = animation === 'walking' || animation === 'running' || animation === 'crouchWalking'\n          playerEntityObject.animation.isRunning = animation === 'running'\n          playerEntityObject.animation.isCrouched = animation === 'crouch' || animation === 'crouchWalking'\n        }\n      }\n    }\n  }\n\n  parseEntityLabel (jsonLike) {\n    if (!jsonLike) return\n    try {\n      if (jsonLike.type === 'string') {\n        return jsonLike.value\n      }\n      const parsed = typeof jsonLike === 'string' ? mojangson.simplify(mojangson.parse(jsonLike)) : nbt.simplify(jsonLike)\n      const text = flat(parsed).map(this.textFromComponent)\n      return text.join('')\n    } catch (err) {\n      return jsonLike\n    }\n  }\n\n  private textFromComponent (component) {\n    return typeof component === 'string' ? component : component.text ?? ''\n  }\n\n  getItemMesh (item, specificProps: ItemSpecificContextProperties, faceCamera = false, previousModel?: string) {\n    if (!item.nbt && item.nbtData) item.nbt = item.nbtData\n    const textureUv = this.worldRenderer.getItemRenderData(item, specificProps)\n    if (previousModel && previousModel === textureUv?.modelName) return undefined\n\n    if (textureUv && 'resolvedModel' in textureUv) {\n      const mesh = getBlockMeshFromModel(this.worldRenderer.material, textureUv.resolvedModel, textureUv.modelName, this.worldRenderer.resourcesManager.currentResources.worldBlockProvider!)\n      let SCALE = 1\n      if (specificProps['minecraft:display_context'] === 'ground') {\n        SCALE = 0.5\n      } else if (specificProps['minecraft:display_context'] === 'thirdperson') {\n        SCALE = 6\n      }\n      mesh.scale.set(SCALE, SCALE, SCALE)\n      const outerGroup = new THREE.Group()\n      outerGroup.add(mesh)\n      return {\n        mesh: outerGroup,\n        isBlock: true,\n        modelName: textureUv.modelName,\n      }\n    }\n\n    // Render proper 3D model for items\n    if (textureUv) {\n      const textureThree = textureUv.renderInfo?.texture === 'blocks' ? this.worldRenderer.material.map! : this.worldRenderer.itemsTexture\n      const { u, v, su, sv } = textureUv\n      const sizeX = su ?? 1 // su is actually width\n      const sizeY = sv ?? 1 // sv is actually height\n\n      // Use the new unified item mesh function\n      const result = createItemMesh(textureThree, {\n        u,\n        v,\n        sizeX,\n        sizeY\n      }, {\n        faceCamera,\n        use3D: !faceCamera, // Only use 3D for non-camera-facing items\n      })\n\n      let SCALE = 1\n      if (specificProps['minecraft:display_context'] === 'ground') {\n        SCALE = 0.5\n      } else if (specificProps['minecraft:display_context'] === 'thirdperson') {\n        SCALE = 6\n      }\n      result.mesh.scale.set(SCALE, SCALE, SCALE)\n\n      return {\n        mesh: result.mesh,\n        isBlock: false,\n        modelName: textureUv.modelName,\n        cleanup: result.cleanup\n      }\n    }\n  }\n\n  setVisible (mesh: THREE.Object3D, visible: boolean) {\n    //mesh.visible = visible\n    //TODO: Fix workaround for visibility setting\n    if (visible) {\n      mesh.scale.set(1, 1, 1)\n    } else {\n      mesh.scale.set(0, 0, 0)\n    }\n  }\n\n  update (entity: SceneEntity['originalEntity'], overrides) {\n    const isPlayerModel = entity.name === 'player'\n    if (entity.name === 'zombie_villager' || entity.name === 'husk') {\n      overrides.texture = `textures/1.16.4/entity/${entity.name === 'zombie_villager' ? 'zombie_villager/zombie_villager.png' : `zombie/${entity.name}.png`}`\n    }\n    if (entity.name === 'glow_item_frame') {\n      if (!overrides.textures) overrides.textures = []\n      overrides.textures['background'] = 'block:glow_item_frame'\n    }\n    // this can be undefined in case where packet entity_destroy was sent twice (so it was already deleted)\n    let e = this.entities[entity.id]\n    const justAdded = !e\n\n    if (entity.delete) {\n      if (!e) return\n      if (e.additionalCleanup) e.additionalCleanup()\n      e.traverse(c => {\n        if (c['additionalCleanup']) c['additionalCleanup']()\n      })\n      this.onRemoveEntity(entity)\n      this.worldRenderer.scene.remove(e)\n      disposeObject(e)\n      // todo dispose textures as well ?\n      delete this.entities[entity.id]\n      return\n    }\n\n    let mesh: THREE.Object3D | undefined\n    if (e === undefined) {\n      const group = new THREE.Group() as unknown as SceneEntity\n      group.originalEntity = entity\n      if (entity.name === 'item' || entity.name === 'tnt' || entity.name === 'falling_block' || entity.name === 'snowball'\n        || entity.name === 'egg' || entity.name === 'ender_pearl' || entity.name === 'experience_bottle'\n        || entity.name === 'splash_potion' || entity.name === 'lingering_potion') {\n        const item = entity.name === 'tnt' || entity.type === 'projectile'\n          ? { name: entity.name }\n          : entity.name === 'falling_block'\n            ? { blockState: entity['objectData'] }\n            : entity.metadata?.find((m: any) => typeof m === 'object' && m?.itemCount)\n        if (item) {\n          const object = this.getItemMesh(item, {\n            'minecraft:display_context': 'ground',\n          }, entity.type === 'projectile')\n          if (object) {\n            mesh = object.mesh\n            if (entity.name === 'item' || entity.type === 'projectile') {\n              mesh.scale.set(0.5, 0.5, 0.5)\n              mesh.position.set(0, entity.name === 'item' ? 0.2 : 0.1, 0)\n            } else {\n              mesh.scale.set(2, 2, 2)\n              mesh.position.set(0, 0.5, 0)\n            }\n            // set faces\n            // mesh.position.set(targetPos.x + 0.5 + 2, targetPos.y + 0.5, targetPos.z + 0.5)\n            // viewer.scene.add(mesh)\n            if (entity.name === 'item') {\n              const clock = new THREE.Clock()\n              mesh.onBeforeRender = () => {\n                const delta = clock.getDelta()\n                mesh!.rotation.y += delta\n              }\n            }\n\n            // TNT blinking\n            // if (entity.name === 'tnt') {\n            //   let lastBlink = 0\n            //   const blinkInterval = 500 // ms between blinks\n            //   mesh.onBeforeRender = () => {\n            //     const now = Date.now()\n            //     if (now - lastBlink > blinkInterval) {\n            //       lastBlink = now\n            //       mesh.traverse((child) => {\n            //         if (child instanceof THREE.Mesh) {\n            //           const material = child.material as THREE.MeshLambertMaterial\n            //           material.color.set(material.color?.equals(new THREE.Color(0xff_ff_ff))\n            //             ? new THREE.Color(0xff_00_00)\n            //             : new THREE.Color(0xff_ff_ff))\n            //         }\n            //       })\n            //     }\n            //   }\n            // }\n\n            group.additionalCleanup = () => {\n              // important: avoid texture memory leak and gpu slowdown\n              if (object.cleanup) {\n                object.cleanup()\n              }\n            }\n          }\n        }\n      } else if (isPlayerModel) {\n        const wrapper = new THREE.Group()\n        const playerObject = this.setupPlayerObject(entity, wrapper, overrides)\n        group.playerObject = playerObject\n        mesh = wrapper\n\n        if (entity.username) {\n          const nametag = addNametag(entity, { fontFamily: 'mojangles' }, wrapper, this.worldRenderer.version)\n          if (nametag) {\n            nametag.position.y = playerObject.position.y + playerObject.scale.y * 16 + 3\n            nametag.scale.multiplyScalar(12)\n          }\n        }\n      } else {\n        mesh = getEntityMesh(entity, this.worldRenderer, this.entitiesOptions, { ...overrides, customModel: entity['customModel'] })\n      }\n      if (!mesh) return\n      mesh.name = 'mesh'\n      // set initial position so there are no weird jumps update after\n      const pos = entity.pos ?? entity.position\n      group.position.set(pos.x, pos.y, pos.z)\n\n      // todo use width and height instead\n      const boxHelper = new THREE.BoxHelper(\n        mesh,\n        entity.type === 'hostile' ? 0xff_00_00 :\n          entity.type === 'mob' ? 0x00_ff_00 :\n            entity.type === 'player' ? 0x00_00_ff :\n              0xff_a5_00,\n      )\n      boxHelper.name = 'debug'\n      group.add(mesh)\n      group.add(boxHelper)\n      boxHelper.visible = false\n      this.worldRenderer.scene.add(group)\n\n      e = group\n      e.name = 'entity'\n      e['realName'] = entity.name\n      this.entities[entity.id] = e\n\n      this.onAddEntity(entity)\n\n      if (isPlayerModel) {\n        void this.updatePlayerSkin(entity.id, entity.username, overrides?.texture ? entity.uuid : undefined, overrides?.texture || stevePngUrl)\n      }\n      this.setDebugMode(this.debugMode, group)\n      this.setRendering(this.currentlyRendering, group)\n    } else {\n      mesh = e.children.find(c => c.name === 'mesh')\n    }\n\n    // Update equipment\n    this.updateEntityEquipment(e, entity)\n\n    const meta = getGeneralEntitiesMetadata(entity)\n\n    const isInvisible = ((entity.metadata?.[0] ?? 0) as unknown as number) & 0x20 || (this.worldRenderer.playerStateReactive.cameraSpectatingEntity === entity.id && this.worldRenderer.playerStateUtils.isSpectator())\n    for (const child of mesh!.children ?? []) {\n      if (child.name !== 'nametag') {\n        child.visible = !isInvisible\n      }\n    }\n    // ---\n    // set baby size\n    if (meta.baby) {\n      e.scale.set(0.5, 0.5, 0.5)\n    } else {\n      e.scale.set(1, 1, 1)\n    }\n    // entity specific meta\n    const textDisplayMeta = getSpecificEntityMetadata('text_display', entity)\n    const displayTextRaw = textDisplayMeta?.text || meta.custom_name_visible && meta.custom_name\n    if (entity.name !== 'player' && displayTextRaw) {\n      const nameTagFixed = textDisplayMeta && (textDisplayMeta.billboard_render_constraints === 'fixed' || !textDisplayMeta.billboard_render_constraints)\n      const nameTagBackgroundColor = (textDisplayMeta && (parseInt(textDisplayMeta.style_flags, 10) & 0x04) === 0) ? toRgba(textDisplayMeta.background_color) : undefined\n      let nameTagTextOpacity: any\n      if (textDisplayMeta?.text_opacity) {\n        const rawOpacity = parseInt(textDisplayMeta?.text_opacity, 10)\n        nameTagTextOpacity = rawOpacity > 0 ? rawOpacity : 256 - rawOpacity\n      }\n      addNametag(\n        { ...entity, username: typeof displayTextRaw === 'string' ? mojangson.simplify(mojangson.parse(displayTextRaw)) : nbt.simplify(displayTextRaw),\n          nameTagBackgroundColor, nameTagTextOpacity, nameTagFixed,\n          nameTagScale: textDisplayMeta?.scale, nameTagTranslation: textDisplayMeta && (textDisplayMeta.translation || new THREE.Vector3(0, 0, 0)),\n          nameTagRotationLeft: toQuaternion(textDisplayMeta?.left_rotation), nameTagRotationRight: toQuaternion(textDisplayMeta?.right_rotation) },\n        this.entitiesOptions,\n        mesh,\n        this.worldRenderer.version\n      )\n    }\n\n    const armorStandMeta = getSpecificEntityMetadata('armor_stand', entity)\n    if (armorStandMeta) {\n      const isSmall = (parseInt(armorStandMeta.client_flags, 10) & 0x01) !== 0\n      const hasArms = (parseInt(armorStandMeta.client_flags, 10) & 0x04) !== 0\n      const hasBasePlate = (parseInt(armorStandMeta.client_flags, 10) & 0x08) === 0\n      const isMarker = (parseInt(armorStandMeta.client_flags, 10) & 0x10) !== 0\n      mesh!.castShadow = !isMarker\n      mesh!.receiveShadow = !isMarker\n      if (isSmall) {\n        e.scale.set(0.5, 0.5, 0.5)\n      } else {\n        e.scale.set(1, 1, 1)\n      }\n      e.traverse(c => {\n        switch (c.name) {\n          case 'bone_baseplate':\n            this.setVisible(c, hasBasePlate)\n            c.rotation.y = -e.rotation.y\n            break\n          case 'bone_head':\n            if (armorStandMeta.head_pose) {\n              c.setRotationFromEuler(poseToEuler(armorStandMeta.head_pose))\n            }\n            break\n          case 'bone_body':\n            if (armorStandMeta.body_pose) {\n              c.setRotationFromEuler(poseToEuler(armorStandMeta.body_pose))\n            }\n            break\n          case 'bone_rightarm':\n            if (c.parent?.name !== 'bone_armor') {\n              this.setVisible(c, hasArms)\n            }\n            if (armorStandMeta.left_arm_pose) {\n              c.setRotationFromEuler(poseToEuler(armorStandMeta.left_arm_pose))\n            } else {\n              c.setRotationFromEuler(poseToEuler({ 'yaw': -10, 'pitch': -10, 'roll': 0 }))\n            }\n            break\n          case 'bone_leftarm':\n            if (c.parent?.name !== 'bone_armor') {\n              this.setVisible(c, hasArms)\n            }\n            if (armorStandMeta.right_arm_pose) {\n              c.setRotationFromEuler(poseToEuler(armorStandMeta.right_arm_pose))\n            } else {\n              c.setRotationFromEuler(poseToEuler({ 'yaw': 10, 'pitch': -10, 'roll': 0 }))\n            }\n            break\n          case 'bone_rightleg':\n            if (armorStandMeta.left_leg_pose) {\n              c.setRotationFromEuler(poseToEuler(armorStandMeta.left_leg_pose))\n            } else {\n              c.setRotationFromEuler(poseToEuler({ 'yaw': -1, 'pitch': -1, 'roll': 0 }))\n            }\n            break\n          case 'bone_leftleg':\n            if (armorStandMeta.right_leg_pose) {\n              c.setRotationFromEuler(poseToEuler(armorStandMeta.right_leg_pose))\n            } else {\n              c.setRotationFromEuler(poseToEuler({ 'yaw': 1, 'pitch': 1, 'roll': 0 }))\n            }\n            break\n        }\n      })\n    }\n\n    // todo handle map, map_chunks events\n    let itemFrameMeta = getSpecificEntityMetadata('item_frame', entity)\n    if (!itemFrameMeta) {\n      itemFrameMeta = getSpecificEntityMetadata('glow_item_frame', entity)\n    }\n    if (itemFrameMeta) {\n      // TODO: fix type\n      // todo! fix errors in mc-data (no entities data prior 1.18.2)\n      const item = (itemFrameMeta?.item ?? entity.metadata?.[8]) as any as { itemId, blockId, components, nbtData: { value: { map: { value: number } } } }\n      mesh!.scale.set(1, 1, 1)\n      mesh!.position.set(0, 0, -0.5)\n\n      e.rotation.x = -entity.pitch\n      e.children.find(c => {\n        if (c.name.startsWith('map_')) {\n          disposeObject(c)\n          const existingMapNumber = parseInt(c.name.split('_')[1], 10)\n          this.itemFrameMaps[existingMapNumber] = this.itemFrameMaps[existingMapNumber]?.filter(mesh => mesh !== c)\n          if (c instanceof THREE.Mesh) {\n            c.material?.map?.dispose()\n          }\n          return true\n        } else if (c.name === 'item') {\n          disposeObject(c)\n          return true\n        }\n        return false\n      })?.removeFromParent()\n\n      if (item && (item.itemId ?? item.blockId ?? 0) !== 0) {\n        // Get rotation from metadata, default to 0 if not present\n        // Rotation is stored in 45 increments (0-7) for items, 90 increments (0-3) for maps\n        const rotation = (itemFrameMeta.rotation as any as number) ?? 0\n        const mapNumber = item.nbtData?.value?.map?.value ?? item.components?.find(x => x.type === 'map_id')?.data\n        if (mapNumber) {\n          // TODO: Use proper larger item frame model when a map exists\n          mesh!.scale.set(16 / 12, 16 / 12, 1)\n          // Handle map rotation (4 possibilities, 90 increments)\n          this.addMapModel(e, mapNumber, rotation)\n        } else {\n          // Handle regular item rotation (8 possibilities, 45 increments)\n          const itemMesh = this.getItemMesh(item, {\n            'minecraft:display_context': 'fixed',\n          })\n          if (itemMesh) {\n            itemMesh.mesh.position.set(0, 0, -0.05)\n            // itemMesh.mesh.position.set(0, 0, 0.43)\n            if (itemMesh.isBlock) {\n              itemMesh.mesh.scale.set(0.25, 0.25, 0.25)\n            } else {\n              itemMesh.mesh.scale.set(0.5, 0.5, 0.5)\n            }\n            // Rotate 180 around Y axis first\n            itemMesh.mesh.rotateY(Math.PI)\n            // Then apply the 45 increment rotation\n            itemMesh.mesh.rotateZ(-rotation * Math.PI / 4)\n            itemMesh.mesh.name = 'item'\n            e.add(itemMesh.mesh)\n          }\n        }\n      }\n    }\n\n    if (entity.username !== undefined) {\n      e.username = entity.username\n    }\n\n    this.updateNameTagVisibility(e)\n\n    this.updateEntityPosition(entity, justAdded, overrides)\n  }\n\n  updateEntityPosition (entity: import('prismarine-entity').Entity, justAdded: boolean, overrides: { rotation?: { head?: { y: number, x: number } } }) {\n    const e = this.entities[entity.id]\n    if (!e) return\n    const ANIMATION_DURATION = justAdded ? 0 : TWEEN_DURATION\n    if (entity.position) {\n      new TWEEN.Tween(e.position).to({ x: entity.position.x, y: entity.position.y, z: entity.position.z }, ANIMATION_DURATION).start()\n    }\n    if (entity.yaw) {\n      const da = (entity.yaw - e.rotation.y) % (Math.PI * 2)\n      const dy = 2 * da % (Math.PI * 2) - da\n      new TWEEN.Tween(e.rotation).to({ y: e.rotation.y + dy }, ANIMATION_DURATION).start()\n    }\n\n    if (e?.playerObject && overrides?.rotation?.head) {\n      const { playerObject } = e\n      const headRotationDiff = overrides.rotation.head.y ? overrides.rotation.head.y - entity.yaw : 0\n      playerObject.skin.head.rotation.y = -headRotationDiff\n      playerObject.skin.head.rotation.x = overrides.rotation.head.x ? - overrides.rotation.head.x : 0\n    }\n  }\n\n  onAddEntity (entity: import('prismarine-entity').Entity) {\n  }\n\n  loadedSkinEntityIds = new Set<string>()\n  maybeRenderPlayerSkin (entityId: string) {\n    let mesh = this.entities[entityId]\n    if (entityId === 'player_entity') {\n      mesh = this.playerEntity!\n      entityId = this.playerEntity?.originalEntity.id as any\n    }\n    if (!mesh) return\n    if (!mesh.playerObject) return\n    if (!mesh.visible) return\n\n    const MAX_DISTANCE_SKIN_LOAD = 128\n    const cameraPos = this.worldRenderer.cameraObject.position\n    const distance = mesh.position.distanceTo(cameraPos)\n    if (distance < MAX_DISTANCE_SKIN_LOAD && distance < (this.worldRenderer.viewDistance * 16)) {\n      if (this.loadedSkinEntityIds.has(String(entityId))) return\n      void this.updatePlayerSkin(entityId, mesh.playerObject.realUsername, mesh.playerObject.realPlayerUuid, true, true)\n    }\n  }\n\n  playerPerAnimation = {} as Record<number, string>\n  onRemoveEntity (entity: import('prismarine-entity').Entity) {\n    this.loadedSkinEntityIds.delete(entity.id.toString())\n  }\n\n  updateMap (mapNumber: string | number, data: string) {\n    this.cachedMapsImages[mapNumber] = data\n    let itemFrameMeshes = this.itemFrameMaps[mapNumber]\n    if (!itemFrameMeshes) return\n    itemFrameMeshes = itemFrameMeshes.filter(mesh => mesh.parent)\n    this.itemFrameMaps[mapNumber] = itemFrameMeshes\n    if (itemFrameMeshes) {\n      for (const mesh of itemFrameMeshes) {\n        mesh.material.map = this.loadMap(data)\n        mesh.material.needsUpdate = true\n        mesh.visible = true\n      }\n    }\n  }\n\n  updateNameTagVisibility (entity: SceneEntity) {\n    const playerTeam = this.worldRenderer.playerStateReactive.team\n    const entityTeam = entity.originalEntity.team\n    const nameTagVisibility = entityTeam?.nameTagVisibility || 'always'\n    const showNameTag = nameTagVisibility === 'always' ||\n      (nameTagVisibility === 'hideForOwnTeam' && entityTeam?.team !== playerTeam?.team) ||\n      (nameTagVisibility === 'hideForOtherTeams' && (entityTeam?.team === playerTeam?.team || playerTeam === undefined))\n    entity.traverse(c => {\n      if (c.name === 'nametag') {\n        c.visible = showNameTag\n      }\n    })\n  }\n\n  addMapModel (entityMesh: THREE.Object3D, mapNumber: number, rotation: number) {\n    const imageData = this.cachedMapsImages?.[mapNumber]\n    let texture: THREE.Texture | null = null\n    if (imageData) {\n      texture = this.loadMap(imageData)\n    }\n    const parameters = {\n      transparent: true,\n      alphaTest: 0.1,\n    }\n    if (texture) {\n      parameters['map'] = texture\n    }\n    const material = new THREE.MeshLambertMaterial(parameters)\n\n    const mapMesh = new THREE.Mesh(new THREE.PlaneGeometry(1, 1), material)\n\n    mapMesh.rotation.set(0, Math.PI, 0)\n    entityMesh.add(mapMesh)\n    let isInvisible = true\n    entityMesh.traverseVisible(c => {\n      if (c.name === 'geometry_frame') {\n        isInvisible = false\n      }\n    })\n    if (isInvisible) {\n      mapMesh.position.set(0, 0, 0.499)\n    } else {\n      mapMesh.position.set(0, 0, 0.437)\n    }\n    // Apply 90 increment rotation for maps (0-3)\n    mapMesh.rotateZ(Math.PI * 2 - rotation * Math.PI / 2)\n    mapMesh.name = `map_${mapNumber}`\n\n    if (!texture) {\n      mapMesh.visible = false\n    }\n\n    if (!this.itemFrameMaps[mapNumber]) {\n      this.itemFrameMaps[mapNumber] = []\n    }\n    this.itemFrameMaps[mapNumber].push(mapMesh)\n  }\n\n  loadMap (data: any) {\n    const texture = new THREE.TextureLoader().load(data)\n    if (texture) {\n      texture.magFilter = THREE.NearestFilter\n      texture.minFilter = THREE.NearestFilter\n      texture.needsUpdate = true\n    }\n    return texture\n  }\n\n  addItemModel (entityMesh: SceneEntity, hand: 'left' | 'right', item: Item, isPlayer = false) {\n    const bedrockParentName = `bone_${hand}item`\n    const itemName = `custom_item_${hand}`\n\n    // remove existing item\n    entityMesh.traverse(c => {\n      if (c.name === itemName) {\n        c.removeFromParent()\n        if (c['additionalCleanup']) c['additionalCleanup']()\n      }\n    })\n    if (!item) return\n\n    const itemObject = this.getItemMesh(item, {\n      'minecraft:display_context': 'thirdperson',\n    })\n    if (itemObject?.mesh) {\n      entityMesh.traverse(c => {\n        if (c.name.toLowerCase() === bedrockParentName || c.name === `${hand}Arm`) {\n          const group = new THREE.Object3D()\n          group['additionalCleanup'] = () => {\n            // important: avoid texture memory leak and gpu slowdown\n            if (itemObject.cleanup) {\n              itemObject.cleanup()\n            }\n          }\n          const itemMesh = itemObject.mesh\n          group.rotation.z = -Math.PI / 16\n          if (itemObject.isBlock) {\n            group.rotation.y = Math.PI / 4\n          } else {\n            itemMesh.rotation.z = -Math.PI / 4\n            group.rotation.y = Math.PI / 2\n            group.scale.multiplyScalar(2)\n          }\n\n          // if player, move item below and forward a bit\n          if (isPlayer) {\n            group.position.y = -8\n            group.position.z = 5\n            group.position.x = hand === 'left' ? 1 : -1\n            group.rotation.x = Math.PI\n          }\n\n          group.add(itemMesh)\n\n          group.name = itemName\n          c.add(group)\n        }\n      })\n    }\n  }\n\n  handleDamageEvent (entityId, damageAmount) {\n    const entityMesh = this.entities[entityId]?.children.find(c => c.name === 'mesh')\n    if (entityMesh) {\n      entityMesh.traverse((child) => {\n        if (child instanceof THREE.Mesh && child.material.clone) {\n          const clonedMaterial = child.material.clone()\n          clonedMaterial.dispose()\n          child.material = child.material.clone()\n          const originalColor = child.material.color.clone()\n          child.material.color.set(0xff_00_00)\n          new TWEEN.Tween(child.material.color)\n            .to(originalColor, 500)\n            .start()\n        }\n      })\n    }\n  }\n\n  raycastSceneDebug () {\n    // return any object from scene. raycast from camera\n    const raycaster = new THREE.Raycaster()\n    raycaster.setFromCamera(new THREE.Vector2(0, 0), this.worldRenderer.camera)\n    const intersects = raycaster.intersectObjects(this.worldRenderer.scene.children)\n    return intersects[0]?.object\n  }\n\n  private setupPlayerObject (entity: SceneEntity['originalEntity'], wrapper: THREE.Group, overrides: { texture?: string }): PlayerObjectType {\n    const playerObject = new PlayerObject() as PlayerObjectType\n    playerObject.realPlayerUuid = entity.uuid ?? ''\n    playerObject.realUsername = entity.username ?? ''\n    playerObject.position.set(0, 16, 0)\n\n    // fix issues with starfield\n    playerObject.traverse((obj) => {\n      if (obj instanceof THREE.Mesh && obj.material instanceof THREE.MeshStandardMaterial) {\n        obj.material.transparent = true\n      }\n    })\n\n    wrapper.add(playerObject as any)\n    const scale = 1 / 16\n    wrapper.scale.set(scale, scale, scale)\n    wrapper.rotation.set(0, Math.PI, 0)\n\n    // Set up animation\n    playerObject.animation = new WalkingGeneralSwing()\n    //@ts-expect-error\n    playerObject.animation.isMoving = false\n\n    return playerObject\n  }\n\n  private updateEntityEquipment (entityMesh: SceneEntity, entity: SceneEntity['originalEntity']) {\n    if (!entityMesh || !entity.equipment) return\n\n    const isPlayer = entity.type === 'player'\n    this.addItemModel(entityMesh, isPlayer ? 'right' : 'left', entity.equipment[0], isPlayer)\n    this.addItemModel(entityMesh, isPlayer ? 'left' : 'right', entity.equipment[1], isPlayer)\n    addArmorModel(this.worldRenderer, entityMesh, 'feet', entity.equipment[2])\n    addArmorModel(this.worldRenderer, entityMesh, 'legs', entity.equipment[3], 2)\n    addArmorModel(this.worldRenderer, entityMesh, 'chest', entity.equipment[4])\n    addArmorModel(this.worldRenderer, entityMesh, 'head', entity.equipment[5])\n\n    // Update player-specific equipment\n    if (isPlayer && entityMesh.playerObject) {\n      const { playerObject } = entityMesh\n      playerObject.backEquipment = entity.equipment.some((item) => item?.name === 'elytra') ? 'elytra' : 'cape'\n      if (playerObject.backEquipment === 'elytra') {\n        void this.loadAndApplyCape(entity.id, elytraTexture)\n      }\n      if (playerObject.cape.map === null) {\n        playerObject.cape.visible = false\n      }\n    }\n  }\n}\n\nfunction getGeneralEntitiesMetadata (entity: { name; metadata }): Partial<UnionToIntersection<EntityMetadataVersions[keyof EntityMetadataVersions]>> {\n  const entityData = loadedData.entitiesByName[entity.name]\n  return new Proxy({}, {\n    get (target, p, receiver) {\n      if (typeof p !== 'string' || !entityData) return\n      const index = entityData.metadataKeys?.indexOf(p)\n      return entity.metadata?.[index ?? -1]\n    },\n  })\n}\n\nfunction getSpecificEntityMetadata<T extends keyof EntityMetadataVersions> (name: T, entity): EntityMetadataVersions[T] | undefined {\n  if (entity.name !== name) return\n  return getGeneralEntitiesMetadata(entity) as any\n}\n\nfunction addArmorModel (worldRenderer: WorldRendererThree, entityMesh: THREE.Object3D, slotType: string, item: Item, layer = 1, overlay = false) {\n  if (!item) {\n    removeArmorModel(entityMesh, slotType)\n    return\n  }\n  const itemParts = item.name.split('_')\n  let texturePath\n  const isPlayerHead = slotType === 'head' && item.name === 'player_head'\n  if (isPlayerHead) {\n    removeArmorModel(entityMesh, slotType)\n    if (item.nbt) {\n      const itemNbt = nbt.simplify(item.nbt)\n      try {\n        let textureData\n        if (itemNbt.SkullOwner) {\n          textureData = itemNbt.SkullOwner.Properties.textures[0]?.Value\n        } else {\n          textureData = itemNbt['minecraft:profile']?.Properties?.find(p => p.name === 'textures')?.value\n        }\n        if (textureData) {\n          const decodedData = JSON.parse(Buffer.from(textureData, 'base64').toString())\n          texturePath = decodedData.textures?.SKIN?.url\n          const { skinTexturesProxy } = this.worldRenderer.worldRendererConfig\n          if (skinTexturesProxy) {\n            texturePath = texturePath?.replace('http://textures.minecraft.net/', skinTexturesProxy)\n              .replace('https://textures.minecraft.net/', skinTexturesProxy)\n          }\n        }\n      } catch (err) {\n        console.error('Error decoding player head texture:', err)\n      }\n    } else {\n      texturePath = stevePngUrl\n    }\n  }\n  const armorMaterial = itemParts[0]\n  if (!texturePath) {\n    // TODO: Support mirroring on certain parts of the model\n    const armorTextureName = `${armorMaterial}_layer_${layer}${overlay ? '_overlay' : ''}`\n    texturePath = worldRenderer.resourcesManager.currentResources.customTextures.armor?.textures[armorTextureName]?.src ?? armorTextures[armorTextureName]\n  }\n  if (!texturePath || !armorModel[slotType]) {\n    removeArmorModel(entityMesh, slotType)\n    return\n  }\n\n  const meshName = `geometry_armor_${slotType}${overlay ? '_overlay' : ''}`\n  let mesh = entityMesh.children.findLast(c => c.name === meshName) as THREE.Mesh\n  let material\n  if (mesh) {\n    material = mesh.material\n    void loadTexture(texturePath, texture => {\n      texture.magFilter = THREE.NearestFilter\n      texture.minFilter = THREE.NearestFilter\n      texture.flipY = false\n      texture.wrapS = THREE.MirroredRepeatWrapping\n      texture.wrapT = THREE.MirroredRepeatWrapping\n      material.map = texture\n    })\n  } else {\n    mesh = getMesh(worldRenderer, texturePath, armorModel[slotType])\n    // // enable debug mode to see the mesh\n    // mesh.traverse(c => {\n    //   if (c instanceof THREE.Mesh) {\n    //     c.material.wireframe = true\n    //   }\n    // })\n    if (slotType === 'head') {\n      // avoid z-fighting with the head\n      mesh.children[0].position.y += 0.01\n    }\n    mesh.name = meshName\n    material = mesh.material\n    if (!isPlayerHead) {\n      material.side = THREE.DoubleSide\n    }\n  }\n  if (armorMaterial === 'leather' && !overlay) {\n    const color = (item.nbt?.value as any)?.display?.value?.color?.value\n    if (color) {\n      const r = color >> 16 & 0xff\n      const g = color >> 8 & 0xff\n      const b = color & 0xff\n      material.color.setRGB(r / 255, g / 255, b / 255)\n    } else {\n      material.color.setHex(0xB5_6D_51) // default brown color\n    }\n    addArmorModel(worldRenderer, entityMesh, slotType, item, layer, true)\n  } else {\n    material.color.setHex(0xFF_FF_FF)\n  }\n  const group = new THREE.Object3D()\n  group.name = `armor_${slotType}${overlay ? '_overlay' : ''}`\n  group.add(mesh)\n\n  entityMesh.add(mesh)\n}\n\nfunction removeArmorModel (entityMesh: THREE.Object3D, slotType: string) {\n  for (const c of entityMesh.children) {\n    if (c.name === `geometry_armor_${slotType}` || c.name === `geometry_armor_${slotType}_overlay`) {\n      c.removeFromParent()\n    }\n  }\n}\n","import * as THREE from 'three'\nimport { loadSkinFromUsername, loadSkinImage } from '../lib/utils/skins'\nimport { steveTexture } from './entities'\n\n\nexport const getMyHand = async (image?: string, userName?: string) => {\n  let newMap: THREE.Texture\n  if (!image && !userName) {\n    newMap = await steveTexture\n  } else {\n    if (!image) {\n      image = await loadSkinFromUsername(userName!, 'skin')\n    }\n    if (!image) {\n      return\n    }\n    const { canvas } = await loadSkinImage(image)\n    newMap = new THREE.CanvasTexture(canvas)\n  }\n\n  newMap.magFilter = THREE.NearestFilter\n  newMap.minFilter = THREE.NearestFilter\n  // right arm\n  const box = new THREE.BoxGeometry()\n  const material = new THREE.MeshStandardMaterial()\n  const slim = false\n  const mesh = new THREE.Mesh(box, material)\n  mesh.scale.x = slim ? 3 : 4\n  mesh.scale.y = 12\n  mesh.scale.z = 4\n  setSkinUVs(box, 40, 16, slim ? 3 : 4, 12, 4)\n  material.map = newMap\n  material.needsUpdate = true\n  const group = new THREE.Group()\n  group.add(mesh)\n  group.scale.set(0.1, 0.1, 0.1)\n  mesh.rotation.z = Math.PI\n  return group\n}\n\nfunction setUVs (\n  box: THREE.BoxGeometry,\n  u: number,\n  v: number,\n  width: number,\n  height: number,\n  depth: number,\n  textureWidth: number,\n  textureHeight: number\n): void {\n  const toFaceVertices = (x1: number, y1: number, x2: number, y2: number) => [\n    new THREE.Vector2(x1 / textureWidth, 1 - y2 / textureHeight),\n    new THREE.Vector2(x2 / textureWidth, 1 - y2 / textureHeight),\n    new THREE.Vector2(x2 / textureWidth, 1 - y1 / textureHeight),\n    new THREE.Vector2(x1 / textureWidth, 1 - y1 / textureHeight),\n  ]\n\n  const top = toFaceVertices(u + depth, v, u + width + depth, v + depth)\n  const bottom = toFaceVertices(u + width + depth, v, u + width * 2 + depth, v + depth)\n  const left = toFaceVertices(u, v + depth, u + depth, v + depth + height)\n  const front = toFaceVertices(u + depth, v + depth, u + width + depth, v + depth + height)\n  const right = toFaceVertices(u + width + depth, v + depth, u + width + depth * 2, v + height + depth)\n  const back = toFaceVertices(u + width + depth * 2, v + depth, u + width * 2 + depth * 2, v + height + depth)\n\n  const uvAttr = box.attributes.uv as THREE.BufferAttribute\n  const uvRight = [right[3], right[2], right[0], right[1]]\n  const uvLeft = [left[3], left[2], left[0], left[1]]\n  const uvTop = [top[3], top[2], top[0], top[1]]\n  const uvBottom = [bottom[0], bottom[1], bottom[3], bottom[2]]\n  const uvFront = [front[3], front[2], front[0], front[1]]\n  const uvBack = [back[3], back[2], back[0], back[1]]\n\n  // Create a new array to hold the modified UV data\n  const newUVData = [] as number[]\n\n  // Iterate over the arrays and copy the data to uvData\n  for (const uvArray of [uvRight, uvLeft, uvTop, uvBottom, uvFront, uvBack]) {\n    for (const uv of uvArray) {\n      newUVData.push(uv.x, uv.y)\n    }\n  }\n\n  uvAttr.set(new Float32Array(newUVData))\n  uvAttr.needsUpdate = true\n}\n\nfunction setSkinUVs (box: THREE.BoxGeometry, u: number, v: number, width: number, height: number, depth: number): void {\n  setUVs(box, u, v, width, height, depth, 64, 64)\n}\n","import * as THREE from 'three'\nimport { LineMaterial, LineSegmentsGeometry, Wireframe } from 'three-stdlib'\nimport { Vec3 } from 'vec3'\nimport { BlockShape, BlocksShapes } from 'renderer/viewer/lib/basePlayerState'\nimport { WorldRendererThree } from '../worldrendererThree'\nimport { loadThreeJsTextureFromUrl } from '../threeJsUtils'\nimport destroyStage0 from '../../../../assets/destroy_stage_0.png'\nimport destroyStage1 from '../../../../assets/destroy_stage_1.png'\nimport destroyStage2 from '../../../../assets/destroy_stage_2.png'\nimport destroyStage3 from '../../../../assets/destroy_stage_3.png'\nimport destroyStage4 from '../../../../assets/destroy_stage_4.png'\nimport destroyStage5 from '../../../../assets/destroy_stage_5.png'\nimport destroyStage6 from '../../../../assets/destroy_stage_6.png'\nimport destroyStage7 from '../../../../assets/destroy_stage_7.png'\nimport destroyStage8 from '../../../../assets/destroy_stage_8.png'\nimport destroyStage9 from '../../../../assets/destroy_stage_9.png'\n\nexport class CursorBlock {\n  _cursorLinesHidden = false\n  get cursorLinesHidden () {\n    return this._cursorLinesHidden\n  }\n  set cursorLinesHidden (value: boolean) {\n    if (this.interactionLines) {\n      this.interactionLines.mesh.visible = !value\n    }\n    this._cursorLinesHidden = value\n  }\n\n  cursorLineMaterial: LineMaterial\n  interactionLines: null | { blockPos: Vec3, mesh: THREE.Group } = null\n  prevColor: string | undefined\n  blockBreakMesh: THREE.Mesh\n  breakTextures: THREE.Texture[] = []\n\n  constructor (public readonly worldRenderer: WorldRendererThree) {\n    // Initialize break mesh and textures\n    const destroyStagesImages = [\n      destroyStage0, destroyStage1, destroyStage2, destroyStage3, destroyStage4,\n      destroyStage5, destroyStage6, destroyStage7, destroyStage8, destroyStage9\n    ]\n\n    for (let i = 0; i < 10; i++) {\n      void loadThreeJsTextureFromUrl(destroyStagesImages[i]).then((texture) => {\n        texture.magFilter = THREE.NearestFilter\n        texture.minFilter = THREE.NearestFilter\n        this.breakTextures.push(texture)\n      })\n    }\n\n    const breakMaterial = new THREE.MeshBasicMaterial({\n      transparent: true,\n      blending: THREE.MultiplyBlending,\n      alphaTest: 0.5,\n    })\n    this.blockBreakMesh = new THREE.Mesh(new THREE.BoxGeometry(1, 1, 1), breakMaterial)\n    this.blockBreakMesh.visible = false\n    this.blockBreakMesh.renderOrder = 999\n    this.blockBreakMesh.name = 'blockBreakMesh'\n    this.worldRenderer.scene.add(this.blockBreakMesh)\n\n    this.worldRenderer.onReactivePlayerStateUpdated('gameMode', () => {\n      this.updateLineMaterial()\n    })\n  }\n\n  // Update functions\n  updateLineMaterial () {\n    const inCreative = this.worldRenderer.playerStateReactive.gameMode === 'creative'\n    const pixelRatio = this.worldRenderer.renderer.getPixelRatio()\n\n    this.cursorLineMaterial = new LineMaterial({\n      color: (() => {\n        switch (this.worldRenderer.worldRendererConfig.highlightBlockColor) {\n          case 'blue':\n            return 0x40_80_ff\n          case 'classic':\n            return 0x00_00_00\n          default:\n            return inCreative ? 0x40_80_ff : 0x00_00_00\n        }\n      })(),\n      linewidth: Math.max(pixelRatio * 0.7, 1) * 2,\n      // dashed: true,\n      // dashSize: 5,\n    })\n    this.prevColor = this.worldRenderer.worldRendererConfig.highlightBlockColor\n  }\n\n  updateBreakAnimation (blockPosition: { x: number, y: number, z: number } | undefined, stage: number | null, mergedShape?: BlockShape) {\n    this.hideBreakAnimation()\n    if (stage === null || !blockPosition || !mergedShape) return\n\n    const { position, width, height, depth } = mergedShape\n    this.blockBreakMesh.scale.set(width * 1.001, height * 1.001, depth * 1.001)\n    position.add(blockPosition)\n    this.blockBreakMesh.position.set(position.x, position.y, position.z)\n    this.blockBreakMesh.visible = true;\n\n    (this.blockBreakMesh.material as THREE.MeshBasicMaterial).map = this.breakTextures[stage] ?? this.breakTextures.at(-1);\n    (this.blockBreakMesh.material as THREE.MeshBasicMaterial).needsUpdate = true\n  }\n\n  hideBreakAnimation () {\n    if (this.blockBreakMesh) {\n      this.blockBreakMesh.visible = false\n    }\n  }\n\n  updateDisplay () {\n    if (this.cursorLineMaterial) {\n      const { renderer } = this.worldRenderer\n      this.cursorLineMaterial.resolution.set(renderer.domElement.width, renderer.domElement.height)\n      this.cursorLineMaterial.dashOffset = performance.now() / 750\n    }\n  }\n\n  setHighlightCursorBlock (blockPos: Vec3 | null, shapePositions?: BlocksShapes): void {\n    if (blockPos && this.interactionLines && blockPos.equals(this.interactionLines.blockPos)) {\n      return\n    }\n    if (this.interactionLines !== null) {\n      this.worldRenderer.scene.remove(this.interactionLines.mesh)\n      this.interactionLines = null\n    }\n    if (blockPos === null) {\n      return\n    }\n\n    const group = new THREE.Group()\n    for (const { position, width, height, depth } of shapePositions ?? []) {\n      const scale = [1.0001 * width, 1.0001 * height, 1.0001 * depth] as const\n      const geometry = new THREE.BoxGeometry(...scale)\n      const lines = new LineSegmentsGeometry().fromEdgesGeometry(new THREE.EdgesGeometry(geometry))\n      const wireframe = new Wireframe(lines, this.cursorLineMaterial)\n      const pos = blockPos.plus(position)\n      wireframe.position.set(pos.x, pos.y, pos.z)\n      wireframe.computeLineDistances()\n      group.add(wireframe)\n    }\n    this.worldRenderer.scene.add(group)\n    group.visible = !this.cursorLinesHidden\n    this.interactionLines = { blockPos, mesh: group }\n  }\n\n  render () {\n    if (this.prevColor !== this.worldRenderer.worldRendererConfig.highlightBlockColor) {\n      this.updateLineMaterial()\n    }\n    this.updateDisplay()\n  }\n}\n","import mojangson from 'mojangson'\nimport nbt from 'prismarine-nbt'\nimport { fromFormattedString } from '@xmcl/text-component'\nimport { getItemSelector, ItemSpecificContextProperties, PlayerStateRenderer } from 'renderer/viewer/lib/basePlayerState'\nimport { getItemDefinition } from 'mc-assets/dist/itemDefinitions'\nimport { MessageFormatPart } from '../chatUtils'\nimport { ResourcesManager, ResourcesManagerCommon, ResourcesManagerTransferred } from '../resourcesManager'\n\ntype RenderSlotComponent = {\n  type: string,\n  data: any\n  // example\n  // {\n  //   \"type\": \"item_model\",\n  //   \"data\": \"aa:ss\"\n  // }\n}\nexport type RenderItem = Pick<import('prismarine-item').Item, 'name' | 'displayName' | 'durabilityUsed' | 'maxDurability' | 'enchants' | 'nbt'> & {\n  components?: RenderSlotComponent[],\n  // componentMap?: Map<string, RenderSlotComponent>\n}\nexport type GeneralInputItem = Pick<import('prismarine-item').Item, 'name' | 'nbt'> & {\n  components?: RenderSlotComponent[],\n  displayName?: string\n  modelResolved?: boolean\n}\n\ntype JsonString = string\ntype PossibleItemProps = {\n  CustomModelData?: number\n  Damage?: number\n  display?: { Name?: JsonString } // {\"text\":\"Knife\",\"color\":\"white\",\"italic\":\"true\"}\n}\n\nexport const getItemMetadata = (item: GeneralInputItem, resourcesManager: ResourcesManagerCommon) => {\n  let customText = undefined as string | any | undefined\n  let customModel = undefined as string | undefined\n\n  let itemId = item.name\n  if (!itemId.includes(':')) {\n    itemId = `minecraft:${itemId}`\n  }\n  const customModelDataDefinitions = resourcesManager.currentResources?.customItemModelNames[itemId]\n\n  if (item.components) {\n    const componentMap = new Map<string, RenderSlotComponent>()\n    for (const component of item.components) {\n      componentMap.set(component.type, component)\n    }\n\n    const customTextComponent = componentMap.get('custom_name') || componentMap.get('item_name')\n    if (customTextComponent) {\n      customText = typeof customTextComponent.data === 'string' ? customTextComponent.data : nbt.simplify(customTextComponent.data)\n    }\n    const customModelComponent = componentMap.get('item_model')\n    if (customModelComponent) {\n      customModel = customModelComponent.data\n    }\n    if (customModelDataDefinitions) {\n      const customModelDataComponent: any = componentMap.get('custom_model_data')\n      if (customModelDataComponent?.data) {\n        let customModelData: number | undefined\n        if (typeof customModelDataComponent.data === 'number') {\n          customModelData = customModelDataComponent.data\n        } else if (typeof customModelDataComponent.data === 'object'\n          && 'floats' in customModelDataComponent.data\n          && Array.isArray(customModelDataComponent.data.floats)\n          && customModelDataComponent.data.floats.length > 0) {\n          customModelData = customModelDataComponent.data.floats[0]\n        }\n        if (customModelData && customModelDataDefinitions[customModelData]) {\n          customModel = customModelDataDefinitions[customModelData]\n        }\n      }\n    }\n    const loreComponent = componentMap.get('lore')\n    if (loreComponent) {\n      customText ??= item.displayName ?? item.name\n      // todo test\n      customText += `\\n${JSON.stringify(loreComponent.data)}`\n    }\n  }\n  if (item.nbt) {\n    const itemNbt: PossibleItemProps = nbt.simplify(item.nbt)\n    const customName = itemNbt.display?.Name\n    if (customName) {\n      customText = customName\n    }\n    if (customModelDataDefinitions && itemNbt.CustomModelData && customModelDataDefinitions[itemNbt.CustomModelData]) {\n      customModel = customModelDataDefinitions[itemNbt.CustomModelData]\n    }\n  }\n\n  return {\n    customText,\n    customModel\n  }\n}\n\n\nexport const getItemNameRaw = (item: Pick<import('prismarine-item').Item, 'nbt'> | null, resourcesManager: ResourcesManagerCommon) => {\n  if (!item) return ''\n  const { customText } = getItemMetadata(item as GeneralInputItem, resourcesManager)\n  if (!customText) return\n  try {\n    if (typeof customText === 'object') {\n      return customText\n    }\n    const parsed = customText.startsWith('{') && customText.endsWith('}') ? mojangson.simplify(mojangson.parse(customText)) : fromFormattedString(customText)\n    if (parsed.extra) {\n      return parsed as Record<string, any>\n    } else {\n      return parsed as MessageFormatPart\n    }\n  } catch (err) {\n    return {\n      text: JSON.stringify(customText)\n    }\n  }\n}\n\nexport const getItemModelName = (item: GeneralInputItem, specificProps: ItemSpecificContextProperties, resourcesManager: ResourcesManagerCommon, playerState: PlayerStateRenderer) => {\n  let itemModelName = item.name\n  const { customModel } = getItemMetadata(item, resourcesManager)\n  if (customModel) {\n    itemModelName = customModel\n  }\n\n  const itemSelector = getItemSelector(playerState, {\n    ...specificProps\n  })\n  const modelFromDef = getItemDefinition(appViewer.resourcesManager.itemsDefinitionsStore, {\n    name: itemModelName,\n    version: appViewer.resourcesManager.currentResources!.version,\n    properties: itemSelector\n  })?.model\n  const model = (modelFromDef === 'minecraft:special' ? undefined : modelFromDef) ?? itemModelName\n  return model\n}\n","import { getRenamedData } from 'flying-squid/dist/blockRenames'\nimport { BlockModel } from 'mc-assets'\nimport { versionToNumber } from 'mc-assets/dist/utils'\nimport type { ResourcesManagerCommon } from '../../../src/resourcesManager'\n\nexport type ResolvedItemModelRender = {\n  modelName: string,\n  originalItemName?: string\n}\n\nexport const renderSlot = (model: ResolvedItemModelRender, resourcesManager: ResourcesManagerCommon, debugIsQuickbar = false, fullBlockModelSupport = false): {\n  texture: string,\n  blockData: Record<string, { slice, path }> & { resolvedModel: BlockModel } | null,\n  scale: number | null,\n  slice: number[] | null,\n  modelName: string | null,\n} => {\n  let itemModelName = model.modelName\n  const isItem = loadedData.itemsByName[itemModelName]\n\n  // #region normalize item name\n  if (versionToNumber(bot.version) < versionToNumber('1.13')) itemModelName = getRenamedData(isItem ? 'items' : 'blocks', itemModelName, bot.version, '1.13.1') as string\n  // #endregion\n\n\n  let itemTexture\n\n  if (!fullBlockModelSupport) {\n    const atlas = resourcesManager.currentResources?.guiAtlas?.json\n    // todo atlas holds all rendered blocks, not all possibly rendered item/block models, need to request this on demand instead (this is how vanilla works)\n    const tryGetAtlasTexture = (name?: string) => name && atlas?.textures[name.replace('minecraft:', '').replace('block/', '').replace('blocks/', '').replace('item/', '').replace('items/', '').replace('_inventory', '')]\n    const item = tryGetAtlasTexture(itemModelName) ?? tryGetAtlasTexture(model.originalItemName)\n    if (item) {\n      const x = item.u * atlas.width\n      const y = item.v * atlas.height\n      return {\n        texture: 'gui',\n        slice: [x, y, atlas.tileSize, atlas.tileSize],\n        scale: 0.25,\n        blockData: null,\n        modelName: null\n      }\n    }\n  }\n\n  const blockToTopTexture = (r) => r.top ?? r\n\n  try {\n    if (!appViewer.resourcesManager.currentResources?.itemsRenderer) throw new Error('Items renderer is not available')\n    itemTexture =\n        appViewer.resourcesManager.currentResources.itemsRenderer.getItemTexture(itemModelName, {}, false, fullBlockModelSupport)\n        ?? (model.originalItemName ? appViewer.resourcesManager.currentResources.itemsRenderer.getItemTexture(model.originalItemName, {}, false, fullBlockModelSupport) : undefined)\n        ?? appViewer.resourcesManager.currentResources.itemsRenderer.getItemTexture('item/missing_texture')!\n  } catch (err) {\n    // get resourcepack from resource manager\n    reportError?.(`Failed to render item ${itemModelName} (original: ${model.originalItemName}) on ${bot.version} (resourcepack: TODO!): ${err.stack}`)\n    itemTexture = blockToTopTexture(appViewer.resourcesManager.currentResources!.itemsRenderer.getItemTexture('errored')!)\n  }\n\n  itemTexture ??= blockToTopTexture(appViewer.resourcesManager.currentResources!.itemsRenderer.getItemTexture('unknown')!)\n\n\n  if ('type' in itemTexture) {\n    // is item\n    return {\n      texture: itemTexture.type,\n      slice: itemTexture.slice,\n      modelName: itemModelName,\n      blockData: null,\n      scale: null\n    }\n  } else {\n    // is block\n    return {\n      texture: 'blocks',\n      blockData: itemTexture,\n      modelName: itemModelName,\n      slice: null,\n      scale: null\n    }\n  }\n}\n","import { BlockModel } from 'mc-assets/dist/types'\nimport { ItemSpecificContextProperties, PlayerStateRenderer } from 'renderer/viewer/lib/basePlayerState'\nimport { GeneralInputItem, getItemModelName } from '../../../src/mineflayer/items'\nimport { ResourcesManager, ResourcesManagerTransferred } from '../../../src/resourcesManager'\nimport { renderSlot } from './renderSlot'\n\nexport const getItemUv = (item: Record<string, any>, specificProps: ItemSpecificContextProperties, resourcesManager: ResourcesManagerTransferred, playerState: PlayerStateRenderer): {\n  u: number\n  v: number\n  su: number\n  sv: number\n  renderInfo?: ReturnType<typeof renderSlot>\n  // texture: ImageBitmap\n  modelName: string\n} | {\n  resolvedModel: BlockModel\n  modelName: string\n} => {\n  const resources = resourcesManager.currentResources\n  if (!resources) throw new Error('Resources not loaded')\n  const idOrName = item.itemId ?? item.blockId ?? item.name\n  const { blockState } = item\n  try {\n    const name =\n      blockState\n        ? loadedData.blocksByStateId[blockState]?.name\n        : typeof idOrName === 'number' ? loadedData.items[idOrName]?.name : idOrName\n    if (!name) throw new Error(`Item not found: ${idOrName}`)\n\n    const model = getItemModelName({\n      ...item,\n      name,\n    } as GeneralInputItem, specificProps, resourcesManager, playerState)\n\n    const renderInfo = renderSlot({\n      modelName: model,\n    }, resourcesManager, false, true)\n\n    if (!renderInfo) throw new Error(`Failed to get render info for item ${name}`)\n\n    const img = renderInfo.texture === 'blocks' ? resources.blocksAtlasImage : resources.itemsAtlasImage\n\n    if (renderInfo.blockData) {\n      return {\n        resolvedModel: renderInfo.blockData.resolvedModel,\n        modelName: renderInfo.modelName!\n      }\n    }\n    if (renderInfo.slice) {\n      // Get slice coordinates from either block or item texture\n      const [x, y, w, h] = renderInfo.slice\n      const [u, v, su, sv] = [x / img.width, y / img.height, (w / img.width), (h / img.height)]\n      return {\n        u, v, su, sv,\n        renderInfo,\n        // texture: img,\n        modelName: renderInfo.modelName!\n      }\n    }\n\n    throw new Error(`Invalid render info for item ${name}`)\n  } catch (err) {\n    reportError?.(err)\n    // Return default UV coordinates for missing texture\n    return {\n      u: 0,\n      v: 0,\n      su: 16 / resources.blocksAtlasImage.width,\n      sv: 16 / resources.blocksAtlasImage.width,\n      // texture: resources.blocksAtlasImage,\n      modelName: 'missing'\n    }\n  }\n}\n","import * as THREE from 'three'\nimport { WorldRendererThree } from './worldrendererThree'\n\nexport interface SoundSystem {\n  playSound: (position: { x: number, y: number, z: number }, path: string, volume?: number, pitch?: number, timeout?: number) => void\n  destroy: () => void\n}\n\nexport class ThreeJsSound implements SoundSystem {\n  audioListener: THREE.AudioListener | undefined\n  private readonly activeSounds = new Set<THREE.PositionalAudio>()\n  private readonly audioContext: AudioContext | undefined\n  private readonly soundVolumes = new Map<THREE.PositionalAudio, number>()\n  baseVolume = 1\n\n  constructor (public worldRenderer: WorldRendererThree) {\n    worldRenderer.onWorldSwitched.push(() => {\n      this.stopAll()\n    })\n\n    worldRenderer.onReactiveConfigUpdated('volume', (volume) => {\n      this.changeVolume(volume)\n    })\n  }\n\n  initAudioListener () {\n    if (this.audioListener) return\n    this.audioListener = new THREE.AudioListener()\n    this.worldRenderer.camera.add(this.audioListener)\n  }\n\n  playSound (position: { x: number, y: number, z: number }, path: string, volume = 1, pitch = 1, timeout = 500) {\n    this.initAudioListener()\n\n    const sound = new THREE.PositionalAudio(this.audioListener!)\n    this.activeSounds.add(sound)\n    this.soundVolumes.set(sound, volume)\n\n    const audioLoader = new THREE.AudioLoader()\n    const start = Date.now()\n    void audioLoader.loadAsync(path).then((buffer) => {\n      if (Date.now() - start > timeout) {\n        console.warn('Ignored playing sound', path, 'due to timeout:', timeout, 'ms <', Date.now() - start, 'ms')\n        return\n      }\n      // play\n      sound.setBuffer(buffer)\n      sound.setRefDistance(20)\n      sound.setVolume(volume * this.baseVolume)\n      sound.setPlaybackRate(pitch) // set the pitch\n      this.worldRenderer.scene.add(sound)\n      // set sound position\n      sound.position.set(position.x, position.y, position.z)\n      sound.onEnded = () => {\n        this.worldRenderer.scene.remove(sound)\n        if (sound.source) {\n          sound.disconnect()\n        }\n        this.activeSounds.delete(sound)\n        this.soundVolumes.delete(sound)\n        audioLoader.manager.itemEnd(path)\n      }\n      sound.play()\n    })\n  }\n\n  stopAll () {\n    for (const sound of this.activeSounds) {\n      if (!sound) continue\n      sound.stop()\n      if (sound.source) {\n        sound.disconnect()\n      }\n      this.worldRenderer.scene.remove(sound)\n    }\n    this.activeSounds.clear()\n    this.soundVolumes.clear()\n  }\n\n  changeVolume (volume: number) {\n    this.baseVolume = volume\n    for (const [sound, individualVolume] of this.soundVolumes) {\n      sound.setVolume(individualVolume * this.baseVolume)\n    }\n  }\n\n  destroy () {\n    this.stopAll()\n    // Remove and cleanup audio listener\n    if (this.audioListener) {\n      this.audioListener.removeFromParent()\n      this.audioListener = undefined\n    }\n  }\n\n  playTestSound () {\n    this.playSound(this.worldRenderer.camera.position, '/sound.mp3')\n  }\n}\n","import * as THREE from 'three'\nimport { WorldRendererThree } from './worldrendererThree'\n\nexport class CameraShake {\n  private rollAngle = 0\n  private get damageRollAmount () { return 5 }\n  private get damageAnimDuration () { return 200 }\n  private rollAnimation?: { startTime: number, startRoll: number, targetRoll: number, duration: number, returnToZero?: boolean }\n  private basePitch = 0\n  private baseYaw = 0\n\n  constructor (public worldRenderer: WorldRendererThree, public onRenderCallbacks: Array<() => void>) {\n    onRenderCallbacks.push(() => {\n      this.update()\n    })\n  }\n\n  setBaseRotation (pitch: number, yaw: number) {\n    this.basePitch = pitch\n    this.baseYaw = yaw\n    this.update()\n  }\n\n  getBaseRotation () {\n    return { pitch: this.basePitch, yaw: this.baseYaw }\n  }\n\n  shakeFromDamage (yaw?: number) {\n    // Add roll animation\n    const startRoll = this.rollAngle\n    const targetRoll = startRoll + (yaw ?? (Math.random() < 0.5 ? -1 : 1)) * this.damageRollAmount\n\n    this.rollAnimation = {\n      startTime: performance.now(),\n      startRoll,\n      targetRoll,\n      duration: this.damageAnimDuration / 2\n    }\n  }\n\n  update () {\n    if (this.worldRenderer.playerStateUtils.isSpectatingEntity()) {\n      // Remove any shaking when spectating\n      this.rollAngle = 0\n      this.rollAnimation = undefined\n    }\n    // Update roll animation\n    if (this.rollAnimation) {\n      const now = performance.now()\n      const elapsed = now - this.rollAnimation.startTime\n      const progress = Math.min(elapsed / this.rollAnimation.duration, 1)\n\n      if (this.rollAnimation.returnToZero) {\n        // Ease back to zero\n        this.rollAngle = this.rollAnimation.startRoll * (1 - this.easeInOut(progress))\n        if (progress === 1) {\n          this.rollAnimation = undefined\n        }\n      } else {\n        // Initial roll\n        this.rollAngle = this.rollAnimation.startRoll + (this.rollAnimation.targetRoll - this.rollAnimation.startRoll) * this.easeOut(progress)\n        if (progress === 1) {\n          // Start return to zero animation\n          this.rollAnimation = {\n            startTime: now,\n            startRoll: this.rollAngle,\n            targetRoll: 0,\n            duration: this.damageAnimDuration / 2,\n            returnToZero: true\n          }\n        }\n      }\n    }\n\n    const camera = this.worldRenderer.cameraObject\n\n    if (this.worldRenderer.cameraGroupVr) {\n      // For VR camera, only apply yaw rotation\n      const yawQuat = new THREE.Quaternion().setFromAxisAngle(new THREE.Vector3(0, 1, 0), this.baseYaw)\n      camera.setRotationFromQuaternion(yawQuat)\n    } else {\n      // For regular camera, apply all rotations\n      const pitchQuat = new THREE.Quaternion().setFromAxisAngle(new THREE.Vector3(1, 0, 0), this.basePitch)\n      const yawQuat = new THREE.Quaternion().setFromAxisAngle(new THREE.Vector3(0, 1, 0), this.baseYaw)\n      const rollQuat = new THREE.Quaternion().setFromAxisAngle(new THREE.Vector3(0, 0, 1), THREE.MathUtils.degToRad(this.rollAngle))\n      // Combine rotations in the correct order: pitch -> yaw -> roll\n      const finalQuat = yawQuat.multiply(pitchQuat).multiply(rollQuat)\n      camera.setRotationFromQuaternion(finalQuat)\n    }\n  }\n\n  private easeOut (t: number): number {\n    return 1 - (1 - t) * (1 - t)\n  }\n\n  private easeInOut (t: number): number {\n    return t < 0.5 ? 2 * t * t : 1 - (-2 * t + 2) ** 2 / 2\n  }\n}\n","import type { GraphicsBackend } from '../../../src/appViewer'\nimport type { ThreeJsBackendMethods } from './graphicsBackend'\n\nexport function getThreeJsRendererMethods (): ThreeJsBackendMethods | undefined {\n  const renderer = appViewer.backend\n  if (renderer?.id !== 'threejs' || !renderer.backendMethods) return\n  return new Proxy(renderer.backendMethods, {\n    get (target, prop) {\n      return async (...args) => {\n        const result = await (target[prop as any] as any)(...args)\n        return result\n      }\n    }\n  }) as ThreeJsBackendMethods\n}\n","\nexport const descriptionGenerators = new Map<RegExp | string[], string | ((name) => string)>()\ndescriptionGenerators.set(/_slab$/, name => 'Craft it by placing 3 blocks of the material in a row in a crafting table.')\ndescriptionGenerators.set(/_stairs$/, name => 'Craft it by placing 6 blocks of the material in a stair shape in a crafting table.')\ndescriptionGenerators.set(/_log$/, name => 'You can get it by chopping down a tree. To chop down a tree, hold down the left mouse button until the tree breaks.')\ndescriptionGenerators.set(/_leaves$/, name => 'You can get it by breaking the leaves of a tree with a tool that has the Silk Touch enchantment or by using shears.')\ndescriptionGenerators.set(['mangrove_roots'], name => 'You can get it by breaking the roots of a mangrove tree.')\ndescriptionGenerators.set(['mud'], 'Mud is a block found abundantly in mangrove swamps or created by using a water bottle on a dirt block. It can be used for crafting or converted into clay using pointed dripstone.')\ndescriptionGenerators.set(['clay'], 'Clay is a block found underwater or created by using a water bottle on a mud block. It can be used for crafting or converted into terracotta using a furnace.')\ndescriptionGenerators.set(['terracotta'], 'Terracotta is a block created by smelting clay in a furnace. It can be used for crafting or decoration.')\ndescriptionGenerators.set(['stone'], 'Stone is a block found underground.')\ndescriptionGenerators.set(['dirt'], 'Dirt is a block found on the surface.')\ndescriptionGenerators.set(['sand'], 'Sand is a block found on the surface near water.')\ndescriptionGenerators.set(['gravel'], 'Gravel is a block found on the surface and sometimes underground.')\ndescriptionGenerators.set(['sandstone'], 'Sandstone is a block found in deserts.')\ndescriptionGenerators.set(['red_sandstone'], 'Red sandstone is a block found in mesas.')\ndescriptionGenerators.set(['granite', 'diorite', 'andesite'], name => `${name.charAt(0).toUpperCase() + name.slice(1)} is a block found underground.`)\ndescriptionGenerators.set(['netherrack', 'soul_sand', 'soul_soil', 'glowstone'], name => `${name.charAt(0).toUpperCase() + name.slice(1)} is a block found in the Nether.`)\ndescriptionGenerators.set(['end_stone'], 'End stone is a block found in the End.')\ndescriptionGenerators.set(['obsidian'], 'Obsidian is a block created by pouring water on lava.')\ndescriptionGenerators.set(['glass'], 'Glass is a block created by smelting sand in a furnace.')\ndescriptionGenerators.set(['bedrock'], 'Bedrock is an indestructible block found at the bottom of the world in the Overworld and at the top of the world in the Nether.')\ndescriptionGenerators.set(['water', 'lava'], name => `${name.charAt(0).toUpperCase() + name.slice(1)} is a fluid found in the Overworld.`)\ndescriptionGenerators.set(/_sapling$/, name => `${name} drops from the leaves of a tree when it decays or is broken. It can be planted on dirt to grow a new tree.`)\ndescriptionGenerators.set(/^stripped_/, name => `${name} is created by using an axe on the block.`)\ndescriptionGenerators.set(['sponge'], 'Sponge is a block found in ocean monuments.')\ndescriptionGenerators.set(/^music_disc_/, name => `Music discs are rare items that can be found in dungeons or by trading with villagers. Also dropped by creepers when killed by a skeleton.`)\ndescriptionGenerators.set(/^enchanted_book$/, 'Enchanted books are rare items that can be found in dungeons or by trading with villagers.')\ndescriptionGenerators.set(/_spawn_egg$/, name => `${name} is an item that can be used to spawn a mob in Creative mode. Cannot be obtained in Survival mode.`)\ndescriptionGenerators.set(/_pottery_sherd$/, name => `${name} can be obtained only by brushing suspicious blocks, with the variants of sherd obtainable being dependent on the structure.`)\ndescriptionGenerators.set(['cracked_deepslate_bricks'], `Deepslate Bricks and Cracked Deepslate Bricks generate naturally in ancient cities.`)\n\nconst moreGeneratedBlocks = {\n  'natural_blocks': {\n    'air': {\n      'obtained_from': 'Naturally occurs in the world.'\n    },\n    'deepslate': {\n      'obtained_from': 'Mined with a pickaxe in layers -64 to 16.',\n      'rarity': 'Common'\n    },\n    'cobbled_deepslate': {\n      'obtained_from': 'Mined from deepslate with any pickaxe.'\n    },\n    'calcite': {\n      'obtained_from': 'Mined with a pickaxe, found in geodes.'\n    },\n    'tuff': {\n      'obtained_from': 'Mined with a pickaxe in layers -64 to 16.',\n      'rarity': 'Common'\n    },\n    'chiseled_tuff': {\n      'obtained_from': 'Crafted from tuff.'\n    },\n    'polished_tuff': {\n      'obtained_from': 'Crafted from tuff.'\n    },\n    'tuff_bricks': {\n      'obtained_from': 'Crafted from tuff.'\n    },\n    'chiseled_tuff_bricks': {\n      'obtained_from': 'Crafted from tuff bricks.'\n    },\n    'grass_block': {\n      'obtained_from': 'Mined with a tool enchanted with Silk Touch.'\n    },\n    'podzol': {\n      'obtained_from': 'Mined with a tool enchanted with Silk Touch, found in giant tree taiga biomes.'\n    },\n    'rooted_dirt': {\n      'obtained_from': 'Mined with a shovel, found under azalea trees.'\n    },\n    'crimson_nylium': {\n      'obtained_from': 'Mined with a pickaxe, found in the Nether.'\n    },\n    'warped_nylium': {\n      'obtained_from': 'Mined with a pickaxe, found in the Nether.'\n    },\n    'cobblestone': {\n      'obtained_from': 'Mined from stone, or from breaking stone structures.'\n    },\n    'mangrove_propagule': {\n      'obtained_from': 'Harvested from mangrove trees.'\n    },\n    'suspicious_sand': {\n      'obtained_from': 'Found in deserts and beaches.'\n    },\n    'suspicious_gravel': {\n      'obtained_from': 'Found underwater.'\n    },\n    'red_sand': {\n      'obtained_from': 'Mined from red sand in badlands biomes.'\n    },\n    'coal_ore': {\n      'obtained_from': 'Mined with a pickaxe in layers 0 to 128.',\n      'rarity': 'Common'\n    },\n    'deepslate_coal_ore': {\n      'obtained_from': 'Mined with a pickaxe in layers -64 to 0.',\n      'rarity': 'Rare'\n    },\n    'iron_ore': {\n      'obtained_from': 'Mined with a pickaxe in layers 0 to 63.',\n      'rarity': 'Common'\n    },\n    'deepslate_iron_ore': {\n      'obtained_from': 'Mined with a pickaxe in layers -64 to 0.',\n      'rarity': 'Uncommon'\n    },\n    'copper_ore': {\n      'obtained_from': 'Mined with a pickaxe in layers 0 to 96.',\n      'rarity': 'Common'\n    },\n    'deepslate_copper_ore': {\n      'obtained_from': 'Mined with a pickaxe in layers -16 to 64.',\n      'rarity': 'Uncommon'\n    },\n    'gold_ore': {\n      'obtained_from': 'Mined with a pickaxe in layers -64 to 32.',\n      'rarity': 'Uncommon'\n    },\n    'deepslate_gold_ore': {\n      'obtained_from': 'Mined with a pickaxe in layers -64 to 0.',\n      'rarity': 'Rare'\n    },\n    'redstone_ore': {\n      'obtained_from': 'Mined with an iron pickaxe or higher in layers -64 to 16.',\n      'rarity': 'Uncommon'\n    },\n    'deepslate_redstone_ore': {\n      'obtained_from': 'Mined with an iron pickaxe or higher in layers -64 to 0.',\n      'rarity': 'Uncommon'\n    },\n    'emerald_ore': {\n      'obtained_from': 'Mined with an iron pickaxe or higher in mountain biomes, layers -16 to 256.',\n      'rarity': 'Rare'\n    },\n    'deepslate_emerald_ore': {\n      'obtained_from': 'Mined with an iron pickaxe or higher in mountain biomes, layers -64 to 0.',\n      'rarity': 'Very Rare'\n    },\n    'lapis_ore': {\n      'obtained_from': 'Mined with a stone pickaxe or higher in layers -64 to 32.',\n      'rarity': 'Uncommon'\n    },\n    'deepslate_lapis_ore': {\n      'obtained_from': 'Mined with a stone pickaxe or higher in layers -64 to 0.',\n      'rarity': 'Rare'\n    },\n    'diamond_ore': {\n      'obtained_from': 'Mined with an iron pickaxe or higher in layers -64 to 16.',\n      'rarity': 'Rare'\n    },\n    'deepslate_diamond_ore': {\n      'obtained_from': 'Mined with an iron pickaxe or higher in layers -64 to 0.',\n      'rarity': 'Very Rare'\n    },\n    'nether_gold_ore': {\n      'obtained_from': 'Mined with any pickaxe in the Nether.'\n    },\n    'nether_quartz_ore': {\n      'obtained_from': 'Mined with any pickaxe in the Nether.'\n    },\n    'ancient_debris': {\n      'obtained_from': 'Mined with a diamond or netherite pickaxe in the Nether, layers 8 to 22.',\n      'rarity': 'Very Rare'\n    },\n    'budding_amethyst': {\n      'obtained_from': 'Found in amethyst geodes, cannot be obtained as an item.'\n    },\n    'exposed_copper': {\n      'obtained_from': 'Exposed copper block obtained through mining.'\n    },\n    'weathered_copper': {\n      'obtained_from': 'Weathered copper block obtained through mining.'\n    },\n    'oxidized_copper': {\n      'obtained_from': 'Oxidized copper block obtained through mining.'\n    },\n    'chiseled_copper': {\n      'obtained_from': 'Crafted from copper blocks.'\n    },\n    'exposed_chiseled_copper': {\n      'obtained_from': 'Exposed chiseled copper block obtained through mining.'\n    },\n    'weathered_chiseled_copper': {\n      'obtained_from': 'Weathered chiseled copper block obtained through mining.'\n    },\n    'oxidized_chiseled_copper': {\n      'obtained_from': 'Oxidized chiseled copper block obtained through mining.'\n    },\n    'waxed_chiseled_copper': {\n      'obtained_from': 'Crafted from copper blocks, waxed to prevent oxidation.'\n    },\n    'waxed_exposed_chiseled_copper': {\n      'obtained_from': 'Waxed exposed chiseled copper block obtained through mining.'\n    },\n    'waxed_weathered_chiseled_copper': {\n      'obtained_from': 'Waxed weathered chiseled copper block obtained through mining.'\n    },\n    'waxed_oxidized_chiseled_copper': {\n      'obtained_from': 'Waxed oxidized chiseled copper block obtained through mining.'\n    },\n    'crimson_stem': {\n      'obtained_from': 'Mined from crimson trees in the Nether.'\n    },\n    'warped_stem': {\n      'obtained_from': 'Mined from warped trees in the Nether.'\n    },\n    'stripped_crimson_stem': {\n      'obtained_from': 'Stripped from crimson stem with an axe.'\n    },\n    'stripped_warped_stem': {\n      'obtained_from': 'Stripped from warped stem with an axe.'\n    },\n    'stripped_bamboo_block': {\n      'obtained_from': 'Crafted from bamboo.'\n    },\n    'sponge': {\n      'obtained_from': 'Found in ocean monuments.'\n    },\n    'wet_sponge': {\n      'obtained_from': 'Absorbs water, can be dried in a furnace.'\n    },\n    'cobweb': {\n      'obtained_from': 'Mined with a sword or shears, found in mineshafts.'\n    },\n    'short_grass': {\n      'obtained_from': 'Sheared from grass.'\n    },\n    'fern': {\n      'obtained_from': 'Sheared from ferns in forest biomes.'\n    },\n    'azalea': {\n      'obtained_from': 'Found in lush caves.'\n    },\n    'flowering_azalea': {\n      'obtained_from': 'Found in lush caves.'\n    },\n    'dead_bush': {\n      'obtained_from': 'Mined with shears in desert biomes.'\n    },\n    'seagrass': {\n      'obtained_from': 'Sheared from underwater grass.'\n    },\n    'sea_pickle': {\n      'obtained_from': 'Mined with shears from coral reefs.'\n    },\n    'dandelion': {\n      'type': 'natural',\n      'description': 'Dandelions are common flowers that spawn in plains, forests, and meadows.',\n      'spawn_range': 'Surface'\n    },\n    'poppy': {\n      'type': 'natural',\n      'description': 'Poppies are common flowers that generate in plains, forests, and meadows.',\n      'spawn_range': 'Surface'\n    },\n    'blue_orchid': {\n      'type': 'natural',\n      'description': 'Blue orchids spawn naturally in swamp biomes.',\n      'spawn_range': 'Surface'\n    },\n    'allium': {\n      'type': 'natural',\n      'description': 'Alliums are flowers that generate in flower forest biomes.',\n      'spawn_range': 'Surface'\n    },\n    'azure_bluet': {\n      'type': 'natural',\n      'description': 'Azure bluets are common flowers that spawn in plains and flower forest biomes.',\n      'spawn_range': 'Surface'\n    },\n    'red_tulip': {\n      'type': 'natural',\n      'description': 'Red tulips are flowers found in flower forests and plains.',\n      'spawn_range': 'Surface'\n    },\n    'orange_tulip': {\n      'type': 'natural',\n      'description': 'Orange tulips are flowers found in flower forests and plains.',\n      'spawn_range': 'Surface'\n    },\n    'white_tulip': {\n      'type': 'natural',\n      'description': 'White tulips are flowers found in flower forests and plains.',\n      'spawn_range': 'Surface'\n    },\n    'pink_tulip': {\n      'type': 'natural',\n      'description': 'Pink tulips are flowers found in flower forests and plains.',\n      'spawn_range': 'Surface'\n    },\n    'oxeye_daisy': {\n      'type': 'natural',\n      'description': 'Oxeye daisies are common flowers that generate in plains and flower forest biomes.',\n      'spawn_range': 'Surface'\n    },\n    'cornflower': {\n      'type': 'natural',\n      'description': 'Cornflowers spawn in plains, flower forests, and meadows.',\n      'spawn_range': 'Surface'\n    },\n    'lily_of_the_valley': {\n      'type': 'natural',\n      'description': 'Lily of the valleys generate in flower forest biomes.',\n      'spawn_range': 'Surface'\n    },\n    'wither_rose': {\n      'type': 'dropped',\n      'description': 'Wither roses are dropped when a mob is killed by the Wither boss.',\n      'spawn_range': 'N/A'\n    },\n    'torchflower': {\n      'type': 'crafted',\n      'description': 'Torchflowers can be grown using torchflower seeds, which are found in archeology loot or by trading.',\n      'spawn_range': 'N/A'\n    },\n    'pitcher_plant': {\n      'type': 'crafted',\n      'description': 'Pitcher plants can be grown using pitcher pods, which are found in archeology loot or by trading.',\n      'spawn_range': 'N/A'\n    },\n    'spore_blossom': {\n      'type': 'natural',\n      'description': 'Spore blossoms generate naturally on the ceilings of lush caves.',\n      'spawn_range': 'Underground'\n    },\n    'brown_mushroom': {\n      'type': 'natural',\n      'description': 'Brown mushrooms are found in dark areas, swamps, mushroom fields, and forests.',\n      'spawn_range': 'Surface'\n    },\n    'red_mushroom': {\n      'type': 'natural',\n      'description': 'Red mushrooms are found in dark areas, swamps, mushroom fields, and forests.',\n      'spawn_range': 'Surface'\n    },\n    'crimson_fungus': {\n      'type': 'natural',\n      'description': 'Crimson fungi generate naturally in crimson forests in the Nether.',\n      'spawn_range': 'Nether'\n    },\n    'warped_fungus': {\n      'type': 'natural',\n      'description': 'Warped fungi generate naturally in warped forests in the Nether.',\n      'spawn_range': 'Nether'\n    },\n    'crimson_roots': {\n      'type': 'natural',\n      'description': 'Crimson roots generate naturally in crimson forests in the Nether.',\n      'spawn_range': 'Nether'\n    },\n    'warped_roots': {\n      'type': 'natural',\n      'description': 'Warped roots generate naturally in warped forests in the Nether.',\n      'spawn_range': 'Nether'\n    },\n    'nether_sprouts': {\n      'type': 'natural',\n      'description': 'Nether sprouts generate naturally in warped forests in the Nether.',\n      'spawn_range': 'Nether'\n    },\n    'weeping_vines': {\n      'type': 'natural',\n      'description': 'Weeping vines generate naturally in crimson forests in the Nether and grow downward from netherrack.',\n      'spawn_range': 'Nether'\n    },\n    'twisting_vines': {\n      'type': 'natural',\n      'description': 'Twisting vines generate naturally in warped forests in the Nether and grow upward from the ground.',\n      'spawn_range': 'Nether'\n    },\n    'sugar_cane': {\n      'type': 'natural',\n      'description': 'Sugar cane is found near water in most biomes.',\n      'spawn_range': 'Surface'\n    },\n    'kelp': {\n      'type': 'natural',\n      'description': 'Kelp generates underwater in most ocean biomes.',\n      'spawn_range': 'Water'\n    },\n    'pink_petals': {\n      'type': 'natural',\n      'description': 'Pink petals generate naturally in cherry grove biomes.',\n      'spawn_range': 'Surface'\n    },\n    'moss_block': {\n      'type': 'natural',\n      'description': 'Moss blocks generate in lush caves and can also be obtained through trading or by using bone meal on moss carpets.',\n      'spawn_range': 'Underground'\n    },\n    'hanging_roots': {\n      'type': 'natural',\n      'description': 'Hanging roots generate naturally in lush caves.',\n      'spawn_range': 'Underground'\n    },\n    'big_dripleaf': {\n      'type': 'natural',\n      'description': 'Big dripleaf plants generate in lush caves and can also be obtained through trading.',\n      'spawn_range': 'Underground'\n    },\n    'small_dripleaf': {\n      'type': 'natural',\n      'description': 'Small dripleaf plants generate in lush caves and can also be obtained through trading.',\n      'spawn_range': 'Underground'\n    },\n    'bamboo': {\n      'type': 'natural',\n      'description': 'Bamboo generates in jungle biomes, especially bamboo jungles.',\n      'spawn_range': 'Surface'\n    },\n    'smooth_quartz': {\n      'type': 'crafted',\n      'description': 'Smooth quartz is obtained by smelting blocks of quartz.',\n      'spawn_range': 'N/A'\n    },\n    'smooth_red_sandstone': {\n      'type': 'crafted',\n      'description': 'Smooth red sandstone is obtained by smelting red sandstone.',\n      'spawn_range': 'N/A'\n    },\n    'smooth_sandstone': {\n      'type': 'crafted',\n      'description': 'Smooth sandstone is obtained by smelting sandstone.',\n      'spawn_range': 'N/A'\n    },\n    'smooth_stone': {\n      'type': 'crafted',\n      'description': 'Smooth stone is obtained by smelting regular stone.',\n      'spawn_range': 'N/A'\n    },\n    'chorus_plant': {\n      'type': 'natural',\n      'description': 'Chorus plants generate naturally in the End and can be grown from chorus flowers.',\n      'spawn_range': 'End'\n    },\n    'chorus_flower': {\n      'type': 'natural',\n      'description': 'Chorus flowers generate naturally in the End on top of chorus plants.',\n      'spawn_range': 'End'\n    },\n    'spawner': {\n      'type': 'natural',\n      'description': 'Spawners generate in dungeons, mineshafts, and other structures.',\n      'spawn_range': 'Underground'\n    },\n    'farmland': {\n      'type': 'crafted',\n      'description': 'Farmland is created by using a hoe on dirt or grass blocks.',\n      'spawn_range': 'N/A'\n    },\n    'ice': {\n      'type': 'natural',\n      'description': 'Ice generates in snowy and icy biomes and can also be obtained by breaking ice blocks with a Silk Touch tool.',\n      'spawn_range': 'Surface'\n    },\n    'cactus': {\n      'type': 'natural',\n      'description': 'Cacti generate naturally in desert biomes.',\n      'spawn_range': 'Surface'\n    },\n    'pumpkin': {\n      'type': 'natural',\n      'description': 'Pumpkins generate naturally in most grassy biomes and can also be grown from pumpkin seeds.',\n      'spawn_range': 'Surface'\n    },\n    'carved_pumpkin': {\n      'type': 'crafted',\n      'description': 'Carved pumpkins are obtained by using shears on a pumpkin.',\n      'spawn_range': 'N/A'\n    },\n    'basalt': {\n      'type': 'natural',\n      'description': 'Basalt generates in the Nether in basalt deltas and can also be created by lava flowing over soul soil next to blue ice.',\n      'spawn_range': 'Nether'\n    },\n    'smooth_basalt': {\n      'type': 'natural',\n      'description': 'Smooth basalt is found around amethyst geodes or can be obtained by smelting basalt.',\n      'spawn_range': 'Underground'\n    },\n    'infested_stone': {\n      'type': 'natural',\n      'description': 'Infested stone blocks contain silverfish and generate in strongholds, underground.',\n      'spawn_range': 'Underground'\n    },\n    'infested_cobblestone': {\n      'type': 'natural',\n      'description': 'Infested cobblestone blocks contain silverfish and generate in strongholds, underground.',\n      'spawn_range': 'Underground'\n    },\n    'infested_stone_bricks': {\n      'type': 'natural',\n      'description': 'Infested stone bricks contain silverfish and generate in strongholds, underground.',\n      'spawn_range': 'Underground'\n    },\n    'infested_mossy_stone_bricks': {\n      'type': 'natural',\n      'description': 'Infested mossy stone bricks contain silverfish and generate in strongholds, underground.',\n      'spawn_range': 'Underground'\n    },\n    'infested_cracked_stone_bricks': {\n      'type': 'natural',\n      'description': 'Infested cracked stone bricks contain silverfish and generate in strongholds, underground.',\n      'spawn_range': 'Underground'\n    },\n    'infested_chiseled_stone_bricks': {\n      'type': 'natural',\n      'description': 'Infested chiseled stone bricks contain silverfish and generate in strongholds, underground.',\n      'spawn_range': 'Underground'\n    },\n    'infested_deepslate': {\n      'type': 'natural',\n      'description': 'Infested deepslate contains silverfish and generates in the deepslate layer underground.',\n      'spawn_range': 'Underground'\n    },\n    'cracked_stone_bricks': {\n      'type': 'crafted',\n      'description': 'Cracked stone bricks are obtained by smelting stone bricks.',\n      'spawn_range': 'N/A'\n    },\n    'cracked_deepslate_bricks': {\n      'type': 'crafted',\n      'description': 'Cracked deepslate bricks are obtained by smelting deepslate bricks.',\n      'spawn_range': 'N/A'\n    },\n    'cracked_deepslate_tiles': {\n      'type': 'crafted',\n      'description': 'Cracked deepslate tiles are obtained by smelting deepslate tiles.',\n      'spawn_range': 'N/A'\n    },\n    'reinforced_deepslate': {\n      'type': 'crafted',\n      'description': 'Reinforced deepslate is a strong block that cannot be obtained in survival mode.',\n      'spawn_range': 'N/A'\n    },\n    'brown_mushroom_block': {\n      'type': 'natural',\n      'description': 'Brown mushroom blocks generate as part of huge mushrooms in dark forest biomes and mushroom fields.',\n      'spawn_range': 'Surface'\n    },\n    'red_mushroom_block': {\n      'type': 'natural',\n      'description': 'Red mushroom blocks generate as part of huge mushrooms in dark forest biomes and mushroom fields.',\n      'spawn_range': 'Surface'\n    },\n    'mushroom_stem': {\n      'type': 'natural',\n      'description': 'Mushroom stems generate as part of huge mushrooms in dark forest biomes and mushroom fields.',\n      'spawn_range': 'Surface'\n    },\n    'vine': {\n      'type': 'natural',\n      'description': 'Vines generate naturally on trees and walls in jungle biomes, swamps, and lush caves.',\n      'spawn_range': 'Surface'\n    },\n    'glow_lichen': {\n      'type': 'natural',\n      'description': 'Glow lichen generates naturally in caves and can spread to other blocks using bone meal.',\n      'spawn_range': 'Underground'\n    },\n    'mycelium': {\n      'type': 'natural',\n      'description': 'Mycelium generates naturally in mushroom field biomes and spreads to dirt blocks.',\n      'spawn_range': 'Surface'\n    },\n    'lily_pad': {\n      'type': 'natural',\n      'description': 'Lily pads generate naturally on the surface of water in swamps.',\n      'spawn_range': 'Water'\n    },\n    'cracked_nether_bricks': {\n      'type': 'crafted',\n      'description': 'Cracked nether bricks are obtained by smelting nether bricks.',\n      'spawn_range': 'N/A'\n    },\n    'sculk': {\n      'type': 'natural',\n      'description': 'Sculk generates naturally in the deep dark biome and spreads using a sculk catalyst.',\n      'spawn_range': 'Underground'\n    },\n    'sculk_vein': {\n      'type': 'natural',\n      'description': 'Sculk veins generate naturally in the deep dark biome and spread using a sculk catalyst.',\n      'spawn_range': 'Underground'\n    },\n    'sculk_catalyst': {\n      'type': 'natural',\n      'description': 'Sculk catalysts generate naturally in the deep dark biome and spread sculk blocks when mobs die nearby.',\n      'spawn_range': 'Underground'\n    },\n    'sculk_shrieker': {\n      'type': 'natural',\n      'description': 'Sculk shriekers generate naturally in the deep dark biome and emit a loud shriek when activated.',\n      'spawn_range': 'Underground'\n    },\n    'end_portal_frame': {\n      'type': 'natural',\n      'description': 'End portal frames generate naturally in strongholds, forming the structure of end portals.',\n      'spawn_range': 'Underground'\n    },\n    'dragon_egg': {\n      'type': 'dropped',\n      'description': 'The dragon egg is dropped when the Ender Dragon is defeated for the first time.',\n      'spawn_range': 'End'\n    },\n    'command_block': {\n      'type': 'crafted',\n      'description': 'Command blocks are powerful blocks used in commands and redstone, obtainable only via commands.',\n      'spawn_range': 'N/A'\n    },\n    'chipped_anvil': {\n      'type': 'crafted',\n      'description': 'Chipped anvils are damaged versions of anvils and are used for repairing and enchanting.',\n      'spawn_range': 'N/A'\n    },\n    'damaged_anvil': {\n      'type': 'crafted',\n      'description': 'Damaged anvils are further damaged versions of anvils and are used for repairing and enchanting.',\n      'spawn_range': 'N/A'\n    },\n    'barrier': {\n      'type': 'crafted',\n      'description': 'Barriers are invisible blocks used in map-making and obtainable only via commands.',\n      'spawn_range': 'N/A'\n    },\n    'light': {\n      'type': 'crafted',\n      'description': 'Light blocks are invisible blocks that emit light, obtainable only via commands.',\n      'spawn_range': 'N/A'\n    },\n    'dirt_path': {\n      'type': 'crafted',\n      'description': 'Dirt paths are created by using a shovel on grass blocks and are commonly found in villages.',\n      'spawn_range': 'Surface'\n    },\n    'sunflower': {\n      'type': 'natural',\n      'description': 'Sunflowers generate naturally in sunflower plains biomes.',\n      'spawn_range': 'Surface'\n    },\n    'lilac': {\n      'type': 'natural',\n      'description': 'Lilacs generate naturally in forest biomes.',\n      'spawn_range': 'Surface'\n    },\n    'rose_bush': {\n      'type': 'natural',\n      'description': 'Rose bushes generate naturally in forest biomes.',\n      'spawn_range': 'Surface'\n    },\n    'peony': {\n      'type': 'natural',\n      'description': 'Peonies generate naturally in forest biomes.',\n      'spawn_range': 'Surface'\n    },\n    'tall_grass': {\n      'type': 'natural',\n      'description': 'Tall grass generates naturally in various biomes and can be grown using bone meal.',\n      'spawn_range': 'Surface'\n    },\n    'large_fern': {\n      'type': 'natural',\n      'description': 'Large ferns generate naturally in taiga biomes.',\n      'spawn_range': 'Surface'\n    },\n    'repeating_command_block': {\n      'type': 'crafted',\n      'description': 'Repeating command blocks execute commands every tick and are obtainable only via commands.',\n      'spawn_range': 'N/A'\n    },\n    'chain_command_block': {\n      'type': 'crafted',\n      'description': 'Chain command blocks execute commands when triggered and are obtainable only via commands.',\n      'spawn_range': 'N/A'\n    },\n    'warped_wart_block': {\n      'type': 'natural',\n      'description': 'Warped wart blocks generate naturally in warped forests in the Nether.',\n      'spawn_range': 'Nether'\n    },\n    'structure_void': {\n      'type': 'crafted',\n      'description': 'Structure voids are used in structure blocks to exclude certain blocks from being saved and are obtainable only via commands.',\n      'spawn_range': 'N/A'\n    },\n    'white_shulker_box': {\n      'type': 'crafted',\n      'description': 'White shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'orange_shulker_box': {\n      'type': 'crafted',\n      'description': 'Orange shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'magenta_shulker_box': {\n      'type': 'crafted',\n      'description': 'Magenta shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'light_blue_shulker_box': {\n      'type': 'crafted',\n      'description': 'Light blue shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'yellow_shulker_box': {\n      'type': 'crafted',\n      'description': 'Yellow shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'lime_shulker_box': {\n      'type': 'crafted',\n      'description': 'Lime shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'pink_shulker_box': {\n      'type': 'crafted',\n      'description': 'Pink shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'gray_shulker_box': {\n      'type': 'crafted',\n      'description': 'Gray shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'light_gray_shulker_box': {\n      'type': 'crafted',\n      'description': 'Light gray shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'cyan_shulker_box': {\n      'type': 'crafted',\n      'description': 'Cyan shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'purple_shulker_box': {\n      'type': 'crafted',\n      'description': 'Purple shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'blue_shulker_box': {\n      'type': 'crafted',\n      'description': 'Blue shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'brown_shulker_box': {\n      'type': 'crafted',\n      'description': 'Brown shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'green_shulker_box': {\n      'type': 'crafted',\n      'description': 'Green shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'red_shulker_box': {\n      'type': 'crafted',\n      'description': 'Red shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'black_shulker_box': {\n      'type': 'crafted',\n      'description': 'Black shulker boxes are crafted from shulker shells and dye, and they function as portable storage.',\n      'spawn_range': 'N/A'\n    },\n    'white_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'White glazed terracotta is obtained by smelting white terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'orange_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Orange glazed terracotta is obtained by smelting orange terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'magenta_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Magenta glazed terracotta is obtained by smelting magenta terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'light_blue_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Light blue glazed terracotta is obtained by smelting light blue terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'yellow_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Yellow glazed terracotta is obtained by smelting yellow terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'lime_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Lime glazed terracotta is obtained by smelting lime terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'pink_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Pink glazed terracotta is obtained by smelting pink terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'gray_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Gray glazed terracotta is obtained by smelting gray terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'light_gray_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Light gray glazed terracotta is obtained by smelting light gray terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'cyan_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Cyan glazed terracotta is obtained by smelting cyan terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'purple_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Purple glazed terracotta is obtained by smelting purple terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'blue_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Blue glazed terracotta is obtained by smelting blue terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'brown_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Brown glazed terracotta is obtained by smelting brown terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'green_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Green glazed terracotta is obtained by smelting green terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'red_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Red glazed terracotta is obtained by smelting red terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'black_glazed_terracotta': {\n      'type': 'crafted',\n      'description': 'Black glazed terracotta is obtained by smelting black terracotta and features decorative patterns.',\n      'spawn_range': 'N/A'\n    },\n    'white_concrete': {\n      'type': 'crafted',\n      'description': 'White concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'orange_concrete': {\n      'type': 'crafted',\n      'description': 'Orange concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'magenta_concrete': {\n      'type': 'crafted',\n      'description': 'Magenta concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'light_blue_concrete': {\n      'type': 'crafted',\n      'description': 'Light blue concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'yellow_concrete': {\n      'type': 'crafted',\n      'description': 'Yellow concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'lime_concrete': {\n      'type': 'crafted',\n      'description': 'Lime concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'pink_concrete': {\n      'type': 'crafted',\n      'description': 'Pink concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'gray_concrete': {\n      'type': 'crafted',\n      'description': 'Gray concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'light_gray_concrete': {\n      'type': 'crafted',\n      'description': 'Light gray concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'cyan_concrete': {\n      'type': 'crafted',\n      'description': 'Cyan concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'purple_concrete': {\n      'type': 'crafted',\n      'description': 'Purple concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'blue_concrete': {\n      'type': 'crafted',\n      'description': 'Blue concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'brown_concrete': {\n      'type': 'crafted',\n      'description': 'Brown concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'green_concrete': {\n      'type': 'crafted',\n      'description': 'Green concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'red_concrete': {\n      'type': 'crafted',\n      'description': 'Red concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'black_concrete': {\n      'type': 'crafted',\n      'description': 'Black concrete is crafted from concrete powder and hardens when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'white_concrete_powder': {\n      'type': 'crafted',\n      'description': 'White concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'orange_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Orange concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'magenta_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Magenta concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'light_blue_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Light blue concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'yellow_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Yellow concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'lime_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Lime concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'pink_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Pink concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'gray_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Gray concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'light_gray_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Light gray concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'cyan_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Cyan concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'purple_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Purple concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'blue_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Blue concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'brown_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Brown concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'green_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Green concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'red_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Red concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'black_concrete_powder': {\n      'type': 'crafted',\n      'description': 'Black concrete powder is crafted from sand, gravel, and dye, and hardens into concrete when in contact with water.',\n      'spawn_range': 'N/A'\n    },\n    'cyan_candle': {\n      'type': 'crafted',\n      'description': 'Cyan candles are crafted from string and dye and can be placed on blocks to emit light.',\n      'spawn_range': 'N/A'\n    },\n    'pink_candle': {\n      'type': 'crafted',\n      'description': 'Pink candles are crafted from string and dye and can be placed on blocks to emit light.',\n      'spawn_range': 'N/A'\n    },\n    'purple_candle': {\n      'type': 'crafted',\n      'description': 'Purple candles are crafted from string and dye and can be placed on blocks to emit light.',\n      'spawn_range': 'N/A'\n    },\n    'blue_candle': {\n      'type': 'crafted',\n      'description': 'Blue candles are crafted from string and dye and can be placed on blocks to emit light.',\n      'spawn_range': 'N/A'\n    },\n    'brown_candle': {\n      'type': 'crafted',\n      'description': 'Brown candles are crafted from string and dye and can be placed on blocks to emit light.',\n      'spawn_range': 'N/A'\n    },\n    'green_candle': {\n      'type': 'crafted',\n      'description': 'Green candles are crafted from string and dye and can be placed on blocks to emit light.',\n      'spawn_range': 'N/A'\n    },\n    'red_candle': {\n      'type': 'crafted',\n      'description': 'Red candles are crafted from string and dye and can be placed on blocks to emit light.',\n      'spawn_range': 'N/A'\n    },\n    'black_candle': {\n      'type': 'crafted',\n      'description': 'Black candles are crafted from string and dye and can be placed on blocks to emit light.',\n      'spawn_range': 'N/A'\n    },\n    'turtle_egg': 'can be obtained via turtle breeding on beaches, where turtles lay eggs that can be collected.',\n    'sniffer_egg': 'can be found in buried treasure or ancient ruins, used to hatch sniffers.',\n    'dead_tube_coral_block': 'can be obtained by mining tube coral blocks with a pickaxe without Silk Touch or when exposed to air.',\n    'dead_brain_coral_block': 'can be obtained by mining brain coral blocks with a pickaxe without Silk Touch or when exposed to air.',\n    'dead_bubble_coral_block': 'can be obtained by mining bubble coral blocks with a pickaxe without Silk Touch or when exposed to air.',\n    'dead_fire_coral_block': 'can be obtained by mining fire coral blocks with a pickaxe without Silk Touch or when exposed to air.',\n    'dead_horn_coral_block': 'can be obtained by mining horn coral blocks with a pickaxe without Silk Touch or when exposed to air.',\n    'tube_coral_block': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'brain_coral_block': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'bubble_coral_block': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'fire_coral_block': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'horn_coral_block': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'tube_coral': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'brain_coral': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'bubble_coral': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'fire_coral': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'horn_coral': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'dead_brain_coral': 'can be obtained by mining brain coral without Silk Touch or when exposed to air.',\n    'dead_bubble_coral': 'can be obtained by mining bubble coral without Silk Touch or when exposed to air.',\n    'dead_fire_coral': 'can be obtained by mining fire coral without Silk Touch or when exposed to air.',\n    'dead_horn_coral': 'can be obtained by mining horn coral without Silk Touch or when exposed to air.',\n    'dead_tube_coral': 'can be obtained by mining tube coral without Silk Touch or when exposed to air.',\n    'tube_coral_fan': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'brain_coral_fan': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'bubble_coral_fan': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'fire_coral_fan': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'horn_coral_fan': 'can be obtained by mining with a pickaxe enchanted with Silk Touch, found in warm ocean biomes.',\n    'dead_tube_coral_fan': 'can be obtained by mining tube coral fans without Silk Touch or when exposed to air.',\n    'dead_brain_coral_fan': 'can be obtained by mining brain coral fans without Silk Touch or when exposed to air.',\n    'dead_bubble_coral_fan': 'can be obtained by mining bubble coral fans without Silk Touch or when exposed to air.',\n    'dead_fire_coral_fan': 'can be obtained by mining fire coral fans without Silk Touch or when exposed to air.',\n    'dead_horn_coral_fan': 'can be obtained by mining horn coral fans without Silk Touch or when exposed to air.',\n    'sculk_sensor': 'can be obtained via Silk Touch enchantment on a pickaxe or found in ancient cities in the deep dark biome.',\n    'copper_door': 'can be crafted using copper ingots.',\n    'exposed_copper_door': 'can be obtained by allowing copper doors to oxidize or can be crafted directly.',\n    'weathered_copper_door': 'can be obtained by allowing exposed copper doors to further oxidize or can be crafted directly.',\n    'oxidized_copper_door': 'can be obtained by allowing weathered copper doors to fully oxidize or can be crafted directly.',\n    'waxed_copper_door': 'can be crafted using copper ingots and honeycomb.',\n    'waxed_exposed_copper_door': 'can be crafted using exposed copper doors and honeycomb.',\n    'waxed_weathered_copper_door': 'can be crafted using weathered copper doors and honeycomb.',\n    'waxed_oxidized_copper_door': 'can be crafted using oxidized copper doors and honeycomb.',\n    'copper_trapdoor': 'can be crafted using copper ingots.',\n    'exposed_copper_trapdoor': 'can be obtained by allowing copper trapdoors to oxidize or can be crafted directly.',\n    'weathered_copper_trapdoor': 'can be obtained by allowing exposed copper trapdoors to further oxidize or can be crafted directly.',\n    'oxidized_copper_trapdoor': 'can be obtained by allowing weathered copper trapdoors to fully oxidize or can be crafted directly.',\n    'waxed_copper_trapdoor': 'can be crafted using copper ingots and honeycomb.',\n    'waxed_exposed_copper_trapdoor': 'can be crafted using exposed copper trapdoors and honeycomb.',\n    'waxed_weathered_copper_trapdoor': 'can be crafted using weathered copper trapdoors and honeycomb.',\n    'waxed_oxidized_copper_trapdoor': 'can be crafted using oxidized copper trapdoors and honeycomb.',\n    'saddle': 'can be obtained from fishing, dungeon chests, or trading with leatherworkers.',\n    'elytra': 'can be found in end ships within end cities.',\n    'structure_block': 'can be obtained using commands or in creative mode, used to save and load structures.',\n    'jigsaw': 'can be obtained using commands or in creative mode, used to generate structures.',\n    'scute': 'can be obtained when baby turtles grow into adults.',\n    'apple': 'can be obtained by breaking oak and dark oak leaves or found in chests.',\n    'charcoal': 'can be obtained by smelting logs or wood in a furnace.',\n    'quartz': 'can be obtained by mining nether quartz ore in the Nether.',\n    'amethyst_shard': 'can be obtained by mining amethyst clusters found in geodes with a pickaxe.',\n    'netherite_scrap': 'can be obtained by smelting ancient debris found in the Nether.',\n    'netherite_sword': 'can be crafted using a diamond sword and netherite ingot.',\n    'netherite_shovel': 'can be crafted using a diamond shovel and netherite ingot.',\n    'netherite_pickaxe': 'can be crafted using a diamond pickaxe and netherite ingot.',\n    'netherite_axe': 'can be crafted using a diamond axe and netherite ingot.',\n    'netherite_hoe': 'can be crafted using a diamond hoe and netherite ingot.',\n    'string': 'can be obtained from killing spiders or breaking cobwebs.',\n    'feather': 'can be obtained from killing chickens.',\n    'gunpowder': 'can be obtained from killing creepers, ghasts, and witches.',\n    'wheat_seeds': 'can be obtained by breaking tall grass or harvesting wheat crops.',\n    'chainmail_helmet': 'can be obtained from chest loot, trading with villagers, or killing mobs wearing it.',\n    'chainmail_chestplate': 'can be obtained from chest loot, trading with villagers, or killing mobs wearing it.',\n    'chainmail_leggings': 'can be obtained from chest loot, trading with villagers, or killing mobs wearing it.',\n    'chainmail_boots': 'can be obtained from chest loot, trading with villagers, or killing mobs wearing it.',\n    'netherite_helmet': 'can be crafted using a diamond helmet and netherite ingot.',\n    'netherite_chestplate': 'can be crafted using a diamond chestplate and netherite ingot.',\n    'netherite_leggings': 'can be crafted using diamond leggings and netherite ingot.',\n    'netherite_boots': 'can be crafted using diamond boots and netherite ingot.',\n    'flint': 'can be obtained by breaking gravel blocks.',\n    'porkchop': 'can be obtained by killing pigs.',\n    'cooked_porkchop': 'can be obtained by cooking porkchop in a furnace, smoker, or campfire.',\n    'enchanted_golden_apple': 'can be found in dungeon, bastion remnant, and mineshaft chests.',\n    'water_bucket': 'can be obtained by using a bucket on a water source block.',\n    'lava_bucket': 'can be obtained by using a bucket on a lava source block.',\n    'powder_snow_bucket': 'can be obtained by using a bucket on powder snow.',\n    'snowball': 'can be obtained by breaking snow blocks or using a shovel on snow.',\n    'milk_bucket': 'can be obtained by using a bucket on a cow or mooshroom.',\n    'pufferfish_bucket': 'can be obtained by using a bucket on a pufferfish in water.',\n    'salmon_bucket': 'can be obtained by using a bucket on a salmon in water.',\n    'cod_bucket': 'can be obtained by using a bucket on a cod in water.',\n    'tropical_fish_bucket': 'can be obtained by using a bucket on a tropical fish in water.',\n    'axolotl_bucket': 'can be obtained by using a bucket on an axolotl in water.',\n    'tadpole_bucket': 'can be obtained by using a bucket on a tadpole in water.',\n    'brick': 'can be obtained by smelting clay in a furnace.',\n    'clay_ball': 'can be obtained by breaking clay blocks or from chest loot.',\n    'egg': 'can be obtained from chickens periodically.',\n    'bundle': 'can be crafted using rabbit hide and string.',\n    'glowstone_dust': 'can be obtained by breaking glowstone blocks or killing witches.',\n    'cod': 'can be obtained by fishing or killing cod in water.',\n    'salmon': 'can be obtained by fishing or killing salmon in water.',\n    'tropical_fish': 'can be obtained by fishing or killing tropical fish in water.',\n    'pufferfish': 'can be obtained by fishing or killing pufferfish in water.',\n    'cooked_cod': 'can be obtained by cooking cod in a furnace, smoker, or campfire.',\n    'cooked_salmon': 'can be obtained by cooking salmon in a furnace, smoker, or campfire.',\n    'ink_sac': 'can be obtained by killing squid or as loot from wandering traders.',\n    'glow_ink_sac': 'can be obtained by killing glow squid.',\n    'cocoa_beans': 'can be obtained from cocoa pods found on jungle trees.',\n    'green_dye': 'can be obtained by smelting cactus in a furnace.',\n    'bone': 'can be obtained by killing skeletons or from chest loot.',\n    'crafter': 'can be obtained via crafting using specific materials (details vary by mod or version).',\n    'filled_map': 'can be obtained by using an empty map item.',\n    'melon_slice': 'can be obtained by breaking melon blocks.',\n    'beef': 'can be obtained by killing cows.',\n    'cooked_beef': 'can be obtained by cooking beef in a furnace, smoker, or campfire.',\n    'chicken': 'can be obtained by killing chickens.',\n    'cooked_chicken': 'can be obtained by cooking chicken in a furnace, smoker, or campfire.',\n    'rotten_flesh': 'can be obtained by killing zombies or drowned.',\n    'ender_pearl': 'can be obtained by killing endermen.',\n    'blaze_rod': 'can be obtained by killing blazes in the Nether.',\n    'ghast_tear': 'can be obtained by killing ghasts in the Nether.',\n    'nether_wart': 'can be found in Nether fortresses and bastion remnants.',\n    'potion': 'can be brewed using a brewing stand with various ingredients.',\n    'spider_eye': 'can be obtained by killing spiders or witches.',\n    'experience_bottle': 'can be obtained from trading with villagers or found in chest loot.',\n    'written_book': 'can be crafted using a book and quill after writing in it.',\n    'carrot': 'can be obtained by harvesting carrot crops or found in village farms.',\n    'potato': 'can be obtained by harvesting potato crops or found in village farms.',\n    'baked_potato': 'can be obtained by cooking potatoes in a furnace, smoker, or campfire.',\n    'poisonous_potato': 'can be obtained by harvesting potato crops (rare chance).',\n    'skeleton_skull': 'can be obtained by killing skeletons with a charged creeper explosion.',\n    'wither_skeleton_skull': 'can be obtained by killing wither skeletons (rare drop).',\n    'player_head': 'can be obtained via commands or by killing players in certain conditions (e.g., with a charged creeper).',\n    'zombie_head': 'can be obtained by killing zombies with a charged creeper explosion.',\n    'creeper_head': 'can be obtained by killing creepers with a charged creeper explosion.',\n    'dragon_head': 'can be found at the end of end ships in end cities.',\n    'piglin_head': 'can be obtained by killing piglins with a charged creeper explosion.',\n    'nether_star': 'can be obtained by defeating the Wither boss.',\n    'firework_star': 'can be crafted using gunpowder and dye.',\n    'nether_brick': 'can be obtained by smelting netherrack in a furnace or found in Nether fortresses.',\n    'prismarine_shard': 'can be obtained by killing guardians and elder guardians.',\n    'prismarine_crystals': 'can be obtained by killing guardians and elder guardians or breaking sea lanterns.',\n    'rabbit': 'can be obtained by killing rabbits.',\n    'cooked_rabbit': 'can be obtained by cooking rabbit in a furnace, smoker, or campfire.',\n    'rabbit_foot': 'can be obtained by killing rabbits (rare drop).',\n    'rabbit_hide': 'can be obtained by killing rabbits.',\n    'iron_horse_armor': 'can be found in dungeon, temple, and stronghold chests.',\n    'golden_horse_armor': 'can be found in dungeon, temple, and stronghold chests.',\n    'diamond_horse_armor': 'can be found in dungeon, temple, and stronghold chests.',\n    'name_tag': 'can be obtained by fishing, dungeon chests, or trading with librarians.',\n    'command_block_minecart': 'can be obtained using commands in creative mode.',\n    'mutton': 'can be obtained by killing sheep.',\n    'cooked_mutton': 'can be obtained by cooking mutton in a furnace, smoker, or campfire.',\n    'chorus_fruit': 'can be obtained by breaking chorus plants found in the End.',\n    'popped_chorus_fruit': 'can be obtained by smelting chorus fruit in a furnace.',\n    'torchflower_seeds': 'can be obtained from torchflower plants, used for breeding and decoration.',\n    'pitcher_pod': 'can be obtained from pitcher plants, used for breeding and decoration.',\n    'beetroot': 'can be obtained by harvesting beetroot crops or found in village farms.',\n    'beetroot_seeds': 'can be obtained by harvesting beetroot crops or from chests.',\n    'dragon_breath': 'can be obtained by using an empty bottle on the ender dragon\\'s breath attack.',\n    'splash_potion': 'can be brewed using a brewing stand and gunpowder with various potions.',\n    'tipped_arrow': 'can be crafted using arrows and lingering potions.',\n    'lingering_potion': 'can be brewed using a brewing stand and dragon\\'s breath with various potions.',\n    'totem_of_undying': 'can be obtained by killing evokers in woodland mansions and during raids.',\n    'shulker_shell': 'can be obtained by killing shulkers in end cities.',\n    'knowledge_book': 'can be obtained using commands or given in custom advancements.',\n    'debug_stick': 'can be obtained using commands in creative mode.',\n    'disc_fragment_5': 'can be found in ancient city chests, used to craft music disc 5.',\n    'trident': 'can be obtained by killing drowned (rare drop).',\n    'phantom_membrane': 'can be obtained by killing phantoms.',\n    'nautilus_shell': 'can be obtained from fishing, drowned, or wandering traders.',\n    'heart_of_the_sea': 'can be found in buried treasure chests.',\n    'suspicious_stew': 'can be crafted using mushrooms and various flowers or found in chests.',\n    'globe_banner_pattern': 'can be obtained from trading with cartographer villagers.',\n    'piglin_banner_pattern': 'can be obtained from bastion remnant chests.',\n    'goat_horn': 'can be obtained when a goat rams a solid block.',\n    'bell': 'can be obtained from village structures or crafted using iron ingots and wood.',\n    'sweet_berries': 'can be obtained from sweet berry bushes found in taiga biomes.',\n    'glow_berries': 'can be found in lush cave biomes or by trading with wandering traders.',\n    'shroomlight': 'can be obtained by breaking shroomlights found in Nether forests.',\n    'honeycomb': 'can be obtained by using shears on beehives or bee nests.',\n    'bee_nest': 'can be found in forest biomes with birch or oak trees, especially in flower forests.',\n    'crying_obsidian': 'can be found in ruined portals, bastion remnants, or bartered from piglins.',\n    'blackstone': 'can be found in basalt deltas, bastion remnants, or crafted from polished blackstone.',\n    'gilded_blackstone': 'can be found in bastion remnants.',\n    'cracked_polished_blackstone_bricks': 'can be obtained by smelting polished blackstone bricks.',\n    'small_amethyst_bud': 'can be found growing in amethyst geodes.',\n    'medium_amethyst_bud': 'can be found growing in amethyst geodes.',\n    'large_amethyst_bud': 'can be found growing in amethyst geodes.',\n    'amethyst_cluster': 'can be found growing in amethyst geodes.',\n    'pointed_dripstone': 'can be found in dripstone caves or created by placing a dripstone block under a water source block.',\n    'ochre_froglight': 'can be obtained by leading a frog to eat a magma cube, dropping this item.',\n    'verdant_froglight': 'can be obtained by leading a frog to eat a magma cube, dropping this item.',\n    'pearlescent_froglight': 'can be obtained by leading a frog to eat a magma cube, dropping this item.',\n    'frogspawn': 'Frogspawn is an item that can be found in the game Minecraft and is primarily used to breed frogs.',\n    'echo_shard': 'Echo Shard is an item in Minecraft Dungeons, primarily used as a currency for trading with Piglin vendors.',\n    'copper_grate': 'Copper Grate is a block in Minecraft that can be crafted from copper ingots, primarily used as a decorative block.',\n    'exposed_copper_grate': 'Exposed Copper Grate is a variant of Copper Grate in Minecraft that has weathered to the exposed state over time.',\n    'weathered_copper_grate': 'Weathered Copper Grate is a variant of Copper Grate in Minecraft that has weathered to the weathered state over time.',\n    'oxidized_copper_grate': 'Oxidized Copper Grate is a variant of Copper Grate in Minecraft that has weathered to the oxidized state over time.',\n    'waxed_copper_grate': 'Waxed Copper Grate is a variant of Copper Grate in Minecraft that has been waxed to prevent further weathering.',\n    'waxed_exposed_copper_grate': 'Waxed Exposed Copper Grate is a variant of Exposed Copper Grate in Minecraft that has been waxed to prevent further weathering.',\n    'waxed_weathered_copper_grate': 'Waxed Weathered Copper Grate is a variant of Weathered Copper Grate in Minecraft that has been waxed to prevent further weathering.',\n    'waxed_oxidized_copper_grate': 'Waxed Oxidized Copper Grate is a variant of Oxidized Copper Grate in Minecraft that has been waxed to prevent further weathering.',\n    'copper_bulb': 'Copper Bulb is a block in Minecraft that can be crafted from copper ingots, primarily used as a decorative block.',\n    'exposed_copper_bulb': 'Exposed Copper Bulb is a variant of Copper Bulb in Minecraft that has weathered to the exposed state over time.',\n    'weathered_copper_bulb': 'Weathered Copper Bulb is a variant of Copper Bulb in Minecraft that has weathered to the weathered state over time.',\n    'oxidized_copper_bulb': 'Oxidized Copper Bulb is a variant of Copper Bulb in Minecraft that has weathered to the oxidized state over time.',\n    'waxed_copper_bulb': 'Waxed Copper Bulb is a variant of Copper Bulb in Minecraft that has been waxed to prevent further weathering.',\n    'waxed_exposed_copper_bulb': 'Waxed Exposed Copper Bulb is a variant of Exposed Copper Bulb in Minecraft that has been waxed to prevent further weathering.',\n    'waxed_weathered_copper_bulb': 'Waxed Weathered Copper Bulb is a variant of Weathered Copper Bulb in Minecraft that has been waxed to prevent further weathering.',\n    'waxed_oxidized_copper_bulb': 'Waxed Oxidized Copper Bulb is a variant of Oxidized Copper Bulb in Minecraft that has been waxed to prevent further weathering.',\n    'trial_spawner': 'Trial Spawner is an item in Minecraft Dungeons, used in the Ancient Hunt game mode to summon trials for unique rewards.',\n    'trial_key': 'Trial Key is an item in Minecraft Dungeons, obtained from defeating Ancient mobs in the Ancient Hunt game mode, used to unlock trials.'\n  }\n}\n\nconst lowerCaseFirstLetter = (string) => string.charAt(0).toLowerCase() + string.slice(1)\nfor (const [name, data] of Object.entries(moreGeneratedBlocks.natural_blocks)) {\n  let description = '' as string | ((name: string) => string)\n  if (typeof data === 'object') {\n    const obtainedFrom = 'obtained_from' in data ? data.obtained_from : 'description' in data ? data.description : ''\n    description = obtainedFrom + ('rarity' in data ? ` Rarity: ${data.rarity}` : '') + ('spawn_range' in data ? ` Spawn range: ${data.spawn_range}` : '')\n  } else {\n    description = (name) => `${lowerCaseFirstLetter(name)}: ${data}`\n  }\n  descriptionGenerators.set([name], description)\n}\n\nexport const getItemDescription = (item: import('prismarine-item').Item) => {\n  const { name } = item\n  let result: string | ((name: string) => string) = ''\n  for (const [names, description] of descriptionGenerators) {\n    if (Array.isArray(names) && names.includes(name)) {\n      result = description\n    }\n    if (typeof names === 'string' && names === name) {\n      result = description\n    }\n    if (names instanceof RegExp && names.test(name)) {\n      result = description\n    }\n  }\n  return typeof result === 'function' ? result(item.displayName) : result\n}\n","import { proxy } from 'valtio'\n\nexport const ideState = proxy({\n  id: '',\n  contents: '',\n  line: 0,\n  column: 0,\n  language: 'typescript',\n  title: '',\n})\nglobalThis.ideState = ideState\n\nexport const registerIdeChannels = () => {\n  registerIdeOpenChannel()\n  registerIdeSaveChannel()\n}\n\nconst registerIdeOpenChannel = () => {\n  const CHANNEL_NAME = 'minecraft-web-client:ide-open'\n\n  const packetStructure = [\n    'container',\n    [\n      {\n        name: 'id',\n        type: ['pstring', { countType: 'i16' }]\n      },\n      {\n        name: 'language',\n        type: ['pstring', { countType: 'i16' }]\n      },\n      {\n        name: 'contents',\n        type: ['pstring', { countType: 'i16' }]\n      },\n      {\n        name: 'line',\n        type: 'i32'\n      },\n      {\n        name: 'column',\n        type: 'i32'\n      },\n      {\n        name: 'title',\n        type: ['pstring', { countType: 'i16' }]\n      }\n    ]\n  ]\n\n  bot._client.registerChannel(CHANNEL_NAME, packetStructure, true)\n\n  bot._client.on(CHANNEL_NAME as any, (data) => {\n    const { id, language, contents, line, column, title } = data\n\n    ideState.contents = contents\n    ideState.line = line\n    ideState.column = column\n    ideState.id = id\n    ideState.language = language || 'typescript'\n    ideState.title = title\n  })\n\n  console.debug(`registered custom channel ${CHANNEL_NAME} channel`)\n}\nconst IDE_SAVE_CHANNEL_NAME = 'minecraft-web-client:ide-save'\nconst registerIdeSaveChannel = () => {\n\n  const packetStructure = [\n    'container',\n    [\n      {\n        name: 'id',\n        type: ['pstring', { countType: 'i16' }]\n      },\n      {\n        name: 'contents',\n        type: ['pstring', { countType: 'i16' }]\n      },\n      {\n        name: 'language',\n        type: ['pstring', { countType: 'i16' }]\n      },\n      {\n        name: 'line',\n        type: 'i32'\n      },\n      {\n        name: 'column',\n        type: 'i32'\n      },\n    ]\n  ]\n  bot._client.registerChannel(IDE_SAVE_CHANNEL_NAME, packetStructure, true)\n}\n\nexport const saveIde = () => {\n  bot._client.writeChannel(IDE_SAVE_CHANNEL_NAME, {\n    id: ideState.id,\n    contents: ideState.contents,\n    language: ideState.language,\n    // todo: reflect updated\n    line: ideState.line,\n    column: ideState.column,\n  })\n}\n","import PItem from 'prismarine-item'\nimport { getThreeJsRendererMethods } from 'renderer/viewer/three/threeJsMethods'\nimport { options } from './optionsStorage'\nimport { jeiCustomCategories } from './inventoryWindows'\nimport { registerIdeChannels } from './core/ideChannels'\n\nexport default () => {\n  customEvents.on('mineflayerBotCreated', async () => {\n    if (!options.customChannels) return\n    bot.once('login', () => {\n      registerBlockModelsChannel()\n      registerMediaChannels()\n      registerSectionAnimationChannels()\n      registeredJeiChannel()\n      registerBlockInteractionsCustomizationChannel()\n      registerWaypointChannels()\n      registerIdeChannels()\n    })\n  })\n}\n\nconst registerChannel = (channelName: string, packetStructure: any[], handler: (data: any) => void, waitForWorld = true) => {\n  bot._client.registerChannel(channelName, packetStructure, true)\n  bot._client.on(channelName as any, async (data) => {\n    if (waitForWorld) {\n      await appViewer.worldReady\n      handler(data)\n    } else {\n      handler(data)\n    }\n  })\n\n  console.debug(`registered custom channel ${channelName} channel`)\n}\n\nconst registerBlockInteractionsCustomizationChannel = () => {\n  const CHANNEL_NAME = 'minecraft-web-client:block-interactions-customization'\n  const packetStructure = [\n    'container',\n    [\n      {\n        name: 'newConfiguration',\n        type: ['pstring', { countType: 'i16' }]\n      },\n    ]\n  ]\n\n  registerChannel(CHANNEL_NAME, packetStructure, (data) => {\n    const config = JSON.parse(data.newConfiguration)\n    if (config.customBreakTime !== undefined && Object.values(config.customBreakTime).every(x => typeof x === 'number')) {\n      bot.mouse.customBreakTime = config.customBreakTime\n    }\n    if (config.customBreakTimeToolAllowance !== undefined) {\n      bot.mouse.customBreakTimeToolAllowance = new Set(config.customBreakTimeToolAllowance)\n    }\n\n    if (config.blockPlacePrediction !== undefined) {\n      bot.mouse.settings.blockPlacePrediction = config.blockPlacePrediction\n    }\n    if (config.blockPlacePredictionDelay !== undefined) {\n      bot.mouse.settings.blockPlacePredictionDelay = config.blockPlacePredictionDelay\n    }\n  }, true)\n}\n\nconst registerWaypointChannels = () => {\n  const packetStructure = [\n    'container',\n    [\n      {\n        name: 'id',\n        type: ['pstring', { countType: 'i16' }]\n      },\n      {\n        name: 'x',\n        type: 'f32'\n      },\n      {\n        name: 'y',\n        type: 'f32'\n      },\n      {\n        name: 'z',\n        type: 'f32'\n      },\n      {\n        name: 'minDistance',\n        type: 'i32'\n      },\n      {\n        name: 'label',\n        type: ['pstring', { countType: 'i16' }]\n      },\n      {\n        name: 'color',\n        type: 'i32'\n      }\n    ]\n  ]\n\n  registerChannel('minecraft-web-client:waypoint-add', packetStructure, (data) => {\n    getThreeJsRendererMethods()?.addWaypoint(data.id, data.x, data.y, data.z, {\n      minDistance: data.minDistance,\n      label: data.label || undefined,\n      color: data.color || undefined\n    })\n  })\n\n  registerChannel('minecraft-web-client:waypoint-delete', [\n    'container',\n    [\n      {\n        name: 'id',\n        type: ['pstring', { countType: 'i16' }]\n      }\n    ]\n  ], (data) => {\n    getThreeJsRendererMethods()?.removeWaypoint(data.id)\n  })\n}\n\nconst registerBlockModelsChannel = () => {\n  const CHANNEL_NAME = 'minecraft-web-client:blockmodels'\n\n  const packetStructure = [\n    'container',\n    [\n      {\n        name: 'worldName', // currently not used\n        type: ['pstring', { countType: 'i16' }]\n      },\n      {\n        name: 'x',\n        type: 'i32'\n      },\n      {\n        name: 'y',\n        type: 'i32'\n      },\n      {\n        name: 'z',\n        type: 'i32'\n      },\n      {\n        name: 'model',\n        type: ['pstring', { countType: 'i16' }]\n      }\n    ]\n  ]\n\n  registerChannel(CHANNEL_NAME, packetStructure, (data) => {\n    const { worldName, x, y, z, model } = data\n\n    const chunkX = Math.floor(x / 16) * 16\n    const chunkZ = Math.floor(z / 16) * 16\n    const chunkKey = `${chunkX},${chunkZ}`\n    const blockPosKey = `${x},${y},${z}`\n\n    getThreeJsRendererMethods()?.updateCustomBlock(chunkKey, blockPosKey, model)\n  }, true)\n}\n\nconst registerSectionAnimationChannels = () => {\n  const ADD_CHANNEL = 'minecraft-web-client:section-animation-add'\n  const REMOVE_CHANNEL = 'minecraft-web-client:section-animation-remove'\n\n  /**\n   * Add a section animation\n   * @param id - Section position for animation like `16,32,16`\n   * @param offset - Initial offset in blocks\n   * @param speedX - Movement speed in blocks per second on X axis\n   * @param speedY - Movement speed in blocks per second on Y axis\n   * @param speedZ - Movement speed in blocks per second on Z axis\n   * @param limitX - Maximum offset in blocks on X axis (0 means no limit)\n   * @param limitY - Maximum offset in blocks on Y axis (0 means no limit)\n   * @param limitZ - Maximum offset in blocks on Z axis (0 means no limit)\n   */\n  const addPacketStructure = [\n    'container',\n    [\n      { name: 'id', type: ['pstring', { countType: 'i16' }] },\n      { name: 'offset', type: 'f32' },\n      { name: 'speedX', type: 'f32' },\n      { name: 'speedY', type: 'f32' },\n      { name: 'speedZ', type: 'f32' },\n      { name: 'limitX', type: 'f32' },\n      { name: 'limitY', type: 'f32' },\n      { name: 'limitZ', type: 'f32' }\n    ]\n  ]\n\n  /**\n   * Remove a section animation\n   * @param id - Identifier of the animation to remove\n   */\n  const removePacketStructure = [\n    'container',\n    [\n      { name: 'id', type: ['pstring', { countType: 'i16' }] }\n    ]\n  ]\n\n  registerChannel(ADD_CHANNEL, addPacketStructure, (data) => {\n    const { id, offset, speedX, speedY, speedZ, limitX, limitY, limitZ } = data\n    getThreeJsRendererMethods()?.addSectionAnimation(id, {\n      time: performance.now(),\n      speedX,\n      speedY,\n      speedZ,\n      currentOffsetX: offset,\n      currentOffsetY: offset,\n      currentOffsetZ: offset,\n      limitX: limitX === 0 ? undefined : limitX,\n      limitY: limitY === 0 ? undefined : limitY,\n      limitZ: limitZ === 0 ? undefined : limitZ\n    })\n  }, true)\n\n  registerChannel(REMOVE_CHANNEL, removePacketStructure, (data) => {\n    const { id } = data\n    getThreeJsRendererMethods()?.removeSectionAnimation(id)\n  }, true)\n\n  console.debug('Registered section animation channels')\n}\n\nwindow.testSectionAnimation = (speedY = 1) => {\n  const pos = bot.entity.position\n  const id = `${Math.floor(pos.x / 16) * 16},${Math.floor(pos.y / 16) * 16},${Math.floor(pos.z / 16) * 16}`\n  getThreeJsRendererMethods()?.addSectionAnimation(id, {\n    time: performance.now(),\n    speedX: 0,\n    speedY,\n    speedZ: 0,\n    currentOffsetX: 0,\n    currentOffsetY: 0,\n    currentOffsetZ: 0,\n    // limitX: 10,\n    // limitY: 10,\n  })\n}\n\nconst registeredJeiChannel = () => {\n  const CHANNEL_NAME = 'minecraft-web-client:jei'\n  // id - string, categoryTitle - string, items - string (json array)\n  const packetStructure = [\n    'container',\n    [\n      {\n        name: 'id',\n        type: ['pstring', { countType: 'i16' }]\n      },\n      {\n        name: '_categoryTitle',\n        type: ['pstring', { countType: 'i16' }]\n      },\n      {\n        name: 'items',\n        type: ['pstring', { countType: 'i16' }]\n      },\n    ]\n  ]\n\n  bot._client.registerChannel(CHANNEL_NAME, packetStructure, true)\n\n  bot._client.on(CHANNEL_NAME as any, (data) => {\n    const { id, categoryTitle, items } = data\n    if (items === '') {\n      // remove category\n      jeiCustomCategories.value = jeiCustomCategories.value.filter(x => x.id !== id)\n      return\n    }\n    const PrismarineItem = PItem(bot.version)\n    jeiCustomCategories.value.push({\n      id,\n      categoryTitle,\n      items: JSON.parse(items).map(x => {\n        const itemString = x.itemName || x.item_name || x.item || x.itemId\n        const itemId = loadedData.itemsByName[itemString.replace('minecraft:', '')]\n        if (!itemId) {\n          console.warn(`Could not add item ${itemString} to JEI category ${categoryTitle} because it was not found`)\n          return null\n        }\n        // const item = new PrismarineItem(itemId.id, x.itemCount || x.item_count || x.count || 1, x.itemDamage || x.item_damage || x.damage || 0, x.itemNbt || x.item_nbt || x.nbt || null)\n        return PrismarineItem.fromNotch({\n          ...x,\n          itemId: itemId.id,\n        })\n      })\n    })\n  })\n\n  console.debug(`registered custom channel ${CHANNEL_NAME} channel`)\n}\n\nconst registerMediaChannels = () => {\n  // Media Add Channel\n  const ADD_CHANNEL = 'minecraft-web-client:media-add'\n  const addPacketStructure = [\n    'container',\n    [\n      { name: 'id', type: ['pstring', { countType: 'i16' }] },\n      { name: 'x', type: 'f32' },\n      { name: 'y', type: 'f32' },\n      { name: 'z', type: 'f32' },\n      { name: 'width', type: 'f32' },\n      { name: 'height', type: 'f32' },\n      { name: 'rotation', type: 'i16' }, // 0: 0 - towards positive z, 1: 90 - positive x, 2: 180 - negative z, 3: 270 - negative x (3-6 is same but double side)\n      { name: 'source', type: ['pstring', { countType: 'i16' }] },\n      { name: 'loop', type: 'bool' },\n      { name: 'volume', type: 'f32' }, // 0\n      { name: '_aspectRatioMode', type: 'i16' }, // 0\n      { name: '_background', type: 'i16' }, // 0\n      { name: '_opacity', type: 'i16' }, // 1\n      { name: '_cropXStart', type: 'f32' }, // 0\n      { name: '_cropYStart', type: 'f32' }, // 0\n      { name: '_cropXEnd', type: 'f32' }, // 0\n      { name: '_cropYEnd', type: 'f32' }, // 0\n    ]\n  ]\n\n  // Media Control Channels\n  const PLAY_CHANNEL = 'minecraft-web-client:media-play'\n  const PAUSE_CHANNEL = 'minecraft-web-client:media-pause'\n  const SEEK_CHANNEL = 'minecraft-web-client:media-seek'\n  const VOLUME_CHANNEL = 'minecraft-web-client:media-volume'\n  const SPEED_CHANNEL = 'minecraft-web-client:media-speed'\n  const DESTROY_CHANNEL = 'minecraft-web-client:media-destroy'\n\n  const noDataPacketStructure = [\n    'container',\n    [\n      { name: 'id', type: ['pstring', { countType: 'i16' }] }\n    ]\n  ]\n\n  const setNumberPacketStructure = [\n    'container',\n    [\n      { name: 'id', type: ['pstring', { countType: 'i16' }] },\n      { name: 'seconds', type: 'f32' }\n    ]\n  ]\n\n  // Register channels\n  registerChannel(PLAY_CHANNEL, noDataPacketStructure, (data) => {\n    const { id } = data\n    getThreeJsRendererMethods()?.setVideoPlaying(id, true)\n  }, true)\n  registerChannel(PAUSE_CHANNEL, noDataPacketStructure, (data) => {\n    const { id } = data\n    getThreeJsRendererMethods()?.setVideoPlaying(id, false)\n  }, true)\n  registerChannel(SEEK_CHANNEL, setNumberPacketStructure, (data) => {\n    const { id, seconds } = data\n    getThreeJsRendererMethods()?.setVideoSeeking(id, seconds)\n  }, true)\n  registerChannel(VOLUME_CHANNEL, setNumberPacketStructure, (data) => {\n    const { id, volume } = data\n    getThreeJsRendererMethods()?.setVideoVolume(id, volume)\n  }, true)\n  registerChannel(SPEED_CHANNEL, setNumberPacketStructure, (data) => {\n    const { id, speed } = data\n    getThreeJsRendererMethods()?.setVideoSpeed(id, speed)\n  }, true)\n  registerChannel(DESTROY_CHANNEL, noDataPacketStructure, (data) => {\n    const { id } = data\n    getThreeJsRendererMethods()?.destroyMedia(id)\n  }, true)\n\n  // Handle media add\n  registerChannel(ADD_CHANNEL, addPacketStructure, (data) => {\n    const { id, x, y, z, width, height, rotation, source, loop, volume, background, opacity } = data\n\n    // Add new video\n    getThreeJsRendererMethods()?.addMedia(id, {\n      position: { x, y, z },\n      size: { width, height },\n      // side: 'towards',\n      src: source,\n      rotation: rotation as 0 | 1 | 2 | 3,\n      doubleSide: false,\n      background,\n      opacity: opacity / 100,\n      allowOrigins: options.remoteContentNotSameOrigin === false ? [getCurrentTopDomain()] : options.remoteContentNotSameOrigin,\n      loop,\n      volume\n    })\n  })\n\n  // ---\n\n  // Video interaction channel\n  const interactionPacketStructure = [\n    'container',\n    [\n      { name: 'id', type: ['pstring', { countType: 'i16' }] },\n      { name: 'x', type: 'f32' },\n      { name: 'y', type: 'f32' },\n      { name: 'isRightClick', type: 'bool' }\n    ]\n  ]\n\n  bot._client.registerChannel(MEDIA_INTERACTION_CHANNEL, interactionPacketStructure, true)\n\n  // Media play channel\n  bot._client.registerChannel(MEDIA_PLAY_CHANNEL_CLIENTBOUND, noDataPacketStructure, true)\n  const mediaStopPacketStructure = [\n    'container',\n    [\n      { name: 'id', type: ['pstring', { countType: 'i16' }] },\n      // ended - emitted even when loop is true (will continue playing)\n      // error: ...\n      // stalled - connection drops, server stops sending data\n      // waiting - connection is slow, server is sending data, but not fast enough (buffering)\n      // control\n      { name: 'reason', type: ['pstring', { countType: 'i16' }] },\n      { name: 'time', type: 'f32' }\n    ]\n  ]\n  bot._client.registerChannel(MEDIA_STOP_CHANNEL_CLIENTBOUND, mediaStopPacketStructure, true)\n\n  console.debug('Registered media channels')\n}\n\nconst MEDIA_INTERACTION_CHANNEL = 'minecraft-web-client:media-interaction'\nconst MEDIA_PLAY_CHANNEL_CLIENTBOUND = 'minecraft-web-client:media-play'\nconst MEDIA_STOP_CHANNEL_CLIENTBOUND = 'minecraft-web-client:media-stop'\n\nexport const sendVideoInteraction = (id: string, x: number, y: number, isRightClick: boolean) => {\n  bot._client.writeChannel(MEDIA_INTERACTION_CHANNEL, { id, x, y, isRightClick })\n}\n\nexport const sendVideoPlay = (id: string) => {\n  bot._client.writeChannel(MEDIA_PLAY_CHANNEL_CLIENTBOUND, { id })\n}\n\nexport const sendVideoStop = (id: string, reason: string, time: number) => {\n  bot._client.writeChannel(MEDIA_STOP_CHANNEL_CLIENTBOUND, { id, reason, time })\n}\n\nexport const videoCursorInteraction = () => {\n  const { intersectMedia } = appViewer.rendererState.world\n  if (!intersectMedia) return null\n  return intersectMedia\n}\nwindow.videoCursorInteraction = videoCursorInteraction\n\nconst addTestVideo = (rotation = 0 as 0 | 1 | 2 | 3, scale = 1, isImage = false) => {\n  const block = window.cursorBlockRel()\n  if (!block) return\n  const { position: startPosition } = block\n\n  // Add video with proper positioning\n  getThreeJsRendererMethods()?.addMedia('test-video', {\n    position: {\n      x: startPosition.x,\n      y: startPosition.y + 1,\n      z: startPosition.z\n    },\n    size: {\n      width: scale,\n      height: scale\n    },\n    src: isImage ? 'https://bucket.mcraft.fun/test_image.png' : 'https://bucket.mcraft.fun/test_video.mp4',\n    rotation,\n    // doubleSide: true,\n    background: 0x00_00_00, // Black color\n    // TODO broken\n    // uvMapping: {\n    //   startU: 0,\n    //   endU: 1,\n    //   startV: 0,\n    //   endV: 1\n    // },\n    opacity: 1,\n    allowOrigins: true,\n  })\n}\nwindow.addTestVideo = addTestVideo\n\nfunction getCurrentTopDomain (): string {\n  const { hostname } = location\n  // Split hostname into parts\n  const parts = hostname.split('.')\n\n  // Handle special cases like co.uk, com.br, etc.\n  if (parts.length > 2) {\n    // Check for common country codes with additional segments\n    if (parts.at(-2) === 'co' ||\n      parts.at(-2) === 'com' ||\n      parts.at(-2) === 'org' ||\n      parts.at(-2) === 'gov') {\n      // Return last 3 parts (e.g., example.co.uk)\n      return parts.slice(-3).join('.')\n    }\n  }\n\n  // Return last 2 parts (e.g., example.com)\n  return parts.slice(-2).join('.')\n}\n","import * as THREE from 'three'\nimport { sendVideoPlay, sendVideoStop } from '../../../src/customChannels'\nimport { WorldRendererThree } from './worldrendererThree'\nimport { ThreeJsSound } from './threeJsSound'\n\ninterface MediaProperties {\n  position: { x: number, y: number, z: number }\n  size: { width: number, height: number }\n  src: string\n  rotation?: 0 | 1 | 2 | 3 // 0-3 for 0, 90, 180, 270\n  doubleSide?: boolean\n  background?: number // Hexadecimal color (e.g., 0x000000 for black)\n  opacity?: number // 0-1 value for transparency\n  uvMapping?: { startU: number, endU: number, startV: number, endV: number }\n  allowOrigins?: string[] | boolean\n  loop?: boolean\n  volume?: number\n  autoPlay?: boolean\n\n  allowLighting?: boolean\n}\n\nexport class ThreeJsMedia {\n  customMedia = new Map<string, {\n    mesh: THREE.Object3D\n    props: MediaProperties\n    video: HTMLVideoElement | undefined\n    texture: THREE.Texture\n    updateUVMapping: (config: { startU: number, endU: number, startV: number, endV: number }) => void\n    positionalAudio?: THREE.PositionalAudio\n    hadAutoPlayError?: boolean\n  }>()\n\n  constructor (private readonly worldRenderer: WorldRendererThree) {\n    this.worldRenderer.onWorldSwitched.push(() => {\n      this.onWorldGone()\n    })\n\n    this.worldRenderer.onRender.push(() => {\n      this.render()\n    })\n  }\n\n  onWorldGone () {\n    for (const [id, videoData] of this.customMedia.entries()) {\n      this.destroyMedia(id)\n    }\n  }\n\n  onWorldStop () {\n    for (const [id, videoData] of this.customMedia.entries()) {\n      this.setVideoPlaying(id, false)\n    }\n  }\n\n  private createErrorTexture (width: number, height: number, background = 0x00_00_00, error = 'Failed to load'): THREE.CanvasTexture {\n    const canvas = document.createElement('canvas')\n    const MAX_DIMENSION = 100\n\n    canvas.width = MAX_DIMENSION\n    canvas.height = MAX_DIMENSION\n\n    const ctx = canvas.getContext('2d')\n    if (!ctx) return new THREE.CanvasTexture(canvas)\n\n    // Clear with transparent background\n    ctx.clearRect(0, 0, canvas.width, canvas.height)\n\n    // Add background color\n    ctx.fillStyle = `rgba(${background >> 16 & 255}, ${background >> 8 & 255}, ${background & 255}, 0.5)`\n    ctx.fillRect(0, 0, canvas.width, canvas.height)\n\n    // Add red text with size relative to canvas dimensions\n    ctx.fillStyle = '#ff0000'\n    ctx.font = 'bold 10px sans-serif'\n    ctx.textAlign = 'center'\n    ctx.textBaseline = 'middle'\n    ctx.fillText(error, canvas.width / 2, canvas.height / 2, canvas.width)\n\n    const texture = new THREE.CanvasTexture(canvas)\n    texture.minFilter = THREE.LinearFilter\n    texture.magFilter = THREE.LinearFilter\n    return texture\n  }\n\n  private createBackgroundTexture (width: number, height: number, color = 0x00_00_00, opacity = 1): THREE.CanvasTexture {\n    const canvas = document.createElement('canvas')\n    canvas.width = 1\n    canvas.height = 1\n\n    const ctx = canvas.getContext('2d')\n    if (!ctx) return new THREE.CanvasTexture(canvas)\n\n    // Convert hex color to rgba\n    const r = (color >> 16) & 255\n    const g = (color >> 8) & 255\n    const b = color & 255\n\n    ctx.fillStyle = `rgba(${r}, ${g}, ${b}, ${opacity})`\n    ctx.fillRect(0, 0, 1, 1)\n\n    const texture = new THREE.CanvasTexture(canvas)\n    texture.minFilter = THREE.NearestFilter\n    texture.magFilter = THREE.NearestFilter\n    return texture\n  }\n\n  validateOrigin (src: string, allowOrigins: string[] | boolean) {\n    if (allowOrigins === true) return true\n    if (allowOrigins === false) return false\n    const url = new URL(src)\n    return allowOrigins.some(origin => url.origin.endsWith(origin))\n  }\n\n  onPageInteraction () {\n    for (const [id, videoData] of this.customMedia.entries()) {\n      if (videoData.hadAutoPlayError) {\n        videoData.hadAutoPlayError = false\n        void videoData.video?.play()\n          .catch(err => {\n            if (err.name === 'AbortError') return\n            console.error('Failed to play video:', err)\n            videoData.hadAutoPlayError = true\n            return true\n          })\n          .then((fromCatch) => {\n            if (fromCatch) return\n            if (videoData.positionalAudio) {\n              // workaround: audio has to be recreated\n              this.addMedia(id, videoData.props)\n            }\n          })\n      }\n    }\n  }\n\n  addMedia (id: string, props: MediaProperties) {\n    const originalProps = structuredClone(props)\n    this.destroyMedia(id)\n\n    const { scene } = this.worldRenderer\n\n    const originSecurityError = props.allowOrigins !== undefined && !this.validateOrigin(props.src, props.allowOrigins)\n    if (originSecurityError) {\n      console.warn('Remote resource blocked due to security policy', props.src, 'allowed origins:', props.allowOrigins, 'you can control it with `remoteContentNotSameOrigin` option')\n      props.src = ''\n    }\n\n    const isImage = props.src.endsWith('.png') || props.src.endsWith('.jpg') || props.src.endsWith('.jpeg')\n\n    let video: HTMLVideoElement | undefined\n    let positionalAudio: THREE.PositionalAudio | undefined\n    if (!isImage) {\n      video = document.createElement('video')\n      video.src = props.src.endsWith('.gif') ? props.src.replace('.gif', '.mp4') : props.src\n      video.loop = props.loop ?? true\n      video.volume = props.volume ?? 1\n      video.playsInline = true\n      video.crossOrigin = 'anonymous'\n\n      // Create positional audio\n      const soundSystem = this.worldRenderer.soundSystem as ThreeJsSound\n      soundSystem.initAudioListener()\n      if (!soundSystem.audioListener) throw new Error('Audio listener not initialized')\n      positionalAudio = new THREE.PositionalAudio(soundSystem.audioListener)\n      positionalAudio.setRefDistance(6)\n      positionalAudio.setVolume(props.volume ?? 1)\n      scene.add(positionalAudio)\n      positionalAudio.position.set(props.position.x, props.position.y, props.position.z)\n\n      // Connect video to positional audio\n      positionalAudio.setMediaElementSource(video)\n      positionalAudio.connect()\n\n      video.addEventListener('pause', () => {\n        positionalAudio?.pause()\n        sendVideoStop(id, 'paused', video!.currentTime)\n      })\n      video.addEventListener('play', () => {\n        positionalAudio?.play()\n        sendVideoPlay(id)\n      })\n      video.addEventListener('seeked', () => {\n        if (positionalAudio && video) {\n          positionalAudio.offset = video.currentTime\n        }\n      })\n      video.addEventListener('stalled', () => {\n        sendVideoStop(id, 'stalled', video!.currentTime)\n      })\n      video.addEventListener('waiting', () => {\n        sendVideoStop(id, 'waiting', video!.currentTime)\n      })\n      video.addEventListener('error', ({ error }) => {\n        sendVideoStop(id, `error: ${error}`, video!.currentTime)\n      })\n      video.addEventListener('ended', () => {\n        sendVideoStop(id, 'ended', video!.currentTime)\n      })\n    }\n\n\n    // Create background texture first\n    const backgroundTexture = this.createBackgroundTexture(\n      props.size.width,\n      props.size.height,\n      props.background,\n      // props.opacity ?? 1\n    )\n\n    const handleError = (text?: string) => {\n      const errorTexture = this.createErrorTexture(props.size.width, props.size.height, props.background, text)\n      material.map = errorTexture\n      material.needsUpdate = true\n    }\n\n    // Create a plane geometry with configurable UV mapping\n    const geometry = new THREE.PlaneGeometry(1, 1)\n\n    // Create material with initial properties using background texture\n    const MaterialClass = props.allowLighting ? THREE.MeshLambertMaterial : THREE.MeshBasicMaterial\n    const material = new MaterialClass({\n      map: backgroundTexture,\n      transparent: true,\n      side: props.doubleSide ? THREE.DoubleSide : THREE.FrontSide,\n      alphaTest: 0.1\n    })\n\n    const texture = video\n      ? new THREE.VideoTexture(video)\n      : new THREE.TextureLoader().load(props.src, () => {\n        if (this.customMedia.get(id)?.texture === texture) {\n          material.map = texture\n          material.needsUpdate = true\n        }\n      }, undefined, () => handleError()) // todo cache\n    texture.minFilter = THREE.NearestFilter\n    texture.magFilter = THREE.NearestFilter\n    // texture.format = THREE.RGBAFormat\n    // texture.colorSpace = THREE.SRGBColorSpace\n    texture.generateMipmaps = false\n\n    // Create inner mesh for offsets\n    const mesh = new THREE.Mesh(geometry, material)\n\n    const { mesh: panel } = this.positionMeshExact(mesh, THREE.MathUtils.degToRad((props.rotation ?? 0) * 90), props.position, props.size.width, props.size.height)\n\n    scene.add(panel)\n\n    if (video) {\n      // Start playing the video\n      video.play().catch(err => {\n        if (err.name === 'AbortError') return\n        console.error('Failed to play video:', err)\n        videoData.hadAutoPlayError = true\n        handleError(err.name === 'NotAllowedError' ? 'Waiting for user interaction' : 'Failed to auto play')\n      })\n\n      // Update texture in animation loop\n      mesh.onBeforeRender = () => {\n        if (video.readyState === video.HAVE_ENOUGH_DATA && (!video.paused || !videoData?.hadAutoPlayError)) {\n          if (material.map !== texture) {\n            material.map = texture\n            material.needsUpdate = true\n          }\n          texture.needsUpdate = true\n\n          // Sync audio position with video position\n          if (positionalAudio) {\n            positionalAudio.position.copy(panel.position)\n            positionalAudio.rotation.copy(panel.rotation)\n          }\n        }\n      }\n    }\n\n    // UV mapping configuration\n    const updateUVMapping = (config: { startU: number, endU: number, startV: number, endV: number }) => {\n      const uvs = geometry.attributes.uv.array as Float32Array\n      uvs[0] = config.startU\n      uvs[1] = config.startV\n      uvs[2] = config.endU\n      uvs[3] = config.startV\n      uvs[4] = config.endU\n      uvs[5] = config.endV\n      uvs[6] = config.startU\n      uvs[7] = config.endV\n      geometry.attributes.uv.needsUpdate = true\n    }\n\n    // Apply initial UV mapping if provided\n    if (props.uvMapping) {\n      updateUVMapping(props.uvMapping)\n    }\n\n    const videoData = {\n      mesh: panel,\n      video,\n      texture,\n      updateUVMapping,\n      positionalAudio,\n      props: originalProps,\n      hadAutoPlayError: false\n    }\n    // Store video data\n    this.customMedia.set(id, videoData)\n\n    return id\n  }\n\n  render () {\n    for (const [id, videoData] of this.customMedia.entries()) {\n      const chunkX = Math.floor(videoData.props.position.x / 16) * 16\n      const chunkZ = Math.floor(videoData.props.position.z / 16) * 16\n      const sectionY = Math.floor(videoData.props.position.y / 16) * 16\n\n      const chunkKey = `${chunkX},${chunkZ}`\n      const sectionKey = `${chunkX},${sectionY},${chunkZ}`\n      videoData.mesh.visible = !!this.worldRenderer.sectionObjects[sectionKey] || !!this.worldRenderer.finishedChunks[chunkKey]\n    }\n  }\n\n  setVideoPlaying (id: string, playing: boolean) {\n    const videoData = this.customMedia.get(id)\n    if (videoData?.video) {\n      if (playing) {\n        videoData.video.play().catch(console.error)\n      } else {\n        videoData.video.pause()\n      }\n    }\n  }\n\n  setVideoSeeking (id: string, seconds: number) {\n    const videoData = this.customMedia.get(id)\n    if (videoData?.video) {\n      videoData.video.currentTime = seconds\n    }\n  }\n\n  setVideoVolume (id: string, volume: number) {\n    const videoData = this.customMedia.get(id)\n    if (videoData?.video) {\n      videoData.video.volume = volume\n    }\n  }\n\n  setVideoSpeed (id: string, speed: number) {\n    const videoData = this.customMedia.get(id)\n    if (videoData?.video) {\n      videoData.video.playbackRate = speed\n    }\n  }\n\n  destroyMedia (id: string) {\n    const { scene } = this.worldRenderer\n    const mediaData = this.customMedia.get(id)\n    if (mediaData) {\n      if (mediaData.video) {\n        mediaData.video.pause()\n        mediaData.video.src = ''\n        mediaData.video.remove()\n      }\n      if (mediaData.positionalAudio) {\n        // mediaData.positionalAudio.stop()\n        // mediaData.positionalAudio.disconnect()\n        scene.remove(mediaData.positionalAudio)\n      }\n      scene.remove(mediaData.mesh)\n      mediaData.texture.dispose()\n\n      // Get the inner mesh from the group\n      const mesh = mediaData.mesh.children[0] as THREE.Mesh\n      if (mesh) {\n        mesh.geometry.dispose()\n        if (mesh.material instanceof THREE.Material) {\n          mesh.material.dispose()\n        }\n      }\n\n      this.customMedia.delete(id)\n    }\n  }\n\n  /**\n   * Positions a mesh exactly at startPosition and extends it along the rotation direction\n   * with the specified width and height\n   *\n   * @param mesh The mesh to position\n   * @param rotation Rotation in radians (applied to Y axis)\n   * @param startPosition The exact starting position (corner) of the mesh\n   * @param width Width of the mesh\n   * @param height Height of the mesh\n   * @param depth Depth of the mesh (default: 1)\n   * @returns The positioned mesh for chaining\n   */\n  positionMeshExact (\n    mesh: THREE.Mesh,\n    rotation: number,\n    startPosition: { x: number, y: number, z: number },\n    width: number,\n    height: number,\n    depth = 1\n  ) {\n    // avoid z-fighting with the ground plane\n    if (rotation === 0) {\n      startPosition.z += 0.001\n    }\n    if (rotation === Math.PI / 2) {\n      startPosition.x -= 0.001\n    }\n    if (rotation === Math.PI) {\n      startPosition.z -= 0.001\n    }\n    if (rotation === 3 * Math.PI / 2) {\n      startPosition.x += 0.001\n    }\n\n    // rotation normalize coordinates\n    if (rotation === 0) {\n      startPosition.z += 1\n    }\n    if (rotation === Math.PI) {\n      startPosition.x += 1\n    }\n    if (rotation === 3 * Math.PI / 2) {\n      startPosition.z += 1\n      startPosition.x += 1\n    }\n\n\n    // First, clean up any previous transformations\n    mesh.matrix.identity()\n    mesh.position.set(0, 0, 0)\n    mesh.rotation.set(0, 0, 0)\n    mesh.scale.set(1, 1, 1)\n\n    // By default, PlaneGeometry creates a plane in the XY plane (facing +Z)\n    // We need to set up the proper orientation for our use case\n    // Rotate the plane to face the correct direction based on the rotation parameter\n    mesh.rotateY(rotation)\n    if (rotation === Math.PI / 2 || rotation === 3 * Math.PI / 2) {\n      mesh.rotateZ(-Math.PI)\n      mesh.rotateX(-Math.PI)\n    }\n\n    // Scale it to the desired size\n    mesh.scale.set(width, height, depth)\n\n    // For a PlaneGeometry, if we want the corner at the origin, we need to offset\n    // by half the dimensions after scaling\n    mesh.geometry.translate(0.5, 0.5, 0)\n    mesh.geometry.attributes.position.needsUpdate = true\n\n    // Now place the mesh at the start position\n    mesh.position.set(startPosition.x, startPosition.y, startPosition.z)\n\n    // Create a group to hold our mesh and markers\n    const debugGroup = new THREE.Group()\n    debugGroup.add(mesh)\n\n    // Add a marker at the starting position (should be exactly at pos)\n    const startMarker = new THREE.Mesh(\n      new THREE.BoxGeometry(0.1, 0.1, 0.1),\n      new THREE.MeshBasicMaterial({ color: 0xff_00_00 })\n    )\n    startMarker.position.copy(new THREE.Vector3(startPosition.x, startPosition.y, startPosition.z))\n    debugGroup.add(startMarker)\n\n    // Add a marker at the end position (width units away in the rotated direction)\n    const endX = startPosition.x + Math.cos(rotation) * width\n    const endZ = startPosition.z + Math.sin(rotation) * width\n    const endYMarker = new THREE.Mesh(\n      new THREE.BoxGeometry(0.1, 0.1, 0.1),\n      new THREE.MeshBasicMaterial({ color: 0x00_00_ff })\n    )\n    endYMarker.position.set(startPosition.x, startPosition.y + height, startPosition.z)\n    debugGroup.add(endYMarker)\n\n    // Add a marker at the width endpoint\n    const endWidthMarker = new THREE.Mesh(\n      new THREE.BoxGeometry(0.1, 0.1, 0.1),\n      new THREE.MeshBasicMaterial({ color: 0xff_ff_00 })\n    )\n    endWidthMarker.position.set(endX, startPosition.y, endZ)\n    debugGroup.add(endWidthMarker)\n\n    // Add a marker at the corner diagonal endpoint (both width and height)\n    const endCornerMarker = new THREE.Mesh(\n      new THREE.BoxGeometry(0.1, 0.1, 0.1),\n      new THREE.MeshBasicMaterial({ color: 0xff_00_ff })\n    )\n    endCornerMarker.position.set(endX, startPosition.y + height, endZ)\n    debugGroup.add(endCornerMarker)\n\n    // Also add a visual helper to show the rotation direction\n    const directionHelper = new THREE.ArrowHelper(\n      new THREE.Vector3(Math.cos(rotation), 0, Math.sin(rotation)),\n      new THREE.Vector3(startPosition.x, startPosition.y, startPosition.z),\n      1,\n      0xff_00_00\n    )\n    debugGroup.add(directionHelper)\n\n    return {\n      mesh,\n      debugGroup\n    }\n  }\n\n  createTestCanvasTexture () {\n    const canvas = document.createElement('canvas')\n    canvas.width = 100\n    canvas.height = 100\n    const ctx = canvas.getContext('2d')\n    if (!ctx) return null\n    ctx.font = '10px Arial'\n    ctx.fillStyle = 'red'\n    ctx.fillText('Hello World', 0, 10) // at\n    return new THREE.CanvasTexture(canvas)\n  }\n\n  /**\n   * Creates a test mesh that demonstrates the exact positioning\n   */\n  addTestMeshExact (rotationNum: number) {\n    const pos = window.cursorBlockRel().position\n    console.log('Creating exact positioned test mesh at:', pos)\n\n    // Create a plane mesh with a wireframe to visualize boundaries\n    const plane = new THREE.Mesh(\n      new THREE.PlaneGeometry(1, 1),\n      new THREE.MeshBasicMaterial({\n        // side: THREE.DoubleSide,\n        map: this.createTestCanvasTexture()\n      })\n    )\n\n    const width = 2\n    const height = 1\n    const rotation = THREE.MathUtils.degToRad(rotationNum * 90) // 90 degrees in radians\n\n    // Position the mesh exactly where we want it\n    const { debugGroup } = this.positionMeshExact(plane, rotation, pos, width, height)\n\n    this.worldRenderer.scene.add(debugGroup)\n    console.log('Exact test mesh added with dimensions:', width, height, 'and rotation:', rotation)\n  }\n\n  lastCheck = 0\n  THROTTLE_TIME = 100\n  tryIntersectMedia () {\n    // hack: need to optimize this by pulling only in distance of interaction instead and throttle\n    if (this.customMedia.size === 0) return\n    if (Date.now() - this.lastCheck < this.THROTTLE_TIME) return\n    this.lastCheck = Date.now()\n\n    const { camera, scene } = this.worldRenderer\n    const raycaster = new THREE.Raycaster()\n\n    // Get mouse position at center of screen\n    const mouse = new THREE.Vector2(0, 0)\n\n    // Update the raycaster\n    raycaster.setFromCamera(mouse, camera)\n\n    // Check intersection with all objects in scene\n    const intersects = raycaster.intersectObjects(scene.children, true)\n    if (intersects.length > 0) {\n      const intersection = intersects[0]\n      const intersectedObject = intersection.object\n\n      // Find if this object belongs to any media\n      for (const [id, videoData] of this.customMedia.entries()) {\n        // Check if the intersected object is part of our media mesh\n        if (intersectedObject === videoData.mesh ||\n          videoData.mesh.children.includes(intersectedObject)) {\n          const { uv } = intersection\n          if (uv) {\n            const result = {\n              id,\n              x: uv.x,\n              y: uv.y\n            }\n            this.worldRenderer.reactiveState.world.intersectMedia = result\n            this.worldRenderer['debugVideo'] = videoData\n            this.worldRenderer.cursorBlock.cursorLinesHidden = true\n            return\n          }\n        }\n      }\n    }\n\n    // No media intersection found\n    this.worldRenderer.reactiveState.world.intersectMedia = null\n    this.worldRenderer['debugVideo'] = null\n    this.worldRenderer.cursorBlock.cursorLinesHidden = false\n  }\n}\n","import * as THREE from 'three'\n\n// Centralized visual configuration (in screen pixels)\nexport const WAYPOINT_CONFIG = {\n  // Target size in screen pixels (this controls the final sprite size)\n  TARGET_SCREEN_PX: 150,\n  // Canvas size for internal rendering (keep power of 2 for textures)\n  CANVAS_SIZE: 256,\n  // Relative positions in canvas (0-1)\n  LAYOUT: {\n    DOT_Y: 0.3,\n    NAME_Y: 0.45,\n    DISTANCE_Y: 0.55,\n  },\n  // Multiplier for canvas internal resolution to keep text crisp\n  CANVAS_SCALE: 2,\n  ARROW: {\n    enabledDefault: false,\n    pixelSize: 30,\n    paddingPx: 50,\n  },\n}\n\nexport type WaypointSprite = {\n  group: THREE.Group\n  sprite: THREE.Sprite\n  // Offscreen arrow controls\n  enableOffscreenArrow: (enabled: boolean) => void\n  setArrowParent: (parent: THREE.Object3D | null) => void\n  // Convenience combined updater\n  updateForCamera: (\n    cameraPosition: THREE.Vector3,\n    camera: THREE.PerspectiveCamera,\n    viewportWidthPx: number,\n    viewportHeightPx: number\n  ) => boolean\n  // Utilities\n  setColor: (color: number) => void\n  setLabel: (label?: string) => void\n  updateDistanceText: (label: string, distanceText: string) => void\n  setVisible: (visible: boolean) => void\n  setPosition: (x: number, y: number, z: number) => void\n  dispose: () => void\n}\n\nexport function createWaypointSprite (options: {\n  position: THREE.Vector3 | { x: number, y: number, z: number },\n  color?: number,\n  label?: string,\n  depthTest?: boolean,\n  // Y offset in world units used by updateScaleWorld only (screen-pixel API ignores this)\n  labelYOffset?: number,\n}): WaypointSprite {\n  const color = options.color ?? 0xFF_00_00\n  const depthTest = options.depthTest ?? false\n  const labelYOffset = options.labelYOffset ?? 1.5\n\n  // Build combined sprite\n  const sprite = createCombinedSprite(color, options.label ?? '', '0m', depthTest)\n  sprite.renderOrder = 10\n  let currentLabel = options.label ?? ''\n\n  // Offscreen arrow (detached by default)\n  let arrowSprite: THREE.Sprite | undefined\n  let arrowParent: THREE.Object3D | null = null\n  let arrowEnabled = WAYPOINT_CONFIG.ARROW.enabledDefault\n\n  // Group for easy add/remove\n  const group = new THREE.Group()\n  group.add(sprite)\n\n  // Initial position\n  const { x, y, z } = options.position\n  group.position.set(x, y, z)\n\n  function setColor (newColor: number) {\n    const canvas = drawCombinedCanvas(newColor, currentLabel, '0m')\n    const texture = new THREE.CanvasTexture(canvas)\n    const mat = sprite.material\n    mat.map?.dispose()\n    mat.map = texture\n    mat.needsUpdate = true\n  }\n\n  function setLabel (newLabel?: string) {\n    currentLabel = newLabel ?? ''\n    const canvas = drawCombinedCanvas(color, currentLabel, '0m')\n    const texture = new THREE.CanvasTexture(canvas)\n    const mat = sprite.material\n    mat.map?.dispose()\n    mat.map = texture\n    mat.needsUpdate = true\n  }\n\n  function updateDistanceText (label: string, distanceText: string) {\n    const canvas = drawCombinedCanvas(color, label, distanceText)\n    const texture = new THREE.CanvasTexture(canvas)\n    const mat = sprite.material\n    mat.map?.dispose()\n    mat.map = texture\n    mat.needsUpdate = true\n  }\n\n  function setVisible (visible: boolean) {\n    sprite.visible = visible\n  }\n\n  function setPosition (nx: number, ny: number, nz: number) {\n    group.position.set(nx, ny, nz)\n  }\n\n  // Keep constant pixel size on screen using global config\n  function updateScaleScreenPixels (\n    cameraPosition: THREE.Vector3,\n    cameraFov: number,\n    distance: number,\n    viewportHeightPx: number\n  ) {\n    const vFovRad = cameraFov * Math.PI / 180\n    const worldUnitsPerScreenHeightAtDist = Math.tan(vFovRad / 2) * 2 * distance\n    // Use configured target screen size\n    const scale = worldUnitsPerScreenHeightAtDist * (WAYPOINT_CONFIG.TARGET_SCREEN_PX / viewportHeightPx)\n    sprite.scale.set(scale, scale, 1)\n  }\n\n  function ensureArrow () {\n    if (arrowSprite) return\n    const size = 128\n    const canvas = document.createElement('canvas')\n    canvas.width = size\n    canvas.height = size\n    const ctx = canvas.getContext('2d')!\n    ctx.clearRect(0, 0, size, size)\n    ctx.beginPath()\n    ctx.moveTo(size * 0.2, size * 0.5)\n    ctx.lineTo(size * 0.8, size * 0.5)\n    ctx.lineTo(size * 0.5, size * 0.2)\n    ctx.closePath()\n    ctx.lineWidth = 4\n    ctx.strokeStyle = 'black'\n    ctx.stroke()\n    ctx.fillStyle = 'white'\n    ctx.fill()\n    const texture = new THREE.CanvasTexture(canvas)\n    const material = new THREE.SpriteMaterial({ map: texture, transparent: true, depthTest: false, depthWrite: false })\n    arrowSprite = new THREE.Sprite(material)\n    arrowSprite.renderOrder = 12\n    arrowSprite.visible = false\n    if (arrowParent) arrowParent.add(arrowSprite)\n  }\n\n  function enableOffscreenArrow (enabled: boolean) {\n    arrowEnabled = enabled\n    if (!enabled && arrowSprite) arrowSprite.visible = false\n  }\n\n  function setArrowParent (parent: THREE.Object3D | null) {\n    if (arrowSprite?.parent) arrowSprite.parent.remove(arrowSprite)\n    arrowParent = parent\n    if (arrowSprite && parent) parent.add(arrowSprite)\n  }\n\n  function updateOffscreenArrow (\n    camera: THREE.PerspectiveCamera,\n    viewportWidthPx: number,\n    viewportHeightPx: number\n  ): boolean {\n    if (!arrowEnabled) return true\n    ensureArrow()\n    if (!arrowSprite) return true\n\n    // Build camera basis using camera.up to respect custom orientations\n    const forward = new THREE.Vector3()\n    camera.getWorldDirection(forward) // camera look direction\n    const upWorld = camera.up.clone().normalize()\n    const right = new THREE.Vector3().copy(forward).cross(upWorld).normalize()\n    const upCam = new THREE.Vector3().copy(right).cross(forward).normalize()\n\n    // Vector from camera to waypoint\n    const camPos = new THREE.Vector3().setFromMatrixPosition(camera.matrixWorld)\n    const toWp = new THREE.Vector3(group.position.x, group.position.y, group.position.z).sub(camPos)\n\n    // Components in camera basis\n    const z = toWp.dot(forward)\n    const x = toWp.dot(right)\n    const y = toWp.dot(upCam)\n\n    const aspect = viewportWidthPx / viewportHeightPx\n    const vFovRad = camera.fov * Math.PI / 180\n    const hFovRad = 2 * Math.atan(Math.tan(vFovRad / 2) * aspect)\n\n    // Determine if waypoint is inside view frustum using angular checks\n    const thetaX = Math.atan2(x, z)\n    const thetaY = Math.atan2(y, z)\n    const visible = z > 0 && Math.abs(thetaX) <= hFovRad / 2 && Math.abs(thetaY) <= vFovRad / 2\n    if (visible) {\n      arrowSprite.visible = false\n      return true\n    }\n\n    // Direction on screen in normalized frustum units\n    let rx = thetaX / (hFovRad / 2)\n    let ry = thetaY / (vFovRad / 2)\n\n    // If behind the camera, snap to dominant axis to avoid confusing directions\n    if (z <= 0) {\n      if (Math.abs(rx) > Math.abs(ry)) {\n        rx = Math.sign(rx)\n        ry = 0\n      } else {\n        rx = 0\n        ry = Math.sign(ry)\n      }\n    }\n\n    // Place on the rectangle border [-1,1]x[-1,1]\n    const s = Math.max(Math.abs(rx), Math.abs(ry)) || 1\n    let ndcX = rx / s\n    let ndcY = ry / s\n\n    // Apply padding in pixel space by clamping\n    const padding = WAYPOINT_CONFIG.ARROW.paddingPx\n    const pxX = ((ndcX + 1) * 0.5) * viewportWidthPx\n    const pxY = ((1 - ndcY) * 0.5) * viewportHeightPx\n    const clampedPxX = Math.min(Math.max(pxX, padding), viewportWidthPx - padding)\n    const clampedPxY = Math.min(Math.max(pxY, padding), viewportHeightPx - padding)\n    ndcX = (clampedPxX / viewportWidthPx) * 2 - 1\n    ndcY = -(clampedPxY / viewportHeightPx) * 2 + 1\n\n    // Compute world position at a fixed distance in front of the camera using camera basis\n    const placeDist = Math.max(2, camera.near * 4)\n    const halfPlaneHeight = Math.tan(vFovRad / 2) * placeDist\n    const halfPlaneWidth = halfPlaneHeight * aspect\n    const pos = camPos.clone()\n      .add(forward.clone().multiplyScalar(placeDist))\n      .add(right.clone().multiplyScalar(ndcX * halfPlaneWidth))\n      .add(upCam.clone().multiplyScalar(ndcY * halfPlaneHeight))\n\n    // Update arrow sprite\n    arrowSprite.visible = true\n    arrowSprite.position.copy(pos)\n\n    // Angle for rotation relative to screen right/up (derived from camera up vector)\n    const angle = Math.atan2(ry, rx)\n    arrowSprite.material.rotation = angle - Math.PI / 2\n\n    // Constant pixel size for arrow (use fixed placement distance)\n    const worldUnitsPerScreenHeightAtDist = Math.tan(vFovRad / 2) * 2 * placeDist\n    const sPx = worldUnitsPerScreenHeightAtDist * (WAYPOINT_CONFIG.ARROW.pixelSize / viewportHeightPx)\n    arrowSprite.scale.set(sPx, sPx, 1)\n    return false\n  }\n\n  function computeDistance (cameraPosition: THREE.Vector3): number {\n    return cameraPosition.distanceTo(group.position)\n  }\n\n  function updateForCamera (\n    cameraPosition: THREE.Vector3,\n    camera: THREE.PerspectiveCamera,\n    viewportWidthPx: number,\n    viewportHeightPx: number\n  ): boolean {\n    const distance = computeDistance(cameraPosition)\n    // Keep constant pixel size\n    updateScaleScreenPixels(cameraPosition, camera.fov, distance, viewportHeightPx)\n    // Update text\n    updateDistanceText(currentLabel, `${Math.round(distance)}m`)\n    // Update arrow and visibility\n    const onScreen = updateOffscreenArrow(camera, viewportWidthPx, viewportHeightPx)\n    setVisible(onScreen)\n    return onScreen\n  }\n\n  function dispose () {\n    const mat = sprite.material\n    mat.map?.dispose()\n    mat.dispose()\n    if (arrowSprite) {\n      const am = arrowSprite.material\n      am.map?.dispose()\n      am.dispose()\n    }\n  }\n\n  return {\n    group,\n    sprite,\n    enableOffscreenArrow,\n    setArrowParent,\n    updateForCamera,\n    setColor,\n    setLabel,\n    updateDistanceText,\n    setVisible,\n    setPosition,\n    dispose,\n  }\n}\n\n// Internal helpers\nfunction drawCombinedCanvas (color: number, id: string, distance: string): HTMLCanvasElement {\n  const scale = WAYPOINT_CONFIG.CANVAS_SCALE * (globalThis.devicePixelRatio || 1)\n  const size = WAYPOINT_CONFIG.CANVAS_SIZE * scale\n  const canvas = document.createElement('canvas')\n  canvas.width = size\n  canvas.height = size\n  const ctx = canvas.getContext('2d')!\n\n  // Clear canvas\n  ctx.clearRect(0, 0, size, size)\n\n  // Draw dot\n  const centerX = size / 2\n  const dotY = Math.round(size * WAYPOINT_CONFIG.LAYOUT.DOT_Y)\n  const radius = Math.round(size * 0.05) // Dot takes up ~12% of canvas height\n  const borderWidth = Math.max(2, Math.round(4 * scale))\n\n  // Outer border (black)\n  ctx.beginPath()\n  ctx.arc(centerX, dotY, radius + borderWidth, 0, Math.PI * 2)\n  ctx.fillStyle = 'black'\n  ctx.fill()\n\n  // Inner circle (colored)\n  ctx.beginPath()\n  ctx.arc(centerX, dotY, radius, 0, Math.PI * 2)\n  ctx.fillStyle = `#${color.toString(16).padStart(6, '0')}`\n  ctx.fill()\n\n  // Text properties\n  ctx.textAlign = 'center'\n  ctx.textBaseline = 'middle'\n\n  // Title\n  const nameFontPx = Math.round(size * 0.08) // ~8% of canvas height\n  const distanceFontPx = Math.round(size * 0.06) // ~6% of canvas height\n  ctx.font = `bold ${nameFontPx}px mojangles`\n  ctx.lineWidth = Math.max(2, Math.round(3 * scale))\n  const nameY = Math.round(size * WAYPOINT_CONFIG.LAYOUT.NAME_Y)\n\n  ctx.strokeStyle = 'black'\n  ctx.strokeText(id, centerX, nameY)\n  ctx.fillStyle = 'white'\n  ctx.fillText(id, centerX, nameY)\n\n  // Distance\n  ctx.font = `bold ${distanceFontPx}px mojangles`\n  ctx.lineWidth = Math.max(2, Math.round(2 * scale))\n  const distanceY = Math.round(size * WAYPOINT_CONFIG.LAYOUT.DISTANCE_Y)\n\n  ctx.strokeStyle = 'black'\n  ctx.strokeText(distance, centerX, distanceY)\n  ctx.fillStyle = '#CCCCCC'\n  ctx.fillText(distance, centerX, distanceY)\n\n  return canvas\n}\n\nfunction createCombinedSprite (color: number, id: string, distance: string, depthTest: boolean): THREE.Sprite {\n  const canvas = drawCombinedCanvas(color, id, distance)\n  const texture = new THREE.CanvasTexture(canvas)\n  texture.anisotropy = 1\n  texture.magFilter = THREE.LinearFilter\n  texture.minFilter = THREE.LinearFilter\n  const material = new THREE.SpriteMaterial({\n    map: texture,\n    transparent: true,\n    opacity: 1,\n    depthTest,\n    depthWrite: false,\n  })\n  const sprite = new THREE.Sprite(material)\n  sprite.position.set(0, 0, 0)\n  return sprite\n}\n\nexport const WaypointHelpers = {\n  // World-scale constant size helper\n  computeWorldScale (distance: number, fixedReference = 10) {\n    return Math.max(0.0001, distance / fixedReference)\n  },\n  // Screen-pixel constant size helper\n  computeScreenPixelScale (\n    camera: THREE.PerspectiveCamera,\n    distance: number,\n    pixelSize: number,\n    viewportHeightPx: number\n  ) {\n    const vFovRad = camera.fov * Math.PI / 180\n    const worldUnitsPerScreenHeightAtDist = Math.tan(vFovRad / 2) * 2 * distance\n    return worldUnitsPerScreenHeightAtDist * (pixelSize / viewportHeightPx)\n  }\n}\n","import * as THREE from 'three'\nimport { WorldRendererThree } from './worldrendererThree'\nimport { createWaypointSprite, type WaypointSprite } from './waypointSprite'\n\ninterface Waypoint {\n  id: string\n  x: number\n  y: number\n  z: number\n  minDistance: number\n  color: number\n  label?: string\n  sprite: WaypointSprite\n}\n\ninterface WaypointOptions {\n  color?: number\n  label?: string\n  minDistance?: number\n}\n\nexport class WaypointsRenderer {\n  private readonly waypoints = new Map<string, Waypoint>()\n  private readonly waypointScene = new THREE.Scene()\n\n  constructor (\n    private readonly worldRenderer: WorldRendererThree\n  ) {\n  }\n\n  private updateWaypoints () {\n    const playerPos = this.worldRenderer.cameraObject.position\n    const sizeVec = this.worldRenderer.renderer.getSize(new THREE.Vector2())\n\n    for (const waypoint of this.waypoints.values()) {\n      const waypointPos = new THREE.Vector3(waypoint.x, waypoint.y, waypoint.z)\n      const distance = playerPos.distanceTo(waypointPos)\n      const visible = !waypoint.minDistance || distance >= waypoint.minDistance\n\n      waypoint.sprite.setVisible(visible)\n\n      if (visible) {\n        // Update position\n        waypoint.sprite.setPosition(waypoint.x, waypoint.y, waypoint.z)\n        // Ensure camera-based update each frame\n        waypoint.sprite.updateForCamera(this.worldRenderer.getCameraPosition(), this.worldRenderer.camera, sizeVec.width, sizeVec.height)\n      }\n    }\n  }\n\n  render () {\n    if (this.waypoints.size === 0) return\n\n    // Update waypoint scaling\n    this.updateWaypoints()\n\n    // Render waypoints scene with the world camera\n    this.worldRenderer.renderer.render(this.waypointScene, this.worldRenderer.camera)\n  }\n\n  // Removed sprite/label texture creation. Use utils/waypointSprite.ts\n\n  addWaypoint (\n    id: string,\n    x: number,\n    y: number,\n    z: number,\n    options: WaypointOptions = {}\n  ) {\n    // Remove existing waypoint if it exists\n    this.removeWaypoint(id)\n\n    const color = options.color ?? 0xFF_00_00\n    const { label } = options\n    const minDistance = options.minDistance ?? 0\n\n    const sprite = createWaypointSprite({\n      position: new THREE.Vector3(x, y, z),\n      color,\n      label: (label || id),\n    })\n    sprite.enableOffscreenArrow(true)\n    sprite.setArrowParent(this.waypointScene)\n\n    this.waypointScene.add(sprite.group)\n\n    this.waypoints.set(id, {\n      id, x: x + 0.5, y: y + 0.5, z: z + 0.5, minDistance,\n      color, label,\n      sprite,\n    })\n  }\n\n  removeWaypoint (id: string) {\n    const waypoint = this.waypoints.get(id)\n    if (waypoint) {\n      this.waypointScene.remove(waypoint.sprite.group)\n      waypoint.sprite.dispose()\n      this.waypoints.delete(id)\n    }\n  }\n\n  clear () {\n    for (const id of this.waypoints.keys()) {\n      this.removeWaypoint(id)\n    }\n  }\n\n  testWaypoint () {\n    this.addWaypoint('Test Point', 0, 70, 0, { color: 0x00_FF_00, label: 'Test Point' })\n    this.addWaypoint('Spawn', 0, 64, 0, { color: 0xFF_FF_00, label: 'Spawn' })\n    this.addWaypoint('Far Point', 100, 70, 100, { color: 0x00_00_FF, label: 'Far Point' })\n  }\n\n  getWaypoint (id: string): Waypoint | undefined {\n    return this.waypoints.get(id)\n  }\n\n  getAllWaypoints (): Waypoint[] {\n    return [...this.waypoints.values()]\n  }\n\n  setWaypointColor (id: string, color: number) {\n    const waypoint = this.waypoints.get(id)\n    if (waypoint) {\n      waypoint.sprite.setColor(color)\n      waypoint.color = color\n    }\n  }\n\n  setWaypointLabel (id: string, label?: string) {\n    const waypoint = this.waypoints.get(id)\n    if (waypoint) {\n      waypoint.label = label\n      waypoint.sprite.setLabel(label)\n    }\n  }\n}\n","import * as THREE from 'three'\n\nexport class SkyboxRenderer {\n  private texture: THREE.Texture | null = null\n  private mesh: THREE.Mesh<THREE.SphereGeometry, THREE.MeshBasicMaterial> | null = null\n\n  constructor (private readonly scene: THREE.Scene, public initialImage: string | null) {}\n\n  async init () {\n    if (this.initialImage) {\n      await this.setSkyboxImage(this.initialImage)\n    }\n  }\n\n  async setSkyboxImage (imageUrl: string) {\n    // Dispose old textures if they exist\n    if (this.texture) {\n      this.texture.dispose()\n    }\n\n    // Load the equirectangular texture\n    const textureLoader = new THREE.TextureLoader()\n    this.texture = await new Promise((resolve) => {\n      textureLoader.load(\n        imageUrl,\n        (texture) => {\n          texture.mapping = THREE.EquirectangularReflectionMapping\n          texture.encoding = THREE.sRGBEncoding\n          // Keep pixelated look\n          texture.minFilter = THREE.NearestFilter\n          texture.magFilter = THREE.NearestFilter\n          texture.needsUpdate = true\n          resolve(texture)\n        }\n      )\n    })\n\n    // Create or update the skybox\n    if (this.mesh) {\n      // Just update the texture on the existing material\n      this.mesh.material.map = this.texture\n      this.mesh.material.needsUpdate = true\n    } else {\n      // Create a large sphere geometry for the skybox\n      const geometry = new THREE.SphereGeometry(500, 60, 40)\n      // Flip the geometry inside out\n      geometry.scale(-1, 1, 1)\n\n      // Create material using the loaded texture\n      const material = new THREE.MeshBasicMaterial({\n        map: this.texture,\n        side: THREE.FrontSide // Changed to FrontSide since we're flipping the geometry\n      })\n\n      // Create and add the skybox mesh\n      this.mesh = new THREE.Mesh(geometry, material)\n      this.scene.add(this.mesh)\n    }\n  }\n\n  update (cameraPosition: THREE.Vector3) {\n    if (this.mesh) {\n      this.mesh.position.copy(cameraPosition)\n    }\n  }\n\n  dispose () {\n    if (this.texture) {\n      this.texture.dispose()\n    }\n    if (this.mesh) {\n      this.mesh.geometry.dispose()\n      ;(this.mesh.material as THREE.Material).dispose()\n      this.scene.remove(this.mesh)\n    }\n  }\n}\n","import * as THREE from 'three'\nimport { Vec3 } from 'vec3'\nimport nbt from 'prismarine-nbt'\nimport PrismarineChatLoader from 'prismarine-chat'\nimport * as tweenJs from '@tweenjs/tween.js'\nimport { renderSign } from '../sign-renderer'\nimport { DisplayWorldOptions, GraphicsInitOptions } from '../../../src/appViewer'\nimport { chunkPos, sectionPos } from '../lib/simpleUtils'\nimport { WorldRendererCommon } from '../lib/worldrendererCommon'\nimport { addNewStat } from '../lib/ui/newStats'\nimport { MesherGeometryOutput } from '../lib/mesher/shared'\nimport { ItemSpecificContextProperties } from '../lib/basePlayerState'\nimport { setBlockPosition } from '../lib/mesher/standaloneRenderer'\nimport { getMyHand } from './hand'\nimport HoldingBlock from './holdingBlock'\nimport { getMesh } from './entity/EntityMesh'\nimport { armorModel } from './entity/armorModels'\nimport { disposeObject, loadThreeJsTextureFromBitmap } from './threeJsUtils'\nimport { CursorBlock } from './world/cursorBlock'\nimport { getItemUv } from './appShared'\nimport { Entities } from './entities'\nimport { ThreeJsSound } from './threeJsSound'\nimport { CameraShake } from './cameraShake'\nimport { ThreeJsMedia } from './threeJsMedia'\nimport { Fountain } from './threeJsParticles'\nimport { WaypointsRenderer } from './waypoints'\nimport { SkyboxRenderer } from './skyboxRenderer'\n\ntype SectionKey = string\n\nexport class WorldRendererThree extends WorldRendererCommon {\n  outputFormat = 'threeJs' as const\n  sectionObjects: Record<string, THREE.Object3D & { foutain?: boolean }> = {}\n  chunkTextures = new Map<string, { [pos: string]: THREE.Texture }>()\n  signsCache = new Map<string, any>()\n  starField: StarField\n  cameraSectionPos: Vec3 = new Vec3(0, 0, 0)\n  holdingBlock: HoldingBlock\n  holdingBlockLeft: HoldingBlock\n  scene = new THREE.Scene()\n  ambientLight = new THREE.AmbientLight(0xcc_cc_cc)\n  directionalLight = new THREE.DirectionalLight(0xff_ff_ff, 0.5)\n  entities = new Entities(this)\n  cameraGroupVr?: THREE.Object3D\n  material = new THREE.MeshLambertMaterial({ vertexColors: true, transparent: true, alphaTest: 0.1 })\n  itemsTexture: THREE.Texture\n  cursorBlock: CursorBlock\n  onRender: Array<() => void> = []\n  cameraShake: CameraShake\n  cameraContainer: THREE.Object3D\n  media: ThreeJsMedia\n  waitingChunksToDisplay = {} as { [chunkKey: string]: SectionKey[] }\n  waypoints: WaypointsRenderer\n  camera: THREE.PerspectiveCamera\n  renderTimeAvg = 0\n  sectionsOffsetsAnimations = {} as {\n    [chunkKey: string]: {\n      time: number,\n      // also specifies direction\n      speedX: number,\n      speedY: number,\n      speedZ: number,\n\n      currentOffsetX: number,\n      currentOffsetY: number,\n      currentOffsetZ: number,\n\n      limitX?: number,\n      limitY?: number,\n      limitZ?: number,\n    }\n  }\n  fountains: Fountain[] = []\n  DEBUG_RAYCAST = false\n  skyboxRenderer: SkyboxRenderer\n\n  private currentPosTween?: tweenJs.Tween<THREE.Vector3>\n  private currentRotTween?: tweenJs.Tween<{ pitch: number, yaw: number }>\n\n  get tilesRendered () {\n    return Object.values(this.sectionObjects).reduce((acc, obj) => acc + (obj as any).tilesCount, 0)\n  }\n\n  get blocksRendered () {\n    return Object.values(this.sectionObjects).reduce((acc, obj) => acc + (obj as any).blocksCount, 0)\n  }\n\n  constructor (public renderer: THREE.WebGLRenderer, public initOptions: GraphicsInitOptions, public displayOptions: DisplayWorldOptions) {\n    if (!initOptions.resourcesManager) throw new Error('resourcesManager is required')\n    super(initOptions.resourcesManager, displayOptions, initOptions)\n\n    this.renderer = renderer\n    displayOptions.rendererState.renderer = WorldRendererThree.getRendererInfo(renderer) ?? '...'\n    this.starField = new StarField(this)\n    this.cursorBlock = new CursorBlock(this)\n    this.holdingBlock = new HoldingBlock(this)\n    this.holdingBlockLeft = new HoldingBlock(this, true)\n\n    // Initialize skybox renderer\n    this.skyboxRenderer = new SkyboxRenderer(this.scene, null)\n    void this.skyboxRenderer.init()\n\n    this.addDebugOverlay()\n    this.resetScene()\n    void this.init()\n\n    this.soundSystem = new ThreeJsSound(this)\n    this.cameraShake = new CameraShake(this, this.onRender)\n    this.media = new ThreeJsMedia(this)\n    this.waypoints = new WaypointsRenderer(this)\n\n    // this.fountain = new Fountain(this.scene, this.scene, {\n    //   position: new THREE.Vector3(0, 10, 0),\n    // })\n\n    this.renderUpdateEmitter.on('chunkFinished', (chunkKey: string) => {\n      this.finishChunk(chunkKey)\n    })\n    this.worldSwitchActions()\n  }\n\n  get cameraObject () {\n    return this.cameraGroupVr ?? this.cameraContainer\n  }\n\n  worldSwitchActions () {\n    this.onWorldSwitched.push(() => {\n      // clear custom blocks\n      this.protocolCustomBlocks.clear()\n      // Reset section animations\n      this.sectionsOffsetsAnimations = {}\n      // Clear waypoints\n      this.waypoints.clear()\n    })\n  }\n\n  updateEntity (e, isPosUpdate = false) {\n    const overrides = {\n      rotation: {\n        head: {\n          x: e.headPitch ?? e.pitch,\n          y: e.headYaw,\n          z: 0\n        }\n      }\n    }\n    if (isPosUpdate) {\n      this.entities.updateEntityPosition(e, false, overrides)\n    } else {\n      this.entities.update(e, overrides)\n    }\n  }\n\n  updatePlayerEntity (e: any) {\n    this.entities.handlePlayerEntity(e)\n  }\n\n  resetScene () {\n    this.scene.matrixAutoUpdate = false // for perf\n    this.scene.background = new THREE.Color(this.initOptions.config.sceneBackground)\n    this.scene.add(this.ambientLight)\n    this.directionalLight.position.set(1, 1, 0.5).normalize()\n    this.directionalLight.castShadow = true\n    this.scene.add(this.directionalLight)\n\n    const size = this.renderer.getSize(new THREE.Vector2())\n    this.camera = new THREE.PerspectiveCamera(75, size.x / size.y, 0.1, 1000)\n    this.cameraContainer = new THREE.Object3D()\n    this.cameraContainer.add(this.camera)\n    this.scene.add(this.cameraContainer)\n  }\n\n  override watchReactivePlayerState () {\n    super.watchReactivePlayerState()\n    this.onReactivePlayerStateUpdated('inWater', (value) => {\n      this.scene.fog = value ? new THREE.Fog(0x00_00_ff, 0.1, this.playerStateReactive.waterBreathing ? 100 : 20) : null\n    })\n    this.onReactivePlayerStateUpdated('ambientLight', (value) => {\n      if (!value) return\n      this.ambientLight.intensity = value\n    })\n    this.onReactivePlayerStateUpdated('directionalLight', (value) => {\n      if (!value) return\n      this.directionalLight.intensity = value\n    })\n    this.onReactivePlayerStateUpdated('lookingAtBlock', (value) => {\n      this.cursorBlock.setHighlightCursorBlock(value ? new Vec3(value.x, value.y, value.z) : null, value?.shapes)\n    })\n    this.onReactivePlayerStateUpdated('diggingBlock', (value) => {\n      this.cursorBlock.updateBreakAnimation(value ? { x: value.x, y: value.y, z: value.z } : undefined, value?.stage ?? null, value?.mergedShape)\n    })\n    this.onReactivePlayerStateUpdated('perspective', (value) => {\n      // Update camera perspective when it changes\n      const vecPos = new Vec3(this.cameraObject.position.x, this.cameraObject.position.y, this.cameraObject.position.z)\n      this.updateCamera(vecPos, this.cameraShake.getBaseRotation().yaw, this.cameraShake.getBaseRotation().pitch)\n      // todo also update camera when block within camera was changed\n    })\n  }\n\n  override watchReactiveConfig () {\n    super.watchReactiveConfig()\n    this.onReactiveConfigUpdated('showChunkBorders', (value) => {\n      this.updateShowChunksBorder(value)\n    })\n  }\n\n  changeHandSwingingState (isAnimationPlaying: boolean, isLeft = false) {\n    const holdingBlock = isLeft ? this.holdingBlockLeft : this.holdingBlock\n    if (isAnimationPlaying) {\n      holdingBlock.startSwing()\n    } else {\n      holdingBlock.stopSwing()\n    }\n  }\n\n  async updateAssetsData (): Promise<void> {\n    const resources = this.resourcesManager.currentResources\n\n    const oldTexture = this.material.map\n    const oldItemsTexture = this.itemsTexture\n\n    const texture = loadThreeJsTextureFromBitmap(resources.blocksAtlasImage)\n    texture.needsUpdate = true\n    texture.flipY = false\n    this.material.map = texture\n\n    const itemsTexture = loadThreeJsTextureFromBitmap(resources.itemsAtlasImage)\n    itemsTexture.needsUpdate = true\n    itemsTexture.flipY = false\n    this.itemsTexture = itemsTexture\n\n    if (oldTexture) {\n      oldTexture.dispose()\n    }\n    if (oldItemsTexture) {\n      oldItemsTexture.dispose()\n    }\n\n    await super.updateAssetsData()\n    this.onAllTexturesLoaded()\n    if (Object.keys(this.loadedChunks).length > 0) {\n      console.log('rerendering chunks because of texture update')\n      this.rerenderAllChunks()\n    }\n  }\n\n  onAllTexturesLoaded () {\n    this.holdingBlock.ready = true\n    this.holdingBlock.updateItem()\n    this.holdingBlockLeft.ready = true\n    this.holdingBlockLeft.updateItem()\n  }\n\n  changeBackgroundColor (color: [number, number, number]): void {\n    this.scene.background = new THREE.Color(color[0], color[1], color[2])\n  }\n\n  timeUpdated (newTime: number): void {\n    const nightTime = 13_500\n    const morningStart = 23_000\n    const displayStars = newTime > nightTime && newTime < morningStart\n    if (displayStars) {\n      this.starField.addToScene()\n    } else {\n      this.starField.remove()\n    }\n  }\n\n  getItemRenderData (item: Record<string, any>, specificProps: ItemSpecificContextProperties) {\n    return getItemUv(item, specificProps, this.resourcesManager, this.playerStateReactive)\n  }\n\n  async demoModel () {\n    //@ts-expect-error\n    const pos = cursorBlockRel(0, 1, 0).position\n\n    const mesh = (await getMyHand())!\n    // mesh.rotation.y = THREE.MathUtils.degToRad(90)\n    setBlockPosition(mesh, pos)\n    const helper = new THREE.BoxHelper(mesh, 0xff_ff_00)\n    mesh.add(helper)\n    this.scene.add(mesh)\n  }\n\n  demoItem () {\n    //@ts-expect-error\n    const pos = cursorBlockRel(0, 1, 0).position\n    const { mesh } = this.entities.getItemMesh({\n      itemId: 541,\n    }, {})!\n    mesh.position.set(pos.x + 0.5, pos.y + 0.5, pos.z + 0.5)\n    // mesh.scale.set(0.5, 0.5, 0.5)\n    const helper = new THREE.BoxHelper(mesh, 0xff_ff_00)\n    mesh.add(helper)\n    this.scene.add(mesh)\n  }\n\n  debugOverlayAdded = false\n  addDebugOverlay () {\n    if (this.debugOverlayAdded) return\n    this.debugOverlayAdded = true\n    const pane = addNewStat('debug-overlay')\n    setInterval(() => {\n      pane.setVisibility(this.displayAdvancedStats)\n      if (this.displayAdvancedStats) {\n        const formatBigNumber = (num: number) => {\n          return new Intl.NumberFormat('en-US', {}).format(num)\n        }\n        let text = ''\n        text += `C: ${formatBigNumber(this.renderer.info.render.calls)} `\n        text += `TR: ${formatBigNumber(this.renderer.info.render.triangles)} `\n        text += `TE: ${formatBigNumber(this.renderer.info.memory.textures)} `\n        text += `F: ${formatBigNumber(this.tilesRendered)} `\n        text += `B: ${formatBigNumber(this.blocksRendered)}`\n        pane.updateText(text)\n        this.backendInfoReport = text\n      }\n    }, 200)\n  }\n\n  /**\n   * Optionally update data that are depedendent on the viewer position\n   */\n  updatePosDataChunk (key: string) {\n    const [x, y, z] = key.split(',').map(x => Math.floor(+x / 16))\n    // sum of distances: x + y + z\n    const chunkDistance = Math.abs(x - this.cameraSectionPos.x) + Math.abs(y - this.cameraSectionPos.y) + Math.abs(z - this.cameraSectionPos.z)\n    const section = this.sectionObjects[key].children.find(child => child.name === 'mesh')!\n    section.renderOrder = 500 - chunkDistance\n  }\n\n  override updateViewerPosition (pos: Vec3): void {\n    this.viewerChunkPosition = pos\n  }\n\n  cameraSectionPositionUpdate () {\n    // eslint-disable-next-line guard-for-in\n    for (const key in this.sectionObjects) {\n      const value = this.sectionObjects[key]\n      if (!value) continue\n      this.updatePosDataChunk(key)\n    }\n  }\n\n  getDir (current: number, origin: number) {\n    if (current === origin) return 0\n    return current < origin ? 1 : -1\n  }\n\n  finishChunk (chunkKey: string) {\n    for (const sectionKey of this.waitingChunksToDisplay[chunkKey] ?? []) {\n      this.sectionObjects[sectionKey].visible = true\n    }\n    delete this.waitingChunksToDisplay[chunkKey]\n  }\n\n  // debugRecomputedDeletedObjects = 0\n  handleWorkerMessage (data: { geometry: MesherGeometryOutput, key, type }): void {\n    if (data.type !== 'geometry') return\n    let object: THREE.Object3D = this.sectionObjects[data.key]\n    if (object) {\n      this.scene.remove(object)\n      disposeObject(object)\n      delete this.sectionObjects[data.key]\n    }\n\n    const chunkCoords = data.key.split(',')\n    if (!this.loadedChunks[chunkCoords[0] + ',' + chunkCoords[2]] || !data.geometry.positions.length || !this.active) return\n\n    // if (object) {\n    //   this.debugRecomputedDeletedObjects++\n    // }\n\n    const geometry = new THREE.BufferGeometry()\n    geometry.setAttribute('position', new THREE.BufferAttribute(data.geometry.positions, 3))\n    geometry.setAttribute('normal', new THREE.BufferAttribute(data.geometry.normals, 3))\n    geometry.setAttribute('color', new THREE.BufferAttribute(data.geometry.colors, 3))\n    geometry.setAttribute('uv', new THREE.BufferAttribute(data.geometry.uvs, 2))\n    geometry.index = new THREE.BufferAttribute(data.geometry.indices as Uint32Array | Uint16Array, 1)\n\n    const mesh = new THREE.Mesh(geometry, this.material)\n    mesh.position.set(data.geometry.sx, data.geometry.sy, data.geometry.sz)\n    mesh.name = 'mesh'\n    object = new THREE.Group()\n    object.add(mesh)\n    // mesh with static dimensions: 16x16x16\n    const staticChunkMesh = new THREE.Mesh(new THREE.BoxGeometry(16, 16, 16), new THREE.MeshBasicMaterial({ color: 0x00_00_00, transparent: true, opacity: 0 }))\n    staticChunkMesh.position.set(data.geometry.sx, data.geometry.sy, data.geometry.sz)\n    const boxHelper = new THREE.BoxHelper(staticChunkMesh, 0xff_ff_00)\n    boxHelper.name = 'helper'\n    object.add(boxHelper)\n    object.name = 'chunk';\n    (object as any).tilesCount = data.geometry.positions.length / 3 / 4;\n    (object as any).blocksCount = data.geometry.blocksCount\n    if (!this.displayOptions.inWorldRenderingConfig.showChunkBorders) {\n      boxHelper.visible = false\n    }\n    // should not compute it once\n    if (Object.keys(data.geometry.signs).length) {\n      for (const [posKey, { isWall, isHanging, rotation }] of Object.entries(data.geometry.signs)) {\n        const signBlockEntity = this.blockEntities[posKey]\n        if (!signBlockEntity) continue\n        const [x, y, z] = posKey.split(',')\n        const sign = this.renderSign(new Vec3(+x, +y, +z), rotation, isWall, isHanging, nbt.simplify(signBlockEntity))\n        if (!sign) continue\n        object.add(sign)\n      }\n    }\n    if (Object.keys(data.geometry.heads).length) {\n      for (const [posKey, { isWall, rotation }] of Object.entries(data.geometry.heads)) {\n        const headBlockEntity = this.blockEntities[posKey]\n        if (!headBlockEntity) continue\n        const [x, y, z] = posKey.split(',')\n        const head = this.renderHead(new Vec3(+x, +y, +z), rotation, isWall, nbt.simplify(headBlockEntity))\n        if (!head) continue\n        object.add(head)\n      }\n    }\n    this.sectionObjects[data.key] = object\n    if (this.displayOptions.inWorldRenderingConfig._renderByChunks) {\n      object.visible = false\n      const chunkKey = `${chunkCoords[0]},${chunkCoords[2]}`\n      this.waitingChunksToDisplay[chunkKey] ??= []\n      this.waitingChunksToDisplay[chunkKey].push(data.key)\n      if (this.finishedChunks[chunkKey]) {\n        // todo it might happen even when it was not an update\n        this.finishChunk(chunkKey)\n      }\n    }\n\n    this.updatePosDataChunk(data.key)\n    object.matrixAutoUpdate = false\n    mesh.onAfterRender = (renderer, scene, camera, geometry, material, group) => {\n      // mesh.matrixAutoUpdate = false\n    }\n\n    this.scene.add(object)\n  }\n\n  getSignTexture (position: Vec3, blockEntity, isHanging, backSide = false) {\n    const chunk = chunkPos(position)\n    let textures = this.chunkTextures.get(`${chunk[0]},${chunk[1]}`)\n    if (!textures) {\n      textures = {}\n      this.chunkTextures.set(`${chunk[0]},${chunk[1]}`, textures)\n    }\n    const texturekey = `${position.x},${position.y},${position.z}`\n    // todo investigate bug and remove this so don't need to clean in section dirty\n    if (textures[texturekey]) return textures[texturekey]\n\n    const PrismarineChat = PrismarineChatLoader(this.version)\n    const canvas = renderSign(blockEntity, isHanging, PrismarineChat)\n    if (!canvas) return\n    const tex = new THREE.Texture(canvas)\n    tex.magFilter = THREE.NearestFilter\n    tex.minFilter = THREE.NearestFilter\n    tex.needsUpdate = true\n    textures[texturekey] = tex\n    return tex\n  }\n\n  getCameraPosition () {\n    const worldPos = new THREE.Vector3()\n    this.camera.getWorldPosition(worldPos)\n    return worldPos\n  }\n\n  getSectionCameraPosition () {\n    const pos = this.getCameraPosition()\n    return new Vec3(\n      Math.floor(pos.x / 16),\n      Math.floor(pos.y / 16),\n      Math.floor(pos.z / 16)\n    )\n  }\n\n  updateCameraSectionPos () {\n    const newSectionPos = this.getSectionCameraPosition()\n    if (!this.cameraSectionPos.equals(newSectionPos)) {\n      this.cameraSectionPos = newSectionPos\n      this.cameraSectionPositionUpdate()\n    }\n  }\n\n  setFirstPersonCamera (pos: Vec3 | null, yaw: number, pitch: number) {\n    const yOffset = this.playerStateReactive.eyeHeight\n\n    this.updateCamera(pos?.offset(0, yOffset, 0) ?? null, yaw, pitch)\n    this.media.tryIntersectMedia()\n    this.updateCameraSectionPos()\n  }\n\n  getThirdPersonCamera (pos: THREE.Vector3 | null, yaw: number, pitch: number) {\n    pos ??= this.cameraObject.position\n\n    // Calculate camera offset based on perspective\n    const isBack = this.playerStateReactive.perspective === 'third_person_back'\n    const distance = 4 // Default third person distance\n\n    // Calculate direction vector using proper world orientation\n    // We need to get the camera's current look direction and use that for positioning\n\n    // Create a direction vector that represents where the camera is looking\n    // This matches the Three.js camera coordinate system\n    const direction = new THREE.Vector3(0, 0, -1) // Forward direction in camera space\n\n    // Apply the same rotation that's applied to the camera container\n    const pitchQuat = new THREE.Quaternion().setFromAxisAngle(new THREE.Vector3(1, 0, 0), pitch)\n    const yawQuat = new THREE.Quaternion().setFromAxisAngle(new THREE.Vector3(0, 1, 0), yaw)\n    const finalQuat = new THREE.Quaternion().multiplyQuaternions(yawQuat, pitchQuat)\n\n    // Transform the direction vector by the camera's rotation\n    direction.applyQuaternion(finalQuat)\n\n    // For back view, we want the camera behind the player (opposite to view direction)\n    // For front view, we want the camera in front of the player (same as view direction)\n    if (isBack) {\n      direction.multiplyScalar(-1)\n    }\n\n    // Create debug visualization if advanced stats are enabled\n    if (this.DEBUG_RAYCAST) {\n      this.debugRaycast(pos, direction, distance)\n    }\n\n    // Perform raycast to avoid camera going through blocks\n    const raycaster = new THREE.Raycaster()\n    raycaster.set(pos, direction)\n    raycaster.far = distance // Limit raycast distance\n\n    // Filter to only nearby chunks for performance\n    const nearbyChunks = Object.values(this.sectionObjects)\n      .filter(obj => obj.name === 'chunk' && obj.visible)\n      .filter(obj => {\n        // Get the mesh child which has the actual geometry\n        const mesh = obj.children.find(child => child.name === 'mesh')\n        if (!mesh) return false\n\n        // Check distance from player position to chunk\n        const chunkWorldPos = new THREE.Vector3()\n        mesh.getWorldPosition(chunkWorldPos)\n        const distance = pos.distanceTo(chunkWorldPos)\n        return distance < 80 // Only check chunks within 80 blocks\n      })\n\n    // Get all mesh children for raycasting\n    const meshes: THREE.Object3D[] = []\n    for (const chunk of nearbyChunks) {\n      const mesh = chunk.children.find(child => child.name === 'mesh')\n      if (mesh) meshes.push(mesh)\n    }\n\n    const intersects = raycaster.intersectObjects(meshes, false)\n\n    let finalDistance = distance\n    if (intersects.length > 0) {\n      // Use intersection distance minus a small offset to prevent clipping\n      finalDistance = Math.max(0.5, intersects[0].distance - 0.2)\n    }\n\n    const finalPos = new Vec3(\n      pos.x + direction.x * finalDistance,\n      pos.y + direction.y * finalDistance,\n      pos.z + direction.z * finalDistance\n    )\n\n    return finalPos\n  }\n\n  private debugRaycastHelper?: THREE.ArrowHelper\n  private debugHitPoint?: THREE.Mesh\n\n  private debugRaycast (pos: THREE.Vector3, direction: THREE.Vector3, distance: number) {\n    // Remove existing debug objects\n    if (this.debugRaycastHelper) {\n      this.scene.remove(this.debugRaycastHelper)\n      this.debugRaycastHelper = undefined\n    }\n    if (this.debugHitPoint) {\n      this.scene.remove(this.debugHitPoint)\n      this.debugHitPoint = undefined\n    }\n\n    // Create raycast arrow\n    this.debugRaycastHelper = new THREE.ArrowHelper(\n      direction.clone().normalize(),\n      pos,\n      distance,\n      0xff_00_00, // Red color\n      distance * 0.1,\n      distance * 0.05\n    )\n    this.scene.add(this.debugRaycastHelper)\n\n    // Create hit point indicator\n    const hitGeometry = new THREE.SphereGeometry(0.2, 8, 8)\n    const hitMaterial = new THREE.MeshBasicMaterial({ color: 0x00_ff_00 })\n    this.debugHitPoint = new THREE.Mesh(hitGeometry, hitMaterial)\n    this.debugHitPoint.position.copy(pos).add(direction.clone().multiplyScalar(distance))\n    this.scene.add(this.debugHitPoint)\n  }\n\n  prevFramePerspective = null as string | null\n\n  updateCamera (pos: Vec3 | null, yaw: number, pitch: number): void {\n    // if (this.freeFlyMode) {\n    //   pos = this.freeFlyState.position\n    //   pitch = this.freeFlyState.pitch\n    //   yaw = this.freeFlyState.yaw\n    // }\n\n    if (pos) {\n      if (this.renderer.xr.isPresenting) {\n        pos.y -= this.camera.position.y // Fix Y position of camera in world\n      }\n\n      this.currentPosTween?.stop()\n      this.currentPosTween = new tweenJs.Tween(this.cameraObject.position).to({ x: pos.x, y: pos.y, z: pos.z }, this.playerStateUtils.isSpectatingEntity() ? 150 : 50).start()\n      // this.freeFlyState.position = pos\n    }\n\n    if (this.playerStateUtils.isSpectatingEntity()) {\n      const rotation = this.cameraShake.getBaseRotation()\n      // wrap in the correct direction\n      let yawOffset = 0\n      const halfPi = Math.PI / 2\n      if (rotation.yaw < halfPi && yaw > Math.PI + halfPi) {\n        yawOffset = -Math.PI * 2\n      } else if (yaw < halfPi && rotation.yaw > Math.PI + halfPi) {\n        yawOffset = Math.PI * 2\n      }\n      this.currentRotTween?.stop()\n      this.currentRotTween = new tweenJs.Tween(rotation).to({ pitch, yaw: yaw + yawOffset }, 100)\n        .onUpdate(params => this.cameraShake.setBaseRotation(params.pitch, params.yaw - yawOffset)).start()\n    } else {\n      this.currentRotTween?.stop()\n      this.cameraShake.setBaseRotation(pitch, yaw)\n\n      const { perspective } = this.playerStateReactive\n      if (perspective === 'third_person_back' || perspective === 'third_person_front') {\n        // Use getThirdPersonCamera for proper raycasting with max distance of 4\n        const currentCameraPos = this.cameraObject.position\n        const thirdPersonPos = this.getThirdPersonCamera(\n          new THREE.Vector3(currentCameraPos.x, currentCameraPos.y, currentCameraPos.z),\n          yaw,\n          pitch\n        )\n\n        const distance = currentCameraPos.distanceTo(new THREE.Vector3(thirdPersonPos.x, thirdPersonPos.y, thirdPersonPos.z))\n        // Apply Z offset based on perspective and calculated distance\n        const zOffset = perspective === 'third_person_back' ? distance : -distance\n        this.camera.position.set(0, 0, zOffset)\n\n        if (perspective === 'third_person_front') {\n          // Flip camera view 180 degrees around Y axis for front view\n          this.camera.rotation.set(0, Math.PI, 0)\n        } else {\n          this.camera.rotation.set(0, 0, 0)\n        }\n      } else {\n        this.camera.position.set(0, 0, 0)\n        this.camera.rotation.set(0, 0, 0)\n\n        // remove any debug raycasting\n        if (this.debugRaycastHelper) {\n          this.scene.remove(this.debugRaycastHelper)\n          this.debugRaycastHelper = undefined\n        }\n        if (this.debugHitPoint) {\n          this.scene.remove(this.debugHitPoint)\n          this.debugHitPoint = undefined\n        }\n      }\n    }\n\n    this.updateCameraSectionPos()\n  }\n\n  debugChunksVisibilityOverride () {\n    const { chunksRenderAboveOverride, chunksRenderBelowOverride, chunksRenderDistanceOverride, chunksRenderAboveEnabled, chunksRenderBelowEnabled, chunksRenderDistanceEnabled } = this.reactiveDebugParams\n\n    const baseY = this.cameraSectionPos.y * 16\n\n    if (\n      this.displayOptions.inWorldRenderingConfig.enableDebugOverlay &&\n      chunksRenderAboveOverride !== undefined ||\n      chunksRenderBelowOverride !== undefined ||\n      chunksRenderDistanceOverride !== undefined\n    ) {\n      for (const [key, object] of Object.entries(this.sectionObjects)) {\n        const [x, y, z] = key.split(',').map(Number)\n        const isVisible =\n          // eslint-disable-next-line no-constant-binary-expression, sonarjs/no-redundant-boolean\n          (chunksRenderAboveEnabled && chunksRenderAboveOverride !== undefined) ? y <= (baseY + chunksRenderAboveOverride) : true &&\n          // eslint-disable-next-line @stylistic/indent-binary-ops, no-constant-binary-expression, sonarjs/no-redundant-boolean\n          (chunksRenderBelowEnabled && chunksRenderBelowOverride !== undefined) ? y >= (baseY - chunksRenderBelowOverride) : true &&\n          // eslint-disable-next-line @stylistic/indent-binary-ops\n          (chunksRenderDistanceEnabled && chunksRenderDistanceOverride !== undefined) ? Math.abs(y - baseY) <= chunksRenderDistanceOverride : true\n\n        object.visible = isVisible\n      }\n    } else {\n      for (const object of Object.values(this.sectionObjects)) {\n        object.visible = true\n      }\n    }\n  }\n\n  render (sizeChanged = false) {\n    if (this.reactiveDebugParams.stopRendering) return\n    this.debugChunksVisibilityOverride()\n    const start = performance.now()\n    this.lastRendered = performance.now()\n    this.cursorBlock.render()\n    this.updateSectionOffsets()\n\n    // Update skybox position to follow camera\n    const cameraPos = this.getCameraPosition()\n    this.skyboxRenderer.update(cameraPos)\n\n    const sizeOrFovChanged = sizeChanged || this.displayOptions.inWorldRenderingConfig.fov !== this.camera.fov\n    if (sizeOrFovChanged) {\n      const size = this.renderer.getSize(new THREE.Vector2())\n      this.camera.aspect = size.width / size.height\n      this.camera.fov = this.displayOptions.inWorldRenderingConfig.fov\n      this.camera.updateProjectionMatrix()\n    }\n\n    if (!this.reactiveDebugParams.disableEntities) {\n      this.entities.render()\n    }\n\n    // eslint-disable-next-line @typescript-eslint/non-nullable-type-assertion-style\n    const cam = this.cameraGroupVr instanceof THREE.Group ? this.cameraGroupVr.children.find(child => child instanceof THREE.PerspectiveCamera) as THREE.PerspectiveCamera : this.camera\n    this.renderer.render(this.scene, cam)\n\n    if (\n      this.displayOptions.inWorldRenderingConfig.showHand &&\n      this.playerStateReactive.gameMode !== 'spectator' &&\n      this.playerStateReactive.perspective === 'first_person' &&\n      // !this.freeFlyMode &&\n      !this.renderer.xr.isPresenting\n    ) {\n      this.holdingBlock.render(this.camera, this.renderer, this.ambientLight, this.directionalLight)\n      this.holdingBlockLeft.render(this.camera, this.renderer, this.ambientLight, this.directionalLight)\n    }\n\n    for (const fountain of this.fountains) {\n      if (this.sectionObjects[fountain.sectionId] && !this.sectionObjects[fountain.sectionId].foutain) {\n        fountain.createParticles(this.sectionObjects[fountain.sectionId])\n        this.sectionObjects[fountain.sectionId].foutain = true\n      }\n      fountain.render()\n    }\n\n    this.waypoints.render()\n\n    for (const onRender of this.onRender) {\n      onRender()\n    }\n    const end = performance.now()\n    const totalTime = end - start\n    this.renderTimeAvgCount++\n    this.renderTimeAvg = ((this.renderTimeAvg * (this.renderTimeAvgCount - 1)) + totalTime) / this.renderTimeAvgCount\n    this.renderTimeMax = Math.max(this.renderTimeMax, totalTime)\n    this.currentRenderedFrames++\n  }\n\n  renderHead (position: Vec3, rotation: number, isWall: boolean, blockEntity) {\n    const textures = blockEntity.SkullOwner?.Properties?.textures[0]\n    if (!textures) return\n\n    try {\n      const textureData = JSON.parse(Buffer.from(textures.Value, 'base64').toString())\n      let skinUrl = textureData.textures?.SKIN?.url\n      const { skinTexturesProxy } = this.worldRendererConfig\n      if (skinTexturesProxy) {\n        skinUrl = skinUrl?.replace('http://textures.minecraft.net/', skinTexturesProxy)\n          .replace('https://textures.minecraft.net/', skinTexturesProxy)\n      }\n\n      const mesh = getMesh(this, skinUrl, armorModel.head)\n      const group = new THREE.Group()\n      if (isWall) {\n        mesh.position.set(0, 0.3125, 0.3125)\n      }\n      // move head model down as armor have a different offset than blocks\n      mesh.position.y -= 23 / 16\n      group.add(mesh)\n      group.position.set(position.x + 0.5, position.y + 0.045, position.z + 0.5)\n      group.rotation.set(\n        0,\n        -THREE.MathUtils.degToRad(rotation * (isWall ? 90 : 45 / 2)),\n        0\n      )\n      group.scale.set(0.8, 0.8, 0.8)\n      return group\n    } catch (err) {\n      console.error('Error decoding player texture:', err)\n    }\n  }\n\n  renderSign (position: Vec3, rotation: number, isWall: boolean, isHanging: boolean, blockEntity) {\n    const tex = this.getSignTexture(position, blockEntity, isHanging)\n\n    if (!tex) return\n\n    // todo implement\n    // const key = JSON.stringify({ position, rotation, isWall })\n    // if (this.signsCache.has(key)) {\n    //   console.log('cached', key)\n    // } else {\n    //   this.signsCache.set(key, tex)\n    // }\n\n    const mesh = new THREE.Mesh(new THREE.PlaneGeometry(1, 1), new THREE.MeshBasicMaterial({ map: tex, transparent: true }))\n    mesh.renderOrder = 999\n\n    const lineHeight = 7 / 16\n    const scaleFactor = isHanging ? 1.3 : 1\n    mesh.scale.set(1 * scaleFactor, lineHeight * scaleFactor, 1 * scaleFactor)\n\n    const thickness = (isHanging ? 2 : 1.5) / 16\n    const wallSpacing = 0.25 / 16\n    if (isWall && !isHanging) {\n      mesh.position.set(0, 0, -0.5 + thickness + wallSpacing + 0.0001)\n    } else {\n      mesh.position.set(0, 0, thickness / 2 + 0.0001)\n    }\n\n    const group = new THREE.Group()\n    group.rotation.set(\n      0,\n      -THREE.MathUtils.degToRad(rotation * (isWall ? 90 : 45 / 2)),\n      0\n    )\n    group.add(mesh)\n    const height = (isHanging ? 10 : 8) / 16\n    const heightOffset = (isHanging ? 0 : isWall ? 4.333 : 9.333) / 16\n    const textPosition = height / 2 + heightOffset\n    group.position.set(position.x + 0.5, position.y + textPosition, position.z + 0.5)\n    return group\n  }\n\n  lightUpdate (chunkX: number, chunkZ: number) {\n    // set all sections in the chunk dirty\n    for (let y = this.worldSizeParams.minY; y < this.worldSizeParams.worldHeight; y += 16) {\n      this.setSectionDirty(new Vec3(chunkX, y, chunkZ))\n    }\n  }\n\n  rerenderAllChunks () { // todo not clear what to do with loading chunks\n    for (const key of Object.keys(this.sectionObjects)) {\n      const [x, y, z] = key.split(',').map(Number)\n      this.setSectionDirty(new Vec3(x, y, z))\n    }\n  }\n\n  updateShowChunksBorder (value: boolean) {\n    for (const object of Object.values(this.sectionObjects)) {\n      for (const child of object.children) {\n        if (child.name === 'helper') {\n          child.visible = value\n        }\n      }\n    }\n  }\n\n  resetWorld () {\n    super.resetWorld()\n\n    for (const mesh of Object.values(this.sectionObjects)) {\n      this.scene.remove(mesh)\n    }\n\n    // Clean up debug objects\n    if (this.debugRaycastHelper) {\n      this.scene.remove(this.debugRaycastHelper)\n      this.debugRaycastHelper = undefined\n    }\n    if (this.debugHitPoint) {\n      this.scene.remove(this.debugHitPoint)\n      this.debugHitPoint = undefined\n    }\n  }\n\n  getLoadedChunksRelative (pos: Vec3, includeY = false) {\n    const [currentX, currentY, currentZ] = sectionPos(pos)\n    return Object.fromEntries(Object.entries(this.sectionObjects).map(([key, o]) => {\n      const [xRaw, yRaw, zRaw] = key.split(',').map(Number)\n      const [x, y, z] = sectionPos({ x: xRaw, y: yRaw, z: zRaw })\n      const setKey = includeY ? `${x - currentX},${y - currentY},${z - currentZ}` : `${x - currentX},${z - currentZ}`\n      return [setKey, o]\n    }))\n  }\n\n  cleanChunkTextures (x, z) {\n    const textures = this.chunkTextures.get(`${Math.floor(x / 16)},${Math.floor(z / 16)}`) ?? {}\n    for (const key of Object.keys(textures)) {\n      textures[key].dispose()\n      delete textures[key]\n    }\n  }\n\n  readdChunks () {\n    for (const key of Object.keys(this.sectionObjects)) {\n      this.scene.remove(this.sectionObjects[key])\n    }\n    setTimeout(() => {\n      for (const key of Object.keys(this.sectionObjects)) {\n        this.scene.add(this.sectionObjects[key])\n      }\n    }, 500)\n  }\n\n  disableUpdates (children = this.scene.children) {\n    for (const child of children) {\n      child.matrixWorldNeedsUpdate = false\n      this.disableUpdates(child.children ?? [])\n    }\n  }\n\n  removeColumn (x, z) {\n    super.removeColumn(x, z)\n\n    this.cleanChunkTextures(x, z)\n    for (let y = this.worldSizeParams.minY; y < this.worldSizeParams.worldHeight; y += 16) {\n      this.setSectionDirty(new Vec3(x, y, z), false)\n      const key = `${x},${y},${z}`\n      const mesh = this.sectionObjects[key]\n      if (mesh) {\n        this.scene.remove(mesh)\n        disposeObject(mesh)\n      }\n      delete this.sectionObjects[key]\n    }\n  }\n\n  setSectionDirty (...args: Parameters<WorldRendererCommon['setSectionDirty']>) {\n    const [pos] = args\n    this.cleanChunkTextures(pos.x, pos.z) // todo don't do this!\n    super.setSectionDirty(...args)\n  }\n\n  static getRendererInfo (renderer: THREE.WebGLRenderer) {\n    try {\n      const gl = renderer.getContext()\n      return `${gl.getParameter(gl.getExtension('WEBGL_debug_renderer_info')!.UNMASKED_RENDERER_WEBGL)}`\n    } catch (err) {\n      console.warn('Failed to get renderer info', err)\n    }\n  }\n\n  worldStop () {\n    this.media.onWorldStop()\n  }\n\n  destroy (): void {\n    super.destroy()\n    this.skyboxRenderer.dispose()\n  }\n\n  shouldObjectVisible (object: THREE.Object3D) {\n    // Get chunk coordinates\n    const chunkX = Math.floor(object.position.x / 16) * 16\n    const chunkZ = Math.floor(object.position.z / 16) * 16\n    const sectionY = Math.floor(object.position.y / 16) * 16\n\n    const chunkKey = `${chunkX},${chunkZ}`\n    const sectionKey = `${chunkX},${sectionY},${chunkZ}`\n\n    return !!this.finishedChunks[chunkKey] || !!this.sectionObjects[sectionKey]\n  }\n\n  updateSectionOffsets () {\n    const currentTime = performance.now()\n    for (const [key, anim] of Object.entries(this.sectionsOffsetsAnimations)) {\n      const timeDelta = (currentTime - anim.time) / 1000 // Convert to seconds\n      anim.time = currentTime\n\n      // Update offsets based on speed and time delta\n      anim.currentOffsetX += anim.speedX * timeDelta\n      anim.currentOffsetY += anim.speedY * timeDelta\n      anim.currentOffsetZ += anim.speedZ * timeDelta\n\n      // Apply limits if they exist\n      if (anim.limitX !== undefined) {\n        if (anim.speedX > 0) {\n          anim.currentOffsetX = Math.min(anim.currentOffsetX, anim.limitX)\n        } else {\n          anim.currentOffsetX = Math.max(anim.currentOffsetX, anim.limitX)\n        }\n      }\n      if (anim.limitY !== undefined) {\n        if (anim.speedY > 0) {\n          anim.currentOffsetY = Math.min(anim.currentOffsetY, anim.limitY)\n        } else {\n          anim.currentOffsetY = Math.max(anim.currentOffsetY, anim.limitY)\n        }\n      }\n      if (anim.limitZ !== undefined) {\n        if (anim.speedZ > 0) {\n          anim.currentOffsetZ = Math.min(anim.currentOffsetZ, anim.limitZ)\n        } else {\n          anim.currentOffsetZ = Math.max(anim.currentOffsetZ, anim.limitZ)\n        }\n      }\n\n      // Apply the offset to the section object\n      const section = this.sectionObjects[key]\n      if (section) {\n        section.position.set(\n          anim.currentOffsetX,\n          anim.currentOffsetY,\n          anim.currentOffsetZ\n        )\n        section.updateMatrix()\n      }\n    }\n  }\n\n  reloadWorld () {\n    this.entities.reloadEntities()\n  }\n}\n\nclass StarField {\n  points?: THREE.Points\n  private _enabled = true\n  get enabled () {\n    return this._enabled\n  }\n\n  set enabled (value) {\n    this._enabled = value\n    if (this.points) {\n      this.points.visible = value\n    }\n  }\n\n  constructor (\n    private readonly worldRenderer: WorldRendererThree\n  ) {\n    const clock = new THREE.Clock()\n    const speed = 0.2\n    this.worldRenderer.onRender.push(() => {\n      if (!this.points) return\n      this.points.position.copy(this.worldRenderer.getCameraPosition());\n      (this.points.material as StarfieldMaterial).uniforms.time.value = clock.getElapsedTime() * speed\n    })\n  }\n\n  addToScene () {\n    if (this.points || !this.enabled) return\n\n    const radius = 80\n    const depth = 50\n    const count = 7000\n    const factor = 7\n    const saturation = 10\n\n    const geometry = new THREE.BufferGeometry()\n\n    const genStar = r => new THREE.Vector3().setFromSpherical(new THREE.Spherical(r, Math.acos(1 - Math.random() * 2), Math.random() * 2 * Math.PI))\n\n    const positions = [] as number[]\n    const colors = [] as number[]\n    const sizes = Array.from({ length: count }, () => (0.5 + 0.5 * Math.random()) * factor)\n    const color = new THREE.Color()\n    let r = radius + depth\n    const increment = depth / count\n    for (let i = 0; i < count; i++) {\n      r -= increment * Math.random()\n      positions.push(...genStar(r).toArray())\n      color.setHSL(i / count, saturation, 0.9)\n      colors.push(color.r, color.g, color.b)\n    }\n\n    geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3))\n    geometry.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3))\n    geometry.setAttribute('size', new THREE.Float32BufferAttribute(sizes, 1))\n\n    // Create a material\n    const material = new StarfieldMaterial()\n    material.blending = THREE.AdditiveBlending\n    material.depthTest = false\n    material.transparent = true\n\n    // Create points and add them to the scene\n    this.points = new THREE.Points(geometry, material)\n    this.worldRenderer.scene.add(this.points)\n\n    this.points.renderOrder = -1\n  }\n\n  remove () {\n    if (this.points) {\n      this.points.geometry.dispose();\n      (this.points.material as THREE.Material).dispose()\n      this.worldRenderer.scene.remove(this.points)\n\n      this.points = undefined\n    }\n  }\n}\n\nconst version = parseInt(THREE.REVISION.replaceAll(/\\D+/g, ''), 10)\nclass StarfieldMaterial extends THREE.ShaderMaterial {\n  constructor () {\n    super({\n      uniforms: { time: { value: 0 }, fade: { value: 1 } },\n      vertexShader: /* glsl */ `\n                uniform float time;\n                attribute float size;\n                varying vec3 vColor;\n                attribute vec3 color;\n                void main() {\n                vColor = color;\n                vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\n                gl_PointSize = 0.7 * size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));\n                gl_Position = projectionMatrix * mvPosition;\n            }`,\n      fragmentShader: /* glsl */ `\n                uniform sampler2D pointTexture;\n                uniform float fade;\n                varying vec3 vColor;\n                void main() {\n                float opacity = 1.0;\n                gl_FragColor = vec4(vColor, 1.0);\n\n                #include <tonemapping_fragment>\n                #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n            }`,\n    })\n  }\n}\n","// global variables useful for debugging\n\nimport fs from 'fs'\nimport { WorldRendererThree } from 'renderer/viewer/three/worldrendererThree'\nimport { enable, disable, enabled } from 'debug'\nimport { Vec3 } from 'vec3'\n\nwindow.Vec3 = Vec3\nwindow.cursorBlockRel = (x = 0, y = 0, z = 0) => {\n  const newPos = bot.blockAtCursor(5)?.position.offset(x, y, z)\n  if (!newPos) return\n  return bot.world.getBlock(newPos)\n}\n\nwindow.entityCursor = () => {\n  return bot.mouse.getCursorState().entity\n}\n\n// wanderer\nwindow.inspectPlayer = () => require('fs').promises.readFile('/world/playerdata/9e487d23-2ffc-365a-b1f8-f38203f59233.dat').then(window.nbt.parse).then(console.log)\n\nObject.defineProperty(window, 'debugSceneChunks', {\n  get () {\n    if (!(window.world instanceof WorldRendererThree)) return undefined\n    return (window.world)?.getLoadedChunksRelative?.(bot.entity.position, true)\n  },\n})\n\nwindow.chunkKey = (xRel = 0, zRel = 0) => {\n  const pos = bot.entity.position\n  return `${(Math.floor(pos.x / 16) + xRel) * 16},${(Math.floor(pos.z / 16) + zRel) * 16}`\n}\n\nwindow.sectionKey = (xRel = 0, yRel = 0, zRel = 0) => {\n  const pos = bot.entity.position\n  return `${(Math.floor(pos.x / 16) + xRel) * 16},${(Math.floor(pos.y / 16) + yRel) * 16},${(Math.floor(pos.z / 16) + zRel) * 16}`\n}\n\nwindow.keys = (obj) => Object.keys(obj)\nwindow.values = (obj) => Object.values(obj)\n\nwindow.len = (obj) => Object.keys(obj).length\n\ncustomEvents.on('gameLoaded', () => {\n  bot._client.on('packet', (data, { name }) => {\n    if (sessionStorage.ignorePackets?.includes(name)) {\n      console.log('ignoring packet', name)\n      const oldEmit = bot._client.emit\n      let i = 0\n      // ignore next 3 emits\n      //@ts-expect-error\n      bot._client.emit = (...args) => {\n        if (i++ === 3) {\n          oldEmit.apply(bot._client, args)\n          bot._client.emit = oldEmit\n        }\n      }\n    }\n  })\n})\n\nwindow.inspectPacket = (packetName, isFromClient = false, fullOrListener: boolean | ((...args) => void) = false) => {\n  if (typeof isFromClient === 'function') {\n    fullOrListener = isFromClient\n    isFromClient = false\n  }\n  const listener = typeof fullOrListener === 'function'\n    ? (name, ...args) => fullOrListener(...args, name)\n    : (name, ...args) => {\n      const displayName = name === packetName ? name : `${name} (${packetName})`\n      console.log('packet', displayName, fullOrListener ? args : args[0])\n    }\n\n  // Pre-compile regex if using wildcards\n  const pattern = typeof packetName === 'string' && packetName.includes('*')\n    ? new RegExp('^' + packetName.replaceAll('*', '.*') + '$')\n    : null\n\n  const packetNameListener = (name, data) => {\n    if (pattern) {\n      if (pattern.test(name)) {\n        listener(name, data)\n      }\n    } else if (name === packetName) {\n      listener(name, data)\n    }\n  }\n  const packetListener = (data, { name }) => {\n    packetNameListener(name, data)\n  }\n\n  const attach = () => {\n    if (isFromClient) {\n      bot?._client.prependListener('writePacket', packetNameListener)\n    } else {\n      bot?._client.prependListener('packet_name', packetNameListener)\n      bot?._client.prependListener('packet', packetListener)\n    }\n  }\n  const detach = () => {\n    if (isFromClient) {\n      bot?._client.removeListener('writePacket', packetNameListener)\n    } else {\n      bot?._client.removeListener('packet_name', packetNameListener)\n      bot?._client.removeListener('packet', packetListener)\n    }\n  }\n  attach()\n  customEvents.on('mineflayerBotCreated', attach)\n\n  const returnobj = {}\n  Object.defineProperty(returnobj, 'detach', {\n    get () {\n      detach()\n      customEvents.removeListener('mineflayerBotCreated', attach)\n      return true\n    },\n  })\n  return returnobj\n}\n\nwindow.downloadFile = async (path: string) => {\n  if (!path.startsWith('/') && localServer) path = `${localServer.options.worldFolder}/${path}`\n  const data = await fs.promises.readFile(path)\n  const blob = new Blob([data], { type: 'application/octet-stream' })\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = path.split('/').at(-1)!\n  a.click()\n  URL.revokeObjectURL(url)\n}\n\nObject.defineProperty(window, 'debugToggle', {\n  get () {\n    localStorage.debug = localStorage.debug === '*' ? '' : '*'\n    if (enabled('*')) {\n      disable()\n      return 'disabled debug'\n    } else {\n      enable('*')\n      return 'enabled debug'\n    }\n  },\n  set (v) {\n    enable(v)\n    localStorage.debug = v\n    console.log('Enabled debug for', v)\n  }\n})\n\ncustomEvents.on('gameLoaded', () => {\n  window.holdingBlock = (window.world as WorldRendererThree | undefined)?.holdingBlock\n})\n\nwindow.clearStorage = (...keysToKeep: string[]) => {\n  for (let i = 0; i < localStorage.length; i++) {\n    const key = localStorage.key(i)\n    if (key && !keysToKeep.includes(key)) {\n      localStorage.removeItem(key)\n    }\n  }\n  return `Cleared ${localStorage.length - keysToKeep.length} items from localStorage. Kept: ${keysToKeep.join(', ')}`\n}\n\n\n// PERF DEBUG\n\n// for advanced debugging, use with watch expression\n\nwindow.statsPerSecAvg = {}\nlet currentStatsPerSec = {} as Record<string, number[]>\nconst waitingStatsPerSec = {}\nwindow.markStart = (label) => {\n  waitingStatsPerSec[label] ??= []\n  waitingStatsPerSec[label][0] = performance.now()\n}\nwindow.markEnd = (label) => {\n  if (!waitingStatsPerSec[label]?.[0]) return\n  currentStatsPerSec[label] ??= []\n  currentStatsPerSec[label].push(performance.now() - waitingStatsPerSec[label][0])\n  delete waitingStatsPerSec[label]\n}\nconst updateStatsPerSecAvg = () => {\n  window.statsPerSecAvg = Object.fromEntries(Object.entries(currentStatsPerSec).map(([key, value]) => {\n    return [key, {\n      avg: value.reduce((a, b) => a + b, 0) / value.length,\n      count: value.length\n    }]\n  }))\n  currentStatsPerSec = {}\n}\n\n\nwindow.statsPerSec = {}\nlet statsPerSecCurrent = {}\nlet lastReset = performance.now()\nwindow.addStatPerSec = (name) => {\n  statsPerSecCurrent[name] ??= 0\n  statsPerSecCurrent[name]++\n}\nwindow.statsPerSecCurrent = statsPerSecCurrent\nsetInterval(() => {\n  window.statsPerSec = { duration: Math.floor(performance.now() - lastReset), ...statsPerSecCurrent, }\n  statsPerSecCurrent = {}\n  window.statsPerSecCurrent = statsPerSecCurrent\n  updateStatsPerSecAvg()\n  lastReset = performance.now()\n}, 1000)\n\n// ---\n\n// Add type declaration for performance.memory\ndeclare global {\n  interface Performance {\n    memory?: {\n      usedJSHeapSize: number\n      totalJSHeapSize: number\n      jsHeapSizeLimit: number\n    }\n  }\n}\n\n// Performance metrics WebSocket client\nlet ws: WebSocket | null = null\nlet wsReconnectTimeout: NodeJS.Timeout | null = null\nlet metricsInterval: NodeJS.Timeout | null = null\n\n// Start collecting metrics immediately\nconst startTime = performance.now()\n\nfunction collectAndSendMetrics () {\n  if (!ws || ws.readyState !== WebSocket.OPEN) return\n\n  const metrics = {\n    loadTime: performance.now() - startTime,\n    memoryUsage: (performance.memory?.usedJSHeapSize ?? 0) / 1024 / 1024,\n    timestamp: Date.now()\n  }\n\n  ws.send(JSON.stringify(metrics))\n}\n\nfunction getWebSocketUrl () {\n  const wsPort = process.env.WS_PORT\n  if (!wsPort) return null\n\n  const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:'\n  const { hostname } = window.location\n  return `${protocol}//${hostname}:${wsPort}`\n}\n\nfunction connectWebSocket () {\n  if (ws) return\n\n  const wsUrl = getWebSocketUrl()\n  if (!wsUrl) {\n    return\n  }\n\n  ws = new WebSocket(wsUrl)\n\n  ws.onopen = () => {\n    console.log('Connected to metrics server')\n    if (wsReconnectTimeout) {\n      clearTimeout(wsReconnectTimeout)\n      wsReconnectTimeout = null\n    }\n\n    // Start sending metrics immediately after connection\n    collectAndSendMetrics()\n\n    // Clear existing interval if any\n    if (metricsInterval) {\n      clearInterval(metricsInterval)\n    }\n\n    // Set new interval\n    metricsInterval = setInterval(collectAndSendMetrics, 500)\n  }\n\n  ws.onclose = () => {\n    console.log('Disconnected from metrics server')\n    ws = null\n\n    // Clear metrics interval\n    if (metricsInterval) {\n      clearInterval(metricsInterval)\n      metricsInterval = null\n    }\n\n    // Try to reconnect after 3 seconds\n    wsReconnectTimeout = setTimeout(connectWebSocket, 3000)\n  }\n\n  ws.onerror = (error) => {\n    console.error('WebSocket error:', error)\n  }\n}\n\n// Connect immediately\nconnectWebSocket()\n\n// Add command to request current metrics\nwindow.requestMetrics = () => {\n  const metrics = {\n    loadTime: performance.now() - startTime,\n    memoryUsage: (performance.memory?.usedJSHeapSize ?? 0) / 1024 / 1024,\n    timestamp: Date.now()\n  }\n  console.log('Current metrics:', metrics)\n  return metrics\n}\n","export const EntityStatus = {\n  JUMP: 1,\n  HURT: 2, // legacy\n  DEATH: 3,\n  START_ATTACKING: 4,\n  STOP_ATTACKING: 5,\n  TAMING_FAILED: 6,\n  TAMING_SUCCEEDED: 7,\n  SHAKE_WETNESS: 8,\n  USE_ITEM_COMPLETE: 9,\n  EAT_GRASS: 10,\n  OFFER_FLOWER: 11,\n  LOVE_HEARTS: 12,\n  VILLAGER_ANGRY: 13,\n  VILLAGER_HAPPY: 14,\n  WITCH_HAT_MAGIC: 15,\n  ZOMBIE_CONVERTING: 16,\n  FIREWORKS_EXPLODE: 17,\n  IN_LOVE_HEARTS: 18,\n  SQUID_ANIM_SYNCH: 19,\n  SILVERFISH_MERGE_ANIM: 20,\n  GUARDIAN_ATTACK_SOUND: 21,\n  REDUCED_DEBUG_INFO: 22,\n  FULL_DEBUG_INFO: 23,\n  PERMISSION_LEVEL_ALL: 24,\n  PERMISSION_LEVEL_MODERATORS: 25,\n  PERMISSION_LEVEL_GAMEMASTERS: 26,\n  PERMISSION_LEVEL_ADMINS: 27,\n  PERMISSION_LEVEL_OWNERS: 28,\n  ATTACK_BLOCKED: 29,\n  SHIELD_DISABLED: 30,\n  FISHING_ROD_REEL_IN: 31,\n  ARMORSTAND_WOBBLE: 32,\n  THORNED: 33, // legacy\n  STOP_OFFER_FLOWER: 34,\n  TALISMAN_ACTIVATE: 35, // legacy\n  DROWNED: 36, // legacy\n  BURNED: 37, // legacy\n  DOLPHIN_LOOKING_FOR_TREASURE: 38,\n  RAVAGER_STUNNED: 39,\n  TRUSTING_FAILED: 40,\n  TRUSTING_SUCCEEDED: 41,\n  VILLAGER_SWEAT: 42,\n  BAD_OMEN_TRIGGERED: 43, // legacy\n  POKED: 44, // legacy\n  FOX_EAT: 45,\n  TELEPORT: 46,\n  MAINHAND_BREAK: 47,\n  OFFHAND_BREAK: 48,\n  HEAD_BREAK: 49,\n  CHEST_BREAK: 50,\n  LEGS_BREAK: 51,\n  FEET_BREAK: 52,\n  HONEY_SLIDE: 53,\n  HONEY_JUMP: 54,\n  SWAP_HANDS: 55,\n  CANCEL_SHAKE_WETNESS: 56,\n  FROZEN: 57, // legacy\n  START_RAM: 58,\n  END_RAM: 59,\n  POOF: 60,\n  TENDRILS_SHIVER: 61,\n  SONIC_CHARGE: 62,\n  SNIFFER_DIGGING_SOUND: 63,\n  ARMADILLO_PEEK: 64,\n  BODY_BREAK: 65,\n  SHAKE: 66\n} as const\n\nexport type EntityStatusName = keyof typeof EntityStatus\n","import { saveServer } from './flyingSquidUtils'\nimport { isGameActive, activeModalStack } from './globalState'\nimport { options } from './optionsStorage'\nimport { isInRealGameSession } from './utils'\n\nwindow.addEventListener('unload', (e) => {\n  if (!window.justReloaded) {\n    sessionStorage.justReloaded = false\n  }\n  void saveServer()\n})\n\ndocument.addEventListener('visibilitychange', () => {\n  if (document.visibilityState === 'hidden') void saveServer()\n})\ndocument.addEventListener('blur', () => {\n  void saveServer()\n})\n\nwindow.addEventListener('beforeunload', (event) => {\n  if (!window.justReloaded) {\n    sessionStorage.justReloaded = false\n  }\n\n  // todo-low maybe exclude chat?\n  if (!isGameActive(true) && activeModalStack.at(-1)?.elem?.id !== 'chat') return\n  if (sessionStorage.lastReload && !options.preventDevReloadWhilePlaying) return\n  if (!options.closeConfirmation) return\n  if (!isInRealGameSession()) return\n\n  // For major browsers doning only this is enough\n  event.preventDefault()\n\n  // Display a confirmation prompt\n  event.returnValue = '' // Required for some browsers\n  return 'The game is running. Are you sure you want to close this page?'\n})\n\nwindow.addEventListener('contextmenu', (e) => {\n  const ALLOW_TAGS = ['INPUT', 'TEXTAREA', 'A']\n  // allow if target is in ALLOW_TAGS or has selection text\n  if (ALLOW_TAGS.includes((e.target as HTMLElement)?.tagName) || window.getSelection()?.toString()) {\n    return\n  }\n  e.preventDefault()\n})\n","import { mapDownloader } from 'mineflayer-item-map-downloader'\nimport { setImageConverter } from 'mineflayer-item-map-downloader/lib/util'\nimport { getThreeJsRendererMethods } from 'renderer/viewer/three/threeJsMethods'\n\nsetImageConverter((buf: Uint8Array) => {\n  const canvas = document.createElement('canvas')\n  const ctx = canvas.getContext('2d')!\n  canvas.width = 128\n  canvas.height = 128\n  const imageData = ctx.createImageData(canvas.width, canvas.height)\n  imageData.data.set(buf)\n  ctx.putImageData(imageData, 0, 0)\n  // data url\n  return canvas.toDataURL('image/png')\n})\n\ncustomEvents.on('mineflayerBotCreated', () => {\n  bot.on('login', () => {\n    bot.loadPlugin(mapDownloader)\n    bot.mapDownloader.on('new_map', ({ png, id }) => {\n      getThreeJsRendererMethods()?.updateMap(id, png)\n    })\n  })\n})\n","import { getThreeJsRendererMethods } from 'renderer/viewer/three/threeJsMethods'\n\ncustomEvents.on('mineflayerBotCreated', () => {\n  customEvents.on('hurtAnimation', (yaw) => {\n    getThreeJsRendererMethods()?.shakeFromDamage()\n  })\n\n  bot._client.on('hurt_animation', ({ entityId, yaw }) => {\n    if (entityId === bot.entity.id) {\n      customEvents.emit('hurtAnimation', yaw)\n    }\n  })\n  bot.on('entityHurt', ({ id }) => {\n    if (id === bot.entity.id) {\n      customEvents.emit('hurtAnimation')\n    }\n  })\n  let { health } = bot\n  bot.on('health', () => {\n    if (bot.health < health) {\n      customEvents.emit('hurtAnimation')\n    }\n    health = bot.health\n  })\n})\n","import { EventEmitter } from 'events'\n\nEventEmitter.defaultMaxListeners = 200\n\nconst oldEmit = EventEmitter.prototype.emit\nEventEmitter.prototype.emit = function (...args) {\n  if (args[0] === 'error' && !this._events.error) {\n    console.log('Unhandled error event', args.slice(1))\n    args[1] = { message: String(args[1]) }\n  }\n  return oldEmit.apply(this, args)\n}\n","import { versionToNumber } from 'flying-squid/dist/utils'\n\nconst customStickNbt = (tags: Record<string, any>) => {\n  let cmd = '/give @p stick'\n  const wrapIntoQuotes = versionToNumber(bot.version) < versionToNumber('1.21.5')\n  cmd += `[${Object.entries(tags).map(([key, value]) => {\n    if (typeof value === 'object') {\n      value = JSON.stringify(value)\n    }\n    return `${key}=${wrapIntoQuotes ? `'${value}'` : value}`\n  }).join(',')}]`\n  return cmd\n}\n\nconst writeCmd = (cmd: string) => {\n  if (!cmd.startsWith('/')) cmd = `/${cmd}`\n  console.log('Executing', cmd)\n  bot.chat(cmd)\n}\n\nlet msg = 0\nconst LIMIT_MSG = 100\nexport const javaServerTester = {\n  itemCustomLore () {\n    const cmd = customStickNbt({\n      lore: [{ text: 'This Stick is very sticky.' }]\n    })\n    writeCmd(cmd)\n  },\n\n  itemCustomModel () {\n    const cmd = customStickNbt({\n      item_model: 'minecraft:diamond'\n    })\n    writeCmd(cmd)\n  },\n  itemCustomModel2 () {\n    const cmd = customStickNbt({\n      item_model: 'diamond'\n    })\n    writeCmd(cmd)\n  },\n\n  itemCustomName () {\n    const cmd = customStickNbt({\n      custom_name: [{ text: 'diamond' }]\n    })\n    writeCmd(cmd)\n  },\n  itemCustomName2 () {\n    const cmd = customStickNbt({\n      custom_name: [{ translate: 'item.diamond.name' }]\n    })\n    writeCmd(cmd)\n  },\n\n  spamChat () {\n    for (let i = msg; i < msg + LIMIT_MSG; i++) {\n      bot.chat('Hello, world, ' + i)\n    }\n    msg += LIMIT_MSG\n  },\n  spamChatComplexMessage () {\n    for (let i = msg; i < msg + LIMIT_MSG; i++) {\n      bot.chat('/tell @a ' + i)\n    }\n  }\n}\n","import { javaServerTester } from './commands'\n\nwindow.javaServerTester = javaServerTester\ncustomEvents.on('mineflayerBotCreated', () => {\n  //\n})\n","// Slider.tsx\nimport React, { useState, useEffect, useRef, useCallback } from 'react'\nimport styles from './slider.module.css'\nimport SharedHudVars from './SharedHudVars'\n\ninterface Props extends React.ComponentProps<'div'> {\n  label: string;\n  value: number;\n  unit?: string;\n  width?: number;\n  valueDisplay?: string | number;\n  min?: number;\n  max?: number;\n  disabledReason?: string;\n  throttle?: number | false; // milliseconds, default 100, false to disable\n\n  updateValue?: (value: number) => void;\n  updateOnDragEnd?: boolean;\n}\n\nconst Slider: React.FC<Props> = ({\n  label,\n  unit = '%',\n  width,\n  value: valueProp,\n  valueDisplay,\n  min = 0,\n  max = 100,\n  disabledReason,\n  throttle = 0,\n\n  updateOnDragEnd = false,\n  updateValue,\n  ...divProps\n}) => {\n  label = translate(label)\n  disabledReason = translate(disabledReason)\n  valueDisplay = typeof valueDisplay === 'string' ? translate(valueDisplay) : valueDisplay\n\n  const [value, setValue] = useState(valueProp)\n  const getRatio = (v = value) => Math.max(Math.min((v - min) / (max - min), 1), 0)\n  const [ratio, setRatio] = useState(getRatio())\n\n  // Throttling refs\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null)\n  const lastValueRef = useRef<number>(valueProp)\n\n  useEffect(() => {\n    setValue(valueProp)\n  }, [valueProp])\n  useEffect(() => {\n    setRatio(getRatio())\n  }, [value, min, max])\n\n  const throttledUpdateValue = useCallback((newValue: number, dragEnd: boolean) => {\n    if (updateOnDragEnd !== dragEnd) return\n    if (!updateValue) return\n\n    lastValueRef.current = newValue\n\n    if (!throttle) {\n      // No throttling\n      updateValue(newValue)\n      return\n    }\n\n    // Clear existing timeout\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current)\n    }\n\n    // Set new timeout\n    timeoutRef.current = setTimeout(() => {\n      updateValue(lastValueRef.current)\n      timeoutRef.current = null\n    }, throttle)\n  }, [updateValue, updateOnDragEnd, throttle])\n\n  // Cleanup timeout on unmount\n  useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current)\n        // Fire the last value immediately on cleanup\n        if (updateValue && lastValueRef.current !== undefined) {\n          updateValue(lastValueRef.current)\n        }\n      }\n    }\n  }, [updateValue])\n\n  const fireValueUpdate = (dragEnd: boolean, v = value) => {\n    throttledUpdateValue(v, dragEnd)\n  }\n\n  const labelText = `${label}: ${valueDisplay ?? value} ${unit}`\n\n  return (\n    <SharedHudVars>\n      <div className={`${styles['slider-container']} settings-text-container ${labelText.length > 17 ? 'settings-text-container-long' : ''}`} style={{ width }} {...divProps}>\n        <input\n          type=\"range\"\n          className={styles.slider}\n          min={min}\n          max={max}\n          value={value}\n          disabled={!!disabledReason}\n          onChange={(e) => {\n            const newValue = Number(e.target.value)\n            setValue(newValue)\n            fireValueUpdate(false, newValue)\n          }}\n          // todo improve correct handling of drag end\n          onLostPointerCapture={() => {\n            fireValueUpdate(true)\n          }}\n          onPointerUp={() => {\n            fireValueUpdate(true)\n          }}\n          onKeyUp={() => {\n            fireValueUpdate(true)\n          }}\n        />\n        <div className={styles.disabled} title={disabledReason} />\n        <div className={styles['slider-thumb']} style={{ left: `calc((100% * ${ratio}) - (8px * ${ratio}))` }} />\n        <label className={styles.label}>\n          {labelText}\n        </label>\n      </div>\n    </SharedHudVars>\n  )\n}\n\nexport default Slider\n","// extracted by css-extract-rspack-plugin\nexport default {\"slider-container\":\"slider-container-k26jGw\",\"sliderContainer\":\"slider-container-k26jGw\",\"slider-thumb\":\"slider-thumb-kWeJYr\",\"sliderThumb\":\"slider-thumb-kWeJYr\",\"slider\":\"slider-pQg1Tc\",\"disabled\":\"disabled-vWN9n8\",\"label\":\"label-My4K1P\"};","import { useSnapshot } from 'valtio'\nimport { noCase } from 'change-case'\nimport { titleCase } from 'title-case'\nimport { useMemo } from 'react'\nimport { disabledSettings, options, qsOptions } from '../optionsStorage'\nimport { hideAllModals, miscUiState } from '../globalState'\nimport { reloadChunksAction } from '../controls'\nimport Button from './Button'\nimport Slider from './Slider'\nimport Screen from './Screen'\nimport { showOptionsModal } from './SelectOption'\nimport PixelartIcon, { pixelartIcons } from './PixelartIcon'\nimport { reconnectReload } from './AppStatusProvider'\n\ntype GeneralItem<T extends string | number | boolean> = {\n  id?: string\n  text?: string,\n  disabledReason?: string,\n  disabledDuringGame?: boolean\n  tooltip?: string\n  // description?: string\n  enableWarning?: string\n  requiresRestart?: boolean\n  requiresChunksReload?: boolean\n  values?: Array<T | [T, string]>\n  disableIf?: [option: keyof typeof options, value: any]\n}\n\nexport type OptionMeta<T = any> = GeneralItem<T & string> & ({\n  type: 'toggle',\n} | {\n  type: 'slider'\n  min?: number,\n  max?: number,\n  valueText?: (value: number) => string,\n  unit?: string,\n  delayApply?: boolean,\n} | {\n  type: 'element'\n  render: () => React.ReactNode,\n})\n\n// todo not reactive\nconst isLocked = (item: GeneralItem<any>) => {\n  return disabledSettings.value.has(item.id!)\n}\n\nconst useCommonComponentsProps = (item: OptionMeta) => {\n  let disabledBecauseOfSetting = false\n\n  if (item.disableIf) {\n    // okay to use hook conditionally as disableIf must be a constant\n    const disableIfSetting = useSnapshot(options)[item.disableIf[0]]\n    disabledBecauseOfSetting = disableIfSetting === item.disableIf[1]\n  }\n\n  return {\n    disabledBecauseOfSetting\n  }\n}\n\nconst ignoreReloadWarningsCache = new Set<string>()\n\nexport const OptionButton = ({ item, onClick, valueText, cacheKey }: {\n  item: Extract<OptionMeta, { type: 'toggle' }>,\n  onClick?: () => void,\n  valueText?: string,\n  cacheKey?: string,\n}) => {\n  const { disabledBecauseOfSetting } = useCommonComponentsProps(item)\n\n  const optionValue = useSnapshot(options)[item.id!]\n\n  const valuesTitlesMap = useMemo(() => {\n    if (!item.values) {\n      return {\n        // true: <span style={{ color: 'lime' }}>ON</span>,\n        // false: <span style={{ color: 'red' }}>OFF</span>,\n        true: 'ON',\n        false: 'OFF',\n      }\n    }\n    return Object.fromEntries(item.values.map((value) => {\n      if (typeof value === 'string') {\n        return [value, titleCase(noCase(value))]\n      } else {\n        return [value[0], value[1]]\n      }\n    }))\n  }, [item.values])\n\n  let { disabledReason } = item\n  if (disabledBecauseOfSetting) disabledReason = `Disabled because ${item.disableIf![0]} is ${item.disableIf![1]}`\n\n  return <Button\n    data-setting={item.id}\n    label={`${translate(item.text)}: ${translate(valueText ?? valuesTitlesMap[optionValue])}`}\n    onClick={async (event) => {\n      if (disabledReason) {\n        await showOptionsModal(`${translate('The option is not available')}: ${disabledReason}`, [])\n        return\n      }\n      if (item.enableWarning && !options[item.id!]) {\n        const result = await showOptionsModal(item.enableWarning, ['Enable'])\n        if (!result) return\n      }\n      onClick?.()\n      if (item.id) {\n        const { values } = item\n        if (values) {\n          const getOptionValue = (arrItem) => {\n            if (typeof arrItem === 'string') {\n              return arrItem\n            } else {\n              return arrItem[0]\n            }\n          }\n          const currentIndex = values.findIndex((value) => {\n            return getOptionValue(value) === optionValue\n          })\n          if (currentIndex === -1) {\n            options[item.id] = getOptionValue(values[0])\n          } else {\n            const nextIndex = event.shiftKey\n              ? (currentIndex - 1 + values.length) % values.length\n              : (currentIndex + 1) % values.length\n            options[item.id] = getOptionValue(values[nextIndex])\n          }\n        } else {\n          options[item.id] = !options[item.id]\n        }\n      }\n\n      const toCacheKey = cacheKey ?? item.id ?? ''\n      if (toCacheKey && !ignoreReloadWarningsCache.has(toCacheKey)) {\n        ignoreReloadWarningsCache.add(toCacheKey)\n\n        if (item.requiresRestart) {\n          const result = await showOptionsModal(translate('The option requires a restart to take effect'), ['Restart', 'I will do it later'], {\n            cancel: false,\n          })\n          if (result) {\n            reconnectReload()\n          }\n        }\n        if (item.requiresChunksReload) {\n          const result = await showOptionsModal(translate('The option requires a chunks reload to take effect'), ['Reload', 'I will do it later'], {\n            cancel: false,\n          })\n          if (result) {\n            reloadChunksAction()\n          }\n        }\n      }\n    }}\n    title={disabledReason ? `${disabledReason} | ${item.tooltip}` : item.tooltip}\n    disabled={disabledBecauseOfSetting || !!item.disabledReason || isLocked(item)}\n    style={{\n      width: 150,\n    }}\n  />\n}\n\nexport const OptionSlider = ({ item }: { item: Extract<OptionMeta, { type: 'slider' }> }) => {\n  const { disabledBecauseOfSetting } = useCommonComponentsProps(item)\n\n  const optionValue = useSnapshot(options)[item.id!]\n\n  const valueDisplay = useMemo(() => {\n    if (item.valueText) return item.valueText(optionValue)\n    return undefined // default display\n  }, [optionValue])\n\n  return (\n    <Slider\n      label={item.text!}\n      value={options[item.id!]}\n      data-setting={item.id}\n      disabledReason={isLocked(item) ? 'qs' : disabledBecauseOfSetting ? `Disabled because ${item.disableIf![0]} is ${item.disableIf![1]}` : item.disabledReason}\n      min={item.min}\n      max={item.max}\n      unit={item.unit}\n      valueDisplay={valueDisplay}\n      updateOnDragEnd={item.delayApply}\n      updateValue={(value) => {\n        options[item.id!] = value\n      }}\n    />\n  )\n}\n\nconst OptionElement = ({ item }: { item: Extract<OptionMeta, { type: 'element' }> }) => {\n  return item.render()\n}\n\nconst RenderOption = ({ item }: { item: OptionMeta }) => {\n  const { gameLoaded } = useSnapshot(miscUiState)\n  if (item.id) {\n    item.text ??= titleCase(noCase(item.id))\n  }\n  if (item.disabledDuringGame && gameLoaded) {\n    item.disabledReason = 'Cannot be changed during game'\n  }\n\n  let baseElement = null as React.ReactNode | null\n  if (item.type === 'toggle') baseElement = <OptionButton item={item} />\n  if (item.type === 'slider') baseElement = <OptionSlider item={item} />\n  if (item.type === 'element') baseElement = <OptionElement item={item} />\n  return baseElement\n  // if (!item.description && item.type === 'element') return baseElement\n\n  // return <div>\n  //   {baseElement}\n  //   {item.description && <div style={{ fontSize: 9, color: 'gray' }}>{item.description}</div>}\n  // </div>\n}\n\ninterface Props {\n  readonly items: OptionMeta[]\n  title: string\n  backButtonAction?: () => void\n}\n\nexport default ({ items, title, backButtonAction }: Props) => {\n\n  return <Screen\n    title={title}\n  >\n    <div className='screen-items'>\n      <div style={{ position: 'fixed', marginLeft: '-30px', display: 'flex', flexDirection: 'column', gap: 1, }}>\n        <Button icon={pixelartIcons['close']} onClick={hideAllModals} style={{ color: '#ff5d5d', }} />\n        <Button icon={pixelartIcons['chevron-left']} onClick={backButtonAction} style={{ color: 'yellow', }} />\n      </div>\n\n      {items.map((element, i) => {\n        // make sure its unique!\n        return <RenderOption key={element.id ?? `${title}-${i}`} item={element} />\n      })}\n    </div>\n    {backButtonAction && <Button onClick={() => backButtonAction()}>Back</Button>}\n  </Screen>\n}\n","/* eslint-disable no-await-in-loop */\nimport { openDB } from 'idb'\nimport * as React from 'react'\nimport * as valtio from 'valtio'\nimport * as valtioUtils from 'valtio/utils'\nimport { gt } from 'semver'\nimport { proxy } from 'valtio'\nimport { options } from './optionsStorage'\nimport { appStorage } from './react/appStorageProvider'\nimport { showInputsModal, showOptionsModal } from './react/SelectOption'\nimport { ProgressReporter } from './core/progressReporter'\nimport { showNotification } from './react/NotificationProvider'\n\nlet sillyProtection = false\nconst protectRuntime = () => {\n  if (sillyProtection) return\n  sillyProtection = true\n  const sensetiveKeys = new Set(['authenticatedAccounts', 'serversList', 'username'])\n  const proxy = new Proxy(window.localStorage, {\n    get (target, prop) {\n      if (typeof prop === 'string') {\n        if (sensetiveKeys.has(prop)) {\n          console.warn(`Access to sensitive key \"${prop}\" was blocked`)\n          return null\n        }\n        if (prop === 'getItem') {\n          return (key: string) => {\n            if (sensetiveKeys.has(key)) {\n              console.warn(`Access to sensitive key \"${key}\" via getItem was blocked`)\n              return null\n            }\n            return target.getItem(key)\n          }\n        }\n        if (prop === 'setItem') {\n          return (key: string, value: string) => {\n            if (sensetiveKeys.has(key)) {\n              console.warn(`Attempt to set sensitive key \"${key}\" via setItem was blocked`)\n              return\n            }\n            target.setItem(key, value)\n          }\n        }\n        if (prop === 'removeItem') {\n          return (key: string) => {\n            if (sensetiveKeys.has(key)) {\n              console.warn(`Attempt to delete sensitive key \"${key}\" via removeItem was blocked`)\n              return\n            }\n            target.removeItem(key)\n          }\n        }\n        if (prop === 'clear') {\n          console.warn('Attempt to clear localStorage was blocked')\n          return () => {}\n        }\n      }\n      return Reflect.get(target, prop)\n    },\n    set (target, prop, value) {\n      if (typeof prop === 'string' && sensetiveKeys.has(prop)) {\n        console.warn(`Attempt to set sensitive key \"${prop}\" was blocked`)\n        return false\n      }\n      return Reflect.set(target, prop, value)\n    },\n    deleteProperty (target, prop) {\n      if (typeof prop === 'string' && sensetiveKeys.has(prop)) {\n        console.warn(`Attempt to delete sensitive key \"${prop}\" was blocked`)\n        return false\n      }\n      return Reflect.deleteProperty(target, prop)\n    }\n  })\n  Object.defineProperty(window, 'localStorage', {\n    value: proxy,\n    writable: false,\n    configurable: false,\n  })\n}\n\n// #region Database\nconst dbPromise = openDB('mods-db', 1, {\n  upgrade (db) {\n    db.createObjectStore('mods', {\n      keyPath: 'name',\n    })\n    db.createObjectStore('repositories', {\n      keyPath: 'url',\n    })\n  },\n})\n\nexport interface ModSetting {\n  label?: string\n  type: 'toggle' | 'choice' | 'input' | 'slider'\n  hidden?: boolean\n  values?: string[]\n  inputType?: string\n  hint?: string\n  default?: any\n}\n\nexport interface ModSettingsDict {\n  [settingId: string]: ModSetting\n}\n\nexport interface ModAction {\n  method?: string\n  label?: string\n  /** @default false */\n  gameGlobal?: boolean\n  /** @default false */\n  onlyForeground?: boolean\n}\n\n// mcraft-repo.json\nexport interface McraftRepoFile {\n  packages: ClientModDefinition[]\n  /** @default true */\n  prefix?: string | boolean\n  name?: string // display name\n  description?: string\n  mirrorUrls?: string[]\n  autoUpdateOverride?: boolean\n  lastUpdated?: number\n}\nexport interface Repository extends McraftRepoFile {\n  url: string\n}\n\nexport interface ClientMod {\n  name: string; // unique identifier like owner.name\n  version: string\n  enabled?: boolean\n\n  scriptMainUnstable?: string;\n  serverPlugin?: string\n  // serverPlugins?: string[]\n  // mesherThread?: string\n  stylesGlobal?: string\n  threeJsBackend?: string // three.js\n  // stylesLocal?: string\n\n  requiresNetwork?: boolean\n  fullyOffline?: boolean\n  description?: string\n  author?: string\n  section?: string\n  autoUpdateOverride?: boolean\n  lastUpdated?: number\n  wasModifiedLocally?: boolean\n  // todo depends, hashsum\n\n  settings?: ModSettingsDict\n  actionsMain?: Record<string, ModAction>\n}\n\nconst cleanupFetchedModData = (mod: ClientModDefinition | Record<string, any>) => {\n  delete mod['enabled']\n  delete mod['repo']\n  delete mod['autoUpdateOverride']\n  delete mod['lastUpdated']\n  delete mod['wasModifiedLocally']\n  return mod\n}\n\nexport type ClientModDefinition = Omit<ClientMod, 'enabled' | 'wasModifiedLocally'> & {\n  scriptMainUnstable?: boolean\n  stylesGlobal?: boolean\n  serverPlugin?: boolean\n  threeJsBackend?: boolean\n}\n\nexport async function saveClientModData (data: ClientMod) {\n  const db = await dbPromise\n  data.lastUpdated = Date.now()\n  await db.put('mods', data)\n  modsReactiveUpdater.counter++\n}\n\nasync function getPlugin (name: string) {\n  const db = await dbPromise\n  return db.get('mods', name) as Promise<ClientMod | undefined>\n}\n\nexport async function getAllMods () {\n  const db = await dbPromise\n  return db.getAll('mods') as Promise<ClientMod[]>\n}\n\nasync function deletePlugin (name) {\n  const db = await dbPromise\n  await db.delete('mods', name)\n  modsReactiveUpdater.counter++\n}\n\nasync function removeAllMods () {\n  const db = await dbPromise\n  await db.clear('mods')\n  modsReactiveUpdater.counter++\n}\n\n// ---\n\nasync function saveRepository (data: Repository) {\n  const db = await dbPromise\n  data.lastUpdated = Date.now()\n  await db.put('repositories', data)\n}\n\nasync function getRepository (url: string) {\n  const db = await dbPromise\n  return db.get('repositories', url) as Promise<Repository | undefined>\n}\n\nasync function getAllRepositories () {\n  const db = await dbPromise\n  return db.getAll('repositories') as Promise<Repository[]>\n}\nwindow.getAllRepositories = getAllRepositories\n\nasync function deleteRepository (url) {\n  const db = await dbPromise\n  await db.delete('repositories', url)\n}\n\n// ---\n\n// #endregion\n\nwindow.mcraft = {\n  version: process.env.RELEASE_TAG,\n  build: process.env.BUILD_VERSION,\n  ui: {},\n  React,\n  valtio: {\n    ...valtio,\n    ...valtioUtils,\n  },\n  // openDB\n}\n\nconst activateMod = async (mod: ClientMod, reason: string) => {\n  if (mod.enabled === false) return false\n  protectRuntime()\n  console.debug(`Activating mod ${mod.name} (${reason})...`)\n  window.loadedMods ??= {}\n  if (window.loadedMods[mod.name]) {\n    console.warn(`Mod is ${mod.name} already loaded, skipping activation...`)\n    return false\n  }\n  if (mod.stylesGlobal) {\n    const style = document.createElement('style')\n    style.textContent = mod.stylesGlobal\n    style.id = `mod-${mod.name}`\n    document.head.appendChild(style)\n  }\n  if (mod.scriptMainUnstable) {\n    const blob = new Blob([mod.scriptMainUnstable], { type: 'text/javascript' })\n    const url = URL.createObjectURL(blob)\n    // eslint-disable-next-line no-useless-catch\n    try {\n      const module = await import(/* webpackIgnore: true */ url)\n      module.default?.(structuredClone(mod), { settings: getModSettingsProxy(mod) })\n      window.loadedMods[mod.name] ??= {}\n      window.loadedMods[mod.name].mainUnstableModule = module\n    } catch (e) {\n      throw e\n    }\n    URL.revokeObjectURL(url)\n  }\n  if (mod.threeJsBackend) {\n    const blob = new Blob([mod.threeJsBackend], { type: 'text/javascript' })\n    const url = URL.createObjectURL(blob)\n    // eslint-disable-next-line no-useless-catch\n    try {\n      const module = await import(/* webpackIgnore: true */ url)\n      // todo\n      window.loadedMods[mod.name] ??= {}\n      // for accessing global world var\n      window.loadedMods[mod.name].threeJsBackendModule = module\n    } catch (e) {\n      throw e\n    }\n    URL.revokeObjectURL(url)\n  }\n  mod.enabled = true\n  return true\n}\n\nexport const appStartup = async () => {\n  void checkModsUpdates()\n\n  const mods = await getAllMods()\n  for (const mod of mods) {\n    await activateMod(mod, 'autostart').catch(e => {\n      modsErrors[mod.name] ??= []\n      modsErrors[mod.name].push(`startup: ${String(e)}`)\n      console.error(`Error activating mod on startup ${mod.name}:`, e)\n    })\n  }\n}\n\nexport const modsUpdateStatus = proxy({} as Record<string, [string, string]>)\nexport const modsWaitingReloadStatus = proxy({} as Record<string, boolean>)\nexport const modsErrors = proxy({} as Record<string, string[]>)\n\nconst normalizeRepoUrl = (url: string) => {\n  if (url.startsWith('https://')) return url\n  if (url.startsWith('http://')) return url\n  if (url.startsWith('//')) return `https:${url}`\n  return `https://raw.githubusercontent.com/${url}/master`\n}\n\nconst installOrUpdateMod = async (repo: Repository, mod: ClientModDefinition, activate = true, progress?: ProgressReporter) => {\n  // eslint-disable-next-line no-useless-catch\n  try {\n    const fetchData = async (urls: string[]) => {\n      const errored = [] as string[]\n      // eslint-disable-next-line no-unreachable-loop\n      for (const urlTemplate of urls) {\n        const modNameOnly = mod.name.split('.').pop()\n        const modFolder = repo.prefix === false ? modNameOnly : typeof repo.prefix === 'string' ? `${repo.prefix}/${modNameOnly}` : mod.name\n        const url = new URL(`${modFolder}/${urlTemplate}`, normalizeRepoUrl(repo.url).replace(/\\/$/, '') + '/').href\n        // eslint-disable-next-line no-useless-catch\n        try {\n          const response = await fetch(url)\n          if (!response.ok) throw new Error(`Failed to fetch ${url}: ${response.status} ${response.statusText}`)\n          return await response.text()\n        } catch (e) {\n          // errored.push(String(e))\n          throw e\n        }\n      }\n      console.warn(`[${mod.name}] Error installing component of ${urls[0]}: ${errored.join(', ')}`)\n      return undefined\n    }\n    if (mod.stylesGlobal) {\n      await progress?.executeWithMessage(\n        `Downloading ${mod.name} styles`,\n        async () => {\n          mod.stylesGlobal = await fetchData(['global.css']) as any\n        }\n      )\n    }\n    if (mod.scriptMainUnstable) {\n      await progress?.executeWithMessage(\n        `Downloading ${mod.name} script`,\n        async () => {\n          mod.scriptMainUnstable = await fetchData(['mainUnstable.js']) as any\n        }\n      )\n    }\n    if (mod.threeJsBackend) {\n      await progress?.executeWithMessage(\n        `Downloading ${mod.name} three.js backend`,\n        async () => {\n          mod.threeJsBackend = await fetchData(['three.js']) as any\n        }\n      )\n    }\n    if (mod.serverPlugin) {\n      if (mod.name.endsWith('.disabled')) throw new Error(`Mod name ${mod.name} can't end with .disabled`)\n      await progress?.executeWithMessage(\n        `Downloading ${mod.name} server plugin`,\n        async () => {\n          mod.serverPlugin = await fetchData(['serverPlugin.js']) as any\n        }\n      )\n    }\n    if (activate) {\n      // todo try to de-activate mod if it's already loaded\n      if (window.loadedMods?.[mod.name]) {\n        modsWaitingReloadStatus[mod.name] = true\n      } else {\n        await activateMod(mod as ClientMod, 'install')\n      }\n    }\n    await saveClientModData(mod as ClientMod)\n    delete modsUpdateStatus[mod.name]\n  } catch (e) {\n    // console.error(`Error installing mod ${mod.name}:`, e)\n    throw e\n  }\n}\n\nconst checkRepositoryUpdates = async (repo: Repository) => {\n  for (const mod of repo.packages) {\n\n    const modExisting = await getPlugin(mod.name)\n    if (modExisting?.version && gt(mod.version, modExisting.version)) {\n      modsUpdateStatus[mod.name] = [modExisting.version, mod.version]\n      if (options.modsAutoUpdate === 'always' && (!repo.autoUpdateOverride && !modExisting.autoUpdateOverride)) {\n        void installOrUpdateMod(repo, mod).catch(e => {\n          console.error(`Error updating mod ${mod.name}:`, e)\n        })\n      }\n    }\n  }\n\n}\n\nexport const fetchRepository = async (urlOriginal: string, url: string, hasMirrors = false) => {\n  const fetchUrl = normalizeRepoUrl(url).replace(/\\/$/, '') + '/mcraft-repo.json'\n  try {\n    const response = await fetch(fetchUrl).then(async res => res.json())\n    if (!response.packages) throw new Error(`No packages field in the response json of the repository: ${fetchUrl}`)\n    response.autoUpdateOverride = (await getRepository(urlOriginal))?.autoUpdateOverride\n    response.url = urlOriginal\n    void saveRepository(response)\n    modsReactiveUpdater.counter++\n    return true\n  } catch (e) {\n    console.warn(`Error fetching repository (trying other mirrors) ${url}:`, e)\n    return false\n  }\n}\n\nexport const fetchAllRepositories = async () => {\n  const repositories = await getAllRepositories()\n  await Promise.all(repositories.map(async (repo) => {\n    const allUrls = [repo.url, ...(repo.mirrorUrls || [])]\n    for (const [i, url] of allUrls.entries()) {\n      const isLast = i === allUrls.length - 1\n\n      if (await fetchRepository(repo.url, url, !isLast)) break\n    }\n  }))\n  appStorage.modsAutoUpdateLastCheck = Date.now()\n}\n\nconst checkModsUpdates = async () => {\n  await autoRefreshModRepositories()\n  for (const repo of await getAllRepositories()) {\n\n    await checkRepositoryUpdates(repo)\n  }\n}\n\nconst autoRefreshModRepositories = async () => {\n  if (options.modsAutoUpdate === 'never') return\n  const lastCheck = appStorage.modsAutoUpdateLastCheck\n  if (lastCheck && Date.now() - lastCheck < 1000 * 60 * 60 * options.modsUpdatePeriodCheck) return\n  await fetchAllRepositories()\n  // todo think of not updating check timestamp on offline access\n}\n\nexport const installModByName = async (repoUrl: string, name: string, progress?: ProgressReporter) => {\n  progress?.beginStage('main', `Installing ${name}`)\n  const repo = await getRepository(repoUrl)\n  if (!repo) throw new Error(`Repository ${repoUrl} not found`)\n  const mod = repo.packages.find(m => m.name === name)\n  if (!mod) throw new Error(`Mod ${name} not found in repository ${repoUrl}`)\n  await installOrUpdateMod(repo, mod, undefined, progress)\n  progress?.endStage('main')\n}\n\nexport const uninstallModAction = async (name: string) => {\n  const choice = await showOptionsModal(`Uninstall mod ${name}?`, ['Yes'])\n  if (!choice) return\n  await deletePlugin(name)\n  window.loadedMods ??= {}\n  if (window.loadedMods[name]) {\n    // window.loadedMods[name].default?.(null)\n    delete window.loadedMods[name]\n    modsWaitingReloadStatus[name] = true\n  }\n  // Clear any errors associated with the mod\n  delete modsErrors[name]\n}\n\nexport const setEnabledModAction = async (name: string, newEnabled: boolean) => {\n  const mod = await getPlugin(name)\n  if (!mod) throw new Error(`Mod ${name} not found`)\n  if (newEnabled) {\n    mod.enabled = true\n    if (!window.loadedMods?.[mod.name]) {\n      await activateMod(mod, 'manual')\n    }\n  } else {\n    // todo deactivate mod\n    mod.enabled = false\n    if (window.loadedMods?.[mod.name]) {\n      if (window.loadedMods[mod.name]?.threeJsBackendModule) {\n        window.loadedMods[mod.name].threeJsBackendModule.deactivate()\n        delete window.loadedMods[mod.name].threeJsBackendModule\n      }\n      if (window.loadedMods[mod.name]?.mainUnstableModule) {\n        window.loadedMods[mod.name].mainUnstableModule.deactivate()\n        delete window.loadedMods[mod.name].mainUnstableModule\n      }\n\n      if (Object.keys(window.loadedMods[mod.name]).length === 0) {\n        delete window.loadedMods[mod.name]\n      }\n    }\n  }\n  await saveClientModData(mod)\n}\n\nexport const modsReactiveUpdater = proxy({\n  counter: 0\n})\n\nexport const getAllModsDisplayList = async () => {\n  const repos = await getAllRepositories()\n  const installedMods = await getAllMods()\n  const modsWithoutRepos = installedMods.filter(mod => !repos.some(repo => repo.packages.some(m => m.name === mod.name)))\n  const mapMods = (mapMods: ClientMod[]) => mapMods.map(mod => ({\n    ...mod,\n    installed: installedMods.find(m => m.name === mod.name),\n    activated: !!window.loadedMods?.[mod.name],\n    installedVersion: installedMods.find(m => m.name === mod.name)?.version,\n    canBeActivated: mod.scriptMainUnstable || mod.stylesGlobal,\n  }))\n  return {\n    repos: repos.map(repo => ({\n      ...repo,\n      packages: mapMods(repo.packages as ClientMod[]),\n    })),\n    modsWithoutRepos: mapMods(modsWithoutRepos),\n  }\n}\n\nexport const removeRepositoryAction = async (url: string) => {\n  // todo remove mods\n  const choice = await showOptionsModal('Remove repository? Installed mods wont be automatically removed.', ['Yes'])\n  if (!choice) return\n  await deleteRepository(url)\n  modsReactiveUpdater.counter++\n}\n\nexport const selectAndRemoveRepository = async () => {\n  const repos = await getAllRepositories()\n  const choice = await showOptionsModal('Select repository to remove', repos.map(repo => repo.url))\n  if (!choice) return\n  await removeRepositoryAction(choice)\n}\n\nexport const addRepositoryAction = async () => {\n  const { url } = await showInputsModal('Add repository', {\n    url: {\n      type: 'text',\n      label: 'Repository URL or slug',\n      placeholder: 'github-owner/repo-name',\n    },\n  })\n  if (!url) return\n  await fetchRepository(url, url)\n}\n\nexport const getServerPlugin = async (plugin: string) => {\n  const mod = await getPlugin(plugin)\n  if (!mod) return null\n  if (mod.serverPlugin) {\n    return {\n      content: mod.serverPlugin,\n      version: mod.version\n    }\n  }\n  return null\n}\n\nexport const getAvailableServerPlugins = async () => {\n  const mods = await getAllMods()\n  return mods.filter(mod => mod.serverPlugin)\n}\n\nwindow.inspectInstalledMods = getAllMods\n\ntype ModifiableField = {\n  field: string\n  label: string\n  language: string\n  getContent?: () => string\n}\n\n// ---\n\nexport const getAllModsModifiableFields = () => {\n  const fields: ModifiableField[] = [\n    {\n      field: 'scriptMainUnstable',\n      label: 'Main Thread Script (unstable)',\n      language: 'js'\n    },\n    {\n      field: 'stylesGlobal',\n      label: 'Global CSS Styles',\n      language: 'css'\n    },\n    {\n      field: 'threeJsBackend',\n      label: 'Three.js Renderer Backend Thread',\n      language: 'js'\n    },\n    {\n      field: 'serverPlugin',\n      label: 'Built-in server plugin',\n      language: 'js'\n    }\n  ]\n  return fields\n}\n\nexport const getModModifiableFields = (mod: ClientMod): ModifiableField[] => {\n  return getAllModsModifiableFields().filter(field => mod[field.field])\n}\n\nexport const getModSettingsProxy = (mod: ClientMod) => {\n  if (!mod.settings) return valtio.proxy({})\n\n  const proxy = valtio.proxy({})\n  for (const [key, setting] of Object.entries(mod.settings)) {\n    proxy[key] = options[`mod-${mod.name}-${key}`] ?? setting.default\n  }\n\n  valtio.subscribe(proxy, (ops) => {\n    for (const op of ops) {\n      const [type, path, value] = op\n      const key = path[0] as string\n      options[`mod-${mod.name}-${key}`] = value\n    }\n  })\n\n  return proxy\n}\n\nexport const callMethodAction = async (modName: string, type: 'main', method: string) => {\n  try {\n    const mod = window.loadedMods?.[modName]\n    await mod[method]()\n  } catch (err) {\n    showNotification(`Failed to execute ${method}`, `Problem in ${type} js script of ${modName}`, true)\n  }\n}\n","import { appStorage } from '../react/appStorageProvider'\nimport { getChangedSettings, options } from '../optionsStorage'\nimport { customKeymaps } from '../controls'\nimport { showInputsModal } from '../react/SelectOption'\n\ninterface ExportedFile {\n  _about: string\n  options?: Record<string, any>\n  keybindings?: Record<string, any>\n  servers?: any[]\n  username?: string\n  proxy?: string\n  proxies?: string[]\n  accountTokens?: any[]\n}\n\nexport const importData = async () => {\n  try {\n    const input = document.createElement('input')\n    input.type = 'file'\n    input.accept = '.json'\n    input.click()\n\n    const file = await new Promise<File>((resolve) => {\n      input.onchange = () => {\n        if (!input.files?.[0]) return\n        resolve(input.files[0])\n      }\n    })\n\n    const text = await file.text()\n    const data = JSON.parse(text)\n\n    if (!data._about?.includes('Minecraft Web Client')) {\n      const doContinue = confirm('This file does not appear to be a Minecraft Web Client profile. Continue anyway?')\n      if (!doContinue) return\n    }\n\n    // Build available data types for selection\n    const availableData: Record<keyof Omit<ExportedFile, '_about'>, { present: boolean, description: string }> = {\n      options: { present: !!data.options, description: 'Game settings and preferences' },\n      keybindings: { present: !!data.keybindings, description: 'Custom key mappings' },\n      servers: { present: !!data.servers, description: 'Saved server list' },\n      username: { present: !!data.username, description: 'Username' },\n      proxy: { present: !!data.proxy, description: 'Selected proxy server' },\n      proxies: { present: !!data.proxies, description: 'Global proxies list' },\n      accountTokens: { present: !!data.accountTokens, description: 'Account authentication tokens' },\n    }\n\n    // Filter to only present data types\n    const presentTypes = Object.fromEntries(Object.entries(availableData)\n      .filter(([_, info]) => info.present)\n      .map<any>(([key, info]) => [key, info]))\n\n    if (Object.keys(presentTypes).length === 0) {\n      alert('No compatible data found in the imported file.')\n      return\n    }\n\n    const importChoices = await showInputsModal('Select Data to Import', {\n      mergeData: {\n        type: 'checkbox',\n        label: 'Merge with existing data (uncheck to remove old data)',\n        defaultValue: true,\n      },\n      ...Object.fromEntries(Object.entries(presentTypes).map(([key, info]) => [key, {\n        type: 'checkbox',\n        label: info.description,\n        defaultValue: true,\n      }]))\n    }) as { mergeData: boolean } & Record<keyof ExportedFile, boolean>\n\n    if (!importChoices) return\n\n    const importedTypes: string[] = []\n    const shouldMerge = importChoices.mergeData\n\n    if (importChoices.options && data.options) {\n      if (shouldMerge) {\n        Object.assign(options, data.options)\n      } else {\n        for (const key of Object.keys(options)) {\n          if (key in data.options) {\n            options[key as any] = data.options[key]\n          }\n        }\n      }\n      importedTypes.push('settings')\n    }\n\n    if (importChoices.keybindings && data.keybindings) {\n      if (shouldMerge) {\n        Object.assign(customKeymaps, data.keybindings)\n      } else {\n        for (const key of Object.keys(customKeymaps)) delete customKeymaps[key]\n        Object.assign(customKeymaps, data.keybindings)\n      }\n      importedTypes.push('keybindings')\n    }\n\n    if (importChoices.servers && data.servers) {\n      if (shouldMerge && appStorage.serversList) {\n        // Merge by IP, update existing entries and add new ones\n        const existingIps = new Set(appStorage.serversList.map(s => s.ip))\n        const newServers = data.servers.filter(s => !existingIps.has(s.ip))\n        appStorage.serversList = [...appStorage.serversList, ...newServers]\n      } else {\n        appStorage.serversList = data.servers\n      }\n      importedTypes.push('servers')\n    }\n\n    if (importChoices.username && data.username) {\n      appStorage.username = data.username\n      importedTypes.push('username')\n    }\n\n    if ((importChoices.proxy && data.proxy) || (importChoices.proxies && data.proxies)) {\n      if (!appStorage.proxiesData) {\n        appStorage.proxiesData = { proxies: [], selected: '' }\n      }\n\n      if (importChoices.proxies && data.proxies) {\n        if (shouldMerge) {\n          // Merge unique proxies\n          const uniqueProxies = new Set([...appStorage.proxiesData.proxies, ...data.proxies])\n          appStorage.proxiesData.proxies = [...uniqueProxies]\n        } else {\n          appStorage.proxiesData.proxies = data.proxies\n        }\n        importedTypes.push('proxies list')\n      }\n\n      if (importChoices.proxy && data.proxy) {\n        appStorage.proxiesData.selected = data.proxy\n        importedTypes.push('selected proxy')\n      }\n    }\n\n    if (importChoices.accountTokens && data.accountTokens) {\n      if (shouldMerge && appStorage.authenticatedAccounts) {\n        // Merge by unique identifier (assuming accounts have some unique ID or username)\n        const existingAccounts = new Set(appStorage.authenticatedAccounts.map(a => a.username))\n        const newAccounts = data.accountTokens.filter(a => !existingAccounts.has(a.username))\n        appStorage.authenticatedAccounts = [...appStorage.authenticatedAccounts, ...newAccounts]\n      } else {\n        appStorage.authenticatedAccounts = data.accountTokens\n      }\n      importedTypes.push('account tokens')\n    }\n\n    alert(`Profile imported successfully! Imported data: ${importedTypes.join(', ')}.\\nYou may need to reload the page for some changes to take effect.`)\n  } catch (err) {\n    console.error('Failed to import profile:', err)\n    alert('Failed to import profile: ' + (err.message || err))\n  }\n}\n\nexport const exportData = async () => {\n  const data = await showInputsModal('Export Profile', {\n    profileName: {\n      type: 'text',\n    },\n    exportSettings: {\n      type: 'checkbox',\n      defaultValue: true,\n    },\n    exportKeybindings: {\n      type: 'checkbox',\n      defaultValue: true,\n    },\n    exportServers: {\n      type: 'checkbox',\n      defaultValue: true,\n    },\n    saveUsernameAndProxy: {\n      type: 'checkbox',\n      defaultValue: true,\n    },\n    exportGlobalProxiesList: {\n      type: 'checkbox',\n      defaultValue: false,\n    },\n    exportAccountTokens: {\n      type: 'checkbox',\n      defaultValue: false,\n    },\n  })\n  const fileName = `${data.profileName ? `${data.profileName}-` : ''}web-client-profile.json`\n  const json: ExportedFile = {\n    _about: 'Minecraft Web Client (mcraft.fun) Profile',\n    ...data.exportSettings ? {\n      options: getChangedSettings(),\n    } : {},\n    ...data.exportKeybindings ? {\n      keybindings: customKeymaps,\n    } : {},\n    ...data.exportServers ? {\n      servers: appStorage.serversList,\n    } : {},\n    ...data.saveUsernameAndProxy ? {\n      username: appStorage.username,\n      proxy: appStorage.proxiesData?.selected,\n    } : {},\n    ...data.exportGlobalProxiesList ? {\n      proxies: appStorage.proxiesData?.proxies,\n    } : {},\n    ...data.exportAccountTokens ? {\n      accountTokens: appStorage.authenticatedAccounts,\n    } : {},\n  }\n  const blob = new Blob([JSON.stringify(json, null, 2)], { type: 'application/json' })\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = fileName\n  a.click()\n  URL.revokeObjectURL(url)\n}\n","import { useEffect, useRef, useState } from 'react'\nimport { useSnapshot } from 'valtio'\nimport { openURL } from 'renderer/viewer/lib/simpleUtils'\nimport { noCase } from 'change-case'\nimport { versionToNumber } from 'mc-assets/dist/utils'\nimport { gameAdditionalState, miscUiState, openOptionsMenu, showModal } from './globalState'\nimport { AppOptions, getChangedSettings, options, resetOptions } from './optionsStorage'\nimport Button from './react/Button'\nimport { OptionMeta, OptionSlider } from './react/OptionsItems'\nimport Slider from './react/Slider'\nimport { getScreenRefreshRate } from './utils'\nimport { setLoadingScreenStatus } from './appStatus'\nimport { openFilePicker, resetLocalStorage } from './browserfs'\nimport { completeResourcepackPackInstall, getResourcePackNames, resourcepackReload, resourcePackState, uninstallResourcePack } from './resourcePack'\nimport { downloadPacketsReplay, packetsRecordingState } from './packetsReplay/packetsReplayLegacy'\nimport { showInputsModal, showOptionsModal } from './react/SelectOption'\nimport { ClientMod, getAllMods, modsUpdateStatus } from './clientMods'\nimport supportedVersions from './supportedVersions.mjs'\nimport { getVersionAutoSelect } from './connect'\nimport { createNotificationProgressReporter } from './core/progressReporter'\nimport { customKeymaps } from './controls'\nimport { appStorage } from './react/appStorageProvider'\nimport { exportData, importData } from './core/importExport'\n\nexport const guiOptionsScheme: {\n  [t in OptionsGroupType]: Array<{ [K in keyof AppOptions]?: Partial<OptionMeta<AppOptions[K]>> } & { custom? }>\n} = {\n  render: [\n    {\n      custom () {\n        const frameLimitValue = useSnapshot(options).frameLimit\n        const [frameLimitMax, setFrameLimitMax] = useState(null as number | null)\n\n        return <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n          <Slider\n            style={{ width: 130 }}\n            label='Frame Limit'\n            disabledReason={frameLimitMax ? undefined : 'press lock button first'}\n            unit={frameLimitValue ? 'fps' : ''}\n            valueDisplay={frameLimitValue || 'VSync'}\n            value={frameLimitValue || frameLimitMax! + 1} min={20}\n            max={frameLimitMax! + 1} updateValue={(newVal) => {\n              options.frameLimit = newVal > frameLimitMax! ? false : newVal\n            }}\n          />\n          <Button\n            style={{ width: 20 }} icon='pixelarticons:lock-open' onClick={async () => {\n              const rate = await getScreenRefreshRate()\n              setFrameLimitMax(rate)\n            }}\n          />\n        </div>\n      }\n    },\n    {\n      gpuPreference: {\n        text: 'GPU Preference',\n        tooltip: 'You will need to reload the page for this to take effect.',\n        values: [['default', 'Auto'], ['high-performance', 'Dedicated'], ['low-power', 'Low Power']]\n      },\n    },\n    {\n      custom () {\n        return <Button label='Guide: Disable VSync' onClick={() => openURL('https://gist.github.com/zardoy/6e5ce377d2b4c1e322e660973da069cd')} inScreen />\n      },\n      backgroundRendering: {\n        text: 'Background FPS limit',\n        values: [\n          ['full', 'NO'],\n          ['5fps', '5 FPS'],\n          ['20fps', '20 FPS'],\n        ],\n      },\n      activeRenderer: {\n        text: 'Renderer',\n        values: [\n          ['threejs', 'Three.js (stable)'],\n        ],\n      },\n    },\n    {\n      custom () {\n        return <Category>Experimental</Category>\n      },\n      dayCycleAndLighting: {\n        text: 'Day Cycle',\n      },\n      smoothLighting: {},\n      newVersionsLighting: {\n        text: 'Lighting in Newer Versions',\n      },\n      lowMemoryMode: {\n        text: 'Low Memory Mode',\n        enableWarning: 'Enabling it will make chunks load ~4x slower. When in the game, app needs to be reloaded to apply this setting.',\n      },\n      starfieldRendering: {},\n      renderEntities: {},\n      keepChunksDistance: {\n        max: 5,\n        unit: '',\n        tooltip: 'Additional distance to keep the chunks loading before unloading them by marking them as too far',\n      },\n      renderEars: {\n        tooltip: 'Enable rendering Deadmau5 ears for all players if their skin contains textures for it',\n      },\n      renderDebug: {\n        values: [\n          'advanced',\n          'basic',\n          'none'\n        ],\n      },\n      rendererPerfDebugOverlay: {\n        text: 'Performance Debug',\n      }\n    },\n    {\n      custom () {\n        const { _renderByChunks } = useSnapshot(options).rendererSharedOptions\n        return <Button\n          inScreen\n          label={`Batch Chunks Display ${_renderByChunks ? 'ON' : 'OFF'}`}\n          onClick={() => {\n            options.rendererSharedOptions._renderByChunks = !_renderByChunks\n          }}\n        />\n      }\n    },\n    {\n      custom () {\n        return <Category>Resource Packs</Category>\n      },\n      serverResourcePacks: {\n        text: 'Download From Server',\n        values: [\n          'prompt',\n          'always',\n          'never'\n        ],\n      }\n    }\n  ],\n  main: [\n    {\n      fov: {\n        min: 30,\n        max: 110,\n        unit: '',\n      }\n    },\n    {\n      custom () {\n        const sp = miscUiState.singleplayer || !miscUiState.gameLoaded\n        const id = sp ? 'renderDistance' : 'multiplayerRenderDistance' // cant be changed when settings are open\n        return <OptionSlider item={{\n          type: 'slider',\n          id,\n          text: 'Render Distance',\n          unit: '',\n          max: sp ? 16 : 12,\n          min: 1\n        }}\n        />\n      },\n    },\n    {\n      custom () {\n        return <Button label='Render...' onClick={() => openOptionsMenu('render')} inScreen />\n      },\n    },\n    {\n      custom () {\n        return <Button label='Interface...' onClick={() => openOptionsMenu('interface')} inScreen />\n      },\n    },\n    {\n      custom () {\n        return <Button label='Controls...' onClick={() => openOptionsMenu('controls')} inScreen />\n      },\n    },\n    {\n      custom () {\n        return <Button label='Sound...' onClick={() => openOptionsMenu('sound')} inScreen />\n      },\n    },\n    {\n      custom () {\n        const { resourcePackInstalled } = useSnapshot(resourcePackState)\n        const { usingServerResourcePack } = useSnapshot(gameAdditionalState)\n        const { enabledResourcepack } = useSnapshot(options)\n        return <Button\n          label={`Resource Pack: ${usingServerResourcePack ? 'SERVER ON' : resourcePackInstalled ? enabledResourcepack ? 'ON' : 'OFF' : 'NO'}`} inScreen onClick={async () => {\n            if (resourcePackState.resourcePackInstalled) {\n              const names = Object.keys(await getResourcePackNames())\n              const name = names[0]\n              const choices = [\n                options.enabledResourcepack ? 'Disable' : 'Enable',\n                'Uninstall',\n              ]\n              const choice = await showOptionsModal(`Resource Pack ${name} action`, choices)\n              if (!choice) return\n              if (choice === 'Disable') {\n                options.enabledResourcepack = null\n                await resourcepackReload()\n                return\n              }\n              if (choice === 'Enable') {\n                options.enabledResourcepack = name\n                await completeResourcepackPackInstall(name, name, false, createNotificationProgressReporter())\n                return\n              }\n              if (choice === 'Uninstall') {\n              // todo make hidable\n                setLoadingScreenStatus('Uninstalling texturepack')\n                await uninstallResourcePack()\n                setLoadingScreenStatus(undefined)\n              }\n            } else {\n            // if (!fsState.inMemorySave && isGameActive(false)) {\n            //   alert('Unable to install resource pack in loaded save for now')\n            //   return\n            // }\n              openFilePicker('resourcepack')\n            }\n          }}\n        />\n      },\n    },\n    {\n      custom () {\n        return <Button label='Advanced...' onClick={() => openOptionsMenu('advanced')} inScreen />\n      },\n    },\n    {\n      custom () {\n        const { appConfig } = useSnapshot(miscUiState)\n        const modsUpdateSnapshot = useSnapshot(modsUpdateStatus)\n        const [clientMods, setClientMods] = useState<ClientMod[]>([])\n        useEffect(() => {\n          void getAllMods().then(setClientMods)\n        }, [])\n\n        if (appConfig?.showModsButton === false) return null\n        const enabledModsCount = Object.keys(clientMods.filter(mod => mod.enabled)).length\n        return <Button label={`Client Mods: ${enabledModsCount} (${Object.keys(modsUpdateSnapshot).length})`} onClick={() => showModal({ reactType: 'mods' })} inScreen />\n      },\n    },\n    {\n      custom () {\n        return <Button label='VR...' onClick={() => openOptionsMenu('VR')} inScreen />\n      },\n    },\n    {\n      custom () {\n        const { appConfig } = useSnapshot(miscUiState)\n        if (!appConfig?.displayLanguageSelector) return null\n        return <Button\n          label='Language...' onClick={async () => {\n            const newLang = await showOptionsModal('Set Language', (appConfig.supportedLanguages ?? []) as string[])\n            if (!newLang) return\n            options.language = newLang.split(' - ')[0]\n          }} inScreen />\n      },\n    }\n  ],\n  interface: [\n    {\n      guiScale: {\n        max: 4,\n        min: 1,\n        unit: '',\n        delayApply: true,\n      },\n      custom () {\n        return <Category>Chat</Category>\n      },\n      chatWidth: {\n        max: 320,\n        unit: 'px',\n      },\n      chatHeight: {\n        max: 180,\n        unit: 'px',\n      },\n      chatOpacity: {\n      },\n      chatOpacityOpened: {\n      },\n      chatSelect: {\n        text: 'Text Select',\n      },\n      chatPingExtension: {\n      }\n    },\n    {\n      custom () {\n        return <Category>Map</Category>\n      },\n      showMinimap: {\n        text: 'Enable Minimap',\n        enableWarning: 'App reload is required to apply this setting',\n        values: [\n          'always',\n          'singleplayer',\n          'never'\n        ],\n      },\n    },\n    {\n      custom () {\n        return <Category>World</Category>\n      },\n      highlightBlockColor: {\n        text: 'Block Highlight Color',\n        values: [\n          ['auto', 'Auto'],\n          ['blue', 'Blue'],\n          ['classic', 'Classic']\n        ],\n      },\n      showHand: {\n        text: 'Show Hand',\n      },\n      viewBobbing: {\n        text: 'View Bobbing',\n      },\n    },\n    {\n      custom () {\n        return <Category>Sign Editor</Category>\n      },\n      autoSignEditor: {\n        text: 'Enable Sign Editor',\n      },\n      wysiwygSignEditor: {\n        text: 'WYSIWG Editor',\n        values: [\n          'auto',\n          'always',\n          'never'\n        ],\n      },\n    },\n    {\n      custom () {\n        return <Category>Experimental</Category>\n      },\n      displayBossBars: {\n        text: 'Boss Bars',\n      },\n    },\n    {\n      custom () {\n        return <UiToggleButton name='title' addUiText />\n      },\n    },\n    {\n      custom () {\n        return <UiToggleButton name='chat' addUiText />\n      },\n    },\n    {\n      custom () {\n        return <UiToggleButton name='scoreboard' addUiText />\n      },\n    },\n    {\n      custom () {\n        return <UiToggleButton name='effects' label='Effects' />\n      },\n    },\n    {\n      custom () {\n        return <UiToggleButton name='indicators' label='Game Indicators' />\n      },\n    },\n    {\n      custom () {\n        return <UiToggleButton name='hotbar' />\n      },\n    },\n  ],\n  controls: [\n    {\n      custom () {\n        return <Category>Keyboard & Mouse</Category>\n      },\n    },\n    {\n      custom () {\n        return <Button\n          inScreen\n          onClick={() => {\n            showModal({ reactType: 'keybindings' })\n          }}\n        >Keybindings\n        </Button>\n      },\n      mouseSensX: {},\n      mouseSensY: {\n        min: -1,\n        valueText (value) {\n          return value === -1 ? 'Same as X' : `${value}`\n        },\n      },\n      mouseRawInput: {\n        tooltip: 'Wether to disable any mouse acceleration (MC does it by default). Most probably it is still supported only by Chrome.',\n        // eslint-disable-next-line no-extra-boolean-cast\n        disabledReason: Boolean(document.documentElement.requestPointerLock) ? undefined : 'Your browser does not support pointer lock.',\n      },\n      autoFullScreen: {\n        tooltip: 'Auto Fullscreen allows you to use Ctrl+W and Escape having to wait/click on screen again.',\n        disabledReason: navigator['keyboard'] ? undefined : 'Your browser doesn\\'t support keyboard lock API'\n      },\n      autoExitFullscreen: {\n        tooltip: 'Exit fullscreen on escape (pause menu open). But note you can always do it with F11.',\n      },\n    },\n    {\n      custom () {\n        return <Category>Touch Controls</Category>\n      },\n      alwaysShowMobileControls: {\n        text: 'Always Mobile Controls',\n      },\n      touchButtonsSize: {\n        min: 40,\n        disableIf: [\n          'touchMovementType',\n          'modern'\n        ],\n      },\n      touchButtonsOpacity: {\n        min: 10,\n        max: 90,\n        disableIf: [\n          'touchMovementType',\n          'modern'\n        ],\n      },\n      touchButtonsPosition: {\n        max: 80,\n        disableIf: [\n          'touchMovementType',\n          'modern'\n        ],\n      },\n      touchMovementType: {\n        text: 'Movement Controls',\n        values: [['modern', 'Modern'], ['classic', 'Classic']],\n      },\n      touchInteractionType: {\n        text: 'Interaction Controls',\n        values: [['classic', 'Classic'], ['buttons', 'Buttons']],\n      },\n    },\n    {\n      custom () {\n        const { touchInteractionType, touchMovementType } = useSnapshot(options)\n        return <Button label='Setup Touch Buttons' onClick={() => showModal({ reactType: 'touch-buttons-setup' })} inScreen disabled={touchInteractionType === 'classic' && touchMovementType === 'classic'} />\n      },\n    },\n    {\n      custom () {\n        return <Category>Auto Jump</Category>\n      },\n      autoJump: {\n        values: [\n          'always',\n          'auto',\n          'never'\n        ],\n        disableIf: [\n          'autoParkour',\n          true\n        ],\n      },\n      autoParkour: {},\n    }\n  ],\n  sound: [\n    { volume: {} },\n    {\n      custom () {\n        return <Button label='Sound Muffler' onClick={() => showModal({ reactType: 'sound-muffler' })} inScreen />\n      },\n    }\n    // { ignoreSilentSwitch: {} },\n  ],\n\n  VR: [\n    {\n      custom () {\n        return (\n          <>\n            <span style={{ fontSize: 9, display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n              VR currently has basic support\n            </span>\n            <div />\n          </>\n        )\n      },\n      vrSupport: {},\n      vrPageGameRendering: {\n        text: 'Page Game Rendering',\n        tooltip: 'Wether to continue rendering page even when vr is active.',\n      }\n    },\n  ],\n  advanced: [\n    {\n      custom () {\n        return <Button\n          inScreen\n          onClick={() => {\n            if (confirm('Are you sure you want to reset all settings?')) resetOptions()\n          }}\n        >Reset settings</Button>\n      },\n    },\n    {\n      custom () {\n        return <Button\n          inScreen\n          onClick={() => {\n            if (confirm('Are you sure you want to remove all data (settings, keybindings, servers, username, auth, proxies)?')) resetLocalStorage()\n          }}\n        >Remove all data</Button>\n      },\n    },\n    {\n      custom () {\n        return <Button label='Export/Import...' onClick={() => openOptionsMenu('export-import')} inScreen />\n      }\n    },\n    {\n      custom () {\n        const { cookieStorage } = useSnapshot(appStorage)\n        return <Button\n          label={`Storage: ${cookieStorage ? 'Synced Cookies' : 'Local Storage'}`} onClick={() => {\n            appStorage.cookieStorage = !cookieStorage\n            alert('Reload the page to apply this change')\n          }}\n          inScreen\n        />\n      }\n    },\n    {\n      custom () {\n        return <Category>Server Connection</Category>\n      },\n    },\n    {\n      custom () {\n        const { serversAutoVersionSelect } = useSnapshot(options)\n        const allVersions = [...[...supportedVersions].sort((a, b) => versionToNumber(a) - versionToNumber(b)), 'latest', 'auto']\n        const currentIndex = allVersions.indexOf(serversAutoVersionSelect)\n\n        const getDisplayValue = (version: string) => {\n          const versionAutoSelect = getVersionAutoSelect(version)\n          if (version === 'latest') return `latest (${versionAutoSelect})`\n          if (version === 'auto') return `auto (${versionAutoSelect})`\n          return version\n        }\n\n        return <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n          <Slider\n            style={{ width: 150 }}\n            label='Default Version'\n            title='First version to try to connect with'\n            value={currentIndex}\n            min={0}\n            max={allVersions.length - 1}\n            unit=''\n            valueDisplay={getDisplayValue(serversAutoVersionSelect)}\n            updateValue={(newVal) => {\n              options.serversAutoVersionSelect = allVersions[newVal]\n            }}\n          />\n        </div>\n      },\n    },\n    {\n      preventBackgroundTimeoutKick: {},\n      preventSleep: {\n        text: 'Prevent Device Sleep',\n        disabledReason: navigator.wakeLock ? undefined : 'Your browser does not support wake lock API',\n        enableWarning: 'When connected to a server, prevent PC from sleeping or screen dimming. Useful for purpusely staying AFK for long time. Some events might still prevent this like loosing tab focus or going low power mode.',\n      },\n    },\n    {\n      custom () {\n        return <Category>Developer</Category>\n      },\n    },\n    {\n      custom () {\n        const { active } = useSnapshot(packetsRecordingState)\n        return <Button\n          inScreen\n          onClick={() => {\n            packetsRecordingState.active = !active\n          }}\n        >{active ? 'Stop' : 'Start'} Packets Replay Logging</Button>\n      },\n    },\n    {\n      custom () {\n        const { active, hasRecordedPackets } = useSnapshot(packetsRecordingState)\n        return <Button\n          disabled={!hasRecordedPackets}\n          inScreen\n          onClick={() => {\n            void downloadPacketsReplay()\n          }}\n        >Download Packets Replay</Button>\n      },\n    },\n    {\n      packetsLoggerPreset: {\n        text: 'Packets Logger Preset',\n        values: [\n          ['all', 'All'],\n          ['no-buffers', 'No Buffers']\n        ],\n      },\n    },\n    {\n      debugContro: {\n        text: 'Debug Controls',\n      },\n    },\n    {\n      debugResponseTimeIndicator: {\n        text: 'Debug Input Lag',\n      },\n    },\n    {\n      debugChatScroll: {\n      },\n    }\n  ],\n  'export-import': [\n    {\n      custom () {\n        return <Category>Export/Import Data</Category>\n      }\n    },\n    {\n      custom () {\n        return <Button\n          inScreen\n          onClick={importData}\n        >Import Data</Button>\n      }\n    },\n    {\n      custom () {\n        return <Button\n          inScreen\n          onClick={exportData}\n        >Export Data</Button>\n      }\n    },\n    {\n      custom () {\n        return <Button\n          inScreen\n          disabled\n        >Export Worlds</Button>\n      }\n    },\n    {\n      custom () {\n        return <Button\n          inScreen\n          disabled\n        >Export Resource Pack</Button>\n      }\n    }\n  ],\n}\nexport type OptionsGroupType = 'main' | 'render' | 'interface' | 'controls' | 'sound' | 'advanced' | 'VR' | 'export-import'\n\nconst Category = ({ children }) => <div style={{\n  fontSize: 9,\n  textAlign: 'center',\n  gridColumn: 'span 2'\n}}>{children}</div>\n\nconst UiToggleButton = ({ name, addUiText = false, label = noCase(name) }: { name: string, addUiText?: boolean, label?: string }) => {\n  const { disabledUiParts } = useSnapshot(options)\n\n  const currentlyDisabled = disabledUiParts.includes(name)\n  if (addUiText) label = `${label} UI`\n  return <Button\n    inScreen\n    onClick={() => {\n      const newDisabledUiParts = currentlyDisabled ? disabledUiParts.filter(x => x !== name) : [...disabledUiParts, name]\n      options.disabledUiParts = newDisabledUiParts\n    }}\n  >{currentlyDisabled ? 'Enable' : 'Disable'} {label}</Button>\n}\n\nexport const tryFindOptionConfig = (option: keyof AppOptions) => {\n  for (const group of Object.values(guiOptionsScheme)) {\n    for (const optionConfig of group) {\n      if (option in optionConfig) {\n        return optionConfig[option]\n      }\n    }\n  }\n\n  return null\n}\n","import { guiOptionsScheme, tryFindOptionConfig } from './optionsGuiScheme'\nimport { options } from './optionsStorage'\n\nexport const customCommandsConfig = {\n  chat: {\n    input: [\n      {\n        type: 'text',\n        placeholder: 'Command to send e.g. gamemode creative'\n      }\n    ],\n    handler ([command]) {\n      bot.chat(`/${command.replace(/^\\//, '')}`)\n    }\n  },\n  setOrToggleSetting: {\n    input: [\n      {\n        type: 'select',\n        // maybe title case?\n        options: Object.keys(options)\n      },\n      {\n        type: 'select',\n        options: ['toggle', 'set']\n      },\n      ([setting = '', action = ''] = []) => {\n        const value = options[setting]\n        if (!action || value === undefined || action === 'toggle') return null\n        if (action === 'set') {\n          const getBase = () => {\n            const config = tryFindOptionConfig(setting as any)\n            if (config && 'values' in config) {\n              return {\n                type: 'select',\n                options: config.values\n              }\n            }\n            if (config?.type === 'toggle' || typeof value === 'boolean') {\n              return {\n                type: 'select',\n                options: ['true', 'false']\n              }\n            }\n            if (config?.type === 'slider' || value.type === 'number') {\n              return {\n                type: 'number',\n              }\n            }\n            return {\n              type: 'text'\n            }\n          }\n          return {\n            ...getBase(),\n            placeholder: value\n          }\n        }\n      }\n    ],\n    handler ([setting, action, value]) {\n      if (action === 'toggle' || action === undefined) {\n        const value = options[setting]\n        const config = tryFindOptionConfig(setting)\n        if (config && 'values' in config && config.values) {\n          const { values } = config\n          const currentIndex = values.indexOf(value)\n          const nextIndex = (currentIndex + 1) % values.length\n          options[setting] = values[nextIndex]\n        } else {\n          options[setting] = typeof value === 'boolean' ? !value : typeof value === 'number' ? value + 1 : value\n        }\n      } else {\n        options[setting] = value\n      }\n    }\n  },\n  jsScripts: {\n    input: [\n      {\n        type: 'text',\n        placeholder: 'JavaScript code to run in main thread (sensitive!)'\n      }\n    ],\n    handler ([code]) {\n      // eslint-disable-next-line no-new-func -- this is a feature, not a bug\n      new Function(code)()\n    }\n  },\n  // openCommandsScreen: {}\n}\n","import Screen from './Screen'\nimport { useIsWidgetActive } from './utilsApp'\n\nexport default ({ name, title, children }) => {\n  const isWidgetActive = useIsWidgetActive(name)\n\n  if (!isWidgetActive) return null\n\n  return <Screen backdrop title={title}>{children}</Screen>\n}\n","import { useEffect, useRef, useState } from 'react'\nimport { WorldRendererThree } from 'renderer/viewer/three/worldrendererThree'\nimport FullScreenWidget from './FullScreenWidget'\n\nexport const name = 'loaded world signs'\n\nexport default () => {\n  const [selected, setSelected] = useState([] as string[])\n  const allSignsPos = [] as string[]\n  const signs = []\n  // const signs = viewer.world instanceof WorldRendererThree ? [...viewer.world.chunkTextures.values()].flatMap(textures => {\n  //   return Object.entries(textures).map(([signPosKey, texture]) => {\n  //     allSignsPos.push(signPosKey)\n  //     const pos = signPosKey.split(',').map(Number)\n  //     const isSelected = selected.includes(signPosKey)\n  //     return <div key={signPosKey}>\n  //       <div style={{ color: 'white', userSelect: 'text', fontSize: 8, }}>{pos.join(', ')}</div>\n  //       <div\n  //         style={{ background: isSelected ? 'rgba(255, 255, 255, 0.8)' : 'rgba(255, 255, 255, 0.5)', padding: 5, borderRadius: 5, cursor: 'pointer' }}\n  //         onClick={() => setSelected(selected.includes(signPosKey) ? selected.filter(x => x !== signPosKey) : [...selected, signPosKey])}>\n  //         <AddElem elem={texture.image} />\n  //       </div>\n  //     </div>\n  //   })\n  // }) : []\n\n  return <FullScreenWidget name={name} title='Loaded Signs'>\n    <div>\n      {signs.length} signs currently in the scene:\n    </div>\n    <div\n      style={{ cursor: 'pointer', }} onClick={() => {\n        // toggle all\n        if (selected.length === allSignsPos.length) {\n          setSelected([])\n          return\n        }\n        setSelected([...allSignsPos])\n      }}>Select All</div>\n    {selected.length && <div\n      style={{ cursor: 'pointer', }} onClick={() => {\n        void navigator.clipboard.writeText(selected.join('\\n'))\n      }}>Copy Selected Signs</div>}\n    {signs}\n  </FullScreenWidget>\n}\n\nconst AddElem = ({ elem }) => {\n  const ref = useRef<HTMLDivElement>(null)\n  useEffect(() => {\n    elem.style.width = '100%'\n    elem.style.height = '100%'\n    ref.current!.appendChild(elem)\n    return () => {\n      elem.remove()\n    }\n  }, [])\n\n  return <div\n    ref={ref} style={{\n      height: '35px',\n    }} />\n}\n\n// for (const key of Object.keys(viewer.world.sectionObjects)) {\n//   const section = viewer.world.sectionObjects[key]\n//   for (const child of section.children) {\n//     if (child.name === 'mesh') child.visible = false\n//   }\n// }\n","import * as ModuleSignsViewer from './ModuleSignsViewer'\n\nexport default [ModuleSignsViewer]\n","// extracted by css-extract-rspack-plugin\nexport default {\"crosshair\":\"crosshair-eLqfh9\"};","import { proxy, useSnapshot } from 'valtio'\nimport { useEffect } from 'react'\nimport { activeModalStack, miscUiState } from '../globalState'\nimport SharedHudVars from './SharedHudVars'\nimport styles from './GamepadUiCursor.module.css'\n\nexport const gamepadUiCursorState = proxy({\n  x: 50,\n  y: 50,\n  multiply: 1,\n  display: false\n})\n\nexport const moveGamepadCursorByPx = (value: number, isX: boolean) => {\n  value *= gamepadUiCursorState.multiply * 3\n  const valueToPercentage = value / (isX ? window.innerWidth : window.innerHeight) * 100\n  gamepadUiCursorState[isX ? 'x' : 'y'] += valueToPercentage\n}\n\nexport default () => {\n  const hasModals = useSnapshot(activeModalStack).length > 0\n  const { x, y } = useSnapshot(gamepadUiCursorState)\n  const { usingGamepadInput, gameLoaded } = useSnapshot(miscUiState)\n\n  const doDisplay = usingGamepadInput && (hasModals || !gameLoaded)\n\n  useEffect(() => {\n    document.body.style.cursor = gameLoaded && !hasModals && usingGamepadInput ? 'none' : 'auto'\n  }, [usingGamepadInput, hasModals, gameLoaded])\n\n  useEffect(() => {\n    gamepadUiCursorState.display = doDisplay\n  }, [doDisplay])\n\n  if (!doDisplay) return null\n\n  return <SharedHudVars>\n    <div className={styles.crosshair} style={{ left: `${x}%`, top: `${y}%` }} />\n  </SharedHudVars>\n}\n","import { proxy, subscribe } from 'valtio'\nimport * as THREE from 'three'\nimport { useEffect } from 'react'\n\nexport const motionState = proxy({\n  offset: { x: 0, y: 0 }\n})\n\nconst MOTION_DAMPING = 0.92\nconst MAX_MOTION_OFFSET = 100\nconst motionVelocity = { x: 0, y: 0 }\nlet lastUpdate = performance.now()\nlet lastYaw = 0\nlet lastPitch = 0\n\nexport function updateMotion () {\n  if (!bot?.entity) return\n  const now = performance.now()\n  const deltaTime = (now - lastUpdate) / 1000 // Convert to seconds\n  lastUpdate = now\n\n  // Get camera movement contribution\n  const yawDiff = (bot.entity.yaw - lastYaw)\n  const pitchDiff = (bot.entity.pitch - lastPitch)\n  lastYaw = bot.entity.yaw\n  lastPitch = bot.entity.pitch\n\n  // Create a vector for velocity in world space\n  const { velocity } = bot.entity\n  const velocityVector = new THREE.Vector3(velocity.x, 0, velocity.z)\n\n  // Get camera's forward direction\n  const cameraQuat = new THREE.Quaternion()\n  cameraQuat.setFromEuler(new THREE.Euler(0, -bot.entity.yaw, 0))\n\n  // Transform velocity to camera space\n  velocityVector.applyQuaternion(cameraQuat)\n\n  // Calculate motion contribution\n  const velocityContribution = {\n    x: -velocityVector.x * 150,\n    y: -velocityVector.z * 150\n  }\n\n  // Combine camera and velocity effects\n  motionVelocity.x += (yawDiff * 300 + velocityContribution.x) * deltaTime\n  motionVelocity.y += (pitchDiff * 300 + velocityContribution.y) * deltaTime\n\n  // Apply damping\n  motionVelocity.x *= MOTION_DAMPING\n  motionVelocity.y *= MOTION_DAMPING\n\n  // Clamp values\n  motionVelocity.x = Math.max(-MAX_MOTION_OFFSET, Math.min(MAX_MOTION_OFFSET, motionVelocity.x))\n  motionVelocity.y = Math.max(-MAX_MOTION_OFFSET, Math.min(MAX_MOTION_OFFSET, motionVelocity.y))\n\n  // Update the motion state\n  motionState.offset = {\n    x: motionVelocity.x,\n    y: motionVelocity.y\n  }\n}\n\nlet motionEnabled = false\nexport function initMotionTracking () {\n  if (motionEnabled) return\n  motionEnabled = true\n\n  function animate () {\n    updateMotion()\n    requestAnimationFrame(animate)\n  }\n  animate()\n}\n\nexport function useUiMotion (ref: React.RefObject<HTMLElement>, enabled = true) {\n  useEffect(() => {\n    if (!enabled || !ref.current) return\n\n    const unsubscribe = subscribe(motionState, () => {\n      const el = ref.current\n      if (!el) return\n      el.style.transform = `translate(${motionState.offset.x.toFixed(2)}px, ${motionState.offset.y.toFixed(2)}px)`\n    })\n\n    return () => unsubscribe()\n  }, [enabled, ref])\n}\n","import MessageFormattedString from './MessageFormattedString'\nimport './PlayerListOverlay.css'\n\n\ntype PlayersLists = Array<Array<Pick<import('mineflayer').Player, 'uuid' | 'displayName' | 'username' | 'ping'>>>\n\ntype PlayerListOverlayProps = {\n  playersLists: PlayersLists,\n  clientId: string,\n  tablistHeader: string | Record<string, any> | null,\n  tablistFooter: string | Record<string, any> | null,\n  serverIP: string\n  style?: React.CSSProperties\n}\n\nexport default ({ playersLists, clientId, tablistHeader, tablistFooter, serverIP, style }: PlayerListOverlayProps) => {\n\n  return <div className=\"playerlist-container\" id=\"playerlist-container\" style={style}>\n    <span className=\"playerlist-title\">Server IP: {serverIP}</span>\n    <div className='playerlist-header'>\n      <MessageFormattedString message={tablistHeader} />\n    </div>\n    <div className=\"player-lists\">\n      {playersLists.map((list, index) => (\n        <div key={index} className=\"player-list\">\n          {list.map(player => (\n            <div key={player.uuid ?? player.username} className={`playerlist-entry${clientId === player.uuid ? ' active-player' : ''}`} id={`plist-player-${player.uuid}`}>\n              <MessageFormattedString message={player.displayName ?? player.username} />\n              <div className=\"playerlist-ping\">\n                <p className=\"playerlist-ping-value\">{player.ping}</p>\n                <p className=\"playerlist-ping-label\">ms</p>\n              </div>\n            </div>\n          ))}\n        </div>\n      ))}\n    </div>\n    <div className='playerlist-footer'>\n      <MessageFormattedString message={tablistFooter} />\n    </div>\n  </div>\n}\n","import { proxy, useSnapshot } from 'valtio'\nimport { useState, useEffect, useMemo } from 'react'\nimport { isGameActive } from '../globalState'\nimport PlayerListOverlay from './PlayerListOverlay'\nimport './PlayerListOverlay.css'\nimport { lastConnectOptions } from './AppStatusProvider'\n\nconst MAX_COLUMNS = 4\nconst MAX_ROWS_PER_COL = 10\n\ntype Players = typeof bot.players\n\nexport const tabListState = proxy({\n  isOpen: false,\n})\n\nexport default () => {\n  const { isOpen } = useSnapshot(tabListState)\n\n  const serverIp = lastConnectOptions.value?.server\n  const [clientId, setClientId] = useState(bot._client.uuid)\n  const [players, setPlayers] = useState<Players>({})\n  const [counter, setCounter] = useState(0)\n\n  useEffect(() => {\n    function requestUpdate () {\n      setPlayers(bot?.players ?? {})\n    }\n\n    bot.on('playerUpdated', () => requestUpdate())\n    bot.on('playerJoined', () => requestUpdate())\n    bot.on('playerLeft', () => requestUpdate())\n    requestUpdate()\n    const interval = setInterval(() => {\n      requestUpdate()\n    }, 1000)\n    return () => clearInterval(interval)\n  }, [])\n\n  useEffect(() => {\n    setPlayers(bot.players)\n    if (bot.player) {\n      setClientId(bot.player.uuid)\n    } else {\n      bot._client.on('player_info', () => {\n        if (bot.player?.uuid) {\n          setClientId(bot.player?.uuid)\n        }\n      })\n    }\n\n    const playerlistHeader = () => setCounter(prev => prev + 1)\n    bot._client.on('playerlist_header', playerlistHeader)\n\n    return () => {\n      bot?._client.removeListener('playerlist_header', playerlistHeader)\n    }\n  }, [serverIp])\n\n  const playersArray = Object.values(players).sort((a, b) => {\n    if (a.username > b.username) return 1\n    if (a.username < b.username) return -1\n    return 0\n  })\n\n  // Calculate optimal column distribution\n  const totalPlayers = playersArray.length\n  const numColumns = Math.min(MAX_COLUMNS, Math.ceil(totalPlayers / MAX_ROWS_PER_COL))\n  const playersPerColumn = Math.ceil(totalPlayers / numColumns)\n\n  const lists = [] as Array<typeof playersArray>\n\n  for (let i = 0; i < numColumns; i++) {\n    const startIdx = i * playersPerColumn\n    const endIdx = Math.min(startIdx + playersPerColumn, totalPlayers)\n    if (startIdx < totalPlayers) {\n      lists.push(playersArray.slice(startIdx, endIdx))\n    }\n  }\n\n  if (!isOpen) return null\n\n  return <PlayerListOverlay\n    playersLists={lists}\n    clientId={clientId}\n    tablistHeader={bot.tablist.header}\n    tablistFooter={bot.tablist.footer}\n    serverIP={serverIp ?? ''}\n  />\n}\n","import { HandItemBlock } from 'renderer/viewer/three/holdingBlock'\nimport { getInitialPlayerState, getPlayerStateUtils, PlayerStateReactive, PlayerStateRenderer, PlayerStateUtils } from 'renderer/viewer/lib/basePlayerState'\nimport { subscribe } from 'valtio'\nimport { subscribeKey } from 'valtio/utils'\nimport { gameAdditionalState } from '../globalState'\nimport { options } from '../optionsStorage'\n\n/**\n * can be used only in main thread. Mainly for more convenient reactive state updates.\n * In renderer/ directory, use PlayerStateControllerRenderer type or worldRenderer.playerState.\n */\nexport class PlayerStateControllerMain {\n  disableStateUpdates = false\n\n  private timeOffGround = 0\n  private lastUpdateTime = performance.now()\n\n  // Held item state\n  private isUsingItem = false\n  ready = false\n\n  reactive: PlayerStateReactive\n  utils: PlayerStateUtils\n\n  constructor () {\n    customEvents.on('mineflayerBotCreated', () => {\n      this.ready = false\n      bot.on('inject_allowed', () => {\n        if (this.ready) return\n        this.ready = true\n        this.botCreated()\n      })\n      bot.on('end', () => {\n        this.ready = false\n      })\n    })\n  }\n\n  private onBotCreatedOrGameJoined () {\n    this.reactive.username = bot.username ?? ''\n  }\n\n  private botCreated () {\n    console.log('bot created & plugins injected')\n    this.reactive = getInitialPlayerState()\n    this.reactive.perspective = options.defaultPerspective\n    this.utils = getPlayerStateUtils(this.reactive)\n    this.onBotCreatedOrGameJoined()\n\n    const handleDimensionData = (data) => {\n      let hasSkyLight = 1\n      try {\n        hasSkyLight = data.dimension.value.has_skylight.value\n      } catch {}\n      this.reactive.lightingDisabled = bot.game.dimension === 'the_nether' || bot.game.dimension === 'the_end' || !hasSkyLight\n    }\n\n    bot._client.on('login', (packet) => {\n      handleDimensionData(packet)\n    })\n    bot._client.on('respawn', (packet) => {\n      handleDimensionData(packet)\n    })\n\n    // Movement tracking\n    bot.on('move', () => {\n      this.updateMovementState()\n    })\n\n    // Item tracking\n    bot.on('heldItemChanged', () => {\n      return this.updateHeldItem(false)\n    })\n    bot.inventory.on('updateSlot', (index) => {\n      if (index === 45) this.updateHeldItem(true)\n    })\n    const updateSneakingOrFlying = () => {\n      this.updateMovementState()\n      this.reactive.sneaking = bot.controlState.sneak\n      this.reactive.flying = gameAdditionalState.isFlying\n      this.reactive.eyeHeight = bot.controlState.sneak && !gameAdditionalState.isFlying ? 1.27 : 1.62\n    }\n    bot.on('physicsTick', () => {\n      if (this.isUsingItem) this.reactive.itemUsageTicks++\n      updateSneakingOrFlying()\n    })\n    // todo move from gameAdditionalState to reactive directly\n    subscribeKey(gameAdditionalState, 'isSneaking', () => {\n      updateSneakingOrFlying()\n    })\n    subscribeKey(gameAdditionalState, 'isFlying', () => {\n      updateSneakingOrFlying()\n    })\n\n    // Initial held items setup\n    this.updateHeldItem(false)\n    this.updateHeldItem(true)\n\n    bot.on('game', () => {\n      this.reactive.gameMode = bot.game.gameMode\n    })\n    this.reactive.gameMode = bot.game?.gameMode\n\n    customEvents.on('gameLoaded', () => {\n      this.reactive.team = bot.teamMap[bot.username]\n    })\n\n    this.watchReactive()\n  }\n\n  // #region Movement and Physics State\n  private updateMovementState () {\n    if (!bot?.entity || this.disableStateUpdates) return\n\n    const { velocity } = bot.entity\n    const isOnGround = bot.entity.onGround\n    const VELOCITY_THRESHOLD = 0.01\n    const SPRINTING_VELOCITY = 0.15\n    const OFF_GROUND_THRESHOLD = 0 // ms before switching to SNEAKING when off ground\n\n    const now = performance.now()\n    const deltaTime = now - this.lastUpdateTime\n    this.lastUpdateTime = now\n\n    // this.lastVelocity = velocity\n\n    // Update time off ground\n    if (isOnGround) {\n      this.timeOffGround = 0\n    } else {\n      this.timeOffGround += deltaTime\n    }\n\n    if (gameAdditionalState.isSneaking || gameAdditionalState.isFlying || (this.timeOffGround > OFF_GROUND_THRESHOLD)) {\n      this.reactive.movementState = 'SNEAKING'\n    } else if (Math.abs(velocity.x) > VELOCITY_THRESHOLD || Math.abs(velocity.z) > VELOCITY_THRESHOLD) {\n      this.reactive.movementState = Math.abs(velocity.x) > SPRINTING_VELOCITY || Math.abs(velocity.z) > SPRINTING_VELOCITY\n        ? 'SPRINTING'\n        : 'WALKING'\n    } else {\n      this.reactive.movementState = 'NOT_MOVING'\n    }\n  }\n\n  // #region Held Item State\n  private updateHeldItem (isLeftHand: boolean) {\n    const newItem = isLeftHand ? bot.inventory.slots[45] : bot.heldItem\n    if (!newItem) {\n      if (isLeftHand) {\n        this.reactive.heldItemOff = undefined\n      } else {\n        this.reactive.heldItemMain = undefined\n      }\n      return\n    }\n\n    const block = loadedData.blocksByName[newItem.name]\n    const blockProperties = block ? new window.PrismarineBlock(block.id, 'void', newItem.metadata).getProperties() : {}\n    const item: HandItemBlock = {\n      name: newItem.name,\n      properties: blockProperties,\n      id: newItem.type,\n      type: block ? 'block' : 'item',\n      fullItem: newItem,\n    }\n\n    if (isLeftHand) {\n      this.reactive.heldItemOff = item\n    } else {\n      this.reactive.heldItemMain = item\n    }\n    // this.events.emit('heldItemChanged', item, isLeftHand)\n  }\n\n  startUsingItem () {\n    if (this.isUsingItem) return\n    this.isUsingItem = true\n    this.reactive.itemUsageTicks = 0\n  }\n\n  stopUsingItem () {\n    this.isUsingItem = false\n    this.reactive.itemUsageTicks = 0\n  }\n\n  getItemUsageTicks (): number {\n    return this.reactive.itemUsageTicks\n  }\n\n  watchReactive () {\n    subscribeKey(this.reactive, 'eyeHeight', () => {\n      appViewer.backend?.updateCamera(bot.entity.position, bot.entity.yaw, bot.entity.pitch)\n    })\n  }\n\n  // #endregion\n}\n\nexport const playerState = new PlayerStateControllerMain()\nwindow.playerState = playerState\n","import { defaultsDeep } from 'lodash'\nimport { disabledSettings, options, qsOptions } from './optionsStorage'\nimport { miscUiState } from './globalState'\nimport { setLoadingScreenStatus } from './appStatus'\nimport { setStorageDataOnAppConfigLoad } from './react/appStorageProvider'\nimport { customKeymaps, updateBinds } from './controls'\n\nexport type CustomAction = {\n  readonly type: string\n  readonly input: readonly any[]\n}\n\nexport type ActionType = string | CustomAction\n\nexport type ActionHoldConfig = {\n  readonly command: ActionType\n  readonly longPressAction?: ActionType\n  readonly duration?: number\n  readonly threshold?: number\n}\n\nexport type MobileButtonConfig = {\n  readonly label?: string\n  readonly icon?: string\n  readonly action?: ActionType\n  readonly actionHold?: ActionType | ActionHoldConfig\n  readonly iconStyle?: React.CSSProperties\n}\n\nexport type AppConfig = {\n  // defaultHost?: string\n  // defaultHostSave?: string\n  defaultProxy?: string\n  // defaultProxySave?: string\n  // defaultVersion?: string\n  peerJsServer?: string\n  peerJsServerFallback?: string\n  promoteServers?: Array<{ ip, description, version? }>\n  mapsProvider?: string\n\n  appParams?: Record<string, any> // query string params\n  rightSideText?: string\n\n  defaultSettings?: Record<string, any>\n  forceSettings?: Record<string, boolean>\n  // hideSettings?: Record<string, boolean>\n  allowAutoConnect?: boolean\n  splashText?: string\n  splashTextFallback?: string\n  pauseLinks?: Array<Array<Record<string, any>>>\n  mobileButtons?: MobileButtonConfig[]\n  keybindings?: Record<string, any>\n  defaultLanguage?: string\n  displayLanguageSelector?: boolean\n  supportedLanguages?: string[]\n  showModsButton?: boolean\n  defaultUsername?: string\n  skinTexturesProxy?: string\n  alwaysReconnectButton?: boolean\n  reportBugButtonWithReconnect?: boolean\n  disabledCommands?: string[] // Array of command IDs to disable (e.g. ['general.jump', 'general.chat'])\n}\n\nexport const loadAppConfig = (appConfig: AppConfig) => {\n\n  if (miscUiState.appConfig) {\n    Object.assign(miscUiState.appConfig, appConfig)\n  } else {\n    miscUiState.appConfig = appConfig\n  }\n\n  if (appConfig.forceSettings) {\n    for (const [key, value] of Object.entries(appConfig.forceSettings)) {\n      if (value) {\n        disabledSettings.value.add(key)\n        // since the setting is forced, we need to set it to that value\n        if (appConfig.defaultSettings && key in appConfig.defaultSettings && !qsOptions[key]) {\n          options[key] = appConfig.defaultSettings[key]\n        }\n      } else {\n        disabledSettings.value.delete(key)\n      }\n    }\n  }\n  // todo apply defaultSettings to defaults even if not forced in case of remote config\n\n  if (appConfig.keybindings) {\n    Object.assign(customKeymaps, defaultsDeep(appConfig.keybindings, customKeymaps))\n    updateBinds(customKeymaps)\n  }\n\n  appViewer?.appConfigUdpate()\n\n  setStorageDataOnAppConfigLoad(appConfig)\n}\n\nexport const isBundledConfigUsed = !!process.env.INLINED_APP_CONFIG\n\nif (isBundledConfigUsed) {\n  loadAppConfig(process.env.INLINED_APP_CONFIG as AppConfig ?? {})\n} else {\n  void window.fetch('config.json').then(async res => res.json()).then(c => c, (error) => {\n  // console.warn('Failed to load optional app config.json', error)\n  // return {}\n    setLoadingScreenStatus('Failed to load app config.json', true)\n  }).then((config: AppConfig) => {\n    loadAppConfig(config)\n  })\n}\n","import { options } from '../optionsStorage'\n\ninterface Timer {\n  id: number\n  callback: () => void\n  targetTime: number\n  isInterval: boolean\n  interval?: number\n  cleanup?: () => void\n}\n\nlet nextTimerId = 1\nconst timers: Timer[] = []\n\n// TODO implementation breaks tps (something is wrong with intervals)\nconst fixBrowserTimers = () => {\n  const originalSetTimeout = window.setTimeout\n  //@ts-expect-error\n  window.setTimeout = (callback: () => void, delay: number) => {\n    if (!delay) {\n      return originalSetTimeout(callback)\n    }\n    const id = nextTimerId++\n    const targetTime = performance.now() + delay\n    timers.push({ id, callback, targetTime, isInterval: false })\n    originalSetTimeout(() => {\n      checkTimers()\n    }, delay)\n    return id\n  }\n\n  const originalSetInterval = window.setInterval\n  //@ts-expect-error\n  window.setInterval = (callback: () => void, interval: number) => {\n    if (!interval) {\n      return originalSetInterval(callback, interval)\n    }\n    const id = nextTimerId++\n    const targetTime = performance.now() + interval\n    const originalInterval = originalSetInterval(() => {\n      checkTimers()\n    }, interval)\n    timers.push({\n      id,\n      callback,\n      targetTime,\n      isInterval: true,\n      interval,\n      cleanup () {\n        originalClearInterval(originalInterval)\n      },\n    })\n    return id\n  }\n\n  const originalClearTimeout = window.clearTimeout\n  //@ts-expect-error\n  window.clearTimeout = (id: number) => {\n    const index = timers.findIndex(t => t.id === id)\n    if (index !== -1) {\n      timers.splice(index, 1)\n    }\n    return originalClearTimeout(id)\n  }\n\n  const originalClearInterval = window.clearInterval\n  //@ts-expect-error\n  window.clearInterval = (id: number) => {\n    const index = timers.findIndex(t => t.id === id)\n    if (index !== -1) {\n      const timer = timers[index]\n      if (timer.cleanup) {\n        timer.cleanup()\n      }\n      timers.splice(index, 1)\n    }\n    return originalClearInterval(id)\n  }\n}\n\nexport const checkTimers = () => {\n  const now = performance.now()\n\n  let triggered = false\n  for (let i = timers.length - 1; i >= 0; i--) {\n    const timer = timers[i]\n\n    if (now >= timer.targetTime) {\n      triggered = true\n      timer.callback()\n\n      if (timer.isInterval && timer.interval) {\n        // Reschedule interval\n        timer.targetTime = now + timer.interval\n      } else {\n        // Remove one-time timer\n        timers.splice(i, 1)\n      }\n    }\n  }\n\n  if (!triggered) {\n    console.log('No timers triggered!')\n  }\n}\n\n// workaround for browser timers throttling after 5 minutes of tab inactivity\nexport const preventThrottlingWithSound = () => {\n  try {\n    const audioContext = new (window.AudioContext || (window as any).webkitAudioContext)()\n    const oscillator = audioContext.createOscillator()\n    const gainNode = audioContext.createGain()\n\n    // Unfortunatelly cant use 0\n    gainNode.gain.value = 0.001\n\n    // Connect nodes\n    oscillator.connect(gainNode)\n    gainNode.connect(audioContext.destination)\n\n    // Use a very low frequency\n    oscillator.frequency.value = 1\n\n    // Start playing\n    oscillator.start()\n\n    return async () => {\n      try {\n        oscillator.stop()\n        await audioContext.close()\n      } catch (err) {\n        console.warn('Error stopping silent audio:', err)\n      }\n    }\n  } catch (err) {\n    console.error('Error creating silent audio:', err)\n    return () => {}\n  }\n}\n","import { subscribeKey } from 'valtio/utils'\nimport { preventThrottlingWithSound } from '../core/timers'\nimport { options } from '../optionsStorage'\n\ncustomEvents.on('mineflayerBotCreated', () => {\n  const abortController = new AbortController()\n\n  const maybeGoBackgroundKickPrevention = () => {\n    if (options.preventBackgroundTimeoutKick && !bot.backgroundKickPrevention) {\n      const unsub = preventThrottlingWithSound()\n      bot.on('end', unsub)\n      bot.backgroundKickPrevention = true\n    }\n  }\n  maybeGoBackgroundKickPrevention()\n  subscribeKey(options, 'preventBackgroundTimeoutKick', (value) => {\n    maybeGoBackgroundKickPrevention()\n  })\n\n  // wake lock\n  const requestWakeLock = async () => {\n    if (!('wakeLock' in navigator)) {\n      console.warn('Wake Lock API is not supported in this browser')\n      return\n    }\n\n    if (options.preventSleep && !bot.wakeLock && !bot.lockRequested) {\n      bot.lockRequested = true\n      bot.wakeLock = await navigator.wakeLock.request('screen').finally(() => {\n        bot.lockRequested = false\n      })\n\n      bot.wakeLock.addEventListener('release', () => {\n        bot.wakeLock = undefined\n      }, {\n        once: true,\n      })\n    }\n\n    if (!options.preventSleep && bot.wakeLock) {\n      void bot.wakeLock.release()\n    }\n  }\n  document.addEventListener('visibilitychange', () => {\n    if (document.visibilityState === 'visible') {\n      // we are back to the tab, request wake lock again\n      void requestWakeLock()\n    }\n  }, {\n    signal: abortController.signal,\n  })\n  void requestWakeLock()\n  subscribeKey(options, 'preventSleep', (value) => {\n    void requestWakeLock()\n  })\n\n  bot.on('end', () => {\n    if (bot.wakeLock) {\n      void bot.wakeLock.release()\n    }\n    abortController.abort()\n  })\n})\n\ndeclare module 'mineflayer' {\n  interface Bot {\n    backgroundKickPrevention?: boolean\n    wakeLock?: WakeLockSentinel\n    lockRequested?: boolean\n  }\n}\n","import { createMouse } from 'mineflayer-mouse'\nimport { Bot } from 'mineflayer'\nimport { Block } from 'prismarine-block'\nimport { getThreeJsRendererMethods } from 'renderer/viewer/three/threeJsMethods'\nimport { isGameActive, showModal } from '../../globalState'\n\nimport { isCypress } from '../../standaloneUtils'\nimport { playerState } from '../playerState'\nimport { sendVideoInteraction, videoCursorInteraction } from '../../customChannels'\n\nfunction cursorBlockDisplay (bot: Bot) {\n  const updateCursorBlock = (data?: { block: Block }) => {\n    if (!data?.block || bot.game.gameMode === 'spectator') {\n      playerState.reactive.lookingAtBlock = undefined\n      return\n    }\n\n    const { block } = data\n    playerState.reactive.lookingAtBlock = {\n      x: block.position.x,\n      y: block.position.y,\n      z: block.position.z,\n      shapes: bot.mouse.getBlockCursorShapes(block).map(shape => {\n        return bot.mouse.getDataFromShape(shape)\n      })\n    }\n  }\n\n  bot.on('highlightCursorBlock', updateCursorBlock)\n  bot.on('game', () => {\n    const block = bot.mouse.getCursorState().cursorBlock\n    updateCursorBlock(block ? { block } : undefined)\n  })\n\n  bot.on('blockBreakProgressStage', (block, stage) => {\n    const mergedShape = bot.mouse.getMergedCursorShape(block)\n    playerState.reactive.diggingBlock = stage === null ? undefined : {\n      x: block.position.x,\n      y: block.position.y,\n      z: block.position.z,\n      stage,\n      mergedShape: mergedShape ? bot.mouse.getDataFromShape(mergedShape) : undefined\n    }\n  })\n}\n\nexport default (bot: Bot) => {\n  bot.loadPlugin(createMouse({}))\n\n  domListeners(bot)\n  cursorBlockDisplay(bot)\n\n  otherListeners()\n}\n\nconst otherListeners = () => {\n  bot.on('startDigging', (block) => {\n    customEvents.emit('digStart')\n  })\n\n  bot.on('goingToSleep', () => {\n    showModal({ reactType: 'bed' })\n  })\n\n  bot.on('botArmSwingStart', (hand) => {\n    getThreeJsRendererMethods()?.changeHandSwingingState(true, hand === 'left')\n  })\n\n  bot.on('botArmSwingEnd', (hand) => {\n    getThreeJsRendererMethods()?.changeHandSwingingState(false, hand === 'left')\n  })\n\n  bot.on('startUsingItem', (item, slot, isOffhand, duration) => {\n    customEvents.emit('activateItem', item, isOffhand ? 45 : bot.quickBarSlot, isOffhand)\n    playerState.startUsingItem()\n  })\n\n  bot.on('stopUsingItem', () => {\n    playerState.stopUsingItem()\n  })\n}\n\nconst domListeners = (bot: Bot) => {\n  const abortController = new AbortController()\n  document.addEventListener('mousedown', (e) => {\n    if (e.isTrusted && !document.pointerLockElement && !isCypress()) return\n    if (!isGameActive(true)) return\n\n    getThreeJsRendererMethods()?.onPageInteraction()\n\n    const videoInteraction = videoCursorInteraction()\n    if (videoInteraction) {\n      sendVideoInteraction(videoInteraction.id, videoInteraction.x, videoInteraction.y, e.button === 0)\n      return\n    }\n\n    if (e.button === 0) {\n      bot.leftClickStart()\n    } else if (e.button === 2) {\n      bot.rightClickStart()\n    }\n  }, { signal: abortController.signal })\n\n  document.addEventListener('mouseup', (e) => {\n    if (e.button === 0) {\n      bot.leftClickEnd()\n    } else if (e.button === 2) {\n      bot.rightClickEnd()\n    }\n  }, { signal: abortController.signal })\n\n  bot.mouse.beforeUpdateChecks = () => {\n    if (!document.hasFocus()) {\n      // deactive all buttons\n      bot.mouse.buttons.fill(false)\n    }\n  }\n\n  bot.on('end', () => {\n    abortController.abort()\n  })\n}\n","export default () => {\n  // not plugin so its loaded earlier\n  customEvents.on('mineflayerBotCreated', () => {\n    botInit()\n  })\n}\n\nconst waitingPackets = {} as Record<string, Array<{ name: string, data: any }>>\n\nconst botInit = () => {\n  // PATCH READING\n  bot._client.on('packet', (data, meta) => {\n    if (meta.name === 'map_chunk') {\n      if (data.groundUp && data.bitMap === 1 && data.chunkData.every(x => x === 0)) {\n        data.chunkData = Buffer.from(Array.from({ length: 12_544 }).fill(0) as any)\n      }\n    }\n  })\n\n  // PATCH WRITING\n\n  const clientWrite = bot._client.write.bind(bot._client)\n  const sendAllPackets = (name: string, data: any) => {\n    for (const packet of waitingPackets[name]) {\n      clientWrite(packet.name, packet.data)\n    }\n    delete waitingPackets[name]\n  }\n\n  //@ts-expect-error\n  bot._client.write = (name: string, data: any) => {\n    // if (name === 'position' || name === 'position_look' || name === 'look' || name === 'teleport_confirm') {\n    //   const chunkX = Math.floor(bot.entity.position.x / 16)\n    //   const chunkZ = Math.floor(bot.entity.position.z / 16)\n    //   const loadedColumns = bot.world.getColumns()\n    //   if (loadedColumns.some((c) => c.chunkX === chunkX && c.chunkZ === chunkZ)) {\n    //     sendAllPackets('position', data)\n    //   } else {\n    //     waitingPackets['position'] = [...(waitingPackets['position'] || []), { name, data }]\n    //     return\n    //   }\n    // }\n    if (name === 'settings') {\n      data['viewDistance'] = Math.max(data['viewDistance'], 3)\n    }\n    return clientWrite(name, data)\n  }\n\n  // PATCH INTERACTIONS\n}\n","import { versionToNumber } from 'renderer/viewer/common/utils'\n\nexport default () => {\n  let i = 0\n  bot.pingProxy = async () => {\n    const curI = ++i\n    return new Promise(resolve => {\n      //@ts-expect-error\n      bot._client.socket._ws.send(`ping:${curI}`)\n      const date = Date.now()\n      const onPong = (received) => {\n        if (received !== curI.toString()) return\n        bot._client.socket.off('pong' as any, onPong)\n        resolve(Date.now() - date)\n      }\n      bot._client.socket.on('pong' as any, onPong)\n    })\n  }\n\n  let pingId = 0\n  bot.pingServer = async () => {\n    if (versionToNumber(bot.version) < versionToNumber('1.20.2')) return bot.player?.ping ?? -1\n    return new Promise<number>((resolve) => {\n      const curId = pingId++\n      bot._client.write('ping_request', { id: BigInt(curId) })\n      const date = Date.now()\n      const onPong = (data: { id: bigint }) => {\n        if (BigInt(data.id) !== BigInt(curId)) return\n        bot._client.off('ping_response' as any, onPong)\n        resolve(Date.now() - date)\n      }\n      bot._client.on('ping_response' as any, onPong)\n    })\n  }\n}\n\ndeclare module 'mineflayer' {\n  interface Bot {\n    pingProxy: () => Promise<number>\n    pingServer: () => Promise<number | undefined>\n  }\n}\n","import { Bot } from 'mineflayer'\nimport { getAppLanguage } from '../../optionsStorage'\n\nexport default () => {\n  customEvents.on('mineflayerBotCreated', () => {\n    bot.loadPlugin(plugin)\n  })\n}\n\nconst plugin = (bot: Bot) => {\n  bot.settings['locale'] = getAppLanguage()\n}\n","import { lastConnectOptions } from '../../react/AppStatusProvider'\nimport mouse from './mouse'\nimport packetsPatcher from './packetsPatcher'\nimport { localRelayServerPlugin } from './packetsRecording'\nimport ping from './ping'\nimport webFeatures from './webFeatures'\n\n// register\nwebFeatures()\npacketsPatcher()\n\n\ncustomEvents.on('mineflayerBotCreated', () => {\n  if (lastConnectOptions.value!.server) {\n    bot.loadPlugin(ping)\n  }\n  bot.loadPlugin(mouse)\n  if (!lastConnectOptions.value!.worldStateFileContents) {\n    bot.loadPlugin(localRelayServerPlugin)\n  }\n})\n","\n\nexport const parseServerAddress = (address: string | undefined, removeHttp = true): ParsedServerAddress => {\n  if (!address) {\n    return { host: '', isWebSocket: false, serverIpFull: '' }\n  }\n\n  if (/^ws:[^/]/.test(address)) address = address.replace('ws:', 'ws://')\n  if (/^wss:[^/]/.test(address)) address = address.replace('wss:', 'wss://')\n  const isWebSocket = address.startsWith('ws://') || address.startsWith('wss://')\n  if (isWebSocket) {\n    return { host: address, isWebSocket: true, serverIpFull: address }\n  }\n\n  if (removeHttp) {\n    address = address.replace(/^https?:\\/\\//, '')\n  }\n\n  const parts = address.split(':')\n\n  let version: string | null = null\n  let port: string | null = null\n\n  for (let i = 0; i < parts.length; i++) {\n    const part = parts[i]\n    if (/^\\d+\\.\\d+(\\.\\d+)?$/.test(part)) {\n      version = part\n      parts.splice(i, 1)\n      i--\n    }\n    if (/^\\d+$/.test(part)) {\n      port = part\n      parts.splice(i, 1)\n      i--\n    }\n  }\n\n  const host = parts.join(':')\n  return {\n    host,\n    ...(port ? { port } : {}),\n    ...(version ? { version } : {}),\n    isWebSocket: false,\n    serverIpFull: port ? `${host}:${port}` : host\n  }\n}\n\nexport interface ParsedServerAddress {\n  host: string\n  port?: string\n  version?: string\n  isWebSocket: boolean\n  serverIpFull: string\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"root\":\"root-HBZyzP\",\"content\":\"content-C05XsQ\",\"content_loading\":\"content_loading-whQTDO\",\"contentLoading\":\"content_loading-whQTDO\",\"world_root\":\"world_root-HUO6kD\",\"worldRoot\":\"world_root-HUO6kD\",\"world_title\":\"world_title-ZeGEbR\",\"worldTitle\":\"world_title-ZeGEbR\",\"world_title_right\":\"world_title_right-_QaLaq\",\"worldTitleRight\":\"world_title_right-_QaLaq\",\"world_info\":\"world_info-aesWwe\",\"worldInfo\":\"world_info-aesWwe\",\"world_info_formatted\":\"world_info_formatted-T9yz4t\",\"worldInfoFormatted\":\"world_info_formatted-T9yz4t\",\"world_info_description_line\":\"world_info_description_line-m_UAFX\",\"worldInfoDescriptionLine\":\"world_info_description_line-m_UAFX\",\"world_image\":\"world_image-RCHVi3\",\"worldImage\":\"world_image-RCHVi3\",\"image_missing\":\"image_missing-kzcgld\",\"imageMissing\":\"image_missing-kzcgld\",\"world_focused\":\"world_focused-KhkWMT\",\"worldFocused\":\"world_focused-KhkWMT\",\"title\":\"title-zNQMwq\"};","import Button from './Button'\n\ninterface Props {\n  tabs: string[]\n  activeTab: string\n  onTabChange: (tab: string) => void\n\n  disabledTabs?: string[]\n  labels?: Record<string, string>\n  fullSize?: boolean\n  style?: React.CSSProperties\n}\n\nexport default ({ tabs, activeTab, labels, onTabChange, fullSize, style, disabledTabs }: Props) => {\n  return <div style={{\n    width: fullSize ? '100%' : undefined,\n    display: fullSize ? 'flex' : undefined,\n    ...style,\n  }}\n  >\n    {tabs.map(tab => {\n      const active = tab === activeTab\n      return <div\n        key={tab} style={{\n          position: 'relative',\n          width: fullSize ? '100%' : 150,\n        }}\n      >\n        <Button\n          disabled={active || disabledTabs?.includes(tab)} style={{\n            width: '100%',\n            height: '100%',\n            // background: active ? 'rgb(77, 77, 77)' : 'rgb(114, 114, 114)',\n            color: 'white',\n            cursor: 'pointer',\n            fontSize: 9,\n            padding: '2px 0px',\n          }} onClick={() => {\n            onTabChange(tab)\n          }}\n        >{labels?.[tab] ?? tab}\n        </Button>\n        {active && <div style={{\n          position: 'absolute',\n          bottom: 0,\n          left: 0,\n          right: 0,\n          height: 1,\n          background: 'white',\n          width: '50%',\n          margin: 'auto',\n        }}\n        />}\n      </div>\n    })}\n  </div>\n}\n","import { useUtilsEffect } from '@zardoy/react-util'\nimport { useEffect, useState } from 'react'\nimport { useMedia } from 'react-use'\n\nconst SMALL_SCREEN_MEDIA = '@media (max-width: 440px)'\nexport const useIsSmallWidth = () => {\n  return useMedia(SMALL_SCREEN_MEDIA.replace('@media ', ''))\n}\n\nexport const usePassesWindowDimensions = (minWidth: number | null = null, minHeight: number | null = null) => {\n  let media = '('\n  if (minWidth !== null) {\n    media += `min-width: ${minWidth}px, `\n  }\n  if (minHeight !== null) {\n    media += `min-height: ${minHeight}px, `\n  }\n  media += ')'\n  return useMedia(media)\n}\n\nexport const useCopyKeybinding = (getCopyText: () => string | undefined) => {\n  useUtilsEffect(({ signal }) => {\n    addEventListener('keydown', (e) => {\n      if (e.code === 'KeyC' && (e.ctrlKey || e.metaKey) && !e.shiftKey && !e.altKey) {\n        const { activeElement } = document\n        if (activeElement instanceof HTMLInputElement || activeElement instanceof HTMLTextAreaElement) {\n          return\n        }\n        if (window.getSelection()?.toString()) {\n          return\n        }\n        e.preventDefault()\n        const copyText = getCopyText()\n        if (!copyText) return\n        void navigator.clipboard.writeText(copyText)\n      }\n    }, { signal })\n  }, [getCopyText])\n}\n\nexport const useIsHashActive = (hash: `#${string}`) => {\n  const [isActive, setIsActive] = useState(false)\n\n  useEffect(() => {\n    const checkHash = () => {\n      setIsActive(location.hash === hash)\n    }\n    checkHash()\n    addEventListener('hashchange', checkHash)\n    return () => {\n      removeEventListener('hashchange', checkHash)\n    }\n  }, [])\n  return isActive\n}\n","import classNames from 'classnames'\nimport React, { Fragment, useEffect, useMemo, useRef, useState } from 'react'\n\n// todo optimize size\nimport missingWorldPreview from 'mc-assets/dist/other-textures/latest/gui/presets/isles.png'\nimport { filesize } from 'filesize'\nimport useTypedEventListener from 'use-typed-event-listener'\nimport { focusable } from 'tabbable'\nimport styles from './singleplayer.module.css'\nimport Input from './Input'\nimport Button from './Button'\nimport Tabs from './Tabs'\nimport MessageFormattedString from './MessageFormattedString'\nimport { useIsSmallWidth } from './simpleHooks'\nimport PixelartIcon from './PixelartIcon'\n\nexport interface WorldProps {\n  name: string\n  title: string\n  size?: number\n  lastPlayed?: number\n  isFocused?: boolean\n  iconSrc?: string\n  detail?: string\n  formattedTextOverride?: string\n  worldNameRight?: string\n  worldNameRightGrayed?: string\n  afterTitleUi?: React.ReactNode\n  onFocus?: (name: string) => void\n  onInteraction?(interaction: 'enter' | 'space')\n  elemRef?: React.Ref<HTMLDivElement>\n  offline?: boolean\n  group?: string\n}\n\nconst GroupHeader = ({ name, count, expanded, onToggle }: { name: string, count: number, expanded: boolean, onToggle: () => void }) => {\n  return <div\n    className={styles.world_root}\n    style={{ background: 'none', cursor: 'pointer', height: 'auto', fontSize: '8px' }}\n    onClick={onToggle}\n  >\n    <div style={{ display: 'flex', alignItems: 'center', gap: '4px', color: '#bcbcbc' }}>\n      <span>{expanded ? '' : ''}</span>\n      <span>{name}</span>\n      <span>({count})</span>\n    </div>\n  </div>\n}\n\nconst World = ({ name, isFocused, title, lastPlayed, size, detail = '', onFocus, onInteraction, iconSrc, formattedTextOverride, worldNameRight, worldNameRightGrayed, afterTitleUi, elemRef, offline }: WorldProps & { ref?: React.Ref<HTMLDivElement> }) => {\n  const timeRelativeFormatted = useMemo(() => {\n    if (!lastPlayed) return ''\n    const formatter = new Intl.RelativeTimeFormat('en', { numeric: 'auto' })\n    const diff = Date.now() - lastPlayed\n    const minutes = Math.floor(diff / 1000 / 60)\n    const hours = Math.floor(minutes / 60)\n    const days = Math.floor(hours / 24)\n    // const weeks = Math.floor(days / 7)\n    // const months = Math.floor(days / 30)\n    if (days > 0) return formatter.format(-days, 'day')\n    if (hours > 0) return formatter.format(-hours, 'hour')\n    return formatter.format(-minutes, 'minute')\n  }, [lastPlayed])\n  const sizeFormatted = useMemo(() => {\n    if (!size) return ''\n    return filesize(size)\n  }, [size])\n\n  return <div\n    ref={elemRef}\n    className={classNames(styles.world_root, isFocused ? styles.world_focused : undefined)}\n    style={{ position: 'relative' }}\n    tabIndex={0}\n    onFocus={() => onFocus?.(name)}\n    onKeyDown={(e) => {\n      if (e.code === 'Enter' || e.code === 'Space') {\n        e.preventDefault()\n        onInteraction?.(e.code === 'Enter' ? 'enter' : 'space')\n      }\n    }}\n    onDoubleClick={() => onInteraction?.('enter')}\n  >\n    <img className={`${styles.world_image} ${iconSrc ? '' : styles.image_missing}`} src={iconSrc ?? missingWorldPreview} alt='' />\n    <div className={styles.world_info}>\n      <div className={styles.world_title}>\n        <div>{title}</div>\n        <div className={styles.world_title_right}>\n          {worldNameRightGrayed && <span style={{ color: '#878787', fontSize: 8 }}>{worldNameRightGrayed}</span>}\n          {offline ? (\n            <span style={{ color: 'red', display: 'flex', alignItems: 'center', gap: 4 }}>\n              <PixelartIcon iconName=\"signal-off\" width={12} />\n              Offline\n            </span>\n          ) : worldNameRight?.startsWith('ws') ? (\n            <span style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\n              <PixelartIcon iconName=\"cellular-signal-3\" width={12} />\n              {worldNameRight.slice(3)}\n            </span>\n          ) : worldNameRight}\n        </div>\n      </div>\n      {formattedTextOverride ? <div className={styles.world_info_formatted}>\n        <MessageFormattedString message={formattedTextOverride} />\n      </div> :\n        <>\n          <div className={styles.world_info_description_line}>{timeRelativeFormatted} {detail.slice(-30)}</div>\n          <div className={styles.world_info_description_line}>{sizeFormatted}</div>\n        </>}\n    </div>\n    <div style={{ position: 'absolute', left: '100%', top: '50%', transform: 'translateY(-50%)', marginLeft: 4, display: 'flex', alignItems: 'center' }}>\n      {afterTitleUi}\n    </div>\n  </div>\n}\n\ninterface Props {\n  worldData: WorldProps[] | null // null means loading\n  serversLayout?: boolean\n  firstRowChildrenOverride?: React.ReactNode\n  searchRowChildrenOverride?: React.ReactNode\n  providers?: Record<string, string>\n  activeProvider?: string\n  setActiveProvider?: (provider: string) => void\n  providerActions?: Record<string, (() => void) | undefined | JSX.Element>\n  disabledProviders?: string[]\n  isReadonly?: boolean\n  error?: string\n  warning?: string\n  warningAction?: () => void\n  warningActionLabel?: string\n  hidden?: boolean\n\n  onWorldAction (action: 'load' | 'export' | 'delete' | 'edit', worldName: string): void\n  onGeneralAction (action: 'cancel' | 'create'): void\n  onRowSelect? (name: string, index: number): void\n  defaultSelectedRow?: number\n  selectedRow?: number\n  listStyle?: React.CSSProperties\n  setListHovered?: (hovered: boolean) => void\n  secondRowStyles?: React.CSSProperties\n  lockedEditing?: boolean\n  retriggerFocusCounter?: number\n}\n\nexport default ({\n  worldData,\n  onGeneralAction,\n  onWorldAction,\n  firstRowChildrenOverride,\n  serversLayout,\n  searchRowChildrenOverride,\n  activeProvider,\n  setActiveProvider,\n  providerActions,\n  providers = {},\n  disabledProviders,\n  error,\n  isReadonly,\n  warning, warningAction, warningActionLabel,\n  hidden,\n  onRowSelect,\n  defaultSelectedRow,\n  selectedRow,\n  listStyle,\n  setListHovered,\n  secondRowStyles,\n  lockedEditing,\n  retriggerFocusCounter\n}: Props) => {\n  const containerRef = useRef<any>()\n  const firstButton = useRef<HTMLButtonElement>(null)\n  const worldRefs = useRef<Record<string, HTMLDivElement | null>>({})\n\n  useTypedEventListener(window, 'keydown', (e) => {\n    if ((e.code === 'ArrowDown' || e.code === 'ArrowUp')) {\n      e.preventDefault()\n      const dir = e.code === 'ArrowDown' ? 1 : -1\n      const elements = focusable(containerRef.current).filter(e => e.getAttribute('tabindex') !== '-1')\n      const focusedElemIndex = elements.indexOf(document.activeElement as HTMLElement)\n      if (focusedElemIndex === -1) return\n      const nextElem = elements[focusedElemIndex + dir]\n      nextElem?.focus()\n    }\n  })\n\n  const [search, setSearch] = useState('')\n  const [focusedWorld, setFocusedWorld] = useState(defaultSelectedRow === undefined ? '' : worldData?.[defaultSelectedRow]?.name ?? '')\n  const [expandedGroups, setExpandedGroups] = useState<Record<string, boolean>>({})\n\n  useEffect(() => {\n    setFocusedWorld('')\n  }, [activeProvider])\n\n  useEffect(() => {\n    if (selectedRow === undefined) return\n    const worldName = worldData?.[selectedRow]?.name\n    setFocusedWorld(worldName ?? '')\n    if (worldName) {\n      worldRefs.current[worldName]?.focus()\n    }\n  }, [selectedRow, worldData?.[selectedRow as any]?.name, retriggerFocusCounter])\n\n  const onRowSelectHandler = (name: string, index: number) => {\n    onRowSelect?.(name, index)\n    setFocusedWorld(name)\n  }\n  const isSmallWidth = useIsSmallWidth()\n\n  const toggleGroup = (groupName: string) => {\n    setExpandedGroups(prev => ({\n      ...prev,\n      [groupName]: prev[groupName] === undefined ? false : !prev[groupName]\n    }))\n  }\n\n  return <div ref={containerRef} hidden={hidden}>\n    <div className=\"dirt-bg\" />\n    <div className={classNames('fullscreen', styles.root)}>\n      <span className={classNames('screen-title', styles.title)}>{serversLayout ? 'Join Java Servers' : 'Select Saved World'}</span>\n      {searchRowChildrenOverride || <div style={{ display: 'flex', flexDirection: 'column' }}>\n        <Input autoFocus value={search} onChange={({ target: { value } }) => setSearch(value)} />\n      </div>}\n      <div className={classNames(styles.content, !worldData && styles.content_loading)}>\n        <Tabs\n          tabs={Object.keys(providers)} disabledTabs={disabledProviders} activeTab={activeProvider ?? ''} labels={providers} onTabChange={(tab) => {\n            setActiveProvider?.(tab as any)\n          }} fullSize\n        />\n        <div\n          style={{\n            marginTop: 3,\n            ...listStyle\n          }}\n          onMouseEnter={() => setListHovered?.(true)}\n          onMouseLeave={() => setListHovered?.(false)}\n        >\n          {\n            providerActions && <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              // overflow: 'auto',\n            }}\n            >\n              <span style={{ fontSize: 9, marginRight: 3 }}>Actions: </span> {Object.entries(providerActions).map(([label, action]) => (\n                typeof action === 'function' ? <Button key={label} onClick={action} style={{ width: 100 }}>{label}</Button> : <Fragment key={label}>{action}</Fragment>\n              ))}\n            </div>\n          }\n          {\n            worldData\n              ? (() => {\n                const filtered = worldData.filter(data => data.title.toLowerCase().includes(search.toLowerCase()))\n                const groups = filtered.reduce<Record<string, WorldProps[]>>((acc, world) => {\n                  const group = world.group || ''\n                  if (!acc[group]) acc[group] = []\n                  acc[group].push(world)\n                  return acc\n                }, {})\n\n                return Object.entries(groups).map(([groupName, worlds]) => (\n                  <React.Fragment key={groupName}>\n                    <GroupHeader\n                      name={groupName}\n                      count={worlds.length}\n                      expanded={expandedGroups[groupName] ?? true}\n                      onToggle={() => toggleGroup(groupName)}\n                    />\n                    {(expandedGroups[groupName] ?? true) && worlds.map(({ name, size, detail, ...rest }, index) => {\n                      const key = name\n                      return (\n                        <World\n                          data-key={key}\n                          key={key}\n                          {...rest}\n                          size={size}\n                          name={name}\n                          elemRef={el => { worldRefs.current[name] = el }}\n                          onFocus={row => onRowSelectHandler(row, index)}\n                          isFocused={focusedWorld === name}\n                          onInteraction={(interaction) => {\n                            if (interaction === 'enter') onWorldAction('load', name)\n                            else if (interaction === 'space') firstButton.current?.focus()\n                          }}\n                          detail={detail}\n                        />\n                      )\n                    })}\n                  </React.Fragment>\n                ))\n              })()\n              : <div style={{\n                fontSize: 10,\n                color: error ? 'red' : 'lightgray',\n              }}>{error || 'Loading (check #dev console if loading too long)...'}\n              </div>\n          }\n          {\n            warning && <div style={{\n              fontSize: 8,\n              color: '#ffa500ba',\n              marginTop: 5,\n              textAlign: 'center',\n            }}\n            >\n              {warning} {warningAction && <a onClick={warningAction}>{warningActionLabel}</a>}\n            </div>\n          }\n        </div>\n      </div>\n      <div style={{ display: 'flex', flexDirection: 'column', minWidth: 400, paddingBottom: 3, alignItems: 'center', }}>\n        {firstRowChildrenOverride || <div>\n          <Button rootRef={firstButton} disabled={!focusedWorld} onClick={() => onWorldAction('load', focusedWorld)}>Load World</Button>\n          <Button onClick={() => onGeneralAction('create')} disabled={isReadonly}>Create New World</Button>\n        </div>}\n        <div style={{\n          ...secondRowStyles,\n          ...isSmallWidth ? { display: 'grid', gridTemplateColumns: '1fr 1fr' } : {}\n        }}>\n          {serversLayout ? <Button style={{ width: 100 }} disabled={!focusedWorld || lockedEditing} onClick={() => onWorldAction('edit', focusedWorld)}>Edit</Button> : <Button style={{ width: 100 }} disabled={!focusedWorld} onClick={() => onWorldAction('export', focusedWorld)}>Export</Button>}\n          <Button style={{ width: 100 }} disabled={!focusedWorld || lockedEditing} onClick={() => onWorldAction('delete', focusedWorld)}>Delete</Button>\n          {serversLayout ?\n            <Button style={{ width: 100 }} onClick={() => onGeneralAction('create')} disabled={lockedEditing}>Add</Button> :\n            <Button style={{ width: 100 }} onClick={() => onWorldAction('edit', focusedWorld)} disabled>Edit</Button>}\n          <Button style={{ width: 100 }} onClick={() => onGeneralAction('cancel')}>Cancel</Button>\n        </div>\n      </div>\n    </div>\n  </div>\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"container\":\"container-Y5gFld\",\"input\":\"input-Vt4rMm\"};","import { useState, CSSProperties } from 'react'\nimport Creatable from 'react-select/creatable'\nimport Input from './Input'\nimport './Select.css'\nimport styles from './select.module.css'\n\n\nexport interface OptionStorage {\n  value: string,\n  label: string\n}\n\ninterface Props {\n  initialOptions: OptionStorage[]\n  updateOptions: (options: string) => void\n  getCssOnInput?: (input: string) => CSSProperties | undefined\n  onValueChange?: (newVal: string) => void\n  defaultValue?: { value: string, label: string }\n  placeholder?: string\n  containerStyle?: CSSProperties\n  disabled?: boolean\n}\n\nexport default ({\n  initialOptions,\n  updateOptions,\n  getCssOnInput,\n  onValueChange,\n  defaultValue,\n  containerStyle,\n  placeholder,\n  disabled\n}: Props) => {\n  const [inputValue, setInputValue] = useState<string | undefined>(defaultValue?.label ?? '')\n  const [currValue, setCurrValue] = useState<string | undefined>(defaultValue?.label ?? '')\n  const [inputStyle, setInputStyle] = useState<CSSProperties>({})\n  const [isFirstClick, setIsFirstClick] = useState(true)\n\n  return <Creatable\n    options={initialOptions}\n    defaultValue={defaultValue}\n    blurInputOnSelect={true}\n    hideSelectedOptions={false}\n    maxMenuHeight={100}\n    isClearable={true}\n    formatCreateLabel={(value) => {\n      return 'Use \"' + value + '\"'\n    }}\n    isDisabled={disabled}\n    placeholder={placeholder ?? ''}\n    onChange={(e, action) => {\n      console.log('value:', e?.value)\n      setCurrValue(e?.label)\n      setInputValue(e?.label)\n      onValueChange?.(e?.value ?? '')\n      updateOptions?.(e?.value ?? '')\n      setInputStyle(getCssOnInput?.(e?.value ?? '') ?? {})\n    }}\n    onInputChange={(e) => {\n      setIsFirstClick(false)\n      setInputValue(e)\n    }}\n    inputValue={inputValue}\n    onFocus={(state) => {\n      setInputValue(currValue)\n    }}\n    filterOption={(option, value) => {\n      return isFirstClick || option.label.includes(value)\n    }}\n    onMenuOpen={() => {\n      setIsFirstClick(true)\n    }}\n    menuPortalTarget={document.body}\n    classNames={{\n      control (state) {\n        return styles.container\n      },\n      input (state) {\n        return styles.input\n      },\n      option (state) {\n        return styles.container\n      }\n    }}\n    styles={{\n      menuPortal (base, state) { return { ...base, zIndex: 10, transform: 'scale(var(--guiScale))', transformOrigin: 'top left' } },\n      container (base, state) { return { ...base, position: 'relative', zIndex: 10 } },\n      control (base, state) { return { ...containerStyle, ...inputStyle } },\n      menu (base, state) { return { position: 'absolute', zIndex: 10 } },\n      option (base, state) {\n        return {\n          boxSizing: 'border-box',\n          padding: '3px',\n          backgroundColor: 'black',\n          border: state.isFocused ? '1px solid white' : '1px solid grey',\n          height: 'fit-content',\n          ...containerStyle\n        }\n      },\n      input (base, state) { return {} },\n      indicatorsContainer (base, state) { return { display: 'none' } },\n      placeholder (base, state) { return { ...base, padding: '3px', position: 'absolute' } },\n      singleValue (base, state) { return { ...base, margin: '0px', position: 'absolute', color: 'white' } },\n      valueContainer (base, state) { return { ...base, padding: '3px' } },\n      noOptionsMessage (base, state) { return { display: 'none' } }\n    }}\n  />\n}\n","import React, { useMemo } from 'react'\nimport { useSnapshot } from 'valtio'\nimport { miscUiState } from '../globalState'\nimport { appQueryParams } from '../appParams'\nimport Singleplayer from './Singleplayer'\nimport Input from './Input'\nimport Button from './Button'\nimport PixelartIcon, { pixelartIcons } from './PixelartIcon'\nimport Select from './Select'\nimport { BaseServerInfo } from './AddServerOrConnect'\nimport { useIsSmallWidth } from './simpleHooks'\nimport { appStorage, SavedProxiesData, ServerHistoryEntry } from './appStorageProvider'\n\nconst getInitialProxies = () => {\n  const proxies = [] as string[]\n  if (miscUiState.appConfig?.defaultProxy) {\n    proxies.push(miscUiState.appConfig.defaultProxy)\n  }\n  return proxies\n}\n\nexport const getCurrentProxy = (): string | undefined => {\n  return appQueryParams.proxy ?? appStorage.proxiesData?.selected ?? getInitialProxies()[0]\n}\n\nexport const getCurrentUsername = () => {\n  return appQueryParams.username ?? appStorage.username\n}\n\ninterface Props extends React.ComponentProps<typeof Singleplayer> {\n  joinServer: (info: BaseServerInfo | string, additional: {\n    shouldSave?: boolean\n    index?: number\n  }) => void\n  onProfileClick?: () => void\n  setQuickConnectIp?: (ip: string) => void\n}\n\nexport default ({\n  joinServer,\n  onProfileClick,\n  setQuickConnectIp,\n  ...props\n}: Props) => {\n  const snap = useSnapshot(appStorage)\n  const username = useMemo(() => getCurrentUsername(), [appQueryParams.username, appStorage.username])\n  const [serverIp, setServerIp] = React.useState('')\n  const [save, setSave] = React.useState(true)\n  const [activeHighlight, setActiveHighlight] = React.useState(undefined as 'quick-connect' | 'server-list' | undefined)\n\n  const updateProxies = (newData: SavedProxiesData) => {\n    appStorage.proxiesData = newData\n  }\n\n  const setUsername = (username: string) => {\n    appStorage.username = username\n  }\n\n  const getActiveHighlightStyles = (type: typeof activeHighlight) => {\n    const styles: React.CSSProperties = {\n      transition: 'filter 0.2s',\n    }\n    if (activeHighlight && activeHighlight !== type) {\n      styles.filter = 'brightness(0.7)'\n    }\n    return styles\n  }\n\n  const isSmallWidth = useIsSmallWidth()\n\n  const initialProxies = getInitialProxies()\n  const proxiesData = snap.proxiesData ?? { proxies: initialProxies, selected: initialProxies[0] }\n  return <Singleplayer\n    {...props}\n    worldData={props.worldData ? props.worldData.map(world => ({\n      ...world\n    })) : null}\n    firstRowChildrenOverride={<form\n      style={{ width: '100%', display: 'flex', justifyContent: 'center' }} onSubmit={(e) => {\n        e.preventDefault()\n        joinServer(serverIp, { shouldSave: save })\n      }}\n    >\n      <div\n        style={{ display: 'flex', gap: 5, alignItems: 'center', ...getActiveHighlightStyles('quick-connect') }}\n        className='quick-connect-row'\n        onMouseEnter={() => setActiveHighlight('quick-connect')}\n        onMouseLeave={() => setActiveHighlight(undefined)}\n      >\n        <Input\n          required\n          placeholder='Quick Connect IP (:version)'\n          value={serverIp}\n          onChange={({ target: { value } }) => {\n            setQuickConnectIp?.(value)\n            setServerIp(value)\n          }}\n          width={isSmallWidth ? 120 : 180}\n          list=\"server-history\"\n          autoComplete=\"on\"\n          autoCorrect=\"off\"\n          autoCapitalize=\"off\"\n          spellCheck=\"false\"\n        />\n        <datalist id=\"server-history\">\n          {[...(snap.serversHistory ?? [])].sort((a, b) => b.numConnects - a.numConnects).map((server) => (\n            <option key={server.ip} value={`${server.ip}${server.version ? `:${server.version}` : ''}`} />\n          ))}\n        </datalist>\n        <label style={{ fontSize: 10, display: 'flex', alignItems: 'center', gap: 5, height: '100%', marginTop: '-1px' }}>\n          <input\n            type='checkbox' checked={save}\n            style={{ borderRadius: 0 }}\n            onChange={({ target: { checked } }) => setSave(checked)}\n          /> Save\n        </label>\n        <Button style={{ width: 90 }} type='submit'>Connect</Button>\n      </div>\n    </form>}\n    searchRowChildrenOverride={\n      <div style={{\n        // marginTop: 12,\n      }}\n      >\n        <div style={{ display: 'flex', gap: 3, alignItems: 'center' }}>\n          {isSmallWidth\n            ? <PixelartIcon iconName={pixelartIcons.server} styles={{ fontSize: 14, color: 'lightgray', marginLeft: 2 }} onClick={onProfileClick} />\n            : <span style={{ color: 'lightgray', fontSize: 14 }}>Proxy:</span>}\n          <Select\n            initialOptions={proxiesData.proxies.map(p => { return { value: p, label: p } })}\n            defaultValue={{ value: proxiesData.selected, label: proxiesData.selected }}\n            updateOptions={(newSel) => {\n              updateProxies({ proxies: [...proxiesData.proxies], selected: newSel })\n            }}\n            containerStyle={{\n              width: isSmallWidth ? 140 : 180,\n            }}\n          />\n          <PixelartIcon iconName='user' styles={{ fontSize: 14, color: 'lightgray', marginLeft: 2 }} onClick={onProfileClick} />\n          <Input\n            rootStyles={{ width: 80 }}\n            value={username}\n            disabled={appQueryParams.username !== undefined}\n            onChange={({ target: { value } }) => setUsername(value)}\n            autoCorrect=\"off\"\n            autoCapitalize=\"off\"\n            spellCheck=\"false\"\n          />\n        </div>\n      </div>\n    }\n    serversLayout\n    onWorldAction={(action, serverName) => {\n      if (action === 'load') {\n        joinServer({\n          ip: serverName,\n        }, {})\n      }\n      props.onWorldAction?.(action, serverName)\n    }}\n    setListHovered={(hovered) => {\n      setActiveHighlight(hovered ? 'server-list' : undefined)\n    }}\n    listStyle={getActiveHighlightStyles('server-list')}\n    secondRowStyles={getActiveHighlightStyles('server-list')}\n  />\n}\n","import EventEmitter from 'events'\nimport clientAutoVersion from 'minecraft-protocol/src/client/autoVersion'\n\nexport const pingServerVersion = async (ip: string, port?: number, mergeOptions: Record<string, any> = {}) => {\n  const fakeClient = new EventEmitter() as any\n  const options = {\n    host: ip,\n    port,\n    noPongTimeout: 10_000,\n    closeTimeout: 20_000,\n    ...mergeOptions,\n  }\n  let latency = 0\n  let fullInfo: any = null\n  fakeClient.autoVersionHooks = [(res) => {\n    latency = res.latency\n    fullInfo = res\n  }]\n\n  // TODO use client.socket.destroy() instead of client.end() for faster cleanup\n  clientAutoVersion(fakeClient, options)\n  await Promise.race([\n    new Promise<void>((resolve, reject) => {\n      fakeClient.once('connect_allowed', () => {\n        resolve()\n      })\n    }),\n    new Promise<void>((resolve, reject) => {\n      fakeClient.on('error', (err) => {\n        reject(new Error(err.message ?? err))\n      })\n      if (mergeOptions.stream) {\n        mergeOptions.stream.on('end', (err) => {\n          setTimeout(() => {\n            reject(new Error('Connection closed. Please report if you see this but the server is actually fine.'))\n          })\n        })\n      }\n    })\n  ])\n\n  return {\n    version: fakeClient.version,\n    latency,\n    fullInfo,\n  }\n}\n\nconst MAX_PACKET_SIZE = 2_097_152 // 2mb\nconst CHAT_MAX_PACKET_DEPTH = 200 // todo improve perf\n\nconst CHAT_VALIDATE_PACKETS = new Set([\n  'chat',\n  'system_chat',\n  'player_chat',\n  'profileless_chat',\n  'kick_disconnect',\n  'resource_pack_send',\n  'action_bar',\n  'set_title_text',\n  'set_title_subtitle',\n  'title',\n  'death_combat_event',\n  'server_data',\n  'scoreboard_objective',\n  'scoreboard_team',\n  'playerlist_header',\n  'boss_bar'\n])\n\nexport const validatePacket = (name: string, data: any, fullBuffer: Buffer, isFromServer: boolean) => {\n  // todo find out why chat is so slow with react\n  if (!isFromServer) return\n\n  if (fullBuffer.length > MAX_PACKET_SIZE) {\n    console.groupCollapsed(`Packet ${name} is too large: ${fullBuffer.length} bytes`)\n    console.log(data)\n    console.groupEnd()\n    throw new Error(`Packet ${name} is too large: ${fullBuffer.length} bytes`)\n  }\n\n  if (CHAT_VALIDATE_PACKETS.has(name)) {\n    // todo count total number of objects instead of max depth\n    const maxDepth = getObjectMaxDepth(data)\n    if (maxDepth > CHAT_MAX_PACKET_DEPTH) {\n      console.groupCollapsed(`Packet ${name} have too many nested objects: ${maxDepth}`)\n      console.log(data)\n      console.groupEnd()\n      throw new Error(`Packet ${name} have too many nested objects: ${maxDepth}`)\n    }\n  }\n}\n\nfunction getObjectMaxDepth (obj: unknown, currentDepth = 0): number {\n  // Base case: null or primitive types have depth 0\n  if (obj === null || typeof obj !== 'object' || obj instanceof Buffer) {\n    return currentDepth\n  }\n\n  // Handle arrays and objects\n  let maxDepth = currentDepth\n\n  if (Array.isArray(obj)) {\n    // For arrays, check each element\n    for (const item of obj) {\n      const depth = getObjectMaxDepth(item, currentDepth + 1)\n      maxDepth = Math.max(maxDepth, depth)\n    }\n  } else {\n    // For objects, check each value\n    // eslint-disable-next-line guard-for-in\n    for (const key in obj) {\n      const depth = getObjectMaxDepth(obj[key], currentDepth + 1)\n      maxDepth = Math.max(maxDepth, depth)\n    }\n  }\n\n  return maxDepth\n}\n","import { Duplex } from 'stream'\nimport { UserError } from './userError'\n\nclass CustomDuplex extends Duplex {\n  constructor (options, public writeAction) {\n    super(options)\n  }\n\n  override _read () {}\n\n  override _write (chunk, encoding, callback) {\n    this.writeAction(chunk)\n    callback()\n  }\n}\n\nexport const getWebsocketStream = async (host: string) => {\n  const baseProtocol = location.protocol === 'https:' ? 'wss' : host.startsWith('ws://') ? 'ws' : 'wss'\n  const hostClean = host.replace('ws://', '').replace('wss://', '')\n  const ws = new WebSocket(`${baseProtocol}://${hostClean}`)\n  const clientDuplex = new CustomDuplex(undefined, data => {\n    ws.send(data)\n  })\n\n  clientDuplex.on('error', () => {})\n\n  ws.addEventListener('message', async message => {\n    let { data } = message\n    if (data instanceof Blob) {\n      data = await data.arrayBuffer()\n    }\n    clientDuplex.push(Buffer.from(data))\n  })\n\n  ws.addEventListener('close', () => {\n    console.log('ws closed')\n    clientDuplex.end()\n    setTimeout(() => {\n      clientDuplex.emit('end', 'Connection lost')\n    }, 500)\n  })\n\n  ws.addEventListener('error', err => {\n    console.log('ws error', err)\n    clientDuplex.emit('error', err)\n  })\n\n  await new Promise((resolve, reject) => {\n    ws.addEventListener('open', resolve)\n    ws.addEventListener('error', err => {\n      console.log('ws error', err)\n      reject(new UserError('Failed to open websocket connection'))\n    })\n  })\n\n  return {\n    mineflayerStream: clientDuplex,\n    ws,\n  }\n}\n","import net from 'net'\nimport { Client } from 'minecraft-protocol'\nimport { appQueryParams } from '../appParams'\nimport { downloadAllMinecraftData, getVersionAutoSelect } from '../connect'\nimport { gameAdditionalState } from '../globalState'\nimport { ProgressReporter } from '../core/progressReporter'\nimport { parseServerAddress } from '../parseServerAddress'\nimport { getCurrentProxy } from '../react/ServersList'\nimport { pingServerVersion, validatePacket } from './minecraft-protocol-extra'\nimport { getWebsocketStream } from './websocket-core'\n\nlet lastPacketTime = 0\ncustomEvents.on('mineflayerBotCreated', () => {\n  // const oldParsePacketBuffer = bot._client.deserializer.parsePacketBuffer\n  //   try {\n  //     const parsed = oldParsePacketBuffer(buffer)\n  //   } catch (err) {\n  //     debugger\n  //     reportError(new Error(`Error parsing packet ${buffer.subarray(0, 30).toString('hex')}`, { cause: err }))\n  //     throw err\n  //   }\n  // }\n  class MinecraftProtocolError extends Error {\n    constructor (message: string, cause?: Error, public data?: any) {\n      if (data?.customPayload) {\n        message += ` (Custom payload: ${data.customPayload.channel})`\n      }\n      super(message, { cause })\n      this.name = 'MinecraftProtocolError'\n    }\n  }\n\n  const onClientError = (err, data) => {\n    const error = new MinecraftProtocolError(`Minecraft protocol client error: ${err.message}`, err, data)\n    reportError(error)\n  }\n  if (typeof bot._client['_events'].error === 'function') {\n    // dont report to bot for more explicit error\n    bot._client['_events'].error = onClientError\n  } else {\n    bot._client.on('error' as any, onClientError)\n  }\n\n  // todo move more code here\n  if (!appQueryParams.noPacketsValidation) {\n    (bot._client as unknown as Client).on('packet', (data, packetMeta, buffer, fullBuffer) => {\n      validatePacket(packetMeta.name, data, fullBuffer, true)\n      lastPacketTime = performance.now()\n    });\n    (bot._client as unknown as Client).on('writePacket', (name, params) => {\n      validatePacket(name, params, Buffer.alloc(0), false)\n    })\n  }\n})\n\nsetInterval(() => {\n  if (!bot || !lastPacketTime) return\n  if (bot.player?.ping > 500) { // TODO: we cant rely on server ping 1. weird calculations 2. available with delays instead patch minecraft-protocol to get latency of keep_alive packet\n    gameAdditionalState.poorConnection = true\n  } else {\n    gameAdditionalState.poorConnection = false\n  }\n  if (performance.now() - lastPacketTime < 2000) {\n    gameAdditionalState.noConnection = false\n    return\n  }\n  gameAdditionalState.noConnection = true\n}, 1000)\n\n\nexport const getServerInfo = async (ip: string, port?: number, preferredVersion = getVersionAutoSelect(), ping = false, progressReporter?: ProgressReporter, setProxyParams?: ProxyParams) => {\n  await downloadAllMinecraftData()\n  const isWebSocket = ip.startsWith('ws://') || ip.startsWith('wss://')\n  let stream\n  if (isWebSocket) {\n    progressReporter?.setMessage('Connecting to WebSocket server')\n    stream = (await getWebsocketStream(ip)).mineflayerStream\n    progressReporter?.setMessage('WebSocket connected. Ping packet sent, waiting for response')\n  } else if (setProxyParams) {\n    setProxy(setProxyParams)\n  }\n  window.setLoadingMessage = (message?: string) => {\n    if (message === undefined) {\n      progressReporter?.endStage('dns')\n    } else {\n      progressReporter?.beginStage('dns', message)\n    }\n  }\n  return pingServerVersion(ip, port, {\n    ...(stream ? { stream } : {}),\n    ...(ping ? { noPongTimeout: 3000 } : {}),\n    ...(preferredVersion ? { version: preferredVersion } : {}),\n  }).finally(() => {\n    window.setLoadingMessage = undefined\n  })\n}\n\nglobalThis.debugTestPing = async (ip: string) => {\n  const parsed = parseServerAddress(ip, false)\n  const result = await getServerInfo(parsed.host, parsed.port ? Number(parsed.port) : undefined, undefined, true, undefined, { address: getCurrentProxy(), })\n  console.log('result', result)\n  return result\n}\n\nexport const getDefaultProxyParams = () => {\n  return {\n    headers: {\n      Authorization: `Bearer ${new URLSearchParams(location.search).get('token') ?? ''}`\n    }\n  }\n}\n\nexport type ProxyParams = {\n  address?: string\n  headers?: Record<string, string>\n}\n\nexport const setProxy = (proxyParams: ProxyParams) => {\n  if (proxyParams.address?.startsWith(':')) {\n    proxyParams.address = `${location.protocol}//${location.hostname}${proxyParams.address}`\n  }\n  if (proxyParams.address && location.port !== '80' && location.port !== '443' && !/:\\d+$/.test(proxyParams.address)) {\n    const https = proxyParams.address.startsWith('https://') || location.protocol === 'https:'\n    proxyParams.address = `${proxyParams.address}:${https ? 443 : 80}`\n  }\n\n  const parsedProxy = parseServerAddress(proxyParams.address, false)\n  const proxy = { host: parsedProxy.host, port: parsedProxy.port }\n  proxyParams.headers ??= getDefaultProxyParams().headers\n  net['setProxy']({\n    hostname: proxy.host,\n    port: proxy.port,\n    headers: proxyParams.headers\n  })\n  return {\n    proxy\n  }\n}\n","import { getRenamedData } from 'flying-squid/dist/blockRenames'\nimport outputInteractionShapesJson from './interactionShapesGenerated.json'\nimport './getCollisionShapes'\n\nexport default () => {\n  customEvents.on('gameLoaded', () => {\n    // todo also remap block states (e.g. redstone)!\n    const renamedBlocksInteraction = getRenamedData('blocks', Object.keys(outputInteractionShapesJson), '1.20.2', bot.version)\n    const interactionShapes = {\n      ...outputInteractionShapesJson,\n      ...Object.fromEntries(Object.entries(outputInteractionShapesJson).map(([block, shape], i) => [renamedBlocksInteraction[i], shape]))\n    }\n    interactionShapes[''] = interactionShapes['air']\n    // todo make earlier\n    window.interactionShapes = interactionShapes\n  })\n}\n","import { getRenamedData } from 'flying-squid/dist/blockRenames'\nimport collisionShapesInit from '../generated/latestBlockCollisionsShapes.json'\n\n// defining globally to be used in loaded data, not sure of better workaround\nwindow.globalGetCollisionShapes = (version) => {\n  // todo use the same in resourcepack\n  const versionFrom = collisionShapesInit.version\n  const renamedBlocks = getRenamedData('blocks', Object.keys(collisionShapesInit.blocks), versionFrom, version)\n  const collisionShapes = {\n    ...collisionShapesInit,\n    blocks: Object.fromEntries(Object.entries(collisionShapesInit.blocks).map(([, shape], i) => [renamedBlocks[i], shape]))\n  }\n  return collisionShapes\n}\n","import './deathScreen.css'\nimport type { MessageFormatPart } from '../chatUtils'\nimport MessageFormatted from './MessageFormatted'\nimport Button from './Button'\n\ntype Props = {\n  dieReasonMessage: MessageFormatPart[]\n  respawnCallback: () => void\n  disconnectCallback: () => void\n}\n\nexport default ({ dieReasonMessage, respawnCallback, disconnectCallback }: Props) => {\n  return (\n    <div className='deathScreen-container'>\n      <div className=\"deathScreen\">\n        <h1 className='deathScreen-title'>You Died!</h1>\n        <h5 className='deathScreen-reason'>\n          <MessageFormatted parts={dieReasonMessage} />\n        </h5>\n        <div className='deathScreen-buttons-grouped'>\n          <Button\n            label=\"Respawn\" onClick={() => {\n              respawnCallback()\n            }}\n          />\n          <Button\n            label=\"Disconnect\" onClick={() => {\n              disconnectCallback()\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { useEffect } from 'react'\nimport { proxy, useSnapshot } from 'valtio'\nimport { disconnect } from '../flyingSquidUtils'\nimport { MessageFormatPart, formatMessage } from '../chatUtils'\nimport { showModal, hideModal } from '../globalState'\nimport { options } from '../optionsStorage'\nimport DeathScreen from './DeathScreen'\nimport { useIsModalActive } from './utilsApp'\n\nconst dieReasonProxy = proxy({ value: null as MessageFormatPart[] | null })\n\nexport default () => {\n  const { value: dieReasonMessage } = useSnapshot(dieReasonProxy)\n  const isModalActive = useIsModalActive('death-screen')\n\n  useEffect(() => {\n    bot._client.on('death_combat_event', (data) => {\n      try {\n        if (data.playerId !== bot.entity.id) return\n        const messageParsed = JSON.parse(data.message)\n        const parts = formatMessage(messageParsed)\n        dieReasonProxy.value = parts\n      } catch (err) {\n        console.error(err)\n      }\n    })\n    bot.on('health', () => { // bot.isAlive can be already false so can't use death event (respawn packet)\n      if (dieReasonProxy.value || bot.health > 0) return\n      dieReasonProxy.value = []\n    })\n\n    bot.on('respawn', () => {\n      // todo don't close too early, instead wait for health event and make button disabled?\n      dieReasonProxy.value = null\n    })\n\n    if (bot.health === 0) {\n      dieReasonProxy.value = []\n    }\n  }, [])\n\n  useEffect(() => {\n    if (dieReasonProxy.value) {\n      if (!isModalActive) showModal({ reactType: 'death-screen' })\n    } else if (isModalActive) {\n      hideModal({ reactType: 'death-screen' })\n    }\n  }, [dieReasonMessage, isModalActive])\n\n  if (!isModalActive || !dieReasonMessage || options.autoRespawn) return null\n\n  return <DeathScreen\n    dieReasonMessage={dieReasonMessage as MessageFormatPart[]}\n    respawnCallback={() => {\n      bot._client.write('client_command', bot.supportFeature('respawnIsPayload') ? { payload: 0 } : { actionId: 0 })\n    }}\n    disconnectCallback={() => {\n      void disconnect()\n    }}\n  />\n}\n","import { titleCase } from 'title-case'\nimport { options } from '../optionsStorage'\nimport { OptionsGroupType, guiOptionsScheme } from '../optionsGuiScheme'\nimport OptionsItems, { OptionMeta } from './OptionsItems'\n\nexport const optionValueToType = (optionValue: any, item: OptionMeta) => {\n  if (typeof optionValue === 'boolean' || item.values) return 'toggle'\n  if (typeof optionValue === 'number') return 'slider'\n  if (typeof optionValue === 'string') return 'element'\n}\n\nconst finalItemsScheme: Record<keyof typeof guiOptionsScheme, OptionMeta[]> = Object.fromEntries(Object.entries(guiOptionsScheme).map(([groupName, optionsArr]) => {\n  return [groupName, optionsArr.flatMap((optionsObj) => {\n    return Object.entries(optionsObj).map(([optionKey, metaMerge]) => {\n      const optionValue = options[optionKey]\n\n      const type = optionValueToType(optionValue, metaMerge)\n      const meta: OptionMeta = {\n        id: optionKey === 'custom' ? undefined : optionKey,\n        type,\n        // todo I don't like the whole idea of custom. Why it is even here?\n        ...optionKey === 'custom' ? {\n          type: 'element',\n          render: metaMerge\n        } : {\n          ...metaMerge,\n        }\n      }\n      return meta\n    })\n  })]\n}))\n\nexport default ({ group, backButtonAction }: { group: OptionsGroupType, backButtonAction? }) => {\n  const items = finalItemsScheme[group]\n\n  const title = group === 'main' ? 'Settings' : `${titleCase(group)} Settings`\n  return <OptionsItems items={items} title={title} backButtonAction={backButtonAction} />\n}\n","import { useSnapshot } from 'valtio'\nimport { activeModalStack, hideCurrentModal } from '../globalState'\nimport { OptionsGroupType } from '../optionsGuiScheme'\nimport OptionsGroup from './OptionsGroup'\nimport { useIsModalActive } from './utilsApp'\n\nexport default () => {\n  useIsModalActive('options-*')\n  const { reactType } = useSnapshot(activeModalStack).at(-1) ?? {}\n  if (!reactType?.startsWith('options-')) return\n  const settingsGroup = reactType.slice('options-'.length) as OptionsGroupType\n\n  return <OptionsGroup group={settingsGroup} backButtonAction={hideCurrentModal} />\n}\n","const MAX_WORDS = 5\nconst HTTPS_REGEX = /^https?:\\/\\//\nconst TIMEOUT_MS = 5000\nconst SPLASH_CACHE_KEY = 'minecraft_splash_text_cache'\nconst SPLASH_URL_KEY = 'minecraft_splash_url'\n\nconst limitWords = (text: string): string => {\n  const words = text.split(/\\s+/)\n  if (words.length <= MAX_WORDS) {\n    return text\n  }\n  return words.slice(0, MAX_WORDS).join(' ') + '...'\n}\n\nexport const isRemoteSplashText = (text: string): boolean => {\n  if (!text) return false\n  return HTTPS_REGEX.test(text)\n}\n\nexport const loadRemoteSplashText = async (url: string): Promise<string> => {\n  try {\n    const controller = new AbortController()\n    const timeoutId = setTimeout(() => controller.abort(), TIMEOUT_MS)\n    const response = await fetch(url, { signal: controller.signal })\n    clearTimeout(timeoutId)\n    if (!response.ok) {\n      throw new Error(`Failed to fetch splash text: ${response.statusText}`)\n    }\n\n    const clonedResponse = response.clone()\n    try {\n      const json = await response.json()\n\n      if (typeof json === 'object' && json !== null) {\n        if (json.title) return limitWords(json.title)\n        if (json.text) return limitWords(json.text)\n        if (json.message) return limitWords(json.message)\n\n        return limitWords(JSON.stringify(json))\n      }\n\n      return limitWords(String(json))\n    } catch (jsonError) {\n      const text = await clonedResponse.text()\n      return limitWords(text.trim())\n    }\n  } catch (error) {\n    console.error('Error loading remote splash text:', error)\n    return 'Failed to load splash text!'\n  }\n}\n\nexport const cacheSourceUrl = (url: string): void => {\n  localStorage.setItem(SPLASH_URL_KEY, url)\n}\n\nexport const clearSplashCache = (): void => {\n  localStorage.removeItem(SPLASH_CACHE_KEY)\n}\n\nexport const getCachedSplashText = (): string | null => {\n  return localStorage.getItem(SPLASH_CACHE_KEY)\n}\n\nexport const cacheSplashText = (text: string): void => {\n  localStorage.setItem(SPLASH_CACHE_KEY, text)\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"root\":\"root-ZQcBnP\",\"game-title\":\"game-title-HS2Boh\",\"gameTitle\":\"game-title-HS2Boh\",\"minec\":\"minec-LtvUe5\",\"minecraft\":\"minecraft-WAwwet\",\"raft\":\"raft-pGttvN\",\"edition\":\"edition-X71qt9\",\"splash\":\"splash-T86ZOq\",\"splashAnim\":\"splashAnim-hJpV1p\",\"menu\":\"menu-AViyuB\",\"menu-row\":\"menu-row-Ua3i92\",\"menuRow\":\"menu-row-Ua3i92\",\"bottom-info\":\"bottom-info-XUJ4_b\",\"bottomInfo\":\"bottom-info-XUJ4_b\",\"product-description\":\"product-description-mpFNW4\",\"productDescription\":\"product-description-mpFNW4\",\"product-link\":\"product-link-iL2GHi\",\"productLink\":\"product-link-iL2GHi\",\"maps-provider\":\"maps-provider-JGaNCh\",\"mapsProvider\":\"maps-provider-JGaNCh\"};","import { useEffect, useRef, useState } from 'react'\nimport { useFloating, arrow, FloatingArrow, offset as offsetMiddleware, Placement } from '@floating-ui/react'\nimport Button from './Button'\n\ninterface Props extends React.ComponentProps<typeof Button> {\n  initialTooltip: {\n    content: string\n    placement?: Placement\n    localStorageKey?: string | null\n    offset?: number\n  }\n  alwaysTooltip?: string\n}\n\nconst ARROW_HEIGHT = 7\nconst GAP = 0\n\nexport default ({ initialTooltip, alwaysTooltip, ...args }: Props) => {\n  const { localStorageKey = 'firstTimeTooltip', offset = 0 } = initialTooltip\n  const [showTooltips, setShowTooltips] = useState(alwaysTooltip || (localStorageKey ? localStorage[localStorageKey] !== 'false' : true))\n\n  useEffect(() => {\n    let timeout\n    function hide () {\n      if (!localStorageKey) return\n      localStorage[localStorageKey] = 'false'\n      setShowTooltips(false)\n    }\n    if (showTooltips && localStorageKey) {\n      // todo wait for user interaction mouseoe\n      timeout = setTimeout(() => {\n        hide()\n      }, 10_000)\n    }\n\n    return () => {\n      // unmounted, probably switched view\n      if (timeout) clearTimeout(timeout)\n      hide()\n    }\n  }, [])\n\n  const arrowRef = useRef<any>(null)\n  const { refs, floatingStyles, context } = useFloating({\n    middleware: [\n      arrow({\n        element: arrowRef\n      }),\n      offsetMiddleware(ARROW_HEIGHT + GAP + offset),\n    ],\n    placement: initialTooltip.placement,\n  })\n\n  return <>\n    <Button {...args} rootRef={refs.setReference} />\n    <div\n      ref={refs.setFloating}\n      style={{\n        ...floatingStyles,\n        background: 'rgba(0, 0, 0, 0.3)',\n        fontSize: 8,\n        pointerEvents: 'none',\n        userSelect: 'text',\n        padding: '2px 4px',\n        opacity: showTooltips ? 1 : 0,\n        transition: 'opacity 0.3s ease-in-out',\n        textShadow: '1px 1px 2px BLACK',\n        zIndex: 11\n      }}\n    >\n      {alwaysTooltip || initialTooltip.content}\n      <FloatingArrow ref={arrowRef} context={context} style={{ opacity: 0.7 }} />\n    </div>\n  </>\n}\n","import { useCallback, useRef, useState } from 'react'\n\ninterface LongPressOptions {\n  shouldPreventDefault?: boolean;\n  delay?: number;\n}\n\nconst useLongPress = (\n  onLongPress: () => void,\n  onClick: () => void,\n  { shouldPreventDefault = false, delay = 300 }: LongPressOptions = {}\n) => {\n  const [longPressTriggered, setLongPressTriggered] = useState(false)\n  const timeout = useRef<number | undefined>()\n  const target = useRef<EventTarget | null>(null)\n\n  const start = useCallback(\n    (event: React.MouseEvent | React.TouchEvent) => {\n      if (shouldPreventDefault && event.target) {\n        event.target.addEventListener('touchend', preventDefault, {\n          passive: false\n        })\n        target.current = event.target\n      }\n      timeout.current = window.setTimeout(() => {\n        onLongPress()\n        setLongPressTriggered(true)\n      }, delay)\n    },\n    [onLongPress, delay, shouldPreventDefault]\n  )\n\n  const clear = useCallback(\n    (event: React.MouseEvent | React.TouchEvent) => {\n      if (timeout.current) {\n        clearTimeout(timeout.current)\n        timeout.current = undefined\n      }\n\n      setLongPressTriggered(false)\n\n      if (shouldPreventDefault && target.current) {\n        target.current.removeEventListener('touchend', preventDefault)\n        target.current = null\n      }\n    },\n    [shouldPreventDefault, onClick, longPressTriggered]\n  )\n\n  return {\n    onMouseDown: (e: React.MouseEvent) => start(e),\n    onTouchStart: (e: React.TouchEvent) => start(e),\n    onMouseUp: (e: React.MouseEvent) => clear(e),\n    onMouseLeave: (e: React.MouseEvent) => clear(e),\n    onTouchEnd: (e: React.TouchEvent) => clear(e),\n    onClick (e: React.MouseEvent) {\n      onClick()\n    }\n  }\n}\n\nconst preventDefault = (event: Event) => {\n  if (!('touches' in event)) return\n\n  const touchEvent = event as TouchEvent\n  if (touchEvent.touches.length < 2 && event.preventDefault) {\n    event.preventDefault()\n  }\n}\n\nexport default useLongPress\n","import { useFloating, arrow, FloatingArrow, offset as offsetMiddleware, Placement, autoPlacement } from '@floating-ui/react'\nimport { openURL } from 'renderer/viewer/lib/simpleUtils'\nimport { CSSProperties, useState } from 'react'\nimport Button from './Button'\nimport PixelartIcon, { pixelartIcons } from './PixelartIcon'\n\nexport const DiscordButton = ({ text, style }: { text?: string, style?: Record<string, any> }) => {\n  const links: DropdownButtonItem[] = [\n    {\n      text: 'Support Official Server (mcraft.fun)',\n      clickHandler: () => openURL('https://discord.gg/xzGRhxtRUt')\n    },\n    {\n      text: 'Community Server (PrismarineJS)',\n      clickHandler: () => openURL('https://discord.gg/4Ucm684Fq3')\n    }\n  ]\n\n  return <DropdownButton text={text ?? 'Discord'} style={style} links={links} />\n}\n\nexport type DropdownButtonItem = {\n  text: string,\n  clickHandler: () => void\n}\n\nexport const DropdownButton = ({ text, style, links }: { text: string, style?: Record<string, any>, links: DropdownButtonItem[] }) => {\n  const [isOpen, setIsOpen] = useState(false)\n  const { refs, floatingStyles } = useFloating({\n    open: isOpen,\n    onOpenChange: setIsOpen,\n    middleware: [\n      autoPlacement()\n    ],\n  })\n\n  const styles: CSSProperties = {\n    ...floatingStyles,\n    background: 'rgba(0, 0, 0, 0.3)',\n    fontSize: 8,\n    userSelect: 'text',\n    padding: '2px 4px',\n    opacity: 1,\n    transition: 'opacity 0.3s ease-in-out',\n    textShadow: '1px 1px 2px BLACK',\n    display: 'flex',\n    flexDirection: 'column',\n    zIndex: 11\n  }\n\n  return <>\n    <Button\n      style={style ?? { position: 'relative', width: '98px' }}\n      rootRef={refs.setReference}\n      onClick={() => {\n        setIsOpen(!isOpen)\n      }}\n    >{text}<PixelartIcon\n        styles={{ position: 'absolute', top: '5px', right: '5px' }}\n        iconName={isOpen ? pixelartIcons['chevron-up'] : pixelartIcons['chevron-down']}\n      />\n    </Button>\n    {\n      isOpen && <div ref={refs.setFloating} style={styles}>\n        {links.map(el => {\n          return <Button\n            key={el.text}\n            style={{ width: '98px', fontSize: '7px' }}\n            onClick={el.clickHandler}\n          >{el.text}\n          </Button>\n        })}\n      </div>\n    }\n  </>\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"title\":\"title-rz05ZX\",\"pause_container\":\"pause_container-lI8D2f\",\"pauseContainer\":\"pause_container-lI8D2f\",\"row\":\"row-IKim4t\"};","import { useSnapshot } from 'valtio'\nimport { openURL } from 'renderer/viewer/lib/simpleUtils'\nimport { ErrorBoundary } from '@zardoy/react-util'\nimport { miscUiState } from '../globalState'\nimport { openGithub } from '../utils'\nimport Button from './Button'\nimport { DiscordButton } from './DiscordButton'\nimport styles from './PauseScreen.module.css'\n\nfunction PauseLinkButtonsInner () {\n  const { appConfig } = useSnapshot(miscUiState)\n  const pauseLinksConfig = appConfig?.pauseLinks\n\n  if (!pauseLinksConfig) return null\n\n  const renderButton = (button: Record<string, any>, style: React.CSSProperties, key: number) => {\n    if (button.type === 'discord') {\n      return <DiscordButton key={key} style={style} text={button.text}/>\n    }\n    if (button.type === 'github') {\n      return <Button key={key} className=\"button\" style={style} onClick={() => openGithub()}>{button.text ?? 'GitHub'}</Button>\n    }\n    if (button.type === 'url' && button.text) {\n      return <Button key={key} className=\"button\" style={style} onClick={() => openURL(button.url)}>{button.text}</Button>\n    }\n    return null\n  }\n\n  return (\n    <>\n      {pauseLinksConfig.map((row, i) => {\n        const style = { width: (204 / row.length - (row.length > 1 ? 4 : 0)) + 'px' }\n        return (\n          <div key={i} className={styles.row}>\n            {row.map((button, k) => renderButton(button, style, k))}\n          </div>\n        )\n      })}\n    </>\n  )\n}\n\nexport default () => {\n  return <ErrorBoundary renderError={(error) => {\n    console.error(error)\n    return null\n  }}>\n    <PauseLinkButtonsInner />\n  </ErrorBoundary>\n}\n","import { showModal } from '../globalState'\nimport styles from './CreditsBookButton.module.css'\n\nexport default () => {\n  const handleClick = () => {\n    showModal({ reactType: 'credits-about' })\n  }\n\n  return (\n    <button\n      className={styles.creditsButton}\n      onClick={handleClick}\n      aria-label=\"Credits\"\n      title=\"Credits\"\n    >\n      <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M15.4375 15.1238L15.625 15.3113V16.8113L15.4375 16.9988H14.6875L14.5 16.8113V16.4363L14.3125 16.2488H12.8125L12.625 16.0613V15.3113L12.4375 15.1238H10.9375L10.75 14.9363V14.1863L10.5625 13.9988H7.9375L7.75 14.1863V14.9363L7.5625 15.1238H6.0625L5.875 15.3113V16.0613L5.6875 16.2488H4.1875L4 16.4363V16.8113L3.8125 16.9988H3.0625L2.875 16.8113V15.3113L3.0625 15.1238H3.4375L3.625 14.9363V13.8113L3.8125 13.6238H4.1875L4.375 13.4363V11.9363L4.5625 11.7488H4.9375L5.125 11.5613V10.0613L4.9375 9.87384H4.1875L4 9.68634V8.93634L3.8125 8.74884H2.6875L2.5 8.56134V7.81134L2.3125 7.62384H1.1875L1 7.43634V6.68634L1.1875 6.49884H6.63738L6.82488 6.31134V5.61543V4.60586L7.01238 4.41836H7.5625L7.75 4.23086V2.6875L7.9375 2.5H8.43022L8.61772 2.3125V1.1875L8.80522 1H9.66735L9.85485 1.1875V2.3125L10.0424 2.5H10.5625L10.75 2.6875V4.23086L10.9375 4.41836H11.4375L11.625 4.60586V6.31134L11.8125 6.49884H17.3125L17.5 6.68634V7.43634L17.3125 7.62384H16.1875L16 7.81134V8.56134L15.8125 8.74884H14.6875L14.5 8.93634V9.68634L14.3125 9.87384H13.5625L13.375 10.0613V11.5613L13.5625 11.7488H13.9375L14.125 11.9363V13.4363L14.3125 13.6238H14.6875L14.875 13.8113V14.9363L15.0625 15.1238H15.4375Z\" fill=\"#FFD700\" />\n      </svg>\n\n    </button>\n  )\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"creditsButton\":\"creditsButton-u6wIA8\"};","import React, { useEffect, useMemo } from 'react'\nimport { openURL } from 'renderer/viewer/lib/simpleUtils'\nimport { useSnapshot } from 'valtio'\nimport { haveDirectoryPicker } from '../utils'\nimport { ConnectOptions } from '../connect'\nimport { miscUiState } from '../globalState'\nimport {\n  isRemoteSplashText,\n  loadRemoteSplashText,\n  getCachedSplashText,\n  cacheSplashText,\n  cacheSourceUrl,\n  clearSplashCache\n} from '../utils/splashText'\nimport styles from './mainMenu.module.css'\nimport Button from './Button'\nimport ButtonWithTooltip from './ButtonWithTooltip'\nimport { pixelartIcons } from './PixelartIcon'\nimport useLongPress from './useLongPress'\nimport PauseLinkButtons from './PauseLinkButtons'\nimport CreditsBookButton from './CreditsBookButton'\n\ntype Action = (e: React.MouseEvent<HTMLButtonElement>) => void\n\ninterface Props {\n  connectToServerAction?: Action\n  singleplayerAction?: Action\n  optionsAction?: Action\n  githubAction?: Action\n  openFileAction?: Action\n  mapsProvider?: string\n  versionStatus?: string\n  versionTitle?: string\n  onVersionStatusClick?: () => void\n  bottomRightLinks?: string\n  versionText?: string\n  onVersionTextClick?: () => void\n  singleplayerAvailable?: boolean\n}\n\nconst httpsRegex = /^https?:\\/\\//\n\nexport default ({\n  connectToServerAction,\n  mapsProvider,\n  singleplayerAction,\n  optionsAction,\n  githubAction,\n  openFileAction,\n  versionText,\n  onVersionTextClick,\n  versionStatus,\n  versionTitle,\n  onVersionStatusClick,\n  bottomRightLinks,\n  singleplayerAvailable = true,\n}: Props) => {\n  const { appConfig } = useSnapshot(miscUiState)\n\n  const splashText = useMemo(() => {\n    const cachedText = getCachedSplashText()\n\n    const configSplashFromApp = appConfig?.splashText\n    const isRemote = configSplashFromApp && isRemoteSplashText(configSplashFromApp)\n    const sourceKey = isRemote ? configSplashFromApp : (configSplashFromApp || '')\n    const storedSourceKey = localStorage.getItem('minecraft_splash_url')\n\n    if (storedSourceKey !== sourceKey) {\n      clearSplashCache()\n      cacheSourceUrl(sourceKey)\n    } else if (cachedText) {\n      return cachedText\n    }\n\n    if (!isRemote && configSplashFromApp && configSplashFromApp.trim() !== '') {\n      cacheSplashText(configSplashFromApp)\n      return configSplashFromApp\n    }\n\n    return appConfig?.splashTextFallback || ''\n  }, [])\n\n  useEffect(() => {\n    const configSplashFromApp = appConfig?.splashText\n    if (configSplashFromApp && isRemoteSplashText(configSplashFromApp)) {\n      loadRemoteSplashText(configSplashFromApp)\n        .then(fetchedText => {\n          if (fetchedText && fetchedText.trim() !== '' && !fetchedText.includes('Failed to load')) {\n            cacheSplashText(fetchedText)\n          }\n        })\n        .catch(error => {\n          console.error('Failed to preload splash text for next session:', error)\n        })\n    }\n  }, [appConfig?.splashText])\n\n  if (!bottomRightLinks?.trim()) bottomRightLinks = undefined\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n  const linksParsed = bottomRightLinks?.split(/;|\\n/g).map(l => {\n    const parts = l.split(':')\n    return [parts[0], parts.slice(1).join(':')]\n  }) as Array<[string, string]> | undefined\n\n  const singleplayerLongPress = useLongPress(\n    () => {\n      window.location.href = window.location.pathname + '?sp=1'\n    },\n    () => singleplayerAction?.(null as any),\n    { delay: 500 }\n  )\n\n  const versionLongPress = useLongPress(\n    () => {\n      const buildDate = process.env.BUILD_VERSION ? new Date(process.env.BUILD_VERSION + ':00:00.000Z') : null\n      const hoursAgo = buildDate ? Math.round((Date.now() - buildDate.getTime()) / (1000 * 60 * 60)) : null\n      alert(`BUILD DATE:\\n${buildDate?.toLocaleString() || 'Development build'}${hoursAgo ? `\\nBuilt ${hoursAgo} hours ago` : ''}`)\n    },\n    () => onVersionTextClick?.(),\n  )\n\n  const connectToServerLongPress = useLongPress(\n    () => {\n      if (process.env.NODE_ENV === 'development') {\n        // Connect to <origin>:25565\n        const origin = window.location.hostname\n        const connectOptions: ConnectOptions = {\n          server: `${origin}:25565`,\n          username: 'test',\n        }\n        dispatchEvent(new CustomEvent('connect', { detail: connectOptions }))\n      }\n    },\n    () => connectToServerAction?.(null as any),\n    { delay: 500 }\n  )\n\n  return (\n    <div className={styles.root}>\n      <div className={styles['game-title']}>\n        <div className={styles.minecraft}>\n          <div className={styles.edition} />\n          <span className={styles.splash}>{splashText}</span>\n        </div>\n      </div>\n\n      <div className={styles.menu}>\n        <ButtonWithTooltip\n          initialTooltip={{\n            content: 'Connect to Java servers!',\n            placement: 'top',\n          }}\n          {...connectToServerLongPress}\n          data-test-id='servers-screen-button'\n        >\n          Connect to server\n        </ButtonWithTooltip>\n        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n          <ButtonWithTooltip\n            style={{ width: 150 }}\n            {...singleplayerLongPress}\n            data-test-id='singleplayer-button'\n            disabled={!singleplayerAvailable}\n            initialTooltip={{\n              content: 'Create worlds and play offline',\n              placement: 'left',\n              offset: -40\n            }}\n          >\n            Singleplayer\n          </ButtonWithTooltip>\n\n          <ButtonWithTooltip\n            disabled={!mapsProvider}\n            // className={styles['maps-provider']}\n            icon={pixelartIcons.map}\n            initialTooltip={{ content: 'Explore maps to play from provider!', placement: 'top-start' }}\n            onClick={() => mapsProvider && openURL(httpsRegex.test(mapsProvider) ? mapsProvider : 'https://' + mapsProvider, false)}\n          />\n\n          <ButtonWithTooltip\n            data-test-id='select-file-folder'\n            icon={pixelartIcons.folder}\n            onClick={openFileAction}\n            initialTooltip={{\n              content: 'Load any Java world save' + (haveDirectoryPicker() ? '' : ' (zip)!'),\n              placement: 'bottom-start',\n            }}\n          />\n        </div>\n        <Button\n          onClick={optionsAction}\n        >\n          Options\n        </Button>\n        <div className={styles['menu-row']}>\n          <PauseLinkButtons />\n        </div>\n        <CreditsBookButton />\n      </div>\n\n      <div className={styles['bottom-info']}>\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n          <span style={{ fontSize: 10, color: 'gray' }} {...versionLongPress}>{versionText}</span>\n          <span\n            title={`${versionTitle} (click to reload)`}\n            onClick={onVersionStatusClick}\n            className={styles['product-info']}\n          >\n            Prismarine Web Client {versionStatus}\n          </span>\n        </div>\n        <span className={styles['product-description']}>\n          <div className={styles['product-link']}>\n            {linksParsed?.map(([name, link], i, arr) => {\n              if (!link.startsWith('http')) link = `https://${link}`\n              return <div style={{\n                color: 'lightgray',\n                fontSize: 8,\n              }}>\n                <a\n                  key={name}\n                  style={{\n                    whiteSpace: 'nowrap',\n                  }} href={link}\n                >{name}\n                </a>\n                {i < arr.length - 1 && <span style={{ marginLeft: 2 }}></span>}\n              </div>\n            })}\n          </div>\n          <span>{appConfig?.rightSideText}</span>\n        </span>\n      </div>\n    </div>\n  )\n}\n","import fs from 'fs'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { proxy, subscribe, useSnapshot } from 'valtio'\nimport { useEffect, useState } from 'react'\nimport { activeModalStack, miscUiState, openOptionsMenu, showModal } from '../globalState'\nimport { openGithub } from '../utils'\nimport { setLoadingScreenStatus } from '../appStatus'\nimport { openFilePicker, copyFilesAsync, mkdirRecursive, openWorldDirectory, removeFileRecursiveAsync } from '../browserfs'\n\nimport MainMenu from './MainMenu'\n\nconst isMainMenu = () => {\n  return activeModalStack.length === 0 && !miscUiState.gameLoaded\n}\n\nconst refreshApp = async (failedUpdate = false) => {\n  try {\n    const registration = await navigator.serviceWorker.getRegistration()\n    if (registration) {\n      // First, disconnect all clients\n      const clients = await window.clients?.matchAll() || []\n      await Promise.all(clients.map(client => client.postMessage('SKIP_WAITING')))\n\n      // Force the waiting service worker to become active\n      if (registration.waiting) {\n        registration.waiting.postMessage('SKIP_WAITING')\n      }\n\n      // Add timeout to prevent infinite waiting\n      const unregisterPromise = registration.unregister()\n      const timeoutPromise = new Promise((_, reject) => {\n        setTimeout(() => reject(new Error('SW unregister timeout')), 3000)\n      })\n\n      await Promise.race([unregisterPromise, timeoutPromise])\n        .catch(err => {\n          console.warn('SW unregister error:', err)\n          if (isMainMenu()) {\n            alert('Failed to unregister SW: ' + err)\n          }\n        })\n    }\n\n    if (failedUpdate) {\n      await new Promise(resolve => { setTimeout(resolve, 2000) })\n    }\n\n    if (!isMainMenu()) return\n\n    if (failedUpdate) {\n      sessionStorage.justReloaded = false\n      // try to force bypass cache\n      location.search = '?update=true'\n    } else {\n      window.justReloaded = true\n      sessionStorage.justReloaded = true\n      window.location.reload()\n    }\n  } catch (err) {\n    console.error('Failed to refresh app:', err)\n    if (!isMainMenu()) {\n      alert('Critical error on refreshApp: ' + err)\n      // Fallback to force reload if something goes wrong\n      window.location.reload()\n    }\n  }\n}\n\nexport const mainMenuState = proxy({\n  serviceWorkerLoaded: false,\n})\n\n// todo clean\nlet disableAnimation = false\nexport default () => {\n  const haveModals = useSnapshot(activeModalStack).length\n  const { gameLoaded, fsReady, appConfig, singleplayerAvailable } = useSnapshot(miscUiState)\n\n  const noDisplay = haveModals || gameLoaded || !fsReady\n\n  useEffect(() => {\n    if (noDisplay && fsReady) disableAnimation = true\n  }, [noDisplay])\n\n  const [versionStatus, setVersionStatus] = useState('')\n  const [versionTitle, setVersionTitle] = useState('')\n\n  useEffect(() => {\n    if (process.env.SINGLE_FILE_BUILD_MODE) {\n      setVersionStatus('(single file build)')\n    } else if (process.env.NODE_ENV === 'development') {\n      setVersionStatus('(dev)')\n    } else {\n      fetch('./version.txt').then(async (f) => {\n        if (f.status === 404) return\n        const contents = await f.text()\n        const isLatest = contents === process.env.BUILD_VERSION\n        if (!isLatest && sessionStorage.justReloaded) {\n          setVersionStatus('(force reloading, wait)')\n          void refreshApp(true)\n          return\n        }\n        const upStatus = () => {\n          setVersionStatus(`(${isLatest ? 'latest' : 'new version available'}${mainMenuState.serviceWorkerLoaded ? ', Downloaded' : ''})`)\n        }\n        subscribe(mainMenuState, upStatus)\n        upStatus()\n        setVersionTitle(`Loaded: ${process.env.BUILD_VERSION}. Remote: ${contents}`)\n      }, () => {\n        setVersionStatus('(offline)')\n      })\n    }\n  }, [])\n\n  const mapsProviderUrl = appConfig?.mapsProvider && new URL(appConfig?.mapsProvider)\n  if (mapsProviderUrl && location.origin !== 'https://mcraft.fun') {\n    mapsProviderUrl.searchParams.set('to', location.href)\n  }\n\n  return (\n    <AnimatePresence>\n      {!noDisplay && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          transition={{\n            duration: disableAnimation ? 0 : 0.1,\n            ease: 'easeInOut'\n          }}\n        >\n          <MainMenu\n            singleplayerAvailable={singleplayerAvailable}\n            connectToServerAction={() => showModal({ reactType: 'serversList' })}\n            singleplayerAction={async () => {\n              showModal({ reactType: 'singleplayer' })\n            }}\n            githubAction={() => openGithub()}\n            optionsAction={() => openOptionsMenu('main')}\n            bottomRightLinks={process.env.MAIN_MENU_LINKS}\n            openFileAction={e => {\n              if (!!window.showDirectoryPicker && !e.shiftKey) {\n                void openWorldDirectory()\n              } else {\n                openFilePicker()\n              }\n            }}\n            mapsProvider={mapsProviderUrl?.toString()}\n            versionStatus={versionStatus}\n            versionTitle={versionTitle}\n            onVersionStatusClick={async () => {\n              setVersionStatus('(reloading)')\n              await refreshApp()\n            }}\n            onVersionTextClick={async () => {\n              openGithub(process.env.RELEASE_LINK)\n            }}\n            versionText={process.env.RELEASE_TAG}\n          />\n        </motion.div>\n      )}\n    </AnimatePresence>\n  )\n}\n","import fs from 'fs'\nimport { join } from 'path'\nimport JSZip from 'jszip'\nimport { getThreeJsRendererMethods } from 'renderer/viewer/three/threeJsMethods'\nimport { fsState, readLevelDat } from './loadSave'\nimport { closeWan, openToWanAndCopyJoinLink } from './localServerMultiplayer'\nimport { copyFilesAsync, uniqueFileNameFromWorldName } from './browserfs'\nimport { saveServer } from './flyingSquidUtils'\nimport { setLoadingScreenStatus } from './appStatus'\nimport { displayClientChat } from './botUtils'\nimport { miscUiState } from './globalState'\n\nconst notImplemented = () => {\n  return 'Not implemented yet'\n}\n\nasync function addFolderToZip (folderPath, zip, relativePath) {\n  const entries = await fs.promises.readdir(folderPath)\n\n  for (const entry of entries) {\n    const entryPath = join(folderPath, entry)\n    const stats = await fs.promises.stat(entryPath)\n\n    const zipEntryPath = join(relativePath, entry)\n\n    if (stats.isDirectory()) {\n      const subZip = zip.folder(zipEntryPath)\n      await addFolderToZip(entryPath, subZip, zipEntryPath)\n    } else {\n      const fileData = await fs.promises.readFile(entryPath)\n      zip.file(entry, fileData)\n    }\n  }\n}\n\nexport const exportWorld = async (path: string, type: 'zip' | 'folder', zipName = 'world-prismarine-exported') => {\n  try {\n    if (type === 'zip') {\n      setLoadingScreenStatus('Generating zip, this may take a few minutes')\n      const zip = new JSZip()\n      await addFolderToZip(path, zip, '')\n\n      // Generate the ZIP archive content\n      const zipContent = await zip.generateAsync({ type: 'blob' })\n\n      // Create a download link and trigger the download\n      const downloadLink = document.createElement('a')\n      downloadLink.href = URL.createObjectURL(zipContent)\n      // todo use loaded zip/folder name\n      downloadLink.download = `${zipName}.zip`\n      downloadLink.click()\n\n      // Clean up the URL object after download\n      URL.revokeObjectURL(downloadLink.href)\n    } else {\n      setLoadingScreenStatus('Preparing export folder')\n      let dest = '/'\n      if ((await fs.promises.readdir('/export')).length) {\n        const { levelDat } = (await readLevelDat(path))!\n        dest = await uniqueFileNameFromWorldName(levelDat.LevelName, path)\n      }\n      setLoadingScreenStatus(`Copying files to ${dest} of selected folder`)\n      await copyFilesAsync(path, '/export' + dest)\n    }\n  } finally {\n    setLoadingScreenStatus(undefined)\n  }\n}\n\n// todo include in help\nconst exportLoadedWorld = async () => {\n  await saveServer()\n  let worldFolder = fsState.inMemorySavePath\n  if (!worldFolder.startsWith('/')) worldFolder = `/${worldFolder}`\n  await exportWorld(worldFolder, 'zip')\n}\n\nwindow.exportWorld = exportLoadedWorld\n\nconst writeText = (text) => {\n  displayClientChat(text)\n}\n\nexport const commands: Array<{\n  command: string[],\n  alwaysAvailable?: boolean,\n  invoke (args: string[]): Promise<void> | void\n  //@ts-format-ignore-region\n}> = [\n  {\n    command: ['/download', '/export'],\n    invoke: exportLoadedWorld\n  },\n  {\n    command: ['/publish', '/share'],\n    async invoke () {\n      const text = await openToWanAndCopyJoinLink(writeText)\n      if (text) writeText(text)\n    }\n  },\n  {\n    command: ['/close'],\n    invoke () {\n      const text = closeWan()\n      if (text) writeText(text)\n    }\n  },\n  {\n    command: ['/save'],\n    async invoke () {\n      await saveServer(false)\n      writeText('Saved to browser memory')\n    }\n  },\n  {\n    command: ['/pos'],\n    alwaysAvailable: true,\n    async invoke ([type]) {\n      let pos: { x: number, y: number, z: number } | undefined\n      if (type === 'block') {\n        const blockPos = window.cursorBlockRel()?.position\n        if (blockPos) {\n          pos = { x: blockPos.x, y: blockPos.y, z: blockPos.z }\n        }\n      } else {\n        const playerPos = bot.entity.position\n        pos = { x: playerPos.x, y: playerPos.y, z: playerPos.z }\n      }\n      if (!pos) return\n      const formatted = `${pos.x.toFixed(2)} ${pos.y.toFixed(2)} ${pos.z.toFixed(2)}`\n      await navigator.clipboard.writeText(formatted)\n      writeText(`Copied position to clipboard: ${formatted}`)\n    }\n  },\n  {\n    command: ['/mesherlog'],\n    alwaysAvailable: true,\n    invoke () {\n      getThreeJsRendererMethods()?.downloadMesherLog()\n    }\n  }\n]\n//@ts-format-ignore-endregion\n\nexport const getBuiltinCommandsList = () => commands.filter(command => command.alwaysAvailable || miscUiState.singleplayer).flatMap(command => command.command)\n\nexport const tryHandleBuiltinCommand = (message: string) => {\n  const [userCommand, ...args] = message.split(' ')\n\n  for (const command of commands.filter(command => command.alwaysAvailable || miscUiState.singleplayer)) {\n    if (command.command.includes(userCommand)) {\n      void command.invoke(args) // ignoring for now\n      return true\n    }\n  }\n}\n","import { GoogleOAuthProvider, useGoogleLogin } from '@react-oauth/google'\nimport { proxy, ref, subscribe } from 'valtio'\nimport React from 'react'\nimport { loadScript } from 'renderer/viewer/lib/utils'\nimport { loadGoogleDriveApi, loadInMemorySave } from './react/SingleplayerProvider'\nimport { setLoadingScreenStatus } from './appStatus'\nimport { showOptionsModal } from './react/SelectOption'\nimport { appQueryParams } from './appParams'\n\nconst CLIENT_ID = '137156026346-igv2gkjsj2hlid92rs3q7cjjnc77s132.apps.googleusercontent.com'\n// const CLIENT_ID = process.env.GOOGLE_CLIENT_ID\nconst SCOPES = 'https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.install'\nexport const APP_ID = CLIENT_ID.split('-')[0]\n\nexport const GoogleDriveProvider = ({ children }) => {\n  return React.createElement(GoogleOAuthProvider, { clientId: CLIENT_ID } as any, children)\n  // return <GoogleOAuthProvider clientId={CLIENT_ID}><Root /></GoogleOAuthProvider>\n}\n\nexport const isGoogleDriveAvailable = () => {\n  return !!CLIENT_ID\n}\n\nexport const useGoogleLogIn = () => {\n  const login = useGoogleLogin({\n    onSuccess (tokenResponse) {\n      localStorage.hasEverLoggedIn = true\n      googleProviderState.accessToken = tokenResponse.access_token\n      googleProviderState.expiresIn = ref(new Date(Date.now() + tokenResponse.expires_in * 1000))\n      googleProviderState.hasEverLoggedIn = true\n    },\n    // prompt: hasEverLoggedIn ? 'none' : 'consent',\n    scope: SCOPES,\n    flow: 'implicit',\n    onError (error) {\n      const accessDenied = error.error === 'access_denied' || error.error === 'invalid_scope' || (error as any).error_subtype === 'access_denied'\n      if (accessDenied) {\n        googleProviderState.hasEverLoggedIn = false\n      }\n    }\n  })\n  return () => login({\n    prompt: googleProviderState.hasEverLoggedIn ? 'none' : 'consent'\n  })\n}\n\nexport const possiblyHandleStateVariable = async () => {\n  const stateParam = appQueryParams.state\n  if (!stateParam) return\n  setLoadingScreenStatus('Opening world in read only mode, waiting for login...')\n  await loadGoogleDriveApi()\n  await loadScript('https://accounts.google.com/gsi/client')\n  const parsed = JSON.parse(stateParam) as {\n    ids: [string]\n    action: 'open'\n    userId: string\n  }\n  const tokenClient = window.google.accounts.oauth2.initTokenClient({\n    client_id: CLIENT_ID,\n    scope: SCOPES,\n    async callback (response) {\n      if (response.error) {\n        setLoadingScreenStatus('Error: ' + response.error, true)\n        googleProviderState.hasEverLoggedIn = false\n        return\n      }\n      setLoadingScreenStatus('Opening world in read only mode...')\n      googleProviderState.accessToken = response.access_token\n      // await mountGoogleDriveFolder(true, parsed.ids[0])\n      await loadInMemorySave('/google')\n    }\n  })\n  const choice = await showOptionsModal('Select an action...', ['Login'])\n  if (choice === 'Login') {\n    tokenClient.requestAccessToken({\n      prompt: googleProviderState.hasEverLoggedIn ? '' : 'consent',\n    })\n  } else {\n    window.close()\n  }\n}\n\nexport const googleProviderState = proxy({\n  accessToken: (localStorage.saveAccessToken ? localStorage.accessToken : null) as string | null,\n  hasEverLoggedIn: !!(localStorage.hasEverLoggedIn),\n  isReady: false,\n  expiresIn: localStorage.saveAccessToken ? ref(new Date(Date.now() + 1000 * 60 * 60)) : null,\n  readonlyMode: localStorage.googleReadonlyMode ? localStorage.googleReadonlyMode === 'true' : true,\n  lastSelectedFolder: (localStorage.lastSelectedFolder ? JSON.parse(localStorage.lastSelectedFolder) : null) as {\n    id: string\n    name: string\n  } | null\n})\n\nsubscribe(googleProviderState, () => {\n  localStorage.googleReadonlyMode = googleProviderState.readonlyMode\n  localStorage.lastSelectedFolder = googleProviderState.lastSelectedFolder ? JSON.stringify(googleProviderState.lastSelectedFolder) : null\n  if (googleProviderState.hasEverLoggedIn) {\n    localStorage.hasEverLoggedIn = true\n  } else {\n    delete localStorage.hasEverLoggedIn\n  }\n\n  if (localStorage.saveAccessToken && googleProviderState) {\n    // For testing only\n    localStorage.accessToken = googleProviderState.accessToken || null\n  } else {\n    delete localStorage.accessToken\n  }\n})\n","import './GoogleButton.css'\n\nexport default ({ onClick }) => {\n  return <button\n    className=\"gsi-material-button\" onClick={onClick} style={{\n      transform: 'scale(0.55) translate(-20%)',\n    }}\n  >\n    <div className=\"gsi-material-button-state\" />\n    <div className=\"gsi-material-button-content-wrapper\">\n      <div className=\"gsi-material-button-icon\">\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\">\n          <path fill=\"#EA4335\" d=\"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z\" />\n          <path fill=\"#4285F4\" d=\"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z\" />\n          <path fill=\"#FBBC05\" d=\"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z\" />\n          <path fill=\"#34A853\" d=\"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z\" />\n          <path fill=\"none\" d=\"M0 0h48v48H0z\" />\n        </svg>\n      </div>\n      <span className=\"gsi-material-button-contents\">Continue with Google</span>\n      <span style={{ display: 'none' }}>Continue with Google</span>\n    </div>\n  </button>\n}\n","import fs from 'fs'\nimport { proxy, subscribe, useSnapshot } from 'valtio'\nimport { useEffect, useRef, useState } from 'react'\nimport { loadScript } from 'renderer/viewer/lib/utils'\nimport { fsState, loadSave, longArrayToNumber, readLevelDat } from '../loadSave'\nimport { googleDriveGetFileIdFromPath, mountExportFolder, mountGoogleDriveFolder, removeFileRecursiveAsync } from '../browserfs'\nimport { hideCurrentModal, showModal } from '../globalState'\nimport { haveDirectoryPicker } from '../utils'\nimport { setLoadingScreenStatus } from '../appStatus'\nimport { exportWorld } from '../builtinCommands'\nimport { googleProviderState, useGoogleLogIn, GoogleDriveProvider, isGoogleDriveAvailable, APP_ID } from '../googledrive'\nimport Singleplayer, { WorldProps } from './Singleplayer'\nimport { useIsModalActive } from './utilsApp'\nimport { showOptionsModal } from './SelectOption'\nimport Input from './Input'\nimport GoogleButton from './GoogleButton'\n\nconst worldsProxy = proxy({\n  value: null as null | WorldProps[],\n  brokenWorlds: [] as string[],\n  selectedProvider: 'local' as 'local' | 'google',\n  selectedGoogleId: '',\n  error: '',\n})\n\nexport const getWorldsPath = () => {\n  return worldsProxy.selectedProvider === 'local' ? `/data/worlds` : worldsProxy.selectedProvider === 'google' ? `/google/${'/'.replace(/\\/$/, '')}` : ''\n}\n\nconst providersEnableFeatures = {\n  local: {\n    calculateSize: true,\n    delete: true,\n    export: true,\n    icon: true\n  },\n  google: {\n    calculateSize: false,\n    // TODO\n    delete: false,\n    export: false,\n    icon: true\n  }\n}\n\nexport const readWorlds = (abortController: AbortController) => {\n  if (abortController.signal.aborted) return\n  worldsProxy.error = ''\n  worldsProxy.brokenWorlds = [];\n  (async () => {\n    const brokenWorlds = [] as string[]\n    try {\n      const loggedIn = !!googleProviderState.accessToken\n      worldsProxy.value = null\n      if (worldsProxy.selectedProvider === 'google' && !loggedIn) {\n        worldsProxy.value = []\n        return\n      }\n      const worldsPath = getWorldsPath()\n      const provider = worldsProxy.selectedProvider\n\n      const worlds = await fs.promises.readdir(worldsPath)\n\n      const newMappedWorlds = (await Promise.allSettled(worlds.map(async (folder) => {\n        const { levelDat } = (await readLevelDat(`${worldsPath}/${folder}`))!\n        const levelDatStat = await fs.promises.stat(`${worldsPath}/${folder}/level.dat`)\n        let size = 0\n        if (providersEnableFeatures[provider].calculateSize) {\n          // todo use whole dir size\n          for (const region of await fs.promises.readdir(`${worldsPath}/${folder}/region`)) {\n            // eslint-disable-next-line no-await-in-loop -- it's still fast enough, nobody complains about it\n            const stat = await fs.promises.stat(`${worldsPath}/${folder}/region/${region}`)\n            size += stat.size\n          }\n        }\n        let iconBase64 = ''\n        if (providersEnableFeatures[provider].icon) {\n          const iconPath = `${worldsPath}/${folder}/icon.png`\n          try {\n            iconBase64 = await fs.promises.readFile(iconPath, 'base64')\n          } catch {\n            // ignore\n          }\n        }\n        const levelName = levelDat.LevelName as string | undefined\n        return {\n          name: folder,\n          title: levelName ?? folder,\n          lastPlayed: levelDat.LastPlayed && longArrayToNumber(levelDat.LastPlayed),\n          detail: `${levelDat.Version?.Name ?? 'unknown version'}, ${folder}`,\n          iconSrc: iconBase64 ? `data:image/png;base64,${iconBase64}` : undefined,\n          size,\n          lastModified: levelDatStat.mtimeMs,\n          group: 'IndexedDB Memory Worlds'\n        } satisfies WorldProps & { lastModified?: number }\n      }))).filter((x, i) => {\n        if (x.status === 'rejected') {\n          console.warn(x.reason)\n          brokenWorlds.push(worlds[i])\n          return false\n        }\n        return true\n      }).map(x => (x as Extract<typeof x, { value }>).value).sort((a, b) => {\n        const getScore = (x: typeof a) => {\n          return x.lastModified ?? 0\n        }\n        return getScore(b) - getScore(a)\n      })\n      if (abortController.signal.aborted) return\n      worldsProxy.value = newMappedWorlds\n    } catch (err) {\n      if (err.name === 'AbortError') return\n      console.warn(err)\n      worldsProxy.value = null\n      worldsProxy.error = err.message\n    }\n    worldsProxy.brokenWorlds = brokenWorlds\n  })().catch((err) => {\n    // todo it still doesn't work for some reason!\n    worldsProxy.error = err.message\n  })\n}\n\nexport const loadInMemorySave = async (worldPath: string) => {\n  fsState.saveLoaded = false\n  fsState.isReadonly = false\n  fsState.syncFs = false\n  fsState.inMemorySave = true\n  await loadSave(worldPath)\n}\n\nexport default () => {\n  const active = useIsModalActive('singleplayer')\n\n  if (!active) return null\n\n  return <GoogleDriveProvider>\n    <Inner />\n  </GoogleDriveProvider>\n}\n\nexport const loadGoogleDriveApi = async () => {\n  const scriptEl = await loadScript('https://apis.google.com/js/api.js')\n  if (!scriptEl) return // already loaded\n  return new Promise<void>((resolve) => {\n    gapi.load('client', () => {\n      gapi.load('client:picker', () => {\n        void gapi.client.load('https://www.googleapis.com/discovery/v1/apis/drive/v3/rest').then(() => {\n          googleProviderState.isReady = true\n          resolve()\n        })\n      })\n    })\n  })\n}\n\nconst Inner = () => {\n  const worlds = useSnapshot(worldsProxy).value as WorldProps[] | null\n  const { selectedProvider, error, brokenWorlds, selectedGoogleId } = useSnapshot(worldsProxy)\n  const readWorldsAbortController = useRef(new AbortController())\n\n  // 3rd party providers\n  useEffect(() => {\n    if (selectedProvider !== 'google') return\n    void loadGoogleDriveApi()\n  }, [selectedProvider])\n\n  const loggedIn = !!useSnapshot(googleProviderState).accessToken\n  const googleDriveReadonly = useSnapshot(googleProviderState).readonlyMode\n\n  useEffect(() => {\n    (async () => {\n      if (selectedProvider === 'google') {\n        if (!selectedGoogleId) {\n          worldsProxy.value = []\n          return\n        }\n        await mountGoogleDriveFolder(googleProviderState.readonlyMode, selectedGoogleId)\n        const exists = async (path) => {\n          try {\n            await fs.promises.stat(path)\n            return true\n          } catch {\n            return false\n          }\n        }\n        if (await exists(`${getWorldsPath()}/level.dat`)) {\n          await loadInMemorySave(getWorldsPath())\n          return\n        }\n      }\n      if (selectedProvider === 'local' && !(await fs.promises.stat('/data/worlds').catch(() => false))) {\n        await fs.promises.mkdir('/data/worlds')\n      }\n      readWorlds(readWorldsAbortController.current)\n    })()\n\n    return () => {\n      readWorldsAbortController.current.abort()\n      readWorldsAbortController.current = new AbortController()\n    }\n  }, [selectedProvider, loggedIn, googleDriveReadonly, selectedGoogleId])\n\n  const googleLogIn = useGoogleLogIn()\n\n  const googlePicker = useRef/* <google.picker.Picker | null> */(null as any)\n\n  useEffect(() => {\n    return () => {\n      googlePicker.current?.dispose()\n    }\n  })\n\n  const selectGoogleFolder = async () => {\n    if (googleProviderState.lastSelectedFolder) {\n      // ask to use saved previous fodler\n      const choice = await showOptionsModal(`Use previously selected folder \"${googleProviderState.lastSelectedFolder.name}\"?`, ['Yes', 'No'])\n      if (!choice) return\n      if (choice === 'Yes') {\n        worldsProxy.selectedGoogleId = googleProviderState.lastSelectedFolder.id\n        return\n      }\n    }\n\n    const { google } = window\n\n    const view = new google.picker.DocsView(google.picker.ViewId.FOLDERS)\n      .setIncludeFolders(true)\n      .setMimeTypes('application/vnd.google-apps.folder')\n      .setSelectFolderEnabled(true)\n      .setParent('root')\n\n\n    googlePicker.current = new google.picker.PickerBuilder()\n      .enableFeature(google.picker.Feature.NAV_HIDDEN)\n      .enableFeature(google.picker.Feature.MULTISELECT_ENABLED)\n      .setDeveloperKey('AIzaSyBTiHpEqaLL7mEcrsnSS4M-z8cpRH5UwY0')\n      .setAppId(APP_ID)\n      .setOAuthToken(googleProviderState.accessToken)\n      .addView(view)\n      .addView(new google.picker.DocsUploadView())\n      .setTitle('Select a folder with your worlds')\n      .setCallback((data) => {\n        if (data.action === google.picker.Action.PICKED) {\n          googleProviderState.lastSelectedFolder = {\n            id: data.docs[0].id,\n            name: data.docs[0].name,\n          }\n          worldsProxy.selectedGoogleId = data.docs[0].id\n        }\n      })\n      .build()\n    googlePicker.current.setVisible(true)\n  }\n\n  const isGoogleProviderReady = useSnapshot(googleProviderState).isReady\n  const providerActions = loggedIn && selectedProvider === 'google' && isGoogleProviderReady && !selectedGoogleId ? {\n    'Select Folder': selectGoogleFolder\n  } : selectedProvider === 'google' ? isGoogleProviderReady ? loggedIn ? {\n    'Log Out' () {\n      googleProviderState.hasEverLoggedIn = false\n      googleProviderState.accessToken = null\n      googleProviderState.lastSelectedFolder = null\n      window.google.accounts.oauth2.revoke(googleProviderState.accessToken)\n    },\n    async [`Read Only: ${googleDriveReadonly ? 'ON' : 'OFF'}`] () {\n      if (googleProviderState.readonlyMode) {\n        const choice = await showOptionsModal('[Unstable Feature] Enabling world save might corrupt your worlds, eg remove entities (note: you can always restore previous version of files in Drive)', ['Continue'])\n        if (choice !== 'Continue') return\n      }\n      googleProviderState.readonlyMode = !googleProviderState.readonlyMode\n    },\n    'Select Folder': selectGoogleFolder,\n    // 'Worlds Path': <Input rootStyles={{ width: 100 }} placeholder='Worlds path' defaultValue={worldsPath} onBlur={(e) => {\n    //   googleProviderData.worldsPath = e.target.value\n    // }} />\n  } : {\n    'Log In': <GoogleButton onClick={googleLogIn} />\n  } : {\n    'Loading...' () { }\n  } : undefined\n  // end\n\n  return <Singleplayer\n    error={error}\n    isReadonly={selectedProvider === 'google' && (googleDriveReadonly || !isGoogleProviderReady || !selectedGoogleId)}\n    // providers={{\n    //   local: 'Local',\n    //   google: 'Google Drive',\n    // }}\n    disabledProviders={[...isGoogleDriveAvailable() ? [] : ['google']]}\n    worldData={worlds}\n    providerActions={providerActions}\n    activeProvider={selectedProvider}\n    setActiveProvider={(provider) => {\n      worldsProxy.selectedProvider = provider as any\n    }}\n    warning={brokenWorlds.length ? `Some worlds are broken: ${brokenWorlds.join(', ')}` : undefined}\n    warningAction={async () => {\n      for (const brokenWorld of worldsProxy.brokenWorlds) {\n        setLoadingScreenStatus(`Removing broken world ${brokenWorld}`)\n        // eslint-disable-next-line no-await-in-loop\n        await removeFileRecursiveAsync(`${getWorldsPath()}/${brokenWorld}`)\n      }\n      setLoadingScreenStatus(undefined)\n    }}\n    warningActionLabel='Remove broken worlds'\n    onWorldAction={async (action, worldName) => {\n      const worldPath = `${getWorldsPath()}/${worldName}`\n      const openInGoogleDrive = () => {\n        const fileId = googleDriveGetFileIdFromPath(worldPath.replace('/google/', ''))\n        if (!fileId) return alert('File not found')\n        window.open(`https://drive.google.com/drive/folders/${fileId}`)\n      }\n\n      if (action === 'load') {\n        setLoadingScreenStatus(`Starting loading world ${worldName}`)\n        await loadInMemorySave(worldPath)\n        return\n      }\n      if (action === 'delete') {\n        if (selectedProvider === 'google') {\n          openInGoogleDrive()\n          return\n        }\n\n        if (!confirm('Are you sure you want to delete current world')) return\n        setLoadingScreenStatus(`Removing world ${worldName}`)\n        await removeFileRecursiveAsync(worldPath)\n        setLoadingScreenStatus(undefined)\n        readWorlds(readWorldsAbortController.current)\n      }\n      if (action === 'export') {\n        if (selectedProvider === 'google') {\n          openInGoogleDrive()\n          return\n        }\n\n        const selectedVariant =\n          haveDirectoryPicker()\n            ? await showOptionsModal('Select export type', ['Select folder (recommended)', 'Download ZIP file'])\n            : await showOptionsModal('Select export type', ['Download ZIP file'])\n        if (!selectedVariant) return\n        if (selectedVariant === 'Select folder (recommended)') {\n          const success = await mountExportFolder()\n          if (!success) return\n        }\n        await exportWorld(worldPath, selectedVariant === 'Select folder (recommended)' ? 'folder' : 'zip', worldName)\n      }\n    }}\n    onGeneralAction={(action) => {\n      if (action === 'cancel') {\n        hideCurrentModal()\n      }\n      if (action === 'create') {\n        showModal({ reactType: 'create-world' })\n      }\n    }}\n  />\n}\n","import React, { CSSProperties } from 'react'\nimport Select from './Select'\n\ntype Version = { value: string, label: string }\n\nexport default (\n  { versions, selected, onChange, updateOptions, containerStyle }:\n    {\n      versions: Version[],\n      selected?: Version,\n      onChange?: (newValue: string) => void,\n      updateOptions?: (newSel: string) => void,\n    } & Pick<React.ComponentProps<typeof Select>, 'containerStyle' | 'placeholder' | 'disabled'>\n) => {\n  return <Select\n    initialOptions={versions}\n    defaultValue={selected}\n    updateOptions={(newSel) => {\n      updateOptions?.(newSel)\n    }}\n    onValueChange={onChange}\n    containerStyle={containerStyle ?? { width: '190px' }}\n    getCssOnInput={(value) => {\n      if (!versions || !value) return {}\n      const parsedsupportedVersions = versions.map(x => x.value.split('.').map(Number))\n      const parsedValue = value.split('.').map(Number)\n\n      const compareVersions = (v1, v2) => {\n        for (let i = 0; i < Math.max(v1.length, v2.length); i++) {\n          const num1 = v1[i] || 0\n          const num2 = v2[i] || 0\n          if (num1 > num2) return 1\n          if (num1 < num2) return -1\n        }\n        return 0\n      }\n\n      parsedsupportedVersions.sort(compareVersions)\n      const minVersion = parsedsupportedVersions[0]\n      const maxVersion = parsedsupportedVersions.at(-1)\n\n      const isWithinRange = compareVersions(parsedValue, minVersion) >= 0 && compareVersions(parsedValue, maxVersion) <= 0\n      if (!isWithinRange) return { border: '1px solid red' }\n      if (!versions.some(x => x.value === value)) return { border: '1px solid yellow' }\n    }}\n  />\n\n}\n","import { useEffect, useState } from 'react'\nimport { proxy, useSnapshot } from 'valtio'\nimport { filesize } from 'filesize'\nimport { getAvailableServerPlugins } from '../clientMods'\nimport { showModal } from '../globalState'\nimport Input from './Input'\nimport Screen from './Screen'\nimport Button from './Button'\nimport SelectGameVersion from './SelectGameVersion'\nimport styles from './createWorld.module.css'\nimport { InputOption, showInputsModal, showOptionsModal } from './SelectOption'\n\n// const worldTypes = ['default', 'flat', 'largeBiomes', 'amplified', 'customized', 'buffet', 'debug_all_block_states']\nconst worldTypes = ['default', 'flat', 'empty', 'nether', 'all_the_blocks']\nconst gameModes = ['survival', 'creative'/* , 'adventure', 'spectator' */]\n\nexport const creatingWorldState = proxy({\n  title: '',\n  type: worldTypes[0],\n  gameMode: gameModes[0],\n  version: '',\n  plugins: [] as string[]\n})\n\nexport default ({ cancelClick, createClick, customizeClick, versions, defaultVersion }) => {\n  const [quota, setQuota] = useState('')\n\n  const { title, type, version, gameMode, plugins } = useSnapshot(creatingWorldState)\n  useEffect(() => {\n    creatingWorldState.version = defaultVersion\n    void navigator.storage?.estimate?.().then(({ quota, usage }) => {\n      setQuota(`Storage usage: ${usage === undefined ? '?' : filesize(usage)} / ${quota ? filesize(quota) : '?'}`)\n    })\n  }, [])\n\n  return <Screen title=\"Create world\" backdrop=\"dirt\">\n    <form\n      style={{ display: 'flex' }} onSubmit={(e) => {\n        e.preventDefault()\n        createClick()\n      }}\n    >\n      <Input\n        autoFocus\n        value={title}\n        onChange={({ target: { value } }) => {\n          creatingWorldState.title = value\n        }}\n        placeholder='World name'\n      />\n      <SelectGameVersion\n        versions={versions.map((obj) => { return { value: obj.version, label: obj.version } })}\n        selected={{ value: defaultVersion, label: defaultVersion }}\n        onChange={(value) => {\n          creatingWorldState.version = value ?? defaultVersion\n        }}\n        containerStyle={{ width: '100px' }}\n      />\n      <button type='submit' style={{ visibility: 'hidden' }} />\n    </form>\n    <div style={{ display: 'flex' }}>\n      <Button onClick={() => {\n        const index = worldTypes.indexOf(type)\n        creatingWorldState.type = worldTypes[index === worldTypes.length - 1 ? 0 : index + 1]\n      }}\n      >World Type: {type}\n      </Button>\n      {/* <Button onClick={() => customizeClick()} disabled>\n        Customize\n      </Button> */}\n      <Button onClick={() => {\n        const index = gameModes.indexOf(gameMode)\n        creatingWorldState.gameMode = gameModes[index === gameModes.length - 1 ? 0 : index + 1]\n      }}\n      >\n        Game Mode: {gameMode}\n      </Button>\n    </div>\n    <div style={{ display: 'flex' }}>\n      <Button onClick={async () => {\n        const availableServerPlugins = await getAvailableServerPlugins()\n        const availableModNames = availableServerPlugins.map(mod => mod.name)\n        const choices: Record<string, InputOption> = Object.fromEntries(availableServerPlugins.map(mod => [mod.name, {\n          type: 'checkbox' as const,\n          defaultValue: creatingWorldState.plugins.includes(mod.name),\n          label: mod.name\n        }]))\n        choices.installMore = {\n          type: 'button' as const,\n          onButtonClick () {\n            showModal({ reactType: 'mods' })\n          }\n        }\n        const choice = await showInputsModal('Select server plugins from mods to install:', choices)\n        if (!choice) return\n        creatingWorldState.plugins = availableModNames.filter(modName => choice[modName])\n      }}\n      >Use Mods ({plugins.length})\n      </Button>\n      <Button\n        onClick={() => {\n          const index = gameModes.indexOf(gameMode)\n          creatingWorldState.gameMode = gameModes[index === gameModes.length - 1 ? 0 : index + 1]\n        }}\n        disabled\n      >\n        Save Type: Java\n      </Button>\n    </div>\n    <div className='muted' style={{ fontSize: 8 }}>Default and other world types are WIP</div>\n\n    <div style={{ display: 'flex' }}>\n      <Button onClick={() => {\n        cancelClick()\n      }}\n      >Cancel\n      </Button>\n      <Button disabled={!title} onClick={createClick}>\n        <b>\n          Create\n        </b>\n      </Button>\n    </div>\n    <div className='muted' style={{ fontSize: 9 }}>Note: save important worlds in folders on your hard drive!</div>\n    <div className='muted' style={{ fontSize: 9 }}>{quota}</div>\n  </Screen>\n}\n\nexport const WorldCustomize = ({ backClick }) => {\n  const { type } = useSnapshot(creatingWorldState)\n\n  return <Screen title='Customize world' backdrop='dirt'>\n    <div className={styles.world_layers_container}>\n      <div className=\"world_layer\" />\n    </div>\n    <Button onClick={backClick}>Back</Button>\n  </Screen>\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"world_layers_container\":\"world_layers_container-YYXzJi\",\"worldLayersContainer\":\"world_layers_container-YYXzJi\"};","import fs from 'fs'\nimport path from 'path'\nimport { hideCurrentModal, showModal } from '../globalState'\nimport defaultLocalServerOptions from '../defaultLocalServerOptions'\nimport { mkdirRecursive, uniqueFileNameFromWorldName } from '../browserfs'\nimport supportedVersions from '../supportedVersions.mjs'\nimport { getServerPlugin } from '../clientMods'\nimport CreateWorld, { WorldCustomize, creatingWorldState } from './CreateWorld'\nimport { getWorldsPath } from './SingleplayerProvider'\nimport { useIsModalActive } from './utilsApp'\n\nexport default () => {\n  const activeCreate = useIsModalActive('create-world')\n  const activeCustomize = useIsModalActive('customize-world')\n  if (activeCreate) {\n    const versionsPerMinor = Object.fromEntries(supportedVersions.map(x => [x.split('.').slice(0, 2), x]))\n    const versions = Object.values(versionsPerMinor).map(x => {\n      return {\n        version: x,\n        label: x === defaultLocalServerOptions.version ? `${x} (default)` : x\n      }\n    })\n    return <CreateWorld\n      defaultVersion={defaultLocalServerOptions.version}\n      cancelClick={() => {\n        hideCurrentModal()\n      }}\n      createClick={async () => {\n        // create new world\n        const { title, type, version, gameMode, plugins } = creatingWorldState\n        // todo display path in ui + disable if exist\n        const savePath = await uniqueFileNameFromWorldName(title, getWorldsPath())\n        await mkdirRecursive(savePath)\n        await loadPluginsIntoWorld(savePath, plugins)\n        hideCurrentModal()\n        window.dispatchEvent(new CustomEvent('singleplayer', {\n          detail: {\n            levelName: title,\n            version,\n            generation: {\n              name: type\n            },\n            'worldFolder': savePath,\n            gameMode: gameMode === 'survival' ? 0 : 1,\n          },\n        }))\n      }}\n      customizeClick={() => {\n        showModal({ reactType: 'customize-world' })\n      }}\n      versions={versions}\n    />\n  }\n  if (activeCustomize) {\n    return <WorldCustomize backClick={() => hideCurrentModal()} />\n  }\n  return null\n}\n\nexport const loadPluginsIntoWorld = async (worldPath: string, plugins: string[]) => {\n  for (const plugin of plugins) {\n    // eslint-disable-next-line no-await-in-loop\n    const { content, version } = await getServerPlugin(plugin) ?? {}\n    if (content) {\n      // eslint-disable-next-line no-await-in-loop\n      await mkdirRecursive(path.join(worldPath, 'plugins'))\n      // eslint-disable-next-line no-await-in-loop\n      await fs.promises.writeFile(path.join(worldPath, 'plugins', `${plugin}-${version}.js`), content)\n    }\n  }\n}\n","import { useEffect, useState } from 'react'\nimport { useSnapshot } from 'valtio'\nimport { activeModalStack, miscUiState } from '../globalState'\nimport Button from './Button'\nimport { useUsingTouch } from './utilsApp'\nimport { pixelartIcons } from './PixelartIcon'\nimport { showNotification } from './NotificationProvider'\n\nconst hideOnModals = new Set(['chat'])\n\nexport default () => {\n  const [fullScreen, setFullScreen] = useState(false)\n  useEffect(() => {\n    document.documentElement.addEventListener('fullscreenchange', () => {\n      setFullScreen(!!document.fullscreenElement)\n    })\n  }, [])\n  const { gameLoaded } = useSnapshot(miscUiState)\n\n  const activeStack = useSnapshot(activeModalStack)\n\n  const inMainMenu = activeStack.length === 0 && !gameLoaded\n\n  const usingTouch = useUsingTouch()\n  const hideButton = activeStack.some(x => hideOnModals.has(x.reactType))\n\n  if (hideButton || !usingTouch || !document.documentElement.requestFullscreen || fullScreen) return null\n\n  return <Button\n    icon={pixelartIcons.scale}\n    style={{\n      position: 'fixed',\n      top: 5,\n      left: inMainMenu ? 35 : 5,\n      width: 22,\n    }}\n    onClick={async () => {\n      try {\n        await document.documentElement.requestFullscreen()\n      } catch (err) {\n        showNotification(`${err.message ?? err}`, undefined, true)\n      }\n    }}\n  />\n}\n","import { proxy, useSnapshot } from 'valtio'\nimport { useEffect, useRef, Fragment } from 'react'\nimport type { UIDefinition } from 'mcraft-fun-mineflayer/build/customChannel'\nimport MessageFormattedString from './MessageFormattedString'\nimport { useUiMotion } from './uiMotion'\nimport PixelartIcon from './PixelartIcon'\n\nexport const mineflayerPluginHudState = proxy({\n  ui: [] as Array<UIDefinition & { id: string }>,\n})\n\ntype TextPart = { type: 'text'; content: string } | { type: 'icon'; iconName: string }\n\nconst parseTextWithIcons = (text: string): TextPart[] => {\n  const parts: TextPart[] = []\n  let currentText = ''\n  let i = 0\n\n  while (i < text.length) {\n    if (text[i] === '{' && text.slice(i, i + 6) === '{icon:') {\n      // If we have accumulated text before the icon, add it\n      if (currentText) {\n        parts.push({ type: 'text', content: currentText })\n        currentText = ''\n      }\n\n      // Find the end of the icon placeholder\n      const endBrace = text.indexOf('}', i)\n      if (endBrace !== -1) {\n        const iconName = text.slice(i + 6, endBrace)\n        parts.push({ type: 'icon', iconName })\n        i = endBrace + 1\n        continue\n      }\n    }\n    currentText += text[i]\n    i++\n  }\n\n  // Add any remaining text\n  if (currentText) {\n    parts.push({ type: 'text', content: currentText })\n  }\n\n  return parts\n}\n\nconst TextElement = ({ text, x, y, motion = true, formatted = true, css = '', onTab = false }: UIDefinition & { type: 'text' }) => {\n  const motionRef = useRef<HTMLDivElement>(null)\n  const innerRef = useRef<HTMLDivElement>(null)\n\n  useUiMotion(motionRef, motion)\n\n  useEffect(() => {\n    if (!css) return\n    innerRef.current!.style.cssText = css\n  }, [css])\n\n  if (onTab && !document.hidden) return null\n\n  const parts = parseTextWithIcons(text)\n\n  return (\n    <div\n      ref={motionRef}\n      style={{\n        position: 'absolute',\n        left: x,\n        top: y,\n        transition: motion ? 'transform 0.1s ease-out' : 'none',\n        display: 'flex',\n        alignItems: 'center',\n        gap: '2px'\n      }}\n    >\n      <div ref={innerRef}>\n        {parts.map((part, index) => (\n          <Fragment key={index}>\n            {part.type === 'text' ? (\n              formatted ? <MessageFormattedString message={part.content} /> : part.content\n            ) : (\n              <PixelartIcon iconName={part.iconName} width={12} styles={{ display: 'inline-block' }} />\n            )}\n          </Fragment>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nconst ImageElement = ({ url, x, y, width, height }: UIDefinition & { type: 'image' }) => {\n  return (\n    <img\n      src={url}\n      style={{\n        position: 'absolute',\n        left: x,\n        top: y,\n        width,\n        height\n      }}\n      alt=\"\"\n    />\n  )\n}\n\nexport default () => {\n  const { ui } = useSnapshot(mineflayerPluginHudState)\n\n  return (\n    <div style={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%', pointerEvents: 'none' }} className='mineflayer-plugin-hud'>\n      {ui.map((element, index) => {\n        if (element.type === 'lil') return null // Handled elsewhere\n        if (element.type === 'text') return <TextElement key={index} {...element} />\n        if (element.type === 'image') return <ImageElement key={index} {...element} />\n        return null\n      })}\n    </div>\n  )\n}\n","import { proxy, subscribe, useSnapshot } from 'valtio'\nimport { useEffect, useRef, useState } from 'react'\nimport './MineflayerPluginConsole.css'\nimport { miscUiState } from '../globalState'\nimport { useIsModalActive } from './utilsApp'\nimport { useScrollBehavior } from './hooks/useScrollBehavior'\n\nexport type ConsoleMessage = {\n  text: string\n  isRepl?: boolean\n  level?: 'log' | 'warn' | 'error'\n  id: number\n}\n\nexport const mineflayerConsoleState = proxy({\n  onExecute: null as ((code: string) => void) | null,\n  messages: [] as ConsoleMessage[],\n  replEnabled: false,\n  consoleEnabled: false,\n  takeoverMode: false\n})\n\nconst MessageLine = ({ message }: { message: ConsoleMessage }) => {\n  const messageClass = message.isRepl ? 'console-message-repl' : message.level ? `console-message-${message.level}` : ''\n  return (\n    <li className={`console-message ${messageClass}`}>\n      <span className=\"console-message-prefix\">&gt;</span>\n      {message.text}\n    </li>\n  )\n}\n\nexport default () => {\n  const opened = useIsModalActive('console')\n  const usingTouch = useSnapshot(miscUiState).currentTouch\n  const { messages, replEnabled, consoleEnabled, onExecute } = useSnapshot(mineflayerConsoleState)\n\n  const consoleInput = useRef<HTMLInputElement>(null!)\n  const consoleMessages = useRef<HTMLDivElement>(null)\n\n  const { scrollToBottom } = useScrollBehavior(consoleMessages, { messages, opened })\n\n  // Add useEffect to focus input when opened\n  useEffect(() => {\n    if (opened && replEnabled) {\n      consoleInput.current?.focus()\n    }\n  }, [opened, replEnabled])\n\n  const updateInputValue = (newValue: string) => {\n    consoleInput.current.value = newValue\n    setTimeout(() => {\n      consoleInput.current.setSelectionRange(newValue.length, newValue.length)\n    }, 0)\n  }\n\n  return (\n    <>\n      <div className={`console-wrapper console-messages-wrapper ${usingTouch ? 'display-mobile' : ''}`}>\n        <div ref={consoleMessages} className={`console ${opened ? 'opened' : ''}`} id=\"console-messages\">\n          {!consoleEnabled && (\n            <MessageLine\n              key=\"console-disabled\"\n              message={{\n                id: -1,\n                text: 'Console is not enabled. Enable it in the plugin initialization settings.',\n                level: 'error'\n              }}\n            />\n          )}\n          {messages.map((m) => (\n            <MessageLine key={m.id} message={m} />\n          ))}\n        </div>\n      </div>\n\n      <div className={`console-wrapper console-input-wrapper ${usingTouch ? 'input-mobile' : ''}`} hidden={!opened}>\n        <form\n          className='console-input'\n          onSubmit={(e) => {\n            e.preventDefault()\n            const code = consoleInput.current.value\n            if (code) {\n              onExecute?.(code)\n              updateInputValue('')\n              // Scroll to bottom after sending command\n              scrollToBottom()\n            }\n          }}\n        >\n          <div className=\"console-input-container\">\n            <span className=\"console-input-prefix\">&gt;</span>\n            <input\n              defaultValue=''\n              ref={consoleInput}\n              type=\"text\"\n              className=\"console-input-field\"\n              id=\"consoleinput\"\n              spellCheck={false}\n              autoComplete=\"off\"\n              disabled={!replEnabled}\n              placeholder={replEnabled ? 'Enter JavaScript code (bot variable is available)' : 'REPL is not enabled'}\n            />\n          </div>\n          <button type='submit' style={{ visibility: 'hidden', position: 'absolute' }} />\n        </form>\n      </div>\n    </>\n  )\n}\n","import { EventEmitter } from 'events'\nimport { Duplex } from 'stream'\nimport states from 'minecraft-protocol/src/states'\nimport { createClient } from 'minecraft-protocol'\nimport { proxy, subscribe } from 'valtio'\nimport * as Gui from 'lil-gui'\nimport { CustomChannelPacketFromClient, CustomChannelPacketFromServer, UIDefinition } from 'mcraft-fun-mineflayer/build/customChannel'\nimport { activeModalStack } from './globalState'\nimport { mineflayerPluginHudState } from './react/MineflayerPluginHud'\nimport { mineflayerConsoleState } from './react/MineflayerPluginConsole'\nimport { showNotification } from './react/NotificationProvider'\n\nexport const viewerVersionState = proxy({\n  forwardChat: true,\n  version: '',\n  time: 0,\n  replEnabled: false,\n  consoleEnabled: false,\n  requiresPass: false,\n  clientIgnoredPackets: [] as string[]\n})\n\nclass CustomDuplex extends Duplex {\n  constructor (options, public writeAction) {\n    super(options)\n  }\n\n  override _read () {}\n\n  override _write (chunk, encoding, callback) {\n    this.writeAction(chunk)\n    callback()\n  }\n}\n\nexport const getViewerVersionData = async (url: string) => {\n  const ws = await openWebsocket(url)\n  ws.send('version')\n  const result = await new Promise<{\n    version: string\n    time: number,\n    replEnabled: boolean,\n    consoleEnabled: boolean,\n    requiresPass: boolean,\n    forwardChat: boolean,\n    clientIgnoredPackets?: string[]\n    takeoverMode?: boolean\n  }>((resolve, reject) => {\n    ws.addEventListener('message', async (message) => {\n      const { data } = message\n      const parsed = JSON.parse(data.toString())\n      resolve(parsed)\n      ws.close()\n      // Update viewer version state\n      Object.assign(viewerVersionState, parsed)\n      // todo\n      customEvents.on('mineflayerBotCreated', () => {\n        const client = bot._client as any\n        const oldWrite = client.write.bind(client)\n        client.write = (...args) => {\n          const [name] = args\n          if (parsed?.clientIgnoredPackets?.includes(name)) {\n            return\n          }\n          oldWrite(...args)\n        }\n      })\n    })\n  })\n  mineflayerConsoleState.consoleEnabled = result.consoleEnabled\n  mineflayerConsoleState.replEnabled = result.replEnabled\n  mineflayerConsoleState.takeoverMode = result.takeoverMode ?? false\n  return result\n}\n\nconst openWebsocket = async (url: string) => {\n  if (url.startsWith(':')) url = `ws://localhost${url}`\n  if (!url.startsWith('ws')) url = `ws://${url}`\n  const ws = new WebSocket(url)\n  await new Promise<void>((resolve, reject) => {\n    ws.onopen = () => resolve()\n    ws.onerror = (err) => reject(new Error(`[websocket] Failed to connect to ${url}`))\n    ws.onclose = (ev) => reject(ev.reason)\n  })\n  return ws\n}\n\nexport const getWsProtocolStream = async (url: string) => {\n  const ws = await openWebsocket(url)\n  const clientDuplex = new CustomDuplex(undefined, data => {\n    // console.log('send', Buffer.from(data).toString('hex'))\n    ws.send(data)\n  })\n  // todo use keep alive instead?\n  let lastMessageTime = performance.now()\n  ws.addEventListener('message', async (message) => {\n    let { data } = message\n    if (data instanceof Blob) {\n      data = await data.arrayBuffer()\n    }\n    clientDuplex.push(Buffer.from(data))\n    lastMessageTime = performance.now()\n  })\n  setInterval(() => {\n    // if (clientDuplex.destroyed) return\n    // if (performance.now() - lastMessageTime > 10_000) {\n    //   console.log('no packats received in 10s!')\n    //   clientDuplex.end()\n    // }\n  }, 5000)\n\n  ws.addEventListener('close', () => {\n    console.log('ws closed')\n    clientDuplex.end()\n    setTimeout(() => {\n      bot?.emit('end', 'Connection lost')\n    }, 500)\n  })\n\n  ws.addEventListener('error', err => {\n    console.log('ws error', err)\n  })\n\n  return {\n    clientDuplex\n  }\n}\n\nconst CHANNEL_NAME = 'minecraft-web-client:data'\n\nconst handleCustomChannel = () => {\n  bot._client.registerChannel(CHANNEL_NAME, ['string', []])\n  const toCleanup = [] as Array<() => void>\n  subscribe(activeModalStack, () => {\n    if (activeModalStack.length === 1 && activeModalStack[0].reactType === 'main-menu') {\n      for (const fn of toCleanup) fn()\n      toCleanup.length = 0\n      // Clear console state when disconnecting\n      mineflayerConsoleState.messages = []\n      mineflayerConsoleState.replEnabled = false\n      mineflayerConsoleState.consoleEnabled = false\n    }\n  })\n\n  const send = (data: CustomChannelPacketFromClient) => {\n    bot._client.writeChannel(CHANNEL_NAME, JSON.stringify(data))\n  }\n\n  // Set up console execution handler\n  mineflayerConsoleState.onExecute = (code) => {\n    send({\n      type: 'eval',\n      code\n    })\n  }\n\n  const on = (callback: (data: CustomChannelPacketFromServer) => void) => {\n    bot._client.on(CHANNEL_NAME as any, (data) => {\n      const parsed = JSON.parse(data.toString())\n      callback(parsed)\n    })\n  }\n\n  const lils = {} as Record<string, Gui.GUI>\n\n  on((data) => {\n    switch (data.type) {\n      case 'eval': {\n        // Handle eval results\n        mineflayerConsoleState.messages.push({\n          id: Date.now(),\n          text: data.isError ? `${data.result}` : JSON.stringify(data.result),\n          isRepl: true,\n          level: data.isError ? 'error' : undefined\n        })\n        // Limit to 500 messages by removing oldest ones\n        if (mineflayerConsoleState.messages.length > 500) {\n          mineflayerConsoleState.messages = mineflayerConsoleState.messages.slice(-500)\n        }\n        break\n      }\n      case 'console': {\n        // Handle console messages\n        mineflayerConsoleState.messages.push({\n          id: Date.now(),\n          text: data.message,\n          level: data.level\n        })\n        // Limit to 500 messages by removing oldest ones\n        if (mineflayerConsoleState.messages.length > 500) {\n          mineflayerConsoleState.messages = mineflayerConsoleState.messages.slice(-500)\n        }\n        break\n      }\n      // todo\n      case 'kick' as any: {\n        bot.emit('end', (data as any).reason)\n        break\n      }\n      case 'ui': {\n        const { update } = data\n        if (update.data === null) {\n          // Remove UI element\n          mineflayerPluginHudState.ui = mineflayerPluginHudState.ui.filter(ui => ui.id !== update.id)\n\n          const gui = lils[update.id]\n          if (gui) {\n            gui.destroy()\n            delete lils[update.id]\n          }\n        } else {\n        // Add or update UI element\n          const existingIndex = mineflayerPluginHudState.ui.findIndex(ui => ui.id === update.id)\n          if (existingIndex === -1) {\n            mineflayerPluginHudState.ui.push({ ...update.data, id: update.id })\n          } else {\n            mineflayerPluginHudState.ui[existingIndex] = { ...update.data, id: update.id }\n          }\n\n          if (update.data.type === 'lil') {\n            let gui = lils[update.id]\n            if (!gui) {\n              gui = new Gui.GUI({\n                title: update.data.title,\n              })\n              lils[update.id] = gui\n            }\n\n            // Update or add controllers\n            const { params, buttons } = update.data\n            for (const button of buttons ?? []) {\n              params[button] = (() => {\n                send({\n                  type: 'ui',\n                  id: update.id,\n                  param: button,\n                  value: true\n                })\n              }) as any\n            }\n            // eslint-disable-next-line guard-for-in\n            for (const paramName in params) {\n              const value = params[paramName]\n              const controller = gui.controllers.find(c => c.property === paramName)\n\n              if (controller) {\n                // Update existing controller value\n                controller.object[paramName] = value\n                controller.updateDisplay()\n              } else {\n                // Add new controller if doesn't exist\n                const obj = { [paramName]: value }\n                const controller = gui.add(obj, paramName)\n                if (!buttons?.includes(paramName)) {\n                  controller.onChange((value) => {\n                    send({\n                      type: 'ui',\n                      id: update.id,\n                      param: paramName,\n                      value\n                    })\n                  })\n                }\n              }\n            }\n\n            // Remove controllers that are no longer in params\n            const paramNames = Object.keys(params)\n            gui.controllers = gui.controllers.filter(c => {\n              if (!paramNames.includes(c.property)) {\n                c.destroy()\n                return false\n              }\n              return true\n            })\n          }\n        }\n\n        break\n      }\n\n      case 'stats': {\n        globalThis.botStats = data\n        break\n      }\n\n      case 'method': {\n        console.log('Method result', data.result)\n        break\n      }\n      // No default\n    }\n  })\n\n  return {\n    send\n  }\n}\n\nexport const onBotCreatedViewerHandler = async () => {\n  const { send } = handleCustomChannel()\n  bot.physicsEnabled = false\n\n  await new Promise<void>(resolve => {\n    bot.once('inject_allowed', resolve)\n  })\n\n  const originalSetControlState = bot.setControlState.bind(bot)\n  bot.setControlState = (control, state) => {\n    if (bot.controlState[control] === state) {\n      return\n    }\n    if (!mineflayerConsoleState.takeoverMode) {\n      showNotification('Remote control is not enabled', 'Enable takeoverMode in bot plugin settings first')\n      return\n    }\n    // send command to viewer\n    send({\n      type: 'setControlState',\n      control,\n      value: state\n    })\n    originalSetControlState(control, state)\n  }\n}\n","import { useEffect, useMemo, useRef, useState } from 'react'\nimport { useSnapshot } from 'valtio'\nimport { formatMessage, isStringAllowed } from '../chatUtils'\nimport { getBuiltinCommandsList, tryHandleBuiltinCommand } from '../builtinCommands'\nimport { gameAdditionalState, hideCurrentModal, miscUiState } from '../globalState'\nimport { options } from '../optionsStorage'\nimport { viewerVersionState } from '../viewerConnector'\nimport Chat, { Message } from './Chat'\nimport { useIsModalActive } from './utilsApp'\nimport { hideNotification, notificationProxy, showNotification } from './NotificationProvider'\nimport { getServerIndex, updateLoadedServerData } from './serversStorage'\nimport { lastConnectOptions } from './AppStatusProvider'\nimport { showOptionsModal } from './SelectOption'\n\nexport default () => {\n  const [messages, setMessages] = useState([] as Message[])\n  const isChatActive = useIsModalActive('chat')\n  const lastMessageId = useRef(0)\n  const lastPingTime = useRef(0)\n  const usingTouch = useSnapshot(miscUiState).currentTouch\n  const { chatSelect, messagesLimit, chatOpacity, chatOpacityOpened, chatVanillaRestrictions, debugChatScroll, chatPingExtension } = useSnapshot(options)\n  const isUsingMicrosoftAuth = useMemo(() => !!lastConnectOptions.value?.authenticatedAccount, [])\n  const { forwardChat } = useSnapshot(viewerVersionState)\n  const { viewerConnection } = useSnapshot(gameAdditionalState)\n\n  useEffect(() => {\n    bot.addListener('message', (jsonMsg, position) => {\n      if (position === 'game_info') return // ignore action bar messages, they are handled by the TitleProvider\n      if (jsonMsg['unsigned']) {\n        jsonMsg = jsonMsg['unsigned']\n      }\n      const parts = formatMessage(jsonMsg)\n      const messageText = parts.map(part => part.text).join('')\n\n      // Handle ping response\n      if (messageText === 'Pong!' && lastPingTime.current > 0) {\n        const latency = Date.now() - lastPingTime.current\n        parts.push({ text: ` Latency: ${latency}ms`, color: '#00ff00' })\n        lastPingTime.current = 0\n      }\n\n      setMessages(m => {\n        lastMessageId.current++\n        const newMessage: Message = {\n          parts,\n          id: lastMessageId.current,\n          timestamp: Date.now()\n        }\n\n        return [...m, newMessage].slice(-messagesLimit)\n      })\n    })\n  }, [])\n\n  return <Chat\n    chatVanillaRestrictions={chatVanillaRestrictions}\n    debugChatScroll={debugChatScroll}\n    allowSelection={chatSelect}\n    usingTouch={!!usingTouch}\n    opacity={(isChatActive ? chatOpacityOpened : chatOpacity) / 100}\n    messages={messages}\n    opened={isChatActive}\n    placeholder={forwardChat || !viewerConnection ? undefined : 'Chat forwarding is not enabled in the plugin settings'}\n    currentPlayerName={chatPingExtension ? bot.username : undefined}\n    getPingComplete={async (value) => {\n      const players = Object.keys(bot.players)\n      return players.filter(name => (!value || name.toLowerCase().includes(value.toLowerCase())) && name !== bot.username).map(name => `@${name}`)\n    }}\n    sendMessage={async (message) => {\n      // Record ping command time\n      if (message === '/ping') {\n        lastPingTime.current = Date.now()\n      }\n\n      const builtinHandled = tryHandleBuiltinCommand(message)\n      if (getServerIndex() !== undefined && (message.startsWith('/login') || message.startsWith('/register'))) {\n        showNotification('Click here to save your password in browser for auto-login', undefined, false, undefined, () => {\n          updateLoadedServerData((server) => {\n            server.autoLogin ??= {}\n            const password = message.split(' ')[1]\n            server.autoLogin[bot.username] = password\n            return { ...server }\n          })\n          hideNotification()\n        })\n        notificationProxy.id = 'auto-login'\n        const listener = () => {\n          hideNotification()\n        }\n        bot.on('kicked', listener)\n        setTimeout(() => {\n          bot.removeListener('kicked', listener)\n        }, 2000)\n      }\n      if (!builtinHandled) {\n        if (chatVanillaRestrictions && !miscUiState.flyingSquid) {\n          const validation = isStringAllowed(message)\n          if (!validation.valid) {\n            const choice = await showOptionsModal(`Can't send invalid characters to vanilla server (${validation.invalid?.join(', ')}). You can use them only in command blocks.`, [\n              'Remove Them & Send'\n            ])\n            if (!choice) return\n            message = validation.clean!\n          }\n        }\n\n        if (message) {\n          bot.chat(message)\n        }\n      }\n    }}\n    onClose={() => {\n      hideCurrentModal()\n    }}\n    fetchCompletionItems={async (triggerKind, completeValue) => {\n      if ((triggerKind === 'explicit' || options.autoRequestCompletions)) {\n        let items = [] as string[]\n        try {\n          items = await bot.tabComplete(completeValue, true, true)\n        } catch (err) { }\n        if (typeof items[0] === 'object') {\n          // @ts-expect-error\n          if (items[0].match) items = items.map(i => i.match)\n        }\n        if (completeValue === '/') {\n          if (!items[0]?.startsWith('/')) {\n            // normalize\n            items = items.map(item => `/${item}`)\n          }\n          if (items.length) {\n            items = [...items, ...getBuiltinCommandsList()]\n          }\n        }\n        return items\n      }\n    }}\n  />\n}\n","import { useState, useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport MessageFormattedString from './MessageFormattedString'\nimport './Title.css'\n\nexport type AnimationTimes = {\n  fadeIn: number,\n  stay: number,\n  fadeOut: number\n}\n\ntype TitleProps = {\n  title: string | Record<string, any>,\n  subtitle: string | Record<string, any>,\n  actionBar: string | Record<string, any>,\n  transitionTimes: AnimationTimes,\n  openTitle: boolean,\n  openActionBar: boolean\n}\n\nconst Title = ({\n  title,\n  subtitle,\n  actionBar,\n  transitionTimes,\n  openTitle = false,\n  openActionBar = false\n}: TitleProps) => {\n  const [mounted, setMounted] = useState(false)\n\n  const defaultFadeIn = 0.5\n  const defaultFadeOut = 1\n\n  useEffect(() => {\n    if (!mounted && (openTitle || openActionBar)) {\n      setMounted(true)\n    }\n  }, [openTitle, openActionBar])\n\n  return (\n    <div className='title-container'>\n      <AnimatePresence>\n        {openTitle && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{\n              duration: transitionTimes?.fadeIn ? transitionTimes.fadeIn / 1000 : defaultFadeIn,\n              exit: { duration: transitionTimes?.fadeOut ? transitionTimes.fadeOut / 1000 : defaultFadeOut }\n            }}\n          >\n            <h1 className='message-title'>\n              <MessageFormattedString message={title} />\n            </h1>\n            <h4 className='message-subtitle'>\n              <MessageFormattedString message={subtitle} />\n            </h4>\n          </motion.div>\n        )}\n      </AnimatePresence>\n      <AnimatePresence>\n        {openActionBar && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{\n              duration: transitionTimes?.fadeIn ? transitionTimes.fadeIn / 1000 : defaultFadeIn,\n              exit: { duration: transitionTimes?.fadeOut ? transitionTimes.fadeOut / 1000 : defaultFadeOut }\n            }}\n          >\n            <div className='message-action-bar'>\n              <MessageFormattedString message={actionBar} />\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  )\n}\n\nexport default Title\n","import { useEffect, useMemo, useState } from 'react'\nimport mojangson from 'mojangson'\nimport nbt from 'prismarine-nbt'\nimport type { ClientOnMap } from '../generatedServerPackets'\nimport Title from './Title'\nimport type { AnimationTimes } from './Title'\n\n\nconst defaultText: Record<string, any> = { 'text': '' }\nconst defaultTimings: AnimationTimes = { fadeIn: 500, stay: 3500, fadeOut: 1000 }\n\nconst ticksToMs = (ticks: AnimationTimes) => {\n  ticks.fadeIn *= 50\n  ticks.stay *= 50\n  ticks.fadeOut *= 50\n  return ticks\n}\n\nconst getComponent = (input: string | any) => {\n  if (typeof input === 'string') {\n    // raw json is sent\n    return mojangson.simplify(mojangson.parse(input))\n  } else if (input.type === 'string') {\n    // this is used for simple chat components without any special properties\n    return { 'text': input.value }\n  } else if (input.type === 'compound') {\n    // this is used for complex chat components with special properties\n    return nbt.simplify(input)\n  }\n  return input\n}\n\nexport default () => {\n  const [title, setTitle] = useState<string | Record<string, any>>(defaultText)\n  const [subtitle, setSubtitle] = useState<string | Record<string, any>>(defaultText)\n  const [actionBar, setActionBar] = useState<string | Record<string, any>>(defaultText)\n  const [animTimes, setAnimTimes] = useState<AnimationTimes>(defaultTimings)\n  const [openTitle, setOpenTitle] = useState(false)\n  const [openActionBar, setOpenActionBar] = useState(false)\n\n  useMemo(() => {\n    // todo move to mineflayer\n    bot._client.on('set_title_text', (packet) => {\n      setTitle(getComponent(packet.text))\n      setOpenTitle(true)\n    })\n    bot._client.on('set_title_subtitle', (packet) => {\n      setSubtitle(getComponent(packet.text))\n    })\n    bot._client.on('action_bar', (packet) => {\n      setActionBar(getComponent(packet.text))\n      setOpenActionBar(true)\n    })\n    bot._client.on('set_title_time', (packet) => {\n      setAnimTimes(ticksToMs(packet))\n    })\n    bot._client.on('clear_titles', (mes) => {\n      setOpenTitle(false)\n      setOpenActionBar(false)\n      if (mes.reset) {\n        setTitle(defaultText)\n        setSubtitle(defaultText)\n        setActionBar(defaultText)\n        setAnimTimes(defaultTimings)\n      }\n    })\n\n\n    bot.on('actionBar', (packet) => {\n      setAnimTimes({ fadeIn: 0, stay: 2000, fadeOut: 1000 })\n      setActionBar(packet)\n      setOpenActionBar(true)\n    })\n\n    // before 1.17\n    bot._client.on('title', (packet: ClientOnMap['title'] | string) => {\n      let mes: ClientOnMap['title']\n      if (typeof packet === 'string') {\n        mes = JSON.parse(packet)\n      } else {\n        mes = packet\n      }\n      switch (mes.action) {\n        case 0:\n          setTitle(JSON.parse(mes.text))\n          setOpenTitle(true)\n          break\n        case 1:\n          setSubtitle(JSON.parse(mes.text))\n          break\n        case 2:\n          setActionBar(JSON.parse(mes.text))\n          setOpenActionBar(true)\n          break\n        case 3:\n          setAnimTimes(ticksToMs({ fadeIn: mes.fadeIn, stay: mes.stay, fadeOut: mes.fadeOut }))\n          break\n        case 4:\n          setOpenTitle(false)\n          setOpenActionBar(false)\n          break\n        case 5:\n          setOpenTitle(false)\n          setOpenActionBar(false)\n          setTitle(defaultText)\n          setSubtitle(defaultText)\n          setActionBar(defaultText)\n          setAnimTimes(defaultTimings)\n          break\n      }\n    })\n  }, [])\n\n  useEffect(() => {\n    const id = setTimeout(() => {\n      setOpenTitle(false)\n    }, animTimes.stay) // only initial stay time is used for title\n\n    return () => {\n      clearTimeout(id)\n    }\n  }, [title, subtitle])\n\n  useEffect(() => {\n    let id: any = null\n    if (!openTitle) {\n      id = setTimeout(() => {\n        setSubtitle(defaultText)\n      }, animTimes.fadeOut)\n    }\n\n    return () => {\n      if (id) {\n        clearTimeout(id)\n      }\n    }\n  }, [openTitle])\n\n  useEffect(() => {\n    const id = setTimeout(() => {\n      setOpenActionBar(false)\n    }, animTimes.stay)\n\n    return () => {\n      clearTimeout(id)\n    }\n  }, [actionBar])\n\n  return <Title\n    title={title}\n    subtitle={subtitle}\n    actionBar={actionBar}\n    transitionTimes={animTimes}\n    openTitle={openTitle}\n    openActionBar={openActionBar}\n  />\n}\n","import './Scoreboard.css'\nimport MessageFormattedString from './MessageFormattedString'\nimport { reactKeyForMessage } from './utils'\n\n\nexport type ScoreboardItems = Array<{ name: string, value: number, displayName?: any }>\n\ntype ScoreboardProps = {\n  title: string,\n  items: ScoreboardItems,\n  open: boolean\n  style?: React.CSSProperties\n}\n\nexport default function Scoreboard ({ title, items, open, style }: ScoreboardProps) {\n\n  if (!open) return null\n  return (\n    <div className='scoreboard-container' style={style}>\n      <div className='scoreboard-title'>\n        <MessageFormattedString message={title} />\n      </div>\n      {\n        items.map((item) => {\n          const message = item.displayName ?? item.name\n          return <div key={reactKeyForMessage(message) + '_' + item.value} className='item-container'>\n            <div className='item-name'>\n              <MessageFormattedString message={message} />\n            </div>\n            <div className='item-value'>\n              {item.value}\n            </div>\n          </div>\n        })\n      }\n    </div>\n  )\n}\n","import { useMemo, useState } from 'react'\nimport Scoreboard from './Scoreboard'\nimport type { ScoreboardItems } from './Scoreboard'\n\n\nexport default function ScoreboardProvider () {\n  const [title, setTitle] = useState('Scoreboard')\n  const [items, setItems] = useState<ScoreboardItems>([])\n  const [open, setOpen] = useState(false)\n\n  useMemo(() => { // useMemo instead of useEffect to register them asap and not after the initial dom render\n    const updateSidebarScoreboard = () => {\n      addStatPerSec('scoreboard')\n      if (bot.scoreboard.sidebar) {\n        setTitle(bot.scoreboard.sidebar.title)\n        setItems([...bot.scoreboard.sidebar.items])\n        setOpen(true)\n      } else {\n        setOpen(false)\n      }\n    }\n\n    bot.on('scoreboardCreated', updateSidebarScoreboard) // not used atm but still good to have\n    bot.on('scoreboardTitleChanged', updateSidebarScoreboard)\n    bot.on('scoreUpdated', updateSidebarScoreboard)\n    bot.on('scoreRemoved', updateSidebarScoreboard)\n    bot.on('scoreboardDeleted', updateSidebarScoreboard)\n    bot.on('scoreboardPosition', () => {\n      void Promise.resolve().then(() => {\n        updateSidebarScoreboard()\n      }) // mineflayer bug: wait for the next tick to get the correct scoreboard position\n    })\n  }, [])\n\n  return (\n    <Scoreboard\n      title={title}\n      items={items}\n      open={open}\n    />\n  )\n}\n","import { remark } from 'remark'\n\nexport default (markdown: string) => {\n  const arr = markdown.split('\\n\\n')\n  const lines = ['', '', '', ''] as any[]\n  for (const [i, ast] of arr.map(md => remark().parse(md)).entries()) {\n    lines[i] = transformToMinecraftJSON(ast as Element)\n  }\n  return lines\n}\n\nfunction transformToMinecraftJSON (element: Element): any {\n  switch (element.type) {\n    case 'root': {\n      if (!element.children) return\n      return element.children.map(child => transformToMinecraftJSON(child)).filter(Boolean)\n    }\n    case 'paragraph': {\n      if (!element.children) return\n      const transformedChildren = element.children.map(child => transformToMinecraftJSON(child)).filter(Boolean)\n      return transformedChildren.flat()\n    }\n    case 'strong': {\n      if (!element.children) return\n      return [{ bold: true, text: element.children[0].value }]\n    }\n    case 'text': {\n      return { text: element.value }\n    }\n    case 'emphasis': {\n      if (!element.children) return\n      return [{ italic: true, text: element.children[0].value }]\n    }\n    default:\n      // todo leave untouched eg links\n      return element.value\n  }\n}\n\ninterface Position {\n  start: {\n    line: number;\n    column: number;\n    offset: number;\n  };\n  end: {\n    line: number;\n    column: number;\n    offset: number;\n  };\n}\n\ninterface Element {\n  type: string;\n  children?: Element[];\n  value?: string;\n  position: Position;\n}\n","import { useEffect, useRef } from 'react'\nimport { focusable } from 'tabbable'\nimport markdownToFormattedText from '../markdownToFormattedText'\nimport type { ProseMirrorView } from './prosemirror-markdown'\nimport Button from './Button'\nimport 'prosemirror-view/style/prosemirror.css'\nimport 'prosemirror-menu/style/menu.css'\nimport './SignEditor.css'\n\n\nconst imageSource = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAMCAYAAAB4MH11AAABbElEQVR4AY3BQY6cMBBA0Q+yQZZVi+ndcJVcKGfMgegdvShKVtuokzGSWwwiUd7rfv388Vst0UgMXCobmgsSA5VaQmKgUks0EgNHji8SA9W8GJCQwVNpLhzJ4KFs4B1HEgPVvBiQkMFTaS44tYTEQDXdIkfiHbuyobmguaDPFzIWGrWExEA13SJH4h1uzS/WbPyvroM1v6jWbFRrNv7GfX5EdmXjzTvUEjJ4zjQXjiQGdmXjzTvUEjJ4HF/UEt/kQqW5UEkMzIshY08jg6dRS3yTC5XmgpsXY7pFztQSEgPNJCNv3lGpJVSfTLfImVpCYsB1HdwfxpU1G9eeNF0H94dxZc2G+/yI7MoG3vEv82LI2NNIDLyVDbzjzFE2mnkxZOy5IoNnkpFGc2FXNpp5MWTsOXJ4h1qikrGnkhjYlY1m1icy9lQSA+TCzjvUEpWMPZXEwK5suPvDOFuzcdZ1sOYX1ZqNas3GlTUbzR+jQbEAcs8ZQAAAAABJRU5ErkJggg=='\n\ntype Props = {\n  handleInput: (target: HTMLInputElement) => void,\n  ProseMirrorView: typeof ProseMirrorView,\n  handleClick?: (view: ResultType) => void\n}\n\nexport type ResultType = {\n  plainText: string[]\n  dataText?: string[]\n}\n\nexport default ({ handleInput, ProseMirrorView, handleClick }: Props) => {\n  const isWysiwyg = !!ProseMirrorView\n  const prosemirrorContainer = useRef(null)\n  const editorView = useRef<ProseMirrorView | null>(null)\n\n  useEffect(() => {\n    if (isWysiwyg) {\n      editorView.current = new ProseMirrorView(prosemirrorContainer.current, '')\n    }\n  }, [isWysiwyg])\n\n  return <div\n    className='signs-editor-container'\n    onKeyDown={(e) => {\n      // arrow down/up, Enter to navigate between lines\n      if (isWysiwyg) return // todo\n      let { code } = e\n      if ((e.target as HTMLElement).matches('input') && e.key === 'Enter') code = 'ArrowDown'\n      if (code === 'ArrowDown' || code === 'ArrowUp') {\n        e.preventDefault()\n        const dir = code === 'ArrowDown' ? 1 : -1\n        const elements = focusable(e.currentTarget)\n        const focusedElemIndex = elements.indexOf(document.activeElement as HTMLElement)\n        if (focusedElemIndex === -1) return\n        const nextElem = elements[focusedElemIndex + dir]\n        nextElem?.focus()\n      }\n    }}\n  >\n    <div className='signs-editor-inner-container'>\n      <img className='signs-editor-bg-image' src={imageSource} alt='' />\n      {isWysiwyg ? (\n        <p ref={prosemirrorContainer} className='wysiwyg-editor' />\n      ) : [1, 2, 3, 4].map((value, index) => {\n        return <input\n          className='sign-editor'\n          key={index}\n          data-key={index}\n          maxLength={15} // overriden by handleInput\n          onChange={(e) => {\n            handleInput(e.currentTarget)\n          }}\n        />\n      })}\n      <Button\n        onClick={async () => {\n          if (handleClick) {\n            if (isWysiwyg) {\n              const formattedText = markdownToFormattedText(editorView.current!.content)\n              const plainText = formattedText\n                .map((t) => (Array.isArray(t) && Array.isArray(t[0]) ? t.map((t) => t[0]) : t))\n                .map((t) => (Array.isArray(t) ? t.map((t) => t.text).join('') : t))\n              handleClick({ dataText: formattedText, plainText })\n            } else {\n              const text = [] as string[]\n              for (const input of document.getElementsByClassName('sign-editor')) {\n                text.push((input as HTMLInputElement).value)\n              }\n              handleClick({ plainText: text })\n            }\n          }\n        }} className='sign-editor-button' label=\"Done\"\n      />\n    </div>\n  </div>\n}\n","import { useMemo, useEffect, useState, useRef } from 'react'\nimport { showModal, hideModal } from '../globalState'\nimport { options } from '../optionsStorage'\nimport { useIsModalActive } from './utilsApp'\nimport SignEditor, { ResultType } from './SignEditor'\n\n\nconst isWysiwyg = async () => {\n  const items = await bot.tabComplete('/data ', true, true)\n  const commands = new Set<string>(['merge'])\n  for (const item of items) {\n    if (commands.has((item.match ?? item) as unknown as string)) {\n      return true\n    }\n  }\n  return false\n}\n\nexport default () => {\n  const [location, setLocation] = useState<{ x: number, y: number, z: number } | null>(null)\n  const [isFrontText, setIsFrontText] = useState(true)\n  const text = useRef<string[]>(['', '', '', ''])\n  const [enableWysiwyg, setEnableWysiwyg] = useState(false)\n  const isModalActive = useIsModalActive('signs-editor-screen')\n  const [proseMirrorView, setProseMirrorView] = useState(null as any)\n\n  const handleClick = (result: ResultType) => {\n    hideModal({ reactType: 'signs-editor-screen' })\n    bot._client.write('update_sign', {\n      location,\n      isFrontText,\n      text1: result.plainText[0],\n      text2: result.plainText[1],\n      text3: result.plainText[2],\n      text4: result.plainText[3]\n    })\n\n    if (result.dataText) {\n      if (!location) return\n      const command = `/data merge block ${location.x} ${location.y} ${location.z} {Text1:'` + JSON.stringify(result.dataText[0]) + '\\',Text2: \\'' + JSON.stringify(result.dataText[1]) + '\\',Text3:\\'' + JSON.stringify(result.dataText[2]) + '\\',Text4:\\'' + JSON.stringify(result.dataText[3]) + '\\'}' // mojangson\n      bot.chat(command)\n    }\n  }\n\n  const handleInput = (target: HTMLInputElement) => {\n    const smallSymbols = /[()[\\]{} ]/\n    const largeSymbols = /[;|',.]/\n    let addLength = 0\n    for (const letter of target.value) {\n      if (smallSymbols.test(letter)) {\n        addLength += 1 - 1 / 1.46\n      } else if (largeSymbols.test(letter)) {\n        addLength += 1 - 1 / 3\n      }\n    }\n    text.current[Number(target.dataset.key)] = target.value\n    target.setAttribute('maxlength', `${15 + Math.ceil(addLength)}`)\n  }\n\n  useMemo(() => {\n    bot._client.on('open_sign_entity', (packet) => {\n      if (!options.autoSignEditor) return\n      setIsFrontText((packet as any).isFrontText ?? true)\n      setLocation(prev => packet.location)\n      showModal({ reactType: 'signs-editor-screen' })\n      if (options.wysiwygSignEditor === 'auto') {\n        void isWysiwyg().then((value) => {\n          setEnableWysiwyg(value)\n        })\n      } else if (options.wysiwygSignEditor === 'always') {\n        setEnableWysiwyg(true)\n      } else {\n        setEnableWysiwyg(false)\n      }\n    })\n\n    if (!process.env.SINGLE_FILE_BUILD) {\n      void import('./prosemirror-markdown').then(({ ProseMirrorView }) => {\n        setProseMirrorView(() => ProseMirrorView)\n      })\n    }\n  }, [])\n\n  if (!isModalActive) return null\n  return <SignEditor ProseMirrorView={enableWysiwyg ? proseMirrorView : undefined} handleInput={handleInput} handleClick={handleClick} />\n}\n","import { useMemo, useEffect, useRef, useState } from 'react'\nimport PixelartIcon, { pixelartIcons } from './PixelartIcon'\nimport './IndicatorEffects.css'\n\n\n\nfunction formatTime (seconds: number): string {\n  if (seconds < 0) return ''\n  const minutes = Math.floor(seconds / 60)\n  const remainingSeconds = Math.floor(seconds % 60)\n  const formattedMinutes = String(minutes).padStart(2, '0')\n  const formattedSeconds = String(remainingSeconds).padStart(2, '0')\n  return `${formattedMinutes}:${formattedSeconds}`\n}\n\nexport type EffectType = {\n  id: number,\n  image: string,\n  level: number,\n  initialTime: number,\n  duration: number,\n  name: string,\n}\n\nconst EffectBox = ({ image, level, name, initialTime, duration }: Pick<EffectType, 'image' | 'level' | 'initialTime' | 'name' | 'duration'>) => {\n  const [currentTime, setCurrentTime] = useState(Date.now())\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentTime(Date.now())\n    }, 100)\n    return () => clearInterval(interval)\n  }, [])\n\n  const timeElapsed = (currentTime - initialTime) / 1000\n  const timeRemaining = Math.max(0, duration - timeElapsed)\n  const progress = duration > 0 ? Math.max(0, Math.min(1, timeRemaining / duration)) : 0\n  const formattedTime = useMemo(() => formatTime(timeRemaining), [timeRemaining])\n\n  // Convert level to Roman numerals\n  const toRomanNumeral = (num: number): string => {\n    if (num <= 0) return ''\n    const romanNumerals = ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX', 'X']\n    return romanNumerals[num - 1] || `${num}`\n  }\n\n  const levelText = level > 0 && level < 256 ? ` ${toRomanNumeral(level + 1)}` : ''\n\n  return (\n    <div className='effect-box'>\n      <div className='effect-box__progress-bg' style={{ width: `${progress * 100}%` }} />\n      <img className='effect-box__image' src={image} alt='' />\n      <div className='effect-box__content'>\n        <div className='effect-box__title'>{name}{levelText}</div>\n        {formattedTime && (\n          <div className='effect-box__time'>{formattedTime}</div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport const defaultIndicatorsState = {\n  chunksLoading: false,\n  readingFiles: false,\n  readonlyFiles: false,\n  writingFiles: false, // saving\n  appHasErrors: false,\n  connectionIssues: 0,\n  preventSleep: false,\n}\n\nconst indicatorIcons: Record<keyof typeof defaultIndicatorsState, string> = {\n  chunksLoading: 'add-grid',\n  readingFiles: 'arrow-bar-down',\n  writingFiles: 'arrow-bar-up',\n  appHasErrors: 'alert',\n  readonlyFiles: 'file-off',\n  connectionIssues: pixelartIcons['cellular-signal-off'],\n  preventSleep: pixelartIcons.moon,\n}\n\nconst colorOverrides = {\n  connectionIssues: {\n    0: false,\n    1: 'orange',\n    2: 'red'\n  }\n}\n\nexport default ({\n  indicators,\n  effects,\n  displayIndicators,\n  displayEffects\n}: {\n  indicators: typeof defaultIndicatorsState,\n  effects: readonly EffectType[]\n  displayIndicators: boolean\n  displayEffects: boolean\n}) => {\n  const indicatorsMapped = Object.entries(defaultIndicatorsState).map(([key]) => {\n    const state = indicators[key]\n    return {\n      icon: indicatorIcons[key],\n      // preserve order\n      state,\n      key\n    }\n  })\n  return <div className='indicators-container-outer'>\n    <div className='indicators-container'>\n      {\n        displayIndicators && indicatorsMapped.map((indicator) => <div\n          key={indicator.icon}\n          style={{\n            opacity: indicator.state ? 1 : 0,\n            transition: 'opacity color 0.1s',\n            color: colorOverrides[indicator.key]?.[indicator.state]\n          }}\n        >\n          <PixelartIcon iconName={indicator.icon} />\n        </div>)\n      }\n    </div>\n    {displayEffects && <EffectsInner effects={effects} />}\n  </div>\n}\n\nconst EffectsInner = ({ effects }: { effects: readonly EffectType[] }) => {\n  return <div className='effects-container'>\n    {effects.map((effect) => (\n      <EffectBox\n        key={`effectBox-${effect.id}`}\n        {...effect}\n      />\n    ))}\n  </div>\n}\n","import absorption from 'mc-assets/dist/other-textures/latest/mob_effect/absorption.png'\nimport glowing from 'mc-assets/dist/other-textures/latest/mob_effect/glowing.png'\nimport instant_health from 'mc-assets/dist/other-textures/latest/mob_effect/instant_health.png'\nimport nausea from 'mc-assets/dist/other-textures/latest/mob_effect/nausea.png'\nimport slow_falling from 'mc-assets/dist/other-textures/latest/mob_effect/slow_falling.png'\nimport weakness from 'mc-assets/dist/other-textures/latest/mob_effect/weakness.png'\nimport bad_omen from 'mc-assets/dist/other-textures/latest/mob_effect/bad_omen.png'\nimport haste from 'mc-assets/dist/other-textures/latest/mob_effect/haste.png'\nimport invisibility from 'mc-assets/dist/other-textures/latest/mob_effect/invisibility.png'\nimport night_vision from 'mc-assets/dist/other-textures/latest/mob_effect/night_vision.png'\nimport slowness from 'mc-assets/dist/other-textures/latest/mob_effect/slowness.png'\nimport wither from 'mc-assets/dist/other-textures/latest/mob_effect/wither.png'\nimport blindness from 'mc-assets/dist/other-textures/latest/mob_effect/blindness.png'\nimport health_boost from 'mc-assets/dist/other-textures/latest/mob_effect/health_boost.png'\nimport jump_boost from 'mc-assets/dist/other-textures/latest/mob_effect/jump_boost.png'\nimport poison from 'mc-assets/dist/other-textures/latest/mob_effect/poison.png'\nimport speed from 'mc-assets/dist/other-textures/latest/mob_effect/speed.png'\nimport conduit_power from 'mc-assets/dist/other-textures/latest/mob_effect/conduit_power.png'\nimport hero_of_the_village from 'mc-assets/dist/other-textures/latest/mob_effect/hero_of_the_village.png'\nimport levitation from 'mc-assets/dist/other-textures/latest/mob_effect/levitation.png'\nimport regeneration from 'mc-assets/dist/other-textures/latest/mob_effect/regeneration.png'\nimport strength from 'mc-assets/dist/other-textures/latest/mob_effect/strength.png'\nimport dolphins_grace from 'mc-assets/dist/other-textures/latest/mob_effect/dolphins_grace.png'\nimport hunger from 'mc-assets/dist/other-textures/latest/mob_effect/hunger.png'\nimport luck from 'mc-assets/dist/other-textures/latest/mob_effect/luck.png'\nimport resistance from 'mc-assets/dist/other-textures/latest/mob_effect/resistance.png'\nimport unluck from 'mc-assets/dist/other-textures/latest/mob_effect/unluck.png'\nimport fire_resistance from 'mc-assets/dist/other-textures/latest/mob_effect/fire_resistance.png'\nimport instant_damage from 'mc-assets/dist/other-textures/latest/mob_effect/instant_damage.png'\nimport mining_fatigue from 'mc-assets/dist/other-textures/latest/mob_effect/mining_fatigue.png'\nimport saturation from 'mc-assets/dist/other-textures/latest/mob_effect/saturation.png'\nimport water_breathing from 'mc-assets/dist/other-textures/latest/mob_effect/water_breathing.png'\nimport darkness from 'mc-assets/dist/other-textures/latest/mob_effect/darkness.png'\n\ninterface Images {\n  [key: string]: string;\n}\n\n// Export an object containing image URLs\nexport const images: Images = {\n  absorption,\n  glowing,\n  instant_health,\n  nausea,\n  slow_falling,\n  weakness,\n  bad_omen,\n  haste,\n  invisibility,\n  night_vision,\n  slowness,\n  wither,\n  blindness,\n  health_boost,\n  jump_boost,\n  poison,\n  speed,\n  conduit_power,\n  hero_of_the_village,\n  levitation,\n  regeneration,\n  strength,\n  dolphins_grace,\n  hunger,\n  luck,\n  resistance,\n  unluck,\n  bad_luck: unluck,\n  good_luck: luck,\n  fire_resistance,\n  instant_damage,\n  mining_fatigue,\n  saturation,\n  water_breathing,\n  darkness\n}\n","import { proxy, subscribe, useSnapshot } from 'valtio'\nimport { useEffect, useMemo, useState } from 'react'\nimport { subscribeKey } from 'valtio/utils'\nimport { Effect } from 'mineflayer'\nimport { inGameError } from '../utils'\nimport { fsState } from '../loadSave'\nimport { gameAdditionalState, miscUiState } from '../globalState'\nimport IndicatorEffects, { EffectType, defaultIndicatorsState } from './IndicatorEffects'\nimport { images } from './effectsImages'\n\nexport const state = proxy({\n  indicators: {\n  },\n  effects: [] as EffectType[]\n})\n\nexport const addEffect = (newEffect: Effect) => {\n  const effectData = loadedData.effectsArray.find(e => e.id === newEffect.id)\n  const name = effectData?.name ?? `unknown: ${newEffect.id}`\n  const nameKebab = name.replaceAll(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`).slice(1)\n  const image = images[nameKebab] ?? null\n  if (!image) {\n    inGameError(`received unknown effect id ${newEffect.id}`)\n    return\n  }\n\n  const effectIndex = getEffectIndex({ id: newEffect.id })\n  if (typeof effectIndex === 'number') {\n    state.effects[effectIndex].initialTime = Date.now()\n    state.effects[effectIndex].level = newEffect.amplifier\n    state.effects[effectIndex].duration = newEffect.duration / 20 // convert ticks to seconds\n  } else {\n    const effect: EffectType = {\n      id: newEffect.id,\n      name,\n      image,\n      level: newEffect.amplifier,\n      initialTime: Date.now(),\n      duration: newEffect.duration / 20, // convert ticks to seconds\n    }\n    state.effects.push(effect)\n  }\n}\n\nconst removeEffect = (id: number) => {\n  for (const [index, effect] of (state.effects).entries()) {\n    if (effect.id === id) {\n      state.effects.splice(index, 1)\n    }\n  }\n}\n\nconst getEffectIndex = (newEffect: Pick<EffectType, 'id'>) => {\n  for (const [index, effect] of (state.effects).entries()) {\n    if (effect.id === newEffect.id) {\n      return index\n    }\n  }\n  return null\n}\n\nexport default ({ displayEffects = true, displayIndicators = true }: { displayEffects?: boolean, displayIndicators?: boolean }) => {\n  const [dummyState, setDummyState] = useState(false)\n  const stateIndicators = useSnapshot(state.indicators)\n  const chunksLoading = !useSnapshot(appViewer.rendererState).world.allChunksLoaded\n  const { mesherWork } = useSnapshot(appViewer.rendererState).world\n\n  const { hasErrors } = useSnapshot(miscUiState)\n  const { isReadonly, openReadOperations, openWriteOperations } = useSnapshot(fsState)\n  const { noConnection, poorConnection } = useSnapshot(gameAdditionalState)\n  const allIndicators: typeof defaultIndicatorsState = {\n    readonlyFiles: isReadonly,\n    writingFiles: openWriteOperations > 0,\n    readingFiles: openReadOperations > 0,\n    appHasErrors: hasErrors,\n    connectionIssues: poorConnection ? 1 : noConnection ? 2 : 0,\n    chunksLoading,\n    preventSleep: !!bot?.wakeLock,\n    // mesherWork,\n    ...stateIndicators,\n  }\n\n  const effects = useSnapshot(state.effects)\n\n  useEffect(() => {\n    // update bot related states\n    const interval = setInterval(() => {\n      setDummyState(s => !s)\n    }, 1000)\n    return () => clearInterval(interval)\n  }, [])\n\n  useMemo(() => {\n    const effectsImages = Object.fromEntries(loadedData.effectsArray.map((effect) => {\n      const nameKebab = effect.name.replaceAll(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`).slice(1)\n      return [effect.id, images[nameKebab]]\n    }))\n    const gotEffect = (entity: import('prismarine-entity').Entity, effect: Effect) => {\n      if (entity.id !== bot.entity.id) return\n      addEffect(effect)\n    }\n    bot.on('entityEffect', gotEffect)\n\n    // gotEffect(bot.entity, {\n    //   id: 1,\n    //   amplifier: 1,\n    //   duration: 100,\n    // })\n\n    for (const effect of Object.values(bot.entity.effects ?? {})) {\n      gotEffect(bot.entity, effect)\n    }\n\n    bot.on('entityEffectEnd', (entity, effect) => {\n      if (entity.id !== bot.entity.id) return\n      removeEffect(effect.id)\n    })\n  }, [])\n\n  return <IndicatorEffects\n    indicators={allIndicators}\n    effects={effects}\n    displayIndicators={displayIndicators}\n    displayEffects={displayEffects}\n  />\n}\n","export const INVISIBLE_BLOCKS = new Set(['air', 'void_air', 'cave_air', 'barrier', 'light', 'moving_piston'])\n","import { Vec3 } from 'vec3'\nimport { useRef, useEffect, useState, CSSProperties, Dispatch, SetStateAction } from 'react'\nimport { WorldWarp } from 'flying-squid/dist/lib/modules/warps'\nimport { TransformWrapper, TransformComponent, ReactZoomPanPinchRef } from 'react-zoom-pan-pinch'\nimport { DrawerAdapter } from './MinimapDrawer'\nimport Button from './Button'\nimport Input from './Input'\nimport './Fullmap.css'\n\n\ntype FullmapProps = {\n  adapter: DrawerAdapter,\n  toggleFullMap?: () => void,\n}\n\nexport default ({ adapter, toggleFullMap }: FullmapProps) => {\n  const [grid, setGrid] = useState(() => new Set<string>())\n  const zoomRef = useRef<ReactZoomPanPinchRef>(null)\n  const [redraw, setRedraw] = useState<Set<string> | null>(null)\n  const [lastWarpPos, setLastWarpPos] = useState({ x: 0, y: 0, z: 0 })\n  const stateRef = useRef({ scale: 1, positionX: 0, positionY: 0 })\n  const cells = useRef({ columns: 0, rows: 0 })\n  const [isWarpInfoOpened, setIsWarpInfoOpened] = useState(false)\n  const [initWarp, setInitWarp] = useState<WorldWarp | undefined>(undefined)\n  const [warpPreview, setWarpPreview] = useState<{ name: string, x: number, z: number, clientX: number, clientY: number } | undefined>(undefined)\n\n  const updateGrid = () => {\n    const wrapperRect = zoomRef.current?.instance.wrapperComponent?.getBoundingClientRect()\n    if (!wrapperRect) return\n    const cellSize = 64\n    const columns = Math.ceil(wrapperRect.width / (cellSize * stateRef.current.scale))\n    const rows = Math.ceil(wrapperRect.height / (cellSize * stateRef.current.scale))\n    cells.current.rows = rows\n    cells.current.columns = columns\n    const leftBorder = - Math.floor(stateRef.current.positionX / (stateRef.current.scale * cellSize)) * cellSize\n    const topBorder = - Math.floor(stateRef.current.positionY / (stateRef.current.scale * cellSize)) * cellSize\n    const newGrid = new Set<string>()\n    for (let row = -1; row < rows; row += 1) {\n      for (let col = -1; col < columns; col += 1) {\n        const x = leftBorder + col * cellSize\n        const y = topBorder + row * cellSize\n        newGrid.add(`${x},${y}`)\n      }\n    }\n    setGrid(newGrid)\n  }\n\n  useEffect(() => {\n    adapter.full = true\n    console.log('[fullmap] set full property to true')\n    updateGrid()\n  }, [])\n\n  return <div\n    style={{\n      position: 'fixed',\n      isolation: 'isolate',\n      inset: '0px',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: 'rgba(0, 0, 0, 0.4)',\n      zIndex: 100\n    }}\n  >\n    {window.screen.width > 500 ? <div\n      style={{\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        zIndex: '-1'\n      }}\n      onClick={toggleFullMap}\n    > </div>\n      : <Button\n        icon=\"close-box\"\n        onClick={toggleFullMap}\n        style={{\n          position: 'absolute',\n          top: '20px',\n          right: '20px',\n          zIndex: 1\n        }}\n      />}\n    <TransformWrapper\n      limitToBounds={false}\n      ref={zoomRef}\n      minScale={0.1}\n      doubleClick={{\n        disabled: false\n      }}\n      panning={{\n        allowLeftClickPan: true,\n        allowRightClickPan: false\n      }}\n      onTransformed={(ref, state) => {\n        stateRef.current = { ...state }\n      }}\n      onPanningStop={() => {\n        updateGrid()\n      }}\n      onZoomStop={() => {\n        updateGrid()\n      }}\n    >\n      <TransformComponent\n        wrapperClass=\"map\"\n        wrapperStyle={{\n          willChange: 'transform',\n        }}\n      >\n        {[...grid].map((cellCoords) => {\n          const [x, y] = cellCoords.split(',').map(Number)\n          const playerChunkLeft = Math.floor(adapter.playerPosition.x / 16) * 16\n          const playerChunkTop = Math.floor(adapter.playerPosition.z / 16) * 16\n          const wrapperRect = zoomRef.current?.instance.wrapperComponent?.getBoundingClientRect()\n          const offsetX = Math.floor((wrapperRect?.width ?? 0) / (8 * 16)) * 16\n          const offsetY = Math.floor((wrapperRect?.height ?? 0) / (8 * 16)) * 16\n\n          return <MapChunk\n            key={'mapcell:' + cellCoords}\n            x={x}\n            y={y}\n            scale={stateRef.current.scale}\n            adapter={adapter}\n            worldX={playerChunkLeft + x / 4 - offsetX}\n            worldZ={playerChunkTop + y / 4 - offsetY}\n            setIsWarpInfoOpened={setIsWarpInfoOpened}\n            setLastWarpPos={setLastWarpPos}\n            redraw={redraw}\n            setInitWarp={setInitWarp}\n            setWarpPreview={setWarpPreview}\n          />\n        })}\n      </TransformComponent>\n    </TransformWrapper>\n    {warpPreview && <div\n      style={{\n        position: 'absolute',\n        top: warpPreview.clientY - 70,\n        left: warpPreview.clientX - 70,\n        textAlign: 'center',\n        fontSize: '1.5em',\n        textShadow: '0.1em 0 black, 0 0.1em black, -0.1em 0 black, 0 -0.1em black, -0.1em -0.1em black, -0.1em 0.1em black, 0.1em -0.1em black, 0.1em 0.1em black'\n      } as any}\n    >\n      {warpPreview.name}\n      <div>\n        {warpPreview.x} {warpPreview.z}\n      </div>\n    </div>}\n    {\n      isWarpInfoOpened && <WarpInfo\n        adapter={adapter}\n        warpPos={lastWarpPos}\n        setIsWarpInfoOpened={setIsWarpInfoOpened}\n        setRedraw={setRedraw}\n        initWarp={initWarp}\n        setInitWarp={setInitWarp}\n        toggleFullMap={toggleFullMap}\n      />\n    }\n  </div>\n}\n\n\nconst MapChunk = (\n  { x, y, scale, adapter, worldX, worldZ, setIsWarpInfoOpened, setLastWarpPos, redraw, setInitWarp, setWarpPreview }:\n  {\n    x: number,\n    y: number,\n    scale: number,\n    adapter: DrawerAdapter,\n    worldX: number,\n    worldZ: number,\n    setIsWarpInfoOpened: (x: boolean) => void,\n    setLastWarpPos: (obj: { x: number, y: number, z: number }) => void,\n    redraw?: Set<string> | null\n    setInitWarp?: (warp: WorldWarp | undefined) => void\n    setWarpPreview?: (warpInfo) => void\n  }\n) => {\n  const containerRef = useRef(null)\n  const touchTimer = useRef<ReturnType<typeof setTimeout> | null>(null)\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n\n  const longPress = (e) => {\n    touchTimer.current = setTimeout(() => {\n      touchTimer.current = null\n      handleClick(e)\n    }, 500)\n  }\n\n  const cancel = () => {\n    if (touchTimer.current) clearTimeout(touchTimer.current)\n  }\n\n  const handleClick = (e: MouseEvent | TouchEvent) => {\n    if (!adapter.mapDrawer) return\n    console.log('click:', e)\n    let clientX: number\n    let clientY: number\n    if ('buttons' in e && e.button === 2) {\n      clientX = e.clientX\n      clientY = e.clientY\n    } else if ('changedTouches' in e) {\n      clientX = (e).changedTouches[0].clientX\n      clientY = (e).changedTouches[0].clientY\n    } else { return }\n    const [x, z] = getXZ(clientX, clientY)\n    const mapX = Math.floor(x + worldX)\n    const mapZ = Math.floor(z + worldZ)\n    const y = adapter.getHighestBlockY(mapX, mapZ)\n    adapter.mapDrawer.setWarpPosOnClick(new Vec3(mapX, y, mapZ))\n    setLastWarpPos(adapter.mapDrawer.lastWarpPos)\n    const { lastWarpPos } = adapter.mapDrawer\n    const initWarp = adapter.warps.find(warp => Math.hypot(lastWarpPos.x - warp.x, lastWarpPos.z - warp.z) < 2)\n    setInitWarp?.(initWarp)\n    setIsWarpInfoOpened(true)\n  }\n\n  const getXZ = (clientX: number, clientY: number) => {\n    const rect = canvasRef.current!.getBoundingClientRect()\n    const factor = scale * (adapter.mapDrawer.mapPixel ?? 1)\n    const x = (clientX - rect.left) / factor\n    const y = (clientY - rect.top) / factor\n    return [x, y]\n  }\n\n  const handleMouseMove = (e: MouseEvent) => {\n    const [x, z] = getXZ(e.clientX, e.clientY)\n    const warp = adapter.warps.find(w => Math.hypot(w.x - x - worldX, w.z - z - worldZ) < 2)\n    setWarpPreview?.(\n      warp ? { name: warp.name, x: warp.x, z: warp.z, clientX: e.clientX, clientY: e.clientY } : undefined\n    )\n  }\n\n  const handleRedraw = (key?: string) => {\n    if (key !== `${worldX / 16},${worldZ / 16}`) return\n    adapter.mapDrawer.canvas = canvasRef.current!\n    adapter.mapDrawer.full = true\n    console.log('[mapChunk] update', key, `${worldX / 16},${worldZ / 16}`)\n    const timeout = setTimeout(() => {\n      if (canvasRef.current) void adapter.drawChunkOnCanvas(`${worldX / 16},${worldZ / 16}`, canvasRef.current)\n      clearTimeout(timeout)\n    }, 100)\n  }\n\n  useEffect(() => {\n    if (canvasRef.current) void adapter.drawChunkOnCanvas(`${worldX / 16},${worldZ / 16}`, canvasRef.current)\n  }, [canvasRef.current])\n\n  useEffect(() => {\n    canvasRef.current?.addEventListener('contextmenu', handleClick)\n    canvasRef.current?.addEventListener('touchstart', longPress)\n    canvasRef.current?.addEventListener('touchend', cancel)\n    canvasRef.current?.addEventListener('touchmove', cancel)\n    canvasRef.current?.addEventListener('mousemove', handleMouseMove)\n\n    return () => {\n      canvasRef.current?.removeEventListener('contextmenu', handleClick)\n      canvasRef.current?.removeEventListener('touchstart', longPress)\n      canvasRef.current?.removeEventListener('touchend', cancel)\n      canvasRef.current?.removeEventListener('touchmove', cancel)\n      canvasRef.current?.removeEventListener('mousemove', handleMouseMove)\n    }\n  }, [canvasRef.current])\n\n  useEffect(() => {\n    if (redraw) {\n      for (const key of redraw) {\n        handleRedraw(key)\n      }\n    }\n  }, [redraw])\n\n  return <div\n    ref={containerRef}\n    style={{\n      position: 'absolute',\n      width: '64px',\n      height: '64px',\n      top: `${y}px`,\n      left: `${x}px`,\n    }}\n  >\n    <canvas\n      ref={canvasRef}\n      style={{\n        width: '100%',\n        height: '100%',\n        imageRendering: 'pixelated'\n      }}\n      width={64}\n      height={64}\n    />\n  </div>\n}\n\nconst WarpInfo = (\n  { adapter, warpPos, setIsWarpInfoOpened, afterWarpIsSet, initWarp, toggleFullMap, setRedraw }:\n  {\n    adapter: DrawerAdapter,\n    warpPos: { x: number, y: number, z: number },\n    setIsWarpInfoOpened: Dispatch<SetStateAction<boolean>>,\n    afterWarpIsSet?: () => void\n    initWarp?: WorldWarp,\n    setInitWarp?: React.Dispatch<React.SetStateAction<WorldWarp | undefined>>,\n    toggleFullMap?: () => void,\n    setRedraw?: React.Dispatch<React.SetStateAction<Set<string> | null>>\n  }\n) => {\n  const [warp, setWarp] = useState<WorldWarp>(initWarp ?? {\n    name: '',\n    x: warpPos?.x ?? 100,\n    y: warpPos?.y ?? 100,\n    z: warpPos?.z ?? 100,\n    color: '',\n    disabled: false,\n    world: adapter.world\n  })\n\n  const posInputStyle: CSSProperties = {\n    flexGrow: '1',\n  }\n  const fieldCont: CSSProperties = {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '5px'\n  }\n\n  const updateChunk = () => {\n    const redraw = new Set<string>()\n    for (let i = -1; i < 2; i += 1) {\n      for (let j = -1; j < 2; j += 1) {\n        redraw.add(`${Math.floor(warp.x / 16) + j},${Math.floor(warp.z / 16) + i}`)\n      }\n    }\n    setRedraw?.(redraw)\n    console.log('[warpInfo] update', redraw)\n  }\n\n  const tpNow = () => {\n    adapter.off('updateChunk', tpNow)\n  }\n\n  const quickTp = () => {\n    toggleFullMap?.()\n    adapter.quickTp?.(warp.x, warp.z)\n  }\n\n  return <div\n    style={{\n      position: 'absolute',\n      inset: '0px',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      flexDirection: 'column',\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      fontSize: '0.8em',\n      transform: 'scale(2)'\n    }}\n  >\n    <form\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '10px',\n        width: window.screen.width > 500 ? '100%' : '50%',\n        minWidth: '100px',\n        maxWidth: '300px',\n        padding: '20px',\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        border: '2px solid black'\n      }}\n    >\n      <h2 style={{ alignSelf: 'center' }}>Point on the map</h2>\n      <div style={fieldCont}>\n        <div>\n          Name:\n        </div>\n        <Input\n          defaultValue={warp.name}\n          onChange={(e) => {\n            if (!e.target) return\n            setWarp(prev => { return { ...prev, name: e.target.value } })\n          }}\n          autoFocus\n        />\n      </div>\n      <div style={fieldCont}>\n        <div>\n          X:\n        </div>\n        <Input\n          rootStyles={posInputStyle}\n          defaultValue={warp.x ?? 100}\n          onChange={(e) => {\n            if (!e.target) return\n            setWarp(prev => { return { ...prev, x: Number(e.target.value) } })\n          }}\n        />\n        <div>\n          Z:\n        </div>\n        <Input\n          rootStyles={posInputStyle}\n          defaultValue={warp.z ?? 100}\n          onChange={(e) => {\n            if (!e.target) return\n            setWarp(prev => { return { ...prev, z: Number(e.target.value) } })\n          }}\n        />\n      </div>\n      <div style={fieldCont}>\n        <div>Color:</div>\n        <Input\n          type='color'\n          defaultValue={warp.color === '' ? '#232323' : warp.color}\n          onChange={(e) => {\n            if (!e.target) return\n            setWarp(prev => { return { ...prev, color: e.target.value } })\n          }}\n          rootStyles={{ width: '30px', }}\n          style={{ left: '0px' }}\n        />\n      </div>\n      <div style={fieldCont} >\n        <label htmlFor='warp-disabled'>Disabled:</label>\n        <input\n          id='warp-disabled'\n          type=\"checkbox\"\n          checked={warp.disabled ?? false}\n          onChange={(e) => {\n            if (!e.target) return\n            setWarp(prev => { return { ...prev, disabled: e.target.checked } })\n          }}\n        />\n      </div>\n      <Button\n        style={{ alignSelf: 'center' }}\n        onClick={() => {\n          quickTp()\n        }}\n      >Quick TP</Button>\n      <div style={fieldCont}>\n        <Button\n          onClick={() => {\n            setIsWarpInfoOpened(false)\n          }}\n        >Cancel</Button>\n        <Button\n          onClick={(e) => {\n            e.preventDefault()\n            adapter.setWarp({ ...warp })\n            console.log(adapter.warps)\n            setIsWarpInfoOpened(false)\n            updateChunk()\n            afterWarpIsSet?.()\n          }}\n          type='submit'\n        >Add Warp</Button>\n        {initWarp && <Button\n          onClick={() => {\n            const index = adapter.warps.findIndex(thisWarp => thisWarp.name === warp.name)\n            if (index !== -1) {\n              adapter.setWarp({ name: warp.name, x: 0, y: 0, z: 0, color: '', disabled: false, world: '' }, true)\n              setIsWarpInfoOpened(false)\n              updateChunk()\n              afterWarpIsSet?.()\n            }\n          }}\n        >Delete</Button>}\n      </div>\n    </form>\n  </div>\n}\n","import { useRef, useEffect, useState } from 'react'\nimport { miscUiState } from '../globalState'\nimport { DrawerAdapter } from './MinimapDrawer'\nimport Fullmap from './Fullmap'\n\n\nexport type DisplayMode = 'fullmapOnly' | 'minimapOnly'\n\nexport default (\n  { adapter, showMinimap, showFullmap, singleplayer, fullMap, toggleFullMap, displayMode }:\n  {\n    adapter: DrawerAdapter,\n    showMinimap: string,\n    showFullmap: string,\n    singleplayer: boolean,\n    fullMap?: boolean,\n    toggleFullMap?: () => void\n    displayMode?: DisplayMode\n  }\n) => {\n  const full = useRef(false)\n  const canvasTick = useRef(0)\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const [position, setPosition] = useState({ x: 0, y: 0, z: 0 })\n  const lastUpdate = useRef(0)\n  const THROTTLE_MS = 50 // 20fps\n\n  const updateMap = () => {\n    const now = Date.now()\n    if (now - lastUpdate.current < THROTTLE_MS) return\n    lastUpdate.current = now\n\n    setPosition({ x: adapter.playerPosition.x, y: adapter.playerPosition.y, z: adapter.playerPosition.z })\n    if (adapter.mapDrawer) {\n      if (!full.current) {\n        rotateMap()\n        adapter.mapDrawer.draw(adapter.playerPosition)\n        adapter.mapDrawer.drawPlayerPos()\n        adapter.mapDrawer.drawWarps()\n      }\n      if (canvasTick.current % 300 === 0 && !fullMap) {\n        if ('requestIdleCallback' in window) {\n          requestIdleCallback(() => {\n            adapter.mapDrawer?.clearChunksStore()\n          })\n        } else {\n          adapter.mapDrawer.clearChunksStore()\n        }\n        canvasTick.current = 0\n      }\n    }\n    canvasTick.current += 1\n  }\n\n  const updateWarps = () => { }\n\n  const rotateMap = () => {\n    if (!adapter.mapDrawer) return\n    adapter.mapDrawer.canvas.style.transform = `rotate(${adapter.yaw}rad)`\n    adapter.mapDrawer.yaw = adapter.yaw\n  }\n\n  useEffect(() => {\n    if (canvasRef.current && adapter.mapDrawer && !miscUiState.displayFullmap) {\n      adapter.mapDrawer.canvas = canvasRef.current\n      adapter.mapDrawer.full = false\n    }\n  }, [canvasRef.current, miscUiState.displayFullmap])\n\n  useEffect(() => {\n    adapter.on('updateMap', updateMap)\n    adapter.on('updateWaprs', updateWarps)\n\n    return () => {\n      adapter.off('updateMap', updateMap)\n      adapter.off('updateWaprs', updateWarps)\n    }\n  }, [adapter])\n\n  return fullMap && displayMode !== 'minimapOnly' && (showFullmap === 'singleplayer' && singleplayer || showFullmap === 'always')\n    ? <Fullmap\n      toggleFullMap={toggleFullMap}\n      adapter={adapter}\n    />\n    : displayMode !== 'fullmapOnly' && (showMinimap === 'singleplayer' && singleplayer || showMinimap === 'always')\n      ? <div\n        className='minimap'\n        style={{\n          position: 'absolute',\n          right: '0px',\n          top: '0px',\n          padding: '5px 5px 0px 0px',\n          textAlign: 'center',\n          zIndex: 7,\n        }}\n        onClick={() => {\n          toggleFullMap?.()\n        }}\n      >\n        <canvas\n          style={{\n            transition: '0.5s',\n            transitionTimingFunction: 'ease-out',\n            borderRadius: '1000px'\n          }}\n          width={80}\n          height={80}\n          ref={canvasRef}\n        />\n        <div\n          style={{\n            fontSize: '0.5em',\n            textShadow: '0.1em 0 black, 0 0.1em black, -0.1em 0 black, 0 -0.1em black, -0.1em -0.1em black, -0.1em 0.1em black, 0.1em -0.1em black, 0.1em 0.1em black'\n          }}\n        >\n          {Math.round(position.x)} {Math.round(position.y)} {Math.round(position.z)}\n        </div>\n      </div> : null\n}\n","import { Vec3 } from 'vec3'\nimport { TypedEventEmitter } from 'contro-max/build/typedEventEmitter'\nimport { WorldWarp } from 'flying-squid/dist/lib/modules/warps'\nimport { Chunk } from 'prismarine-world/types/world'\n\nexport type MapUpdates = {\n  updateBlockColor: (pos: Vec3) => void\n  updatePlayerPosition: () => void\n  updateWarps: () => void\n}\n\nexport interface DrawerAdapter extends TypedEventEmitter<MapUpdates> {\n  getHighestBlockY: (x: number, z: number, chunk?: Chunk) => number\n  clearChunksStore: (x: number, z: number) => void\n  chunksStore: Map<string, undefined | null | 'requested' | ChunkInfo >\n  playerPosition: Vec3\n  warps: WorldWarp[]\n  loadingChunksQueue: Set<string>\n  mapDrawer: MinimapDrawer\n  yaw: number\n  full: boolean\n  world: string\n  setWarp: (warp: WorldWarp, remove?: boolean) => void\n  quickTp?: (x: number, z: number) => void\n  loadChunk: (key: string) => Promise<void>\n  drawChunkOnCanvas: (key: string, canvas: HTMLCanvasElement) => Promise<void>\n}\n\nexport type ChunkInfo = {\n  heightmap: Uint8Array,\n  colors: string[],\n}\n\nexport class MinimapDrawer {\n  canvasWidthCenterX: number\n  canvasWidthCenterY: number\n  _mapSize: number\n  radius: number\n  ctx: CanvasRenderingContext2D\n  _canvas: HTMLCanvasElement\n  chunksInView = new Set<string>()\n  lastBotPos: Vec3\n  lastWarpPos: Vec3\n  mapPixel: number\n  yaw: number\n  _full = false\n\n  constructor (\n    public loadChunk: undefined | ((key: string) => Promise<void>),\n    public warps: WorldWarp[],\n    public loadingChunksQueue: undefined | Set<string>,\n    public chunksStore: Map<string, undefined | null | 'requested' | ChunkInfo >\n  ) {\n    this.loadChunk = loadChunk\n    this.warps = warps\n    this.loadingChunksQueue = loadingChunksQueue\n    this.chunksStore = chunksStore\n  }\n\n  setMapPixel () {\n    if (this.full) {\n      this.radius = Math.floor(Math.min(this.canvas.width, this.canvas.height) / 2)\n      this._mapSize = 16\n    } else {\n      this.radius = Math.floor(Math.min(this.canvas.width, this.canvas.height) / 2.2)\n      this._mapSize = this.radius * 2\n    }\n    this.mapPixel = Math.floor(this.radius * 2 / this.mapSize)\n  }\n\n  get full () {\n    return this._full\n  }\n\n  set full (full: boolean) {\n    this._full = full\n    this.setMapPixel()\n  }\n\n  get canvas () {\n    return this._canvas\n  }\n\n  set canvas (canvas: HTMLCanvasElement) {\n    this.ctx = canvas.getContext('2d', { willReadFrequently: true })!\n    this.ctx.imageSmoothingEnabled = false\n    this.canvasWidthCenterX = canvas.width / 2\n    this.canvasWidthCenterY = canvas.height / 2\n    this._canvas = canvas\n    this.setMapPixel()\n  }\n\n  get mapSize () {\n    return this._mapSize\n  }\n\n  set mapSize (mapSize: number) {\n    this._mapSize = mapSize\n    this.mapPixel = Math.floor(this.radius * 2 / this.mapSize)\n    this.draw(this.lastBotPos)\n  }\n\n  draw (botPos: Vec3,) {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height)\n\n    this.lastBotPos = botPos\n    this.updateChunksInView()\n    for (const key of this.chunksInView) {\n      if (!this.chunksStore.has(key) && !this.loadingChunksQueue?.has(key)) {\n        void this.loadChunk?.(key)\n      }\n      // case when chunk is not present is handled in drawChunk\n      this.drawChunk(key)\n    }\n    if (!this.full) this.drawPartsOfWorld()\n  }\n\n  updateChunksInView (viewX?: number, viewZ?: number) {\n    const worldCenterX = viewX ?? this.lastBotPos.x\n    const worldCenterZ = viewZ ?? this.lastBotPos.z\n\n    const radius = this.mapSize / 2\n    const leftViewBorder = Math.floor((worldCenterX - radius) / 16) - 1\n    const rightViewBorder = Math.ceil((worldCenterX + radius) / 16)\n    const topViewBorder = Math.floor((worldCenterZ - radius) / 16) - 1\n    const bottomViewBorder = Math.ceil((worldCenterZ + radius) / 16)\n\n    this.chunksInView.clear()\n    for (let i = topViewBorder; i <= bottomViewBorder; i += 1) {\n      for (let j = leftViewBorder; j <= rightViewBorder; j += 1) {\n        this.chunksInView.add(`${j},${i}`)\n      }\n    }\n  }\n\n  drawChunk (key: string, chunkInfo?: ChunkInfo | null) {\n    const [chunkX, chunkZ] = key.split(',').map(Number)\n    const chunkWorldX = chunkX * 16\n    const chunkWorldZ = chunkZ * 16\n    const chunkCanvasX = Math.floor((chunkWorldX - this.lastBotPos.x) * this.mapPixel + this.canvasWidthCenterX)\n    const chunkCanvasY = Math.floor((chunkWorldZ - this.lastBotPos.z) * this.mapPixel + this.canvasWidthCenterY)\n    const chunk = chunkInfo ?? this.chunksStore.get(key)\n    // if chunk is not ready then draw waiting color (grey) or none (half transparent black)\n    if (typeof chunk !== 'object') {\n      const chunkSize = this.mapPixel * 16\n      this.ctx.fillStyle = chunk === 'requested' ? 'rgb(200, 200, 200)' : 'rgba(0, 0, 0, 0.5)'\n      this.ctx.fillRect(chunkCanvasX, chunkCanvasY, chunkSize, chunkSize)\n      return\n    }\n    for (let row = 0; row < 16; row += 1) {\n      for (let col = 0; col < 16; col += 1) {\n        const index = row * 16 + col\n        const color = chunk?.colors[index] ?? 'rgb(255, 0, 0)'\n        const pixelX = chunkCanvasX + this.mapPixel * col\n        const pixelY = chunkCanvasY + this.mapPixel * row\n        this.drawPixel(pixelX, pixelY, color)\n      }\n    }\n  }\n\n  drawPixel (pixelX: number, pixelY: number, color: string) {\n    if (!this.full && Math.hypot(pixelX - this.canvasWidthCenterX, pixelY - this.canvasWidthCenterY) > this.radius) {\n      this.ctx.clearRect(pixelX, pixelY, this.mapPixel, this.mapPixel)\n      return\n    }\n    this.ctx.fillStyle = color\n    this.ctx.fillRect(\n      pixelX,\n      pixelY,\n      this.mapPixel,\n      this.mapPixel\n    )\n  }\n\n  clearChunksStore () {\n    for (const key of this.chunksStore.keys()) {\n      const [x, z] = key.split(',').map(x => Number(x) * 16)\n      if (Math.hypot((this.lastBotPos.x - x), (this.lastBotPos.z - z)) > this.radius * 5) {\n        this.chunksStore.delete(key)\n      }\n    }\n  }\n\n  setWarpPosOnClick (mousePos: Vec3) {\n    this.lastWarpPos = new Vec3(mousePos.x, mousePos.y, mousePos.z)\n  }\n\n  drawWarps (centerPos?: Vec3) {\n    for (const warp of this.warps) {\n      if (!this.full) {\n        const distance = Math.hypot(\n          centerPos?.x ?? this.lastBotPos.x - warp.x,\n          centerPos?.z ?? this.lastBotPos.z - warp.z\n        )\n        if (distance > this.mapSize) continue\n      }\n      const offset = this.full ? 0 : this.radius * 0.1\n      const z = Math.floor(\n        (this.mapSize / 2 - (centerPos?.z ?? this.lastBotPos.z) + warp.z) * this.mapPixel\n      ) + offset\n      const x = Math.floor(\n        (this.mapSize / 2 - (centerPos?.x ?? this.lastBotPos.x) + warp.x) * this.mapPixel\n      ) + offset\n      const dz = z - this.canvasWidthCenterX\n      const dx = x - this.canvasWidthCenterY\n      const circleDist = Math.hypot(dx, dz)\n\n      const angle = Math.atan2(dz, dx)\n      const circleZ = circleDist > this.mapSize / 2 && !this.full ?\n        this.canvasWidthCenterX + this.mapSize / 2 * Math.sin(angle)\n        : z\n      const circleX = circleDist > this.mapSize / 2 && !this.full ?\n        this.canvasWidthCenterY + this.mapSize / 2 * Math.cos(angle)\n        : x\n      this.ctx.beginPath()\n      this.ctx.arc(\n        circleX,\n        circleZ,\n        circleDist > this.mapSize / 2 && !this.full\n          ? this.mapPixel * 1.5\n          : this.full ? this.mapPixel : this.mapPixel * 2,\n        0,\n        Math.PI * 2,\n        false\n      )\n      this.ctx.strokeStyle = 'black'\n      this.ctx.lineWidth = this.mapPixel\n      this.ctx.stroke()\n      this.ctx.fillStyle = warp.disabled ? 'rgba(255, 255, 255, 0.4)' : warp.color ?? '#d3d3d3'\n      this.ctx.fill()\n      this.ctx.closePath()\n    }\n  }\n\n  drawPartsOfWorld () {\n    this.ctx.fillStyle = 'white'\n    this.ctx.shadowOffsetX = 1\n    this.ctx.shadowOffsetY = 1\n    this.ctx.shadowColor = 'black'\n    this.ctx.font = `${this.radius / 4}px serif`\n    this.ctx.textAlign = 'center'\n    this.ctx.textBaseline = 'middle'\n    this.ctx.strokeStyle = 'black'\n    this.ctx.lineWidth = 1\n\n    const angle = - Math.PI / 2\n    const angleS = angle + Math.PI\n    const angleW = angle + Math.PI * 3 / 2\n    const angleE = angle + Math.PI / 2\n\n    this.ctx.strokeText(\n      'N',\n      this.canvasWidthCenterX + this.radius * Math.cos(angle),\n      this.canvasWidthCenterY + this.radius * Math.sin(angle)\n    )\n    this.ctx.strokeText(\n      'S',\n      this.canvasWidthCenterX + this.radius * Math.cos(angleS),\n      this.canvasWidthCenterY + this.radius * Math.sin(angleS)\n    )\n    this.ctx.strokeText(\n      'W',\n      this.canvasWidthCenterX + this.radius * Math.cos(angleW),\n      this.canvasWidthCenterY + this.radius * Math.sin(angleW)\n    )\n    this.ctx.strokeText(\n      'E',\n      this.canvasWidthCenterX + this.radius * Math.cos(angleE),\n      this.canvasWidthCenterY + this.radius * Math.sin(angleE)\n    )\n    this.ctx.fillText(\n      'N',\n      this.canvasWidthCenterX + this.radius * Math.cos(angle),\n      this.canvasWidthCenterY + this.radius * Math.sin(angle)\n    )\n    this.ctx.fillText(\n      'S',\n      this.canvasWidthCenterX + this.radius * Math.cos(angleS),\n      this.canvasWidthCenterY + this.radius * Math.sin(angleS)\n    )\n    this.ctx.fillText(\n      'W',\n      this.canvasWidthCenterX + this.radius * Math.cos(angleW),\n      this.canvasWidthCenterY + this.radius * Math.sin(angleW)\n    )\n    this.ctx.fillText(\n      'E',\n      this.canvasWidthCenterX + this.radius * Math.cos(angleE),\n      this.canvasWidthCenterY + this.radius * Math.sin(angleE)\n    )\n\n    this.ctx.shadowOffsetX = 0\n    this.ctx.shadowOffsetY = 0\n  }\n\n  drawPlayerPos (canvasWorldCenterX?: number, canvasWorldCenterZ?: number, disableTurn?: boolean) {\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0)\n\n    const x = (this.lastBotPos.x - (canvasWorldCenterX ?? this.lastBotPos.x)) * this.mapPixel - (this.full ? 30 : 0)\n    const z = (this.lastBotPos.z - (canvasWorldCenterZ ?? this.lastBotPos.z)) * this.mapPixel - (this.full ? 30 : 0)\n    const center = this.mapSize / 2 * this.mapPixel + (this.full ? 0 : this.radius * 0.1)\n    this.ctx.translate(center + x, center + z)\n    if (!disableTurn) this.ctx.rotate(-this.yaw)\n\n    const size = 3\n    const factor = this.full ? 2 : 1\n    const width = size * factor\n    const height = size * factor\n\n    this.ctx.beginPath()\n    this.ctx.moveTo(0, -height)\n    this.ctx.lineTo(-width, height)\n    this.ctx.lineTo(width, height)\n    this.ctx.closePath()\n\n    this.ctx.strokeStyle = '#000000'\n    this.ctx.lineWidth = this.full ? 2 : 1\n    this.ctx.stroke()\n    this.ctx.fillStyle = '#FFFFFF'\n    this.ctx.fill()\n\n    // Reset transformations\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0)\n  }\n\n  rotateMap (angle: number) {\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0)\n    this.ctx.translate(this.canvasWidthCenterX, this.canvasWidthCenterY)\n    this.ctx.rotate(angle)\n    this.ctx.translate(-this.canvasWidthCenterX, -this.canvasWidthCenterY)\n  }\n}\n","import { useEffect } from 'react'\nimport { simplify } from 'prismarine-nbt'\nimport RegionFile from 'prismarine-provider-anvil/src/region'\nimport { Vec3 } from 'vec3'\nimport { versionToNumber } from 'renderer/viewer/common/utils'\nimport { WorldWarp } from 'flying-squid/dist/lib/modules/warps'\nimport { TypedEventEmitter } from 'contro-max/build/typedEventEmitter'\nimport { PCChunk } from 'prismarine-chunk'\nimport { Chunk } from 'prismarine-world/types/world'\nimport { Block } from 'prismarine-block'\nimport { INVISIBLE_BLOCKS } from 'renderer/viewer/lib/mesher/worldConstants'\nimport { getRenamedData } from 'flying-squid/dist/blockRenames'\nimport { useSnapshot, subscribe } from 'valtio'\nimport { subscribeKey } from 'valtio/utils'\nimport { getThreeJsRendererMethods } from 'renderer/viewer/three/threeJsMethods'\nimport BlockData from '../../renderer/viewer/lib/moreBlockDataGenerated.json'\nimport preflatMap from '../preflatMap.json'\nimport { contro } from '../controls'\nimport { gameAdditionalState, miscUiState } from '../globalState'\nimport { options } from '../optionsStorage'\nimport Minimap, { DisplayMode } from './Minimap'\nimport { ChunkInfo, DrawerAdapter, MapUpdates, MinimapDrawer } from './MinimapDrawer'\nimport { useIsModalActive } from './utilsApp'\nimport { lastConnectOptions } from './AppStatusProvider'\n\nconst findHeightMap = (obj: PCChunk): number[] | undefined => {\n  function search (obj: any): any | undefined {\n    for (const key in obj) {\n      if (['heightmap', 'heightmaps'].includes(key.toLowerCase())) {\n        return obj[key]\n      } else if (typeof obj[key] === 'object' && obj[key] !== null) {\n        const result = search(obj[key])\n        return result\n      }\n    }\n  }\n  return search(obj)\n}\n\nexport class DrawerAdapterImpl extends TypedEventEmitter<MapUpdates> implements DrawerAdapter {\n  playerPosition: Vec3\n  yaw: number\n  world: string\n  warps: WorldWarp[] = gameAdditionalState.warps\n  chunksStore = new Map<string, undefined | null | 'requested' | ChunkInfo>()\n  loadingChunksQueue = new Set<string>()\n  loadChunk: (key: string) => Promise<void> = this.loadChunkMinimap\n  mapDrawer = new MinimapDrawer(this.loadChunk.bind(this), this.warps, this.loadingChunksQueue, this.chunksStore)\n  currChunk: PCChunk | undefined\n  currChunkPos: { x: number, z: number } = { x: 0, z: 0 }\n  isOldVersion: boolean\n  blockData: Map<string | string[], string>\n  heightMap: Record<string, number> = {}\n  regions = new Map<string, RegionFile>()\n  chunksHeightmaps: Record<string, any> = {}\n  loadChunkFullmap: (key: string) => Promise<ChunkInfo | null | undefined>\n  _full = false\n  isBuiltinHeightmapAvailable = false\n  unsubscribers: Array<() => void> = []\n\n  constructor (pos?: Vec3) {\n    super()\n    this.playerPosition = pos ?? new Vec3(0, 0, 0)\n\n    // check if should use heightmap.\n    // As there is no simple way to check if heightmap is present in region file, making an attempt to load one\n    if (localServer) {\n      const chunkX = Math.floor(this.playerPosition.x / 16)\n      const chunkZ = Math.floor(this.playerPosition.z / 16)\n      const regionX = Math.floor(chunkX / 32)\n      const regionZ = Math.floor(chunkZ / 32)\n      const regionKey = `${regionX},${regionZ}`\n      const { worldFolder } = localServer.options\n      if (worldFolder) {\n        const path = `${worldFolder}/region/r.${regionX}.${regionZ}.mca`\n        const region = new RegionFile(path)\n        void region.initialize()\n        this.regions.set(regionKey, region)\n        const readX = chunkX % 32 < 0 ? 32 + chunkX % 32 : chunkX % 32\n        const readZ = chunkZ % 32 < 0 ? 32 + chunkZ % 32 : chunkZ % 32\n        console.log('heightmap check begun', readX, readZ)\n        void this.regions.get(regionKey)?.read(readX, readZ)?.then((rawChunk) => {\n          let heightmap: number[] | undefined\n          try {\n            const chunk = simplify(rawChunk as any)\n            heightmap = findHeightMap(chunk)\n          } catch (err) {\n            console.warn('error getting heightmap', err)\n          }\n          if (heightmap) {\n            this.isBuiltinHeightmapAvailable = true\n            this.loadChunkFullmap = this.loadChunkFromRegion\n            console.log('using heightmap')\n          } else {\n            this.isBuiltinHeightmapAvailable = false\n            this.loadChunkFullmap = this.loadChunkNoRegion\n            console.log('dont use heightmap')\n          }\n        })\n      } else {\n        this.isBuiltinHeightmapAvailable = false\n        this.loadChunkFullmap = this.loadChunkNoRegion\n        console.log('dont use heightmap')\n      }\n    } else {\n      this.isBuiltinHeightmapAvailable = false\n      this.loadChunkFullmap = this.loadChunkFromViewer\n    }\n    if (localServer) {\n      this.overwriteWarps(localServer.warps)\n    } else {\n      const storageWarps = localStorage.getItem(`warps: ${lastConnectOptions.value?.server ?? 'server'} ${lastConnectOptions.value?.username ?? 'username'}`)\n      this.overwriteWarps(JSON.parse(storageWarps ?? '[]'))\n    }\n    this.isOldVersion = versionToNumber(bot.version) < versionToNumber('1.13')\n    this.blockData = new Map<string, string>()\n    for (const blockKey of Object.keys(BlockData.colors)) {\n      const renamedKey = getRenamedData('blocks', blockKey, '1.20.2', bot.version)\n      this.blockData.set(renamedKey, BlockData.colors[blockKey])\n    }\n\n    subscribe(appViewer.rendererState.world, () => {\n      for (const key of this.loadingChunksQueue) {\n        if (appViewer.rendererState.world.chunksLoaded.has(key)) {\n          this.loadingChunksQueue.delete(key)\n          void this.loadChunk(key)\n        }\n      }\n    })\n  }\n\n  destroy () {\n    for (const unsubscriber of this.unsubscribers) {\n      unsubscriber()\n    }\n  }\n\n  get full () {\n    return this._full\n  }\n\n  set full (full: boolean) {\n    if (!full) {\n      console.log('this is minimap')\n      this.loadChunk = this.loadChunkMinimap\n      this.mapDrawer.loadChunk = this.loadChunk\n    }\n    this._full = full\n  }\n\n  overwriteWarps (newWarps: WorldWarp[]) {\n    this.warps.splice(0, this.warps.length)\n    for (const warp of newWarps) {\n      this.warps.push({ ...warp })\n    }\n  }\n\n  setWarp (warp: WorldWarp, remove?: boolean): void {\n    this.world = bot.game.dimension\n    const index = this.warps.findIndex(w => w.name === warp.name)\n    if (!remove && index === -1) {\n      this.warps.push(warp)\n    } else if (remove && index !== -1) {\n      this.warps.splice(index, 1)\n    } else {\n      this.warps[index] = warp\n    }\n    if (localServer) {\n      // type suppressed until server is updated. It works fine\n      void (localServer as any).setWarp(warp, remove)\n    } else if (remove) {\n      localStorage.removeItem(`warps: ${bot.username} ${lastConnectOptions.value!.server}`)\n    } else {\n      localStorage.setItem(`warps: ${bot.username} ${lastConnectOptions.value!.server}`, JSON.stringify(this.warps))\n    }\n    this.emit('updateWarps')\n  }\n\n  getHighestBlockY (x: number, z: number, chunk?: Chunk) {\n    const chunkX = Math.floor(x / 16) * 16\n    const chunkZ = Math.floor(z / 16) * 16\n    if (this.chunksHeightmaps[`${chunkX},${chunkZ}`]) {\n      return this.chunksHeightmaps[`${chunkX},${chunkZ}`][x - chunkX + (z - chunkZ) * 16] - 1\n    }\n    const source = chunk ?? bot.world\n    const { height, minY } = (bot.game as any)\n    for (let i = height; i > 0; i -= 1) {\n      const block = source.getBlock(new Vec3(x & 15, minY + i, z & 15))\n      if (block && !INVISIBLE_BLOCKS.has(block.name)) {\n        return minY + i\n      }\n    }\n    return minY\n  }\n\n  async getChunkSingleplayer (chunkX: number, chunkZ: number) {\n    // absolute coords\n    const region = (localServer!.overworld.storageProvider as any).getRegion(chunkX * 16, chunkZ * 16)\n    if (!region) return 'unavailable'\n    const chunk = await localServer!.players[0]!.world.getColumn(chunkX, chunkZ)\n    return chunk\n  }\n\n  async loadChunkMinimap (key: string) {\n    const [chunkX, chunkZ] = key.split(',').map(Number)\n    const chunkWorldX = chunkX * 16\n    const chunkWorldZ = chunkZ * 16\n    if (appViewer.rendererState.world.chunksLoaded.has(key)) {\n      // console.log('[MinimapProvider] loading chunk for minimap', key)\n      const heightmap = appViewer.rendererState.world.heightmaps.get(key)\n      if (heightmap) {\n        // console.log('[MinimapProvider] did get highest blocks')\n      } else {\n        console.warn('[MinimapProvider] no highestBlocks from renderMethods')\n        return undefined\n      }\n      const colors = Array.from({ length: 256 }).fill('') as string[]\n      // avoid creating new object every time\n      const blockPos = new Vec3(0, 0, 0)\n      // filling up colors\n      for (let z = 0; z < 16; z += 1) {\n        for (let x = 0; x < 16; x += 1) {\n          const blockX = chunkWorldX + x\n          const blockZ = chunkWorldZ + z\n          const index = z * 16 + x\n          blockPos.x = blockX; blockPos.z = blockZ; blockPos.y = heightmap[index]\n          const block = bot.world.getBlock(blockPos)\n          // blocks which are not set are shown as half transparent\n          if (!block) {\n            colors[index] = 'rgba(0, 0, 0, 0.5)'\n            continue\n          }\n          colors[index] = this.setColor(block)\n        }\n      }\n      const chunk = { heightmap, colors }\n      this.applyShadows(chunk)\n      this.chunksStore.set(key, chunk)\n      this.emit(`chunkReady`, `${chunkX},${chunkZ}`)\n    } else {\n      this.loadingChunksQueue.add(`${chunkX},${chunkZ}`)\n      this.chunksStore.set(key, 'requested')\n      // console.log('[MinimapProvider] requested new chunk', key)\n    }\n  }\n\n  async loadChunkNoRegion (key: string) {\n    const [chunkX, chunkZ] = key.split(',').map(Number)\n    const chunkWorldX = chunkX * 16\n    const chunkWorldZ = chunkZ * 16\n    const chunkInfo = await this.getChunkSingleplayer(chunkX, chunkZ)\n    if (chunkInfo === 'unavailable') return null\n    const heightmap = new Uint8Array(256)\n    const colors = Array.from({ length: 256 }).fill('') as string[]\n    for (let z = 0; z < 16; z += 1) {\n      for (let x = 0; x < 16; x += 1) {\n        const blockX = chunkWorldX + x\n        const blockZ = chunkWorldZ + z\n        const blockY = this.getHighestBlockY(blockX, blockZ, chunkInfo)\n        const blockPos = new Vec3(blockX & 15, blockY, blockZ & 15)\n        let block = chunkInfo.getBlock(blockPos)\n        while (block?.name.includes('air')) {\n          blockPos.y -= 1\n          block = chunkInfo.getBlock(blockPos)\n        }\n        if (!block) {\n          console.warn(`[cannot get the block] ${chunkX}, ${chunkZ}, ${chunkWorldX + x}, ${chunkWorldZ + z}`)\n          return null\n        }\n        const index = z * 16 + x\n        heightmap[index] = blockPos.y\n        colors[index] = this.setColor(block)\n      }\n    }\n    const chunk: ChunkInfo = { heightmap, colors }\n    this.applyShadows(chunk)\n    return chunk\n  }\n\n  async loadChunkFromRegion (key: string): Promise<ChunkInfo | null | undefined> {\n    const [chunkX, chunkZ] = key.split(',').map(Number)\n    const chunkWorldX = chunkX * 16\n    const chunkWorldZ = chunkZ * 16\n    const heightmap = await this.getChunkHeightMapFromRegion(chunkX, chunkZ) as unknown as Uint8Array\n    if (!heightmap) return null\n    const chunkInfo = await this.getChunkSingleplayer(chunkX, chunkZ)\n    if (chunkInfo === 'unavailable') return null\n    const colors = Array.from({ length: 256 }).fill('') as string[]\n    for (let z = 0; z < 16; z += 1) {\n      for (let x = 0; x < 16; x += 1) {\n        const blockX = chunkWorldX + x\n        const blockZ = chunkWorldZ + z\n        const index = z * 16 + x\n        heightmap[index] -= 1\n        if (heightmap[index] < 0) heightmap[index] = 0\n        const blockY = heightmap[index]\n        const blockPos = new Vec3(blockX & 15, blockY, blockZ & 15)\n        let block = chunkInfo.getBlock(blockPos)\n        while (block?.name.includes('air')) {\n          blockPos.y -= 1\n          block = chunkInfo.getBlock(blockPos)\n        }\n        if (!block) {\n          console.warn(`[cannot get the block] ${chunkX}, ${chunkZ}, ${chunkWorldX + x}, ${chunkWorldZ + z}`)\n          return null\n        }\n        colors[index] = this.setColor(block)\n      }\n    }\n    const chunk: ChunkInfo = { heightmap, colors }\n    this.applyShadows(chunk)\n    return chunk\n  }\n\n  async getChunkHeightMapFromRegion (chunkX: number, chunkZ: number, cb?: (hm: number[]) => void) {\n    const regionX = Math.floor(chunkX / 32)\n    const regionZ = Math.floor(chunkZ / 32)\n    const regionKey = `${regionX},${regionZ}`\n    if (!this.regions.has(regionKey)) {\n      const { worldFolder } = localServer!.options\n      const path = `${worldFolder}/region/r.${regionX}.${regionZ}.mca`\n      const region = new RegionFile(path)\n      await region.initialize()\n      this.regions.set(regionKey, region)\n    }\n    const rawChunk = await this.regions.get(regionKey)!.read(chunkX % 32, chunkZ % 32)\n    const chunk = simplify(rawChunk as any)\n    console.log(`chunk ${chunkX}, ${chunkZ}:`, chunk)\n    const heightmap = findHeightMap(chunk)\n    console.log(`heightmap ${chunkX}, ${chunkZ}:`, heightmap)\n    cb?.(heightmap!)\n    return heightmap\n    // this.chunksHeightmaps[`${chunkX},${chunkZ}`] = heightmap\n  }\n\n  async loadChunkFromViewer (key: string) {\n    const [chunkX, chunkZ] = key.split(',').map(Number)\n    const chunkWorldX = chunkX * 16\n    const chunkWorldZ = chunkZ * 16\n    const highestBlocks = await getThreeJsRendererMethods()?.getHighestBlocks(`${chunkWorldX},${chunkWorldZ}`)\n    if (appViewer.rendererState.world.chunksLoaded.has(`${chunkWorldX},${chunkWorldZ}`)) {\n      const heightmap = new Uint8Array(256)\n      const colors = Array.from({ length: 256 }).fill('') as string[]\n      if (!highestBlocks) return null\n      for (let z = 0; z < 16; z += 1) {\n        for (let x = 0; x < 16; x += 1) {\n          const blockX = chunkWorldX + x\n          const blockZ = chunkWorldZ + z\n          const hBlock = highestBlocks[`${blockX},${blockZ}`]\n          const block = bot.world.getBlock(new Vec3(blockX, hBlock?.y ?? 0, blockZ))\n          // const block = Block.fromStateId(hBlock?.stateId ?? -1, hBlock?.biomeId ?? -1)\n          const index = z * 16 + x\n          if (!block || !hBlock) {\n            console.warn(`[loadChunk] ${chunkX}, ${chunkZ}, ${chunkWorldX + x}, ${chunkWorldZ + z}`)\n            heightmap[index] = 0\n            colors[index] = 'rgba(0, 0, 0, 0.5)'\n            continue\n          }\n          heightmap[index] = hBlock.y\n          colors[index] = this.setColor(block)\n        }\n      }\n      const chunk = { heightmap, colors }\n      this.applyShadows(chunk)\n      return chunk\n    } else {\n      return null\n    }\n  }\n\n  applyShadows (chunk: ChunkInfo) {\n    for (let j = 0; j < 16; j += 1) {\n      for (let i = 0; i < 16; i += 1) {\n        const index = j * 16 + i\n        const color = chunk.colors[index]\n        // if (i === 0 || j === 0 || i === 15 || j === 16) {\n        //   const r = Math.floor(Math.random() * 2)\n        //   chunk.colors[index] = r===0 ? this.makeDarker(color) : this.makeLighter(color)\n        //   continue\n        // }\n\n        const h = chunk.heightmap[index]\n        let isLighterOrDarker = 0\n\n        const r = chunk.heightmap[index + 1] ?? 0\n        const u = chunk.heightmap[index - 16] ?? 0\n        const ur = chunk.heightmap[index - 15] ?? 0\n        if (r > h || u > h || ur > h) {\n          chunk.colors[index] = this.makeDarker(color)\n          isLighterOrDarker -= 1\n        }\n\n        const l = chunk.heightmap[index - 1] ?? 0\n        const d = chunk.heightmap[index + 16] ?? 0\n        const dl = chunk.heightmap[index + 15] ?? 0\n        if (l > h || d > h || dl > h) {\n          chunk.colors[index] = this.makeLighter(color)\n          isLighterOrDarker += 1\n        }\n\n        let linkedIndex: number | undefined\n        if (i === 1) {\n          linkedIndex = index - 1\n        } else if (i === 14) {\n          linkedIndex = index + 1\n        } else if (j === 1) {\n          linkedIndex = index - 16\n        } else if (j === 14) {\n          linkedIndex = index + 16\n        }\n        if (linkedIndex !== undefined) {\n          const linkedColor = chunk.colors[linkedIndex]\n          switch (isLighterOrDarker) {\n            case 1:\n              chunk.colors[linkedIndex] = this.makeLighter(linkedColor)\n              break\n            case -1:\n              chunk.colors[linkedIndex] = this.makeDarker(linkedColor)\n              break\n            default:\n              break\n          }\n        }\n      }\n    }\n  }\n\n  makeDarker (color: string) {\n    let rgbArray = color.match(/\\d+/g)?.map(Number) ?? []\n    if (rgbArray.length !== 3) return color\n    rgbArray = rgbArray.map(element => {\n      let newColor = element - 20\n      if (newColor < 0) newColor = 0\n      return newColor\n    })\n    return `rgb(${rgbArray.join(',')})`\n  }\n\n  makeLighter (color: string) {\n    let rgbArray = color.match(/\\d+/g)?.map(Number) ?? []\n    if (rgbArray.length !== 3) return color\n    rgbArray = rgbArray.map(element => {\n      let newColor = element + 20\n      if (newColor > 255) newColor = 255\n      return newColor\n    })\n    return `rgb(${rgbArray.join(',')})`\n  }\n\n  clearChunksStore (x: number, z: number) {\n    for (const key of Object.keys(this.chunksStore)) {\n      const [chunkX, chunkZ] = key.split(',').map(Number)\n      if (Math.hypot((chunkX - x), (chunkZ - z)) > 300) {\n        delete this.chunksStore[key]\n        delete this.chunksHeightmaps[key]\n        for (let i = 0; i < 16; i += 1) {\n          for (let j = 0; j < 16; j += 1) {\n            delete this.heightMap[`${chunkX + i},${chunkZ + j}`]\n          }\n        }\n      }\n    }\n  }\n\n  setColor (block: Block) {\n    let color: string\n    if (this.isOldVersion) {\n      color = BlockData.colors[preflatMap.blocks[`${block.type}:${block.metadata}`]?.replaceAll(/\\[.*?]/g, '')]\n        ?? 'rgb(0, 0, 255)'\n    } else {\n      color = this.blockData.get(block.name) ?? 'rgb(0, 255, 0)'\n    }\n    if (color === 'rgb(0, 255, 0)' || color === 'rgb(0, 0, 255)') {\n      // this should never happen\n      // console.warn('[MinimapProvider] did not find block name,', block.name)\n      // hack to find close color. Problem with colors should be fixed differently in the future\n      const blockNamePieces = block.name.split('_')\n      const keys = [...this.blockData.keys()]\n      for (const piece of blockNamePieces) {\n        const match = keys.find(x => x.includes(piece))\n        if (match) {\n          color = this.blockData.get(match) ?? 'rgb(255, 0, 0)'\n          break\n        }\n      }\n    }\n\n    return color\n  }\n\n  quickTp (x: number, z: number) {\n    const y = this.getHighestBlockY(x, z)\n    bot.chat(`/tp ${x} ${y + 20} ${z}`)\n    const timeout = setTimeout(() => {\n      const y = this.getHighestBlockY(x, z)\n      bot.chat(`/tp ${x} ${y + 20} ${z}`)\n      clearTimeout(timeout)\n    }, 500)\n  }\n\n  async drawChunkOnCanvas (key: string, canvas: HTMLCanvasElement) {\n    const chunk = await this.loadChunkFullmap(key)\n    const [worldX, worldZ] = key.split(',').map(x => Number(x) * 16)\n    const center = new Vec3(worldX + 8, 0, worldZ + 8)\n    this.mapDrawer.lastBotPos = center\n    this.mapDrawer.canvas = canvas\n    this.mapDrawer.full = true\n    this.mapDrawer.drawChunk(key, chunk)\n    this.mapDrawer.drawWarps(center)\n    this.mapDrawer.lastBotPos = this.playerPosition\n    this.mapDrawer.yaw = this.yaw\n    this.mapDrawer.drawPlayerPos(worldX, worldZ)\n  }\n}\n\nconst Inner = (\n  { adapter, displayMode, toggleFullMap }:\n  {\n    adapter: DrawerAdapterImpl\n    displayMode?: DisplayMode,\n    toggleFullMap?: () => void\n  }\n) => {\n\n  const updateWarps = (newWarps: WorldWarp[] | Error) => {\n    if (newWarps instanceof Error) {\n      console.error('An error occurred:', newWarps.message)\n      return\n    }\n\n    adapter.overwriteWarps(newWarps)\n  }\n\n  const updateMap = () => {\n    if (!adapter || miscUiState.displayFullmap) return\n    adapter.playerPosition = bot.entity.position\n    adapter.yaw = bot.entity.yaw\n    adapter.emit('updateMap')\n  }\n\n  useEffect(() => {\n    bot.on('move', updateMap)\n    localServer?.on('warpsUpdated' as keyof ServerEvents, updateWarps)\n\n    return () => {\n      bot?.off('move', updateMap)\n      localServer?.off('warpsUpdated' as keyof ServerEvents, updateWarps)\n    }\n  }, [])\n\n  return <div>\n    <Minimap\n      adapter={adapter}\n      showMinimap={options.showMinimap}\n      showFullmap='always'\n      singleplayer={miscUiState.singleplayer}\n      fullMap={displayMode === 'fullmapOnly'}\n      toggleFullMap={toggleFullMap}\n      displayMode={displayMode}\n    />\n  </div>\n}\n\nexport default ({ adapter, displayMode }: { adapter: DrawerAdapterImpl, displayMode?: DisplayMode }) => {\n\n  const { showMinimap } = useSnapshot(options)\n  const fullMapOpened = useIsModalActive('full-map')\n\n  const toggleFullMap = () => {\n    void contro.emit('trigger', { command: 'ui.toggleMap', schema: null as any })\n  }\n\n  if (\n    displayMode === 'minimapOnly'\n      ? showMinimap === 'never' || (showMinimap === 'singleplayer' && !miscUiState.singleplayer)\n      : !fullMapOpened\n  ) {\n    return null\n  }\n\n  return <Inner adapter={adapter} displayMode={displayMode} toggleFullMap={toggleFullMap} />\n}\n","interface Armor {\n  'helmet': number;\n  'chestplate': number | null;\n  'leggings': number | null;\n  'boots': number | null;\n}\n\nexport const armor: { [material: string]: Armor } = {\n  'turtle': {\n    'helmet': 2,\n    'chestplate': null,\n    'leggings': null,\n    'boots': null\n  },\n  'leather': {\n    'helmet': 1,\n    'chestplate': 3,\n    'leggings': 2,\n    'boots': 1\n  },\n  'golden': {\n    'helmet': 2,\n    'chestplate': 5,\n    'leggings': 3,\n    'boots': 1\n  },\n  'chainmail': {\n    'helmet': 2,\n    'chestplate': 5,\n    'leggings': 4,\n    'boots': 1\n  },\n  'iron': {\n    'helmet': 2,\n    'chestplate': 6,\n    'leggings': 5,\n    'boots': 2\n  },\n  'diamond': {\n    'helmet': 3,\n    'chestplate': 8,\n    'leggings': 6,\n    'boots': 3\n  },\n  'netherite': {\n    'helmet': 3,\n    'chestplate': 8,\n    'leggings': 6,\n    'boots': 3\n  }\n}\n\n","const getEffectClass = (effect) => {\n  switch (effect.id) {\n    case 19:\n      return 'poisoned'\n    case 20:\n      return 'withered'\n    case 22:\n      return 'absorption'\n    default:\n      return ''\n  }\n}\n\nexport const barEffectAdded = (htmlElement, effect) => {\n  const effectClass = getEffectClass(effect)\n  if (effectClass) {\n    htmlElement.classList.add(effectClass)\n  }\n}\n\nexport const barEffectEnded = (htmlElement, effect) => {\n  const effectClass = getEffectClass(effect)\n  if (effectClass) {\n    htmlElement.classList.remove(effectClass)\n  }\n}\n","import { useRef, useEffect } from 'react'\nimport SharedHudVars from './SharedHudVars'\nimport './HealthBar.css'\nimport { barEffectAdded, barEffectEnded } from './BarsCommon'\n\n\nexport type HealthBarProps = {\n  gameMode?: string,\n  isHardcore: boolean,\n  damaged: boolean,\n  healthValue: number,\n  effectToAdd?: number | null,\n  effectToRemove?: number | null,\n  resetEffects?: () => void\n  style?: React.CSSProperties\n}\n\nexport default ({\n  gameMode,\n  isHardcore,\n  damaged,\n  healthValue,\n  effectToAdd,\n  effectToRemove,\n  resetEffects,\n  style\n}: HealthBarProps) => {\n  const healthRef = useRef<HTMLDivElement | null>(null)\n\n  useEffect(() => {\n    if (healthRef.current) {\n      healthRef.current.classList.toggle('creative', gameMode === 'creative' || gameMode === 'spectator')\n    }\n  }, [gameMode])\n\n  useEffect(() => {\n    if (healthRef.current) {\n      if (isHardcore) {\n        healthRef.current.classList.add('hardcore')\n      } else {\n        healthRef.current.classList.remove('hardcore')\n      }\n    }\n  }, [isHardcore])\n\n  useEffect(() => {\n    if (healthRef.current) {\n      if (damaged) {\n        healthRef.current.classList.add('damaged')\n        console.log('damage')\n      } else {\n        healthRef.current.classList.remove('damaged')\n      }\n    }\n  }, [damaged])\n\n  useEffect(() => {\n    if (healthRef.current) {\n      if (healthValue <= 4) {\n        healthRef.current.classList.add('low')\n      } else {\n        healthRef.current.classList.remove('low')\n      }\n\n      const healthElement = healthRef.current\n      const hearts = healthElement.children\n\n      for (const heart of hearts) {\n        heart.classList.remove('full')\n        heart.classList.remove('half')\n      }\n\n      for (let i = 0; i < Math.ceil(healthValue / 2); i++) {\n        if (i >= hearts.length) break\n\n        if (healthValue % 2 !== 0 && Math.ceil(healthValue / 2) === i + 1) {\n          hearts[i].classList.add('half')\n        } else {\n          hearts[i].classList.add('full')\n        }\n      }\n    }\n  }, [healthValue])\n\n  useEffect(() => {\n    if (effectToAdd) {\n      barEffectAdded(healthRef.current, effectToAdd)\n    }\n    if (effectToRemove) {\n      barEffectEnded(healthRef.current, effectToRemove)\n    }\n    resetEffects?.()\n  }, [effectToAdd, effectToRemove])\n\n  return <SharedHudVars>\n    <div ref={healthRef} className='health' style={style}>\n      {\n        Array.from({ length: 10 }, () => 0)\n          .map((num, index) => <div\n            key={`heart-${index}`}\n            className='heart'\n          />)\n      }\n    </div>\n  </SharedHudVars>\n}\n","import { useRef, useState, useEffect } from 'react'\nimport SharedHudVars from './SharedHudVars'\nimport './FoodBar.css'\nimport { barEffectAdded, barEffectEnded } from './BarsCommon'\n\n\nexport type FoodBarProps = {\n  gameMode?: string,\n  food: number,\n  effectToAdd?: number | null,\n  effectToRemove?: number | null,\n  resetEffects?: () => void,\n  style?: React.CSSProperties\n}\n\nexport default ({\n  gameMode,\n  food,\n  effectToAdd,\n  effectToRemove,\n  resetEffects,\n  style\n}: FoodBarProps) => {\n  const foodRef = useRef<HTMLDivElement | null>(null)\n\n  useEffect(() => {\n    if (foodRef.current) {\n      foodRef.current.classList.toggle('creative', gameMode === 'creative' || gameMode === 'spectator')\n    }\n  }, [gameMode])\n\n  useEffect(() => {\n    const foodbar = foodRef.current\n    if (foodbar) {\n      foodbar.classList.toggle('low', food <= 5)\n\n      const foods = foodbar.children\n\n      for (const food of foods) {\n        food.classList.remove('full')\n        food.classList.remove('half')\n      }\n\n      for (let i = 0; i < Math.ceil(food / 2); i++) {\n        if (i >= foods.length) break\n\n        if (food % 2 !== 0 && Math.ceil(food / 2) === i + 1) {\n          foods[i].classList.add('half')\n        } else {\n          foods[i].classList.add('full')\n        }\n      }\n    }\n  }, [food])\n\n  useEffect(() => {\n    if (effectToAdd) {\n      barEffectAdded(foodRef.current, effectToAdd)\n    }\n    if (effectToRemove) {\n      barEffectEnded(foodRef.current, effectToRemove)\n    }\n    resetEffects?.()\n  }, [effectToAdd, effectToRemove])\n\n  return <SharedHudVars>\n    <div ref={foodRef} className='foodbar' style={style}>\n      {\n        Array.from({ length: 10 }, () => 0)\n          .map((num, index) => <div\n            key={`food-${index}`}\n            className='food'\n          />)\n      }\n    </div>\n  </SharedHudVars>\n}\n","import { useRef, useState, useEffect, CSSProperties } from 'react'\nimport SharedHudVars from './SharedHudVars'\nimport './ArmorBar.css'\n\n\nexport type ArmorBarProps = {\n  armorValue: number,\n  style?: CSSProperties\n}\n\nexport default ({\n  armorValue,\n  style\n}: ArmorBarProps) => {\n  const armorRef = useRef<HTMLDivElement>(null!)\n\n  useEffect(() => {\n    const armorElement = armorRef.current\n    const armors = armorElement.children\n\n    for (const armor of armors) {\n      armor.classList.remove('full')\n      armor.classList.remove('half')\n    }\n\n    for (let i = 0; i < Math.ceil(armorValue / 2); i++) {\n      if (i >= armors.length) break\n\n      if (armorValue % 2 !== 0 && Math.ceil(armorValue / 2) === i + 1) {\n        armors[i].classList.add('half')\n      } else {\n        armors[i].classList.add('full')\n      }\n    }\n  }, [armorValue])\n\n  return <SharedHudVars>\n    <div style={style ?? {}} ref={armorRef} className='armor_container' >\n      {\n        Array.from({ length: 10 }, () => 0)\n          .map((num, index) => <div\n            key={`armor-${index}`}\n            className='armor'\n          />)\n      }\n    </div>\n  </SharedHudVars>\n}\n","import { useRef, useEffect } from 'react'\nimport SharedHudVars from './SharedHudVars'\nimport './BreathBar.css'\n\nexport type BreathBarProps = {\n  oxygen: number,\n}\n\nexport default ({\n  oxygen,\n}: BreathBarProps) => {\n  const breathRef = useRef<HTMLDivElement | null>(null)\n\n  useEffect(() => {\n    const breathbar = breathRef.current\n    if (breathbar && oxygen < 20) {\n      breathbar.style.display = 'flex'\n      breathbar.classList.toggle('low', oxygen <= 5)\n\n      const breaths = breathbar.children\n\n      for (const breath of breaths) {\n        breath.classList.remove('full')\n        breath.classList.remove('half')\n      }\n\n      for (let i = 0; i < Math.ceil(oxygen / 2); i++) {\n        if (i >= breaths.length) break\n\n        if (oxygen % 2 !== 0 && Math.ceil(oxygen / 2) === i + 1) {\n          breaths[i].classList.add('half')\n        } else {\n          breaths[i].classList.add('full')\n        }\n      }\n    } else if (breathbar && oxygen >= 20) {\n      breathbar.style.display = 'none'\n    }\n  }, [oxygen])\n\n  return <SharedHudVars>\n    <div ref={breathRef} className='breathbar'>\n      {\n        Array.from({ length: 10 }, () => 0)\n          .map((num, index) => <div\n            key={`breath-${index}`}\n            className='breath'\n          />)\n      }\n    </div>\n  </SharedHudVars>\n}\n","import { useRef, useState, useMemo } from 'react'\nimport { GameMode } from 'mineflayer'\nimport { useSnapshot } from 'valtio'\nimport { options } from '../optionsStorage'\nimport { armor } from './armorValues'\nimport HealthBar from './HealthBar'\nimport FoodBar from './FoodBar'\nimport ArmorBar from './ArmorBar'\nimport BreathBar from './BreathBar'\nimport './HealthBar.css'\n\nexport default () => {\n  const { disabledUiParts } = useSnapshot(options)\n\n  const [damaged, setDamaged] = useState(false)\n  const [healthValue, setHealthValue] = useState(bot.health)\n  const [food, setFood] = useState(bot.food)\n  const [oxygen, setOxygen] = useState(bot.oxygenLevel)\n  const [armorValue, setArmorValue] = useState(0)\n  const [gameMode, setGameMode] = useState<GameMode | ''>(bot.game.gameMode)\n  const [isHardcore, setIsHardcore] = useState(false)\n  const [effectToAdd, setEffectToAdd] = useState<number | null>(null)\n  const [effectToRemove, setEffectToRemove] = useState<number | null>(null)\n  const hurtTimeout = useRef<ReturnType<typeof setTimeout> | null>(null)\n\n  const getEffectClass = (effect) => {\n    switch (effect) {\n      case 19:\n        return 'poisoned'\n      case 20:\n        return 'withered'\n      case 22:\n        return 'absorption'\n      default:\n        return ''\n    }\n  }\n\n  const onDamage = () => {\n    setDamaged(prev => true)\n    if (hurtTimeout.current) clearTimeout(hurtTimeout.current)\n    hurtTimeout.current = setTimeout(() => {\n      setDamaged(prev => false)\n    }, 1000)\n  }\n\n  const updateHealth = (hValue) => {\n    setHealthValue(prev => hValue)\n  }\n\n  useMemo(() => {\n    bot.on('entityHurt', (entity) => {\n      if (entity !== bot.entity) return\n      onDamage()\n    })\n\n    bot.on('game', () => {\n      setGameMode(prev => bot.game.gameMode)\n      setIsHardcore(prev => bot.game.hardcore)\n    })\n\n    bot.on('entityEffect', (entity, effect) => {\n      if (entity !== bot.entity) return\n      setEffectToAdd(prev => effect.id)\n    })\n\n    bot.on('entityEffectEnd', (entity, effect) => {\n      if (entity !== bot.entity) return\n      setEffectToRemove(prev => effect.id)\n    })\n\n    bot.on('health', () => {\n      if (bot.health < healthValue) onDamage()\n      updateHealth(bot.health)\n      setFood(prev => bot.food)\n    })\n\n    bot.on('breath', () => {\n      setOxygen(prev => bot.oxygenLevel)\n    })\n\n    const upArmour = () => {\n      const armorSlots = new Set([5, 6, 7, 8])\n      let points = 0\n      for (const slotIndex of armorSlots) {\n        const item = bot.inventory.slots[slotIndex] ?? null\n        if (!item) continue\n        const armorName = item.name.split('_')\n        points += armor[armorName[0]]?.[armorName[1]] ?? 0\n      }\n      setArmorValue(points)\n    }\n    bot.inventory.on('updateSlot', upArmour)\n    upArmour()\n  }, [])\n\n  return <div className='hud-bars-container'>\n    {!disabledUiParts.includes('health-bar') && <HealthBar\n      gameMode={gameMode}\n      isHardcore={isHardcore}\n      damaged={damaged}\n      healthValue={healthValue}\n      effectToAdd={effectToAdd}\n      effectToRemove={effectToRemove}\n      resetEffects={() => {\n        setEffectToAdd(null)\n        setEffectToRemove(null)\n      }}\n    />}\n    {!disabledUiParts.includes('armor-bar') && <ArmorBar\n      armorValue={armorValue}\n      style={gameMode !== 'survival' && gameMode !== 'adventure' ? { display: 'none' } : { display: 'flex' }}\n    />}\n    {!disabledUiParts.includes('food-bar') && <FoodBar\n      gameMode={gameMode}\n      food={food}\n      effectToAdd={effectToAdd}\n      effectToRemove={effectToRemove}\n      resetEffects={() => {\n        setEffectToAdd(null)\n        setEffectToRemove(null)\n      }}\n    />}\n    {!disabledUiParts.includes('breath-bar') && <BreathBar\n      oxygen={gameMode !== 'survival' && gameMode !== 'adventure' ? 0 : oxygen}\n    />}\n  </div>\n}\n","import SharedHudVars from './SharedHudVars'\nimport styles from './XPBar.module.css'\n\nexport default ({ progress, level, gamemode }: { progress: number; level: number, gamemode: string }) => (\n  <SharedHudVars>\n    <div\n      id=\"xp-bar-bg\"\n      className={styles['xp-bar-bg']}\n      style={{ display: gamemode === 'creative' || gamemode === 'spectator' ? 'none' : 'block' }}\n    >\n      <div className={styles['xp-bar']} style={{ width: `${182 * progress}px` }} />\n      <span className={styles['xp-label']} style={{ display: level > 0 ? 'block' : 'none' }}>{level}</span>\n    </div>\n  </SharedHudVars>\n)\n","// extracted by css-extract-rspack-plugin\nexport default {\"xp-bar-bg\":\"xp-bar-bg-Ugs21v\",\"xpBarBg\":\"xp-bar-bg-Ugs21v\",\"xp-bar\":\"xp-bar-Vg4hn0\",\"xpBar\":\"xp-bar-Vg4hn0\",\"xp-label\":\"xp-label-omcEHZ\",\"xpLabel\":\"xp-label-omcEHZ\"};","import { useState, useMemo } from 'react'\nimport { GameMode } from 'mineflayer'\nimport XPBar from './XPBar'\n\n\nexport default () => {\n  const [progress, setProgress] = useState(0)\n  const [level, setLevel] = useState(0)\n  const [gamemode, setGamemode] = useState<GameMode | ''>(bot.game.gameMode)\n\n  useMemo(() => {\n    const onXpUpdate = () => {\n      setProgress(bot.experience.progress)\n      setLevel(bot.experience.level)\n    }\n    onXpUpdate()\n\n    bot.on('experience', onXpUpdate)\n\n    bot.on('game', () => {\n      setGamemode(prev => bot.game.gameMode)\n    })\n  }, [])\n\n  return <XPBar progress={progress} level={level} gamemode={gamemode} />\n}\n","import prettyBytes from 'pretty-bytes'\nimport { openWorldFromHttpDir, openWorldZip } from './browserfs'\nimport { getResourcePackNames, installResourcepackPack, resourcePackState, updateTexturePackInstalledState } from './resourcePack'\nimport { setLoadingScreenStatus } from './appStatus'\nimport { appQueryParams, appQueryParamsArray } from './appParams'\nimport { VALID_REPLAY_EXTENSIONS, openFile } from './packetsReplay/replayPackets'\nimport { createFullScreenProgressReporter } from './core/progressReporter'\nimport { ConnectOptions } from './connect'\n\nexport const getFixedFilesize = (bytes: number) => {\n  return prettyBytes(bytes, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\n}\n\nexport const isInterestedInDownload = () => {\n  const { map, texturepack, replayFileUrl } = appQueryParams\n  const { mapDir } = appQueryParamsArray\n  return !!map || !!texturepack || !!replayFileUrl || !!mapDir\n}\n\nconst inner = async () => {\n  const { map, texturepack, replayFileUrl } = appQueryParams\n  const { mapDir } = appQueryParamsArray\n  return downloadAndOpenMapFromUrl(map, texturepack, mapDir, replayFileUrl)\n}\n\nexport const downloadAndOpenMapFromUrl = async (mapUrl: string | undefined, texturepackUrl: string | undefined, mapUrlDir: string[] | undefined, replayFileUrl: string | undefined, connectOptions?: Partial<ConnectOptions>) => {\n  if (replayFileUrl) {\n    setLoadingScreenStatus('Downloading replay file')\n    const response = await fetch(replayFileUrl)\n    const contentLength = response.headers?.get('Content-Length')\n    const size = contentLength ? +contentLength : undefined\n    const filename = replayFileUrl.split('/').pop()\n\n    let downloadedBytes = 0\n    const buffer = await new Response(new ReadableStream({\n      async start (controller) {\n        if (!response.body) throw new Error('Server returned no response!')\n        const reader = response.body.getReader()\n\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n          const { done, value } = await reader.read()\n\n          if (done) {\n            controller.close()\n            break\n          }\n\n          downloadedBytes += value.byteLength\n\n          // Calculate download progress as a percentage\n          const progress = size ? (downloadedBytes / size) * 100 : undefined\n          setLoadingScreenStatus(`Download replay file progress: ${progress === undefined ? '?' : Math.floor(progress)}% (${getFixedFilesize(downloadedBytes)} / ${size && getFixedFilesize(size)})`, false, true)\n\n          // Pass the received data to the controller\n          controller.enqueue(value)\n        }\n      },\n    })).arrayBuffer()\n\n    // Convert buffer to text, handling any compression automatically\n    const decoder = new TextDecoder()\n    const contents = decoder.decode(buffer)\n\n    openFile({\n      contents,\n      filename,\n      filesize: size\n    })\n    return true\n  }\n\n  const mapUrlDirGuess = appQueryParams.mapDirGuess\n  const mapUrlDirBaseUrl = appQueryParams.mapDirBaseUrl\n  if (mapUrlDir?.length) {\n    await openWorldFromHttpDir(mapUrlDir, mapUrlDirBaseUrl ?? undefined)\n    return true\n  }\n\n  if (mapUrlDirGuess) {\n    // await openWorldFromHttpDir(undefined, mapUrlDirGuess)\n    return true\n  }\n\n  // fixme\n  if (texturepackUrl) mapUrl = texturepackUrl\n  if (!mapUrl) return false\n\n  if (texturepackUrl) {\n    await updateTexturePackInstalledState()\n    if (resourcePackState.resourcePackInstalled) {\n      if (!confirm(`You are going to install a new resource pack, which will REPLACE the current one: ${await getResourcePackNames()[0]} Continue?`)) return\n    }\n  }\n  const name = mapUrl.slice(mapUrl.lastIndexOf('/') + 1).slice(-25)\n  const downloadThing = texturepackUrl ? 'texturepack' : 'world'\n  setLoadingScreenStatus(`Downloading ${downloadThing} ${name}...`)\n\n  const response = await fetch(mapUrl)\n  const contentType = response.headers.get('Content-Type')\n  if (!contentType || !contentType.startsWith('application/zip')) {\n    alert('Invalid map file')\n  }\n  const contentLengthStr = response.headers?.get('Content-Length')\n  const contentLength = contentLengthStr && +contentLengthStr\n  setLoadingScreenStatus(`Downloading ${downloadThing} ${name}: have to download ${contentLength && getFixedFilesize(contentLength)}...`)\n\n  let downloadedBytes = 0\n  const buffer = await new Response(new ReadableStream({\n    async start (controller) {\n      if (!response.body) throw new Error('Server returned no response!')\n      const reader = response.body.getReader()\n\n      // eslint-disable-next-line no-constant-condition\n      while (true) {\n        const { done, value } = await reader.read()\n\n        if (done) {\n          controller.close()\n          break\n        }\n\n        downloadedBytes += value.byteLength\n\n        // Calculate download progress as a percentage\n        const progress = contentLength ? (downloadedBytes / contentLength) * 100 : undefined\n        setLoadingScreenStatus(`Download ${downloadThing} progress: ${progress === undefined ? '?' : Math.floor(progress)}% (${getFixedFilesize(downloadedBytes)} / ${contentLength && getFixedFilesize(contentLength)})`, false, true)\n\n        // Pass the received data to the controller\n        controller.enqueue(value)\n      }\n    },\n  })).arrayBuffer()\n  if (texturepackUrl) {\n    const name = mapUrl.slice(mapUrl.lastIndexOf('/') + 1).slice(-30)\n    await installResourcepackPack(buffer, createFullScreenProgressReporter(), name)\n  } else {\n    await openWorldZip(buffer, undefined, connectOptions)\n  }\n  return true\n}\n\nexport default async () => {\n  try {\n    return await inner()\n  } catch (err) {\n    setLoadingScreenStatus(`Failed to download/open. Either refresh page or remove map param from URL. Reason: ${err.message}`)\n    return true\n  }\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"debug-left-side\":\"debug-left-side-L_D95v\",\"debugLeftSide\":\"debug-left-side-L_D95v\",\"debug-right-side\":\"debug-right-side-mFhvHG\",\"debugRightSide\":\"debug-right-side-mFhvHG\",\"empty\":\"empty-x7G63G\"};","import { useEffect, useRef, useState } from 'react'\nimport { useSnapshot } from 'valtio'\nimport type { Block } from 'prismarine-block'\nimport { getThreeJsRendererMethods } from 'renderer/viewer/three/threeJsMethods'\nimport { miscUiState } from '../globalState'\nimport { getFixedFilesize } from '../downloadAndOpenFile'\nimport { options } from '../optionsStorage'\nimport { BlockStateModelInfo } from '../../renderer/viewer/lib/mesher/shared'\nimport styles from './DebugOverlay.module.css'\n\nexport default () => {\n  const received = useRef({ ...defaultPacketsCount })\n  const sent = useRef({ ...defaultPacketsCount })\n  const customEntries = useRef({} as any)\n  const receivedTotal = useRef(0)\n  const packetsCountByNamePerSec = useRef({\n    received: {} as { [key: string]: number },\n    sent: {} as { [key: string]: number }\n  })\n  window.packetsCountByNamePerSec = packetsCountByNamePerSec\n  const packetsCountByNamePer10Sec = useRef({\n    received: {} as { [key: string]: number },\n    sent: {} as { [key: string]: number }\n  })\n  window.packetsCountByNamePer10Sec = packetsCountByNamePer10Sec\n  const packetsCountByName = useRef({\n    received: {} as { [key: string]: number },\n    sent: {} as { [key: string]: number }\n  })\n  window.packetsCountByName = packetsCountByName\n  const ignoredPackets = useRef(new Set([] as any[]))\n  const [packetsString, setPacketsString] = useState('')\n  const { showDebugHud } = useSnapshot(miscUiState)\n  const [pos, setPos] = useState<{ x: number, y: number, z: number }>({ x: 0, y: 0, z: 0 })\n  const [skyL, setSkyL] = useState(0)\n  const [blockL, setBlockL] = useState(0)\n  const [biomeId, setBiomeId] = useState(0)\n  const [day, setDay] = useState(0)\n  const [timeOfDay, setTimeOfDay] = useState(0)\n  const [dimension, setDimension] = useState('')\n  const [cursorBlock, setCursorBlock] = useState<Block | null>(null)\n  const [blockInfo, setBlockInfo] = useState<{ customBlockName?: string, modelInfo?: BlockStateModelInfo } | null>(null)\n  const [clientTps, setClientTps] = useState(0)\n  const [serverTps, setServerTps] = useState(null as null | { value: number, frozen: boolean })\n  const minecraftYaw = useRef(0)\n  const minecraftQuad = useRef(0)\n  const rendererDevice = appViewer.rendererState.renderer ?? 'No render backend'\n\n  const quadsDescription = [\n    'north (towards negative Z)',\n    'east (towards positive X)',\n    'south (towards positive Z)',\n    'west (towards negative X)'\n  ]\n\n  const viewDegToMinecraft = (yaw) => yaw % 360 - 180 * (yaw < 0 ? -1 : 1)\n\n  const readPacket = (data, { name }, _buf, fullBuffer) => {\n    if (fullBuffer) {\n      const size = fullBuffer.byteLength\n      receivedTotal.current += size\n      received.current.size += size\n    }\n    received.current.count++\n    managePackets('received', name, data)\n  }\n\n  const managePackets = (type, name, data) => {\n    packetsCountByName.current[type][name] ??= 0\n    packetsCountByName.current[type][name]++\n    packetsCountByNamePerSec.current[type][name] ??= 0\n    packetsCountByNamePerSec.current[type][name]++\n    packetsCountByNamePer10Sec.current[type][name] ??= 0\n    packetsCountByNamePer10Sec.current[type][name]++\n    if (options.debugLogNotFrequentPackets && !ignoredPackets.current.has(name) && !hardcodedListOfDebugPacketsToIgnore[type].includes(name)) {\n      if (packetsCountByNamePerSec.current[type][name] > 5 || packetsCountByName.current[type][name] > 100) { // todo think of tracking the count within 10s\n        console.info(`[packet ${name} was ${type} too frequent] Ignoring...`)\n        ignoredPackets.current.add(name)\n      } else {\n        console.info(`[packet ${type}] ${name}`, /* ${JSON.stringify(data, null, 2)}` */ data)\n      }\n    }\n  }\n\n  useEffect(() => {\n    let lastTpsReset = 0\n    let lastTps = 0\n    let lastTickDate = 0\n    const updateTps = (increment = false) => {\n      if (Date.now() - lastTpsReset >= 1000) {\n        setClientTps(lastTps)\n        window.lastTpsArray ??= []\n        window.lastTpsArray.push(lastTps)\n        lastTps = 0\n        lastTpsReset = Date.now()\n      }\n      if (increment) {\n        lastTickDate = Date.now()\n        lastTps++\n      }\n    }\n\n    let update = 0\n    const packetsUpdateInterval = setInterval(() => {\n      setPacketsString(` ${received.current.count} (${(received.current.size / 1024).toFixed(2)} KB/s, ${getFixedFilesize(receivedTotal.current)})  ${sent.current.count}`)\n      received.current = { ...defaultPacketsCount }\n      sent.current = { ...defaultPacketsCount }\n      packetsCountByNamePerSec.current.received = {}\n      packetsCountByNamePerSec.current.sent = {}\n      if (update++ % 10 === 0) {\n        packetsCountByNamePer10Sec.current.received = {}\n        packetsCountByNamePer10Sec.current.sent = {}\n      }\n      updateTps(false)\n    }, 1000)\n\n    bot.on('physicsTick', () => {\n      updateTps(true)\n    })\n    bot._client.on('packet', () => {\n      updateTps(false)\n    })\n\n    const freqUpdateInterval = setInterval(() => {\n      setPos({ ...bot.entity.position })\n      setSkyL(bot.world.getSkyLight(bot.entity.position))\n      setBlockL(bot.world.getBlockLight(bot.entity.position))\n      setBiomeId(bot.world.getBiome(bot.entity.position))\n      setDimension(bot.game.dimension)\n      setDay(bot.time.day)\n      setTimeOfDay(bot.time.timeOfDay)\n      setCursorBlock(bot.mouse.getCursorState().cursorBlock)\n    }, 100)\n\n    const notFrequentUpdateInterval = setInterval(async () => {\n      const block = bot.mouse.cursorBlock\n      if (!block) {\n        setBlockInfo(null)\n        return\n      }\n      const { customBlockName, modelInfo } = await getThreeJsRendererMethods()?.getBlockInfo(block.position, block.stateId) ?? {}\n      setBlockInfo({ customBlockName, modelInfo })\n    }, 300)\n\n    // @ts-expect-error\n    bot._client.on('packet', readPacket)\n    // @ts-expect-error\n    bot._client.on('packet_name' as any, (name, data) => readPacket(data, { name })) // custom client\n    bot._client.on('writePacket' as any, (name, data) => {\n      sent.current.count++\n      managePackets('sent', name, data)\n    })\n    bot._client.on('set_ticking_state' as any, (data) => {\n      setServerTps({ value: data.tick_rate, frozen: data.is_frozen })\n    })\n\n    return () => {\n      clearInterval(packetsUpdateInterval)\n      clearInterval(freqUpdateInterval)\n      clearInterval(notFrequentUpdateInterval)\n      console.log('Last physics tick before disconnect was', Date.now() - lastTickDate, 'ms ago')\n    }\n  }, [])\n\n  useEffect(() => {\n    minecraftYaw.current = viewDegToMinecraft(bot.entity.yaw * -180 / Math.PI)\n    minecraftQuad.current = Math.floor(((minecraftYaw.current + 180) / 90 + 0.5) % 4)\n  }, [bot.entity.yaw])\n\n  if (!showDebugHud) return null\n\n  return <>\n    <div className={`debug-left-side ${styles['debug-left-side']}`}>\n      <p>Prismarine Web Client ({bot.version})</p>\n      {appViewer.backend?.getDebugOverlay?.().entitiesString && <p>E: {appViewer.backend.getDebugOverlay().entitiesString}</p>}\n      <p>{dimension}</p>\n      <div className={styles.empty} />\n      <p>XYZ: {pos.x.toFixed(3)} / {pos.y.toFixed(3)} / {pos.z.toFixed(3)}</p>\n      <p>Chunk: {Math.floor(pos.x % 16)} ~ {Math.floor(pos.z % 16)} in {Math.floor(pos.x / 16)} ~ {Math.floor(pos.z / 16)}</p>\n      <p>Section: {Math.floor(pos.x / 16) * 16}, {Math.floor(pos.y / 16) * 16}, {Math.floor(pos.z / 16) * 16}</p>\n      <p>Packets: {packetsString}</p>\n      <p>Client TPS: {clientTps} {serverTps ? `Server TPS: ${serverTps.value} ${serverTps.frozen ? '(frozen)' : ''}` : ''}</p>\n      <p>Facing (viewer): {bot.entity.yaw.toFixed(3)} {bot.entity.pitch.toFixed(3)}</p>\n      <p>Facing (minecraft): {quadsDescription[minecraftQuad.current]} ({minecraftYaw.current.toFixed(1)} {(bot.entity.pitch * -180 / Math.PI).toFixed(1)})</p>\n      <p>Light: {blockL} ({skyL} sky)</p>\n\n      <p>Biome: minecraft:{loadedData.biomesArray[biomeId]?.name ?? 'unknown biome'}</p>\n      <p>Day: {day} Time: {timeOfDay}</p>\n      <div className={styles.empty} />\n      {Object.entries(appViewer.backend?.getDebugOverlay?.().left ?? {}).map(([name, value]) => <p key={name}>{name}: {value}</p>)}\n    </div>\n\n    <div className={`debug-right-side ${styles['debug-right-side']}`}>\n      <p>Backend: {appViewer.backend?.displayName}</p>\n      <p>Renderer: {rendererDevice}</p>\n      <div className={styles.empty} />\n      {cursorBlock ? (<>\n        <p>{cursorBlock.name}</p>\n        {\n          Object.entries(cursorBlock.getProperties()).map(([name, value], idx, arr) => {\n            return <p key={name}>\n              {name}: {\n                typeof value === 'boolean' ? (\n                  <span style={{ color: value ? 'lightgreen' : 'red' }}>{String(value)}</span>\n                ) : value\n              }\n            </p>\n          })\n        }\n      </>)\n        : ''}\n      {cursorBlock ? (\n        <p>Looking at: {cursorBlock.position.x} {cursorBlock.position.y} {cursorBlock.position.z}</p>\n      ) : ''}\n      <div className={styles.empty} />\n      {blockInfo && (() => {\n        const { customBlockName, modelInfo } = blockInfo\n        return modelInfo && (\n          <>\n            {customBlockName && <p style={{ fontSize: 7, }}>Custom block: {customBlockName}</p>}\n            {modelInfo.issues.map((issue, i) => (\n              <p key={i} style={{ color: 'yellow', fontSize: 7, }}>{issue}</p>\n            ))}\n            {/* <p style={{ fontSize: 7, }}>Resolved models chain: {modelInfo.modelNames.join(' -> ')}</p> */}\n            <p style={{ fontSize: 7, }}>Resolved model: {modelInfo.modelNames[0] ?? '-'}</p>\n            <p style={{ fontSize: 7, whiteSpace: 'nowrap', maxWidth: '100px', overflow: 'hidden', textOverflow: 'ellipsis' }}>\n              {modelInfo.conditions.join(', ')}\n            </p>\n          </>\n        )\n      })()}\n      {Object.entries(appViewer.backend?.getDebugOverlay?.().right ?? {}).map(([name, value]) => <p key={name}>{name}: {value}</p>)}\n    </div>\n  </>\n}\n\nconst hardcodedListOfDebugPacketsToIgnore = {\n  received: [\n    'entity_velocity',\n    'sound_effect',\n    'rel_entity_move',\n    'entity_head_rotation',\n    'entity_metadata',\n    'entity_move_look',\n    'teams',\n    'entity_teleport',\n    'entity_look',\n    'ping',\n    'entity_update_attributes',\n    'player_info',\n    'update_time',\n    'animation',\n    'entity_equipment',\n    'entity_destroy',\n    'named_entity_spawn',\n    'update_light',\n    'set_slot',\n    'block_break_animation',\n    'map_chunk',\n    'spawn_entity',\n    'world_particles',\n    'keep_alive',\n    'chat',\n    'playerlist_header',\n    'scoreboard_objective',\n    'scoreboard_score',\n    'entity_status',\n    'set_ticking_state',\n    'ping_response',\n    'block_change',\n    'damage_event'\n  ],\n  sent: [\n    'pong',\n    'position',\n    'look',\n    'keep_alive',\n    'position_look',\n    'ping_request'\n  ]\n}\n\nconst defaultPacketsCount = {\n  count: 0,\n  size: 0\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"mobile-top-btns\":\"mobile-top-btns-LkVyKp\",\"mobileTopBtns\":\"mobile-top-btns-LkVyKp\",\"pause-btn\":\"pause-btn-tfjBzl\",\"pauseBtn\":\"pause-btn-tfjBzl\",\"chat-btn\":\"chat-btn-BNyPws\",\"chatBtn\":\"chat-btn-BNyPws\",\"debug-btn\":\"debug-btn-aSsISO\",\"debugBtn\":\"debug-btn-aSsISO\",\"tab-btn\":\"tab-btn-hqoRrR\",\"tabBtn\":\"tab-btn-hqoRrR\"};","import { useEffect, useRef } from 'react'\nimport { useSnapshot } from 'valtio'\nimport { handleMobileButtonActionCommand, handleMobileButtonLongPress } from '../controls'\nimport { watchValue } from '../optionsStorage'\nimport { type MobileButtonConfig, type ActionHoldConfig, type ActionType, type CustomAction } from '../appConfig'\nimport { miscUiState } from '../globalState'\nimport PixelartIcon from './PixelartIcon'\nimport styles from './MobileTopButtons.module.css'\n\nexport default () => {\n  const elRef = useRef<HTMLDivElement | null>(null)\n  const { appConfig } = useSnapshot(miscUiState)\n  const mobileButtonsConfig = appConfig?.mobileButtons\n\n  const longPressTimerIdRef = useRef<number | null>(null)\n  const actionToShortPressRef = useRef<ActionType | null>(null)\n\n  const showMobileControls = (visible: boolean) => {\n    if (elRef.current) {\n      elRef.current.style.display = visible ? 'flex' : 'none'\n    }\n  }\n\n  useEffect(() => {\n    watchValue(miscUiState, o => {\n      showMobileControls(Boolean(o.currentTouch))\n    })\n  }, [])\n\n  const getButtonClassName = (button: MobileButtonConfig): string => {\n    const actionForStyle = button.action || (button.actionHold && typeof button.actionHold === 'object' && 'command' in button.actionHold ? button.actionHold.command : undefined)\n\n    if (typeof actionForStyle === 'string') {\n      switch (actionForStyle) {\n        case 'general.chat':\n          return styles['chat-btn']\n        case 'ui.pauseMenu':\n          return styles['pause-btn']\n        case 'general.playersList':\n          return styles['tab-btn']\n        default:\n          return styles['debug-btn']\n      }\n    }\n    return styles['debug-btn']\n  }\n\n  const renderConfigButtons = () => {\n    return mobileButtonsConfig?.map((button, index) => {\n      const className = getButtonClassName(button)\n      let label: string | JSX.Element = button.icon || button.label || ''\n\n      if (typeof label === 'string' && label.startsWith('pixelarticons:')) {\n        const iconName = label.replace('pixelarticons:', '')\n        label = <PixelartIcon iconName={iconName} />\n      }\n\n      const onPointerDown = (e: React.PointerEvent) => {\n        const elem = e.currentTarget as HTMLElement\n        elem.setPointerCapture(e.pointerId)\n\n        if (longPressTimerIdRef.current) {\n          clearTimeout(longPressTimerIdRef.current)\n          longPressTimerIdRef.current = null\n        }\n        actionToShortPressRef.current = null\n\n        const { actionHold, action } = button\n\n        if (actionHold) {\n          if (typeof actionHold === 'object' && 'command' in actionHold) {\n            const config = actionHold\n            if (config.longPressAction) {\n              actionToShortPressRef.current = config.command\n              longPressTimerIdRef.current = window.setTimeout(() => {\n                handleMobileButtonLongPress(config)\n                actionToShortPressRef.current = null\n                longPressTimerIdRef.current = null\n              }, config.duration || 500)\n            } else {\n              handleMobileButtonActionCommand(config.command, true)\n            }\n          } else if (action) {\n            actionToShortPressRef.current = action\n            longPressTimerIdRef.current = window.setTimeout(() => {\n              handleMobileButtonActionCommand(actionHold, true)\n              actionToShortPressRef.current = null\n              longPressTimerIdRef.current = null\n            }, 500)\n          } else {\n            handleMobileButtonActionCommand(actionHold, true)\n          }\n        } else if (action) {\n          handleMobileButtonActionCommand(action, true)\n        }\n      }\n\n      const onPointerUp = (e: React.PointerEvent) => {\n        const elem = e.currentTarget as HTMLElement\n        elem.releasePointerCapture(e.pointerId)\n\n        const { actionHold, action } = button\n        let wasShortPressHandled = false\n\n        if (longPressTimerIdRef.current) {\n          clearTimeout(longPressTimerIdRef.current)\n          longPressTimerIdRef.current = null\n          if (actionToShortPressRef.current) {\n            handleMobileButtonActionCommand(actionToShortPressRef.current, true)\n            handleMobileButtonActionCommand(actionToShortPressRef.current, false)\n            wasShortPressHandled = true\n          }\n        }\n\n        if (!wasShortPressHandled) {\n          if (actionHold) {\n            if (typeof actionHold === 'object' && 'command' in actionHold) {\n              const config = actionHold\n              if (config.longPressAction) {\n                if (actionToShortPressRef.current === null) {\n                  if (typeof config.longPressAction === 'string') {\n                    handleMobileButtonActionCommand(config.longPressAction, false)\n                  }\n                }\n              } else {\n                handleMobileButtonActionCommand(config.command, false)\n              }\n            } else if (action) {\n              if (actionToShortPressRef.current === null) {\n                handleMobileButtonActionCommand(actionHold, false)\n              }\n            } else {\n              handleMobileButtonActionCommand(actionHold, false)\n            }\n          } else if (action) {\n            handleMobileButtonActionCommand(action, false)\n          }\n        }\n        actionToShortPressRef.current = null\n      }\n\n      return (\n        <div\n          key={index}\n          className={className}\n          onPointerDown={onPointerDown}\n          onPointerUp={onPointerUp}\n          onLostPointerCapture={onPointerUp}\n        >\n          {label}\n        </div>\n      )\n    })\n  }\n\n  // ios note: just don't use <button>\n  return (\n    <div ref={elRef} className={styles['mobile-top-btns']} id=\"mobile-top\">\n      {mobileButtonsConfig && mobileButtonsConfig.length > 0 ? renderConfigButtons() : null}\n    </div>\n  )\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"container\":\"container-CbtoYq\",\"websocket\":\"websocket-ukuvQ1\",\"iconRow\":\"iconRow-Rj9AHI\",\"arrowRow\":\"arrowRow-mPYqMH\",\"dataRow\":\"dataRow-vkErq6\",\"ping\":\"ping-axxvVG\",\"totalRow\":\"totalRow-tXKyyD\",\"stale\":\"stale-QydKzb\"};","import { useEffect, useMemo, useState, useRef } from 'react'\nimport { parseServerAddress } from '../parseServerAddress'\nimport { lastConnectOptions } from './AppStatusProvider'\nimport PixelartIcon, { pixelartIcons } from './PixelartIcon'\nimport styles from './NetworkStatus.module.css'\n\nexport default () => {\n  const [proxyPing, setProxyPing] = useState<number | null>(null)\n  const [serverPing, setServerPing] = useState<number | null>(null)\n  const [isProxyStale, setIsProxyStale] = useState(false)\n  const [isServerStale, setIsServerStale] = useState(false)\n\n  const proxyTimeoutRef = useRef<NodeJS.Timeout>()\n  const serverTimeoutRef = useRef<NodeJS.Timeout>()\n\n  const isWebSocket = useMemo(() => parseServerAddress(lastConnectOptions.value?.server).isWebSocket, [lastConnectOptions.value?.server])\n  const serverIp = useMemo(() => lastConnectOptions.value?.server, [])\n\n  const setProxyPingWithTimeout = (ping: number | null) => {\n    setProxyPing(ping)\n    setIsProxyStale(false)\n    if (proxyTimeoutRef.current) clearTimeout(proxyTimeoutRef.current)\n    proxyTimeoutRef.current = setTimeout(() => setIsProxyStale(true), 1000)\n  }\n\n  const setServerPingWithTimeout = (ping: number | null) => {\n    setServerPing(ping)\n    setIsServerStale(false)\n    if (serverTimeoutRef.current) clearTimeout(serverTimeoutRef.current)\n    serverTimeoutRef.current = setTimeout(() => setIsServerStale(true), 1000)\n  }\n\n  useEffect(() => {\n    if (!serverIp) return\n\n    const updatePing = async () => {\n      const updateServerPing = async () => {\n        const ping = await bot.pingServer()\n        if (ping) {\n          setServerPingWithTimeout(ping)\n        }\n      }\n\n      const updateProxyPing = async () => {\n        if (!isWebSocket) {\n          const ping = await bot.pingProxy()\n          setProxyPingWithTimeout(ping)\n        }\n      }\n\n      try {\n        await Promise.all([updateServerPing(), updateProxyPing()])\n      } catch (err) {\n        console.error('Failed to ping:', err)\n      }\n    }\n\n    void updatePing()\n    const interval = setInterval(updatePing, 1000)\n    return () => {\n      clearInterval(interval)\n      if (proxyTimeoutRef.current) clearTimeout(proxyTimeoutRef.current)\n      if (serverTimeoutRef.current) clearTimeout(serverTimeoutRef.current)\n    }\n  }, [])\n\n  if (!serverIp) return null\n\n  const { username } = bot\n  const { proxy: proxyUrl } = lastConnectOptions.value!\n  const pingTotal = serverPing\n\n  const ICON_SIZE = 18\n\n  return (\n    <div className={`${styles.container} ${isWebSocket ? styles.websocket : ''}`}>\n      <PixelartIcon className={styles.iconRow} iconName={pixelartIcons.user} width={ICON_SIZE} />\n      {!isWebSocket && (\n        <>\n          <PixelartIcon className={`${styles.iconRow} ${styles.arrowRow}`} iconName={pixelartIcons['arrow-right']} width={16} />\n          <PixelartIcon className={styles.iconRow} iconName={pixelartIcons.server} width={ICON_SIZE} />\n        </>\n      )}\n      <PixelartIcon className={`${styles.iconRow} ${styles.arrowRow}`} iconName={pixelartIcons['arrow-right']} width={16} />\n      <PixelartIcon className={styles.iconRow} iconName={pixelartIcons['list-box']} width={ICON_SIZE} />\n\n      <span className={styles.dataRow}>{username}</span>\n      {!isWebSocket && (\n        <>\n          <span className={`${styles.dataRow} ${styles.ping} ${isProxyStale ? styles.stale : ''}`}>{proxyPing}ms</span>\n          <span className={styles.dataRow}>{proxyUrl}</span>\n        </>\n      )}\n      <span className={`${styles.dataRow} ${styles.ping} ${isServerStale ? styles.stale : ''}`}>\n        {isWebSocket ? (pingTotal || '?') : (pingTotal ? pingTotal - (proxyPing ?? 0) : '...')}ms\n      </span>\n      <span className={styles.dataRow}>{serverIp}</span>\n\n      <span className={styles.totalRow}>Ping: {pingTotal || '?'}ms</span>\n    </div>\n  )\n}\n","import { join } from 'path'\nimport fs from 'fs'\nimport { useEffect } from 'react'\nimport { subscribe, useSnapshot } from 'valtio'\nimport { usedServerPathsV1 } from 'flying-squid/dist/lib/modules/world'\nimport { openURL } from 'renderer/viewer/lib/simpleUtils'\nimport { Vec3 } from 'vec3'\nimport { generateSpiralMatrix } from 'flying-squid/dist/utils'\nimport { subscribeKey } from 'valtio/utils'\nimport { ErrorBoundary } from '@zardoy/react-util'\nimport {\n  activeModalStack,\n  showModal,\n  hideModal,\n  miscUiState,\n  openOptionsMenu,\n  gameAdditionalState\n} from '../globalState'\nimport { fsState } from '../loadSave'\nimport { disconnect } from '../flyingSquidUtils'\nimport { openGithub, pointerLock } from '../utils'\nimport { setLoadingScreenStatus } from '../appStatus'\nimport { closeWan, openToWanAndCopyJoinLink, getJoinLink } from '../localServerMultiplayer'\nimport { collectFilesToCopy, fileExistsAsyncOptimized, mkdirRecursive, uniqueFileNameFromWorldName } from '../browserfs'\nimport { appQueryParams } from '../appParams'\nimport { downloadPacketsReplay, packetsRecordingState } from '../packetsReplay/packetsReplayLegacy'\nimport { options } from '../optionsStorage'\nimport { useIsModalActive } from './utilsApp'\nimport { showOptionsModal } from './SelectOption'\nimport Button from './Button'\nimport Screen from './Screen'\nimport styles from './PauseScreen.module.css'\nimport { DiscordButton } from './DiscordButton'\nimport { showNotification } from './NotificationProvider'\nimport { appStatusState, lastConnectOptions, reconnectReload } from './AppStatusProvider'\nimport NetworkStatus from './NetworkStatus'\nimport PauseLinkButtons from './PauseLinkButtons'\nimport { pixelartIcons } from './PixelartIcon'\nimport LoadingTimer from './LoadingTimer'\n\nconst waitForPotentialRender = async () => {\n  return new Promise<void>(resolve => {\n    requestAnimationFrame(() => requestAnimationFrame(resolve as any))\n  })\n}\n\nexport const saveToBrowserMemory = async () => {\n  setLoadingScreenStatus('Saving world')\n  try {\n    await new Promise<void>(resolve => {\n      subscribeKey(appStatusState, 'isDisplaying', () => {\n        if (appStatusState.isDisplaying) {\n          resolve()\n        }\n      })\n    })\n    const worldFolder = fsState.inMemorySavePath\n    const saveRootPath = await uniqueFileNameFromWorldName(worldFolder.split('/').pop()!, `/data/worlds`)\n    await mkdirRecursive(saveRootPath)\n    console.log('made world folder', saveRootPath)\n    const allRootPaths = [...usedServerPathsV1]\n    const allFilesToCopy = [] as string[]\n    for (const dirBase of allRootPaths) {\n      // eslint-disable-next-line no-await-in-loop\n      if (dirBase.includes('.') && await fileExistsAsyncOptimized(join(worldFolder, dirBase))) {\n        allFilesToCopy.push(dirBase)\n        continue\n      }\n      // eslint-disable-next-line no-await-in-loop\n      let res = await collectFilesToCopy(join(worldFolder, dirBase), true)\n      if (dirBase === 'region') {\n        res = res.filter(x => x.endsWith('.mca'))\n      }\n      allFilesToCopy.push(...res.map(x => join(dirBase, x)))\n    }\n    console.log('paths collected')\n    const pathsSplitBasic = allFilesToCopy.filter(path => {\n      if (!path.startsWith('region/')) return true\n      const [x, z] = path.split('/').at(-1)!.split('.').slice(1, 3).map(Number)\n      return Math.abs(x) > 50 || Math.abs(z) > 50 // HACK: otherwise it's too big and we can't handle it in visual display\n    })\n    let copied = 0\n    let isRegionFiles = false\n    const upProgress = (totalSize: number) => {\n      copied++\n      let action = fsState.remoteBackend ? 'Downloading & copying' : 'Copying'\n      action += isRegionFiles ? ' region files (world chunks)' : ' basic save files'\n      setLoadingScreenStatus(`${action} files (${copied}/${totalSize})`)\n    }\n    const copyFiles = async (copyPaths: string[][]) => {\n      const totalSIze = copyPaths.flat().length\n      for (const copyFileGroup of copyPaths) {\n        // eslint-disable-next-line no-await-in-loop, @typescript-eslint/no-loop-func\n        await Promise.all(copyFileGroup.map(async (copyPath) => {\n          const srcPath = join(worldFolder, copyPath)\n          const savePath = join(saveRootPath, copyPath)\n          await mkdirRecursive(savePath)\n          await fs.promises.writeFile(savePath, await fs.promises.readFile(srcPath) as any)\n          upProgress(totalSIze)\n          if (isRegionFiles) {\n            const regionFile = copyPath.split('/').at(-1)!\n            appStatusState.loadingChunksData![regionFile] = 'done'\n          }\n        }))\n        // eslint-disable-next-line no-await-in-loop\n        await waitForPotentialRender()\n      }\n    }\n    // basic save files\n    await copyFiles(splitByCopySize(pathsSplitBasic))\n    setLoadingScreenStatus('Preparing world chunks copying')\n    await waitForPotentialRender()\n\n    // region files\n    isRegionFiles = true\n    copied = 0\n    const regionFiles = allFilesToCopy.filter(x => !pathsSplitBasic.includes(x))\n    const regionFilesNumbers = regionFiles.map(x => x.split('/').at(-1)!.split('.').slice(1, 3).map(Number))\n    const xMin = Math.min(...regionFilesNumbers.flatMap(x => x[0]))\n    const zMin = Math.min(...regionFilesNumbers.flatMap(x => x[1]))\n    const xMax = Math.max(...regionFilesNumbers.flatMap(x => x[0]))\n    const zMax = Math.max(...regionFilesNumbers.flatMap(x => x[1]))\n    const playerPosRegion = bot.entity.position.divide(new Vec3(32 * 16, 32 * 16, 32 * 16)).floored()\n    const maxDistantRegion = Math.max(\n      Math.abs(playerPosRegion.x - xMin),\n      Math.abs(playerPosRegion.z - zMin),\n      Math.abs(playerPosRegion.x - xMax),\n      Math.abs(playerPosRegion.z - zMax)\n    )\n    const spiral = generateSpiralMatrix(maxDistantRegion)\n    const filesWithSpiral = spiral.filter(x => allFilesToCopy.includes(`region/r.${x[0]}.${x[1]}.mca`)).map(x => `region/r.${x[0]}.${x[1]}.mca`)\n    if (filesWithSpiral.length !== regionFiles.length) throw new Error('Something went wrong with region files')\n\n    appStatusState.loadingChunksData = Object.fromEntries(regionFiles.map(x => [x.split('/').at(-1)!, 'loading']))\n    appStatusState.loadingChunksDataPlayerChunk = { x: playerPosRegion.x, z: playerPosRegion.z }\n    await copyFiles(splitByCopySize(filesWithSpiral, 10))\n\n    return saveRootPath\n  } catch (err) {\n    console.error(err)\n    void showOptionsModal(`Error while saving the world: ${err.message}`, [])\n  } finally {\n    setLoadingScreenStatus(undefined)\n  }\n}\n\nconst splitByCopySize = (files: string[], copySize = 15) => {\n  return files.reduce<string[][]>((acc, cur, i) => {\n    if (i % copySize === 0) {\n      acc.push([])\n    }\n    acc.at(-1)!.push(cur)\n    return acc\n  }, [])\n}\n\nexport default () => {\n  const lockConnect = appQueryParams.lockConnect === 'true'\n  const isModalActive = useIsModalActive('pause-screen')\n  const fsStateSnap = useSnapshot(fsState)\n  const activeModalStackSnap = useSnapshot(activeModalStack)\n  const { singleplayer, wanOpened, wanOpening } = useSnapshot(miscUiState)\n  const { noConnection } = useSnapshot(gameAdditionalState)\n  const { active: packetsReplaceActive, hasRecordedPackets: packetsReplaceHasRecordedPackets } = useSnapshot(packetsRecordingState)\n  const { displayRecordButton: displayPacketsButtons } = useSnapshot(options)\n  const { appConfig } = useSnapshot(miscUiState)\n\n  const handlePointerLockChange = () => {\n    if (!pointerLock.hasPointerLock && activeModalStack.length === 0) {\n      showModal({ reactType: 'pause-screen' })\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener('pointerlockchange', handlePointerLockChange)\n\n    return () => {\n      document.removeEventListener('pointerlockchange', handlePointerLockChange)\n    }\n  }, [])\n\n  const onReturnPress = () => {\n    hideModal({ reactType: 'pause-screen' })\n  }\n\n  const clickWebShareButton = async () => {\n    if (!wanOpened) return\n    try {\n      const url = getJoinLink()\n      const shareData = { url }\n      await navigator.share?.(shareData)\n    } catch (err) {\n      console.log(`Error: ${err}`)\n    }\n  }\n\n  const clickJoinLinkButton = async (qr = false) => {\n    if (!qr && wanOpened) {\n      closeWan()\n      return\n    }\n    if (!wanOpened || !qr) {\n      await openToWanAndCopyJoinLink((err) => {\n        if (!miscUiState.wanOpening) return\n        alert(`Something went wrong: ${err}`)\n      }, !qr)\n    }\n    if (qr) {\n      const joinLink = getJoinLink()\n      miscUiState.currentDisplayQr = joinLink ?? null\n    }\n  }\n\n  const openWorldActions = async () => {\n    if (fsStateSnap.inMemorySave || !singleplayer) {\n      return showOptionsModal('World actions...', [])\n    }\n    const action = await showOptionsModal('World actions...', ['Save to browser memory'])\n    if (action === 'Save to browser memory') {\n      const path = await saveToBrowserMemory()\n      if (!path) return\n      const saveName = path.split('/').at(-1)\n      showNotification(`World saved to ${saveName}`, 'Load it to keep your progress!')\n      // fsState.inMemorySave = true\n      // fsState.syncFs = false\n      // fsState.isReadonly = false\n      // fsState.remoteBackend = false\n    }\n  }\n\n  if (!isModalActive) return null\n\n  return <Screen title='Game Menu'>\n    <div style={{ position: 'fixed', top: '5px', left: 'calc(env(safe-area-inset-left) + 5px)', display: 'flex', flexDirection: 'column', gap: '5px' }}>\n      <Button\n        icon=\"pixelarticons:folder\"\n        onClick={async () => openWorldActions()}\n      />\n      {displayPacketsButtons && (\n        <>\n          <Button\n            icon={packetsReplaceActive ? 'pixelarticons:debug-stop' : 'pixelarticons:circle'}\n            onClick={() => {\n              packetsRecordingState.active = !packetsRecordingState.active\n            }}\n          />\n          {packetsReplaceHasRecordedPackets && (\n            <Button\n              icon={pixelartIcons['briefcase-download']}\n              onClick={async () => downloadPacketsReplay()}\n            />\n          )}\n          <Button\n            icon={pixelartIcons['download']}\n            onClick={async () => bot.downloadCurrentWorldState()}\n          />\n        </>\n      )}\n    </div>\n    <ErrorBoundary renderError={() => <div>error</div>}>\n      <div style={{ position: 'fixed', top: '5px', left: 'calc(env(safe-area-inset-left) + 35px)' }}>\n        <NetworkStatus />\n      </div>\n    </ErrorBoundary>\n    <div className={styles.pause_container}>\n      <Button className=\"button\" style={{ width: '204px' }} onClick={onReturnPress}>Back to Game</Button>\n      <PauseLinkButtons />\n      <Button className=\"button\" style={{ width: '204px' }} onClick={() => openOptionsMenu('main')}>Options...</Button>\n      {singleplayer ? (\n        <div className={styles.row}>\n          <Button className=\"button\" style={{ width: '170px' }} onClick={async () => clickJoinLinkButton()}>\n            {wanOpening ? 'Opening, wait...' : wanOpened ? 'Close Wan' : 'Copy Join Link'}\n          </Button>\n          {(navigator.share as typeof navigator.share | undefined) ? (\n            <Button\n              title=\"Share Join Link\"\n              className=\"button\"\n              icon=\"pixelarticons:arrow-up\"\n              style={{ width: '20px' }}\n              onClick={async () => clickWebShareButton()}\n            />\n          ) : null}\n          <Button\n            title='Display QR for the Join Link'\n            className=\"button\"\n            icon=\"pixelarticons:dice\"\n            style={{ width: '20px' }}\n            onClick={async () => clickJoinLinkButton(true)}\n          />\n        </div>\n      ) : null}\n      {(noConnection || appConfig?.alwaysReconnectButton) && (\n        <div className={styles.row}>\n          <Button className=\"button\" style={{ width: appConfig?.reportBugButtonWithReconnect ? '98px' : '204px' }} onClick={reconnectReload}>\n            Reconnect\n          </Button>\n          {appConfig?.reportBugButtonWithReconnect && (\n            <Button\n              label=\"Report Problem\"\n              className=\"button\"\n              style={{ width: '98px' }}\n              onClick={async () => {\n                const platform = (navigator as any).userAgentData?.platform ?? navigator.platform\n                const body = `Version: ${window.location.hostname}\\nServer: ${lastConnectOptions.value?.server ?? '<not a server>'}\\nPlatform: ${platform}\\nWebsite: ${window.location.href}`\n                const currentHost = window.location.hostname\n                const options = [\n                  'GitHub (please use it if you can)',\n                  'Email',\n                  ...((currentHost === 'mcraft.fun' || currentHost === 'ru.mcraft.fun') ? ['Try Beta Version'] : []),\n                  // 'Use previous versions of client'\n                ]\n                const action = await showOptionsModal('Report client issue', options)\n                if (!action) return\n\n                switch (action) {\n                  case 'GitHub (please use it if you can)':\n                    openGithub(`/issues/new?body=${encodeURIComponent(body)}&title=${encodeURIComponent('[Bug Report] <describe your issue here>')}&labels=bug`)\n                    break\n                  case 'Email': {\n                    window.location.href = `mailto:support@mcraft.fun?body=${encodeURIComponent(body)}`\n                    break\n                  }\n                  case 'Try Beta Version': {\n                    if (currentHost === 'mcraft.fun') {\n                      window.location.href = 'https://s.mcraft.fun'\n                    } else if (currentHost === 'ru.mcraft.fun') {\n                      window.location.href = 'https://s.pcm.gg'\n                    }\n                    break\n                  }\n                  case 'Use previous versions of client':\n                    // TODO: Implement versions screen\n                    void showOptionsModal('Previous versions', [])\n                    break\n                }\n              }}\n            />\n          )}\n        </div>\n      )}\n      {!lockConnect && <>\n        <Button className=\"button\" style={{ width: '204px' }} onClick={disconnect}>\n          {fsState.inMemorySave && !fsState.syncFs && !fsState.isReadonly ? 'Save & Quit' : 'Disconnect & Reset'}\n        </Button>\n      </>}\n    </div>\n    <LoadingTimer />\n  </Screen>\n}\n","import { useState } from 'react'\nimport { useSnapshot } from 'valtio'\nimport { hideCurrentModal } from '../globalState'\nimport { lastPlayedSounds } from '../sounds/botSoundSystem'\nimport { options } from '../optionsStorage'\nimport Button from './Button'\nimport Screen from './Screen'\nimport { useIsModalActive } from './utilsApp'\n\nconst SoundRow = ({ sound, children }) => {\n  const { mutedSounds } = useSnapshot(options)\n\n  const isMuted = mutedSounds.includes(sound)\n\n  return <div style={{ display: 'flex', justifyContent: 'space-between', gap: 15 }}>\n    <div>\n      <span style={{ fontSize: 12, marginRight: 2, ...isMuted ? { color: '#af1c1c' } : {} }}>{sound}</span>\n      {children}\n    </div>\n    <Button\n      icon={isMuted ? 'pixelarticons:music' : 'pixelarticons:close'} onClick={() => {\n        if (isMuted) {\n          options.mutedSounds.splice(options.mutedSounds.indexOf(sound), 1)\n        } else {\n          options.mutedSounds.push(sound)\n        }\n      }}\n    />\n  </div>\n}\n\nexport default () => {\n  const isModalActive = useIsModalActive('sound-muffler')\n\n  const [showMuted, setShowMuted] = useState(true)\n  const [i, setI] = useState(0)\n  const { mutedSounds } = useSnapshot(options)\n\n  if (!isModalActive) return null\n\n  return <Screen title='Sound Muffler' backdrop>\n    <div style={{ display: 'flex', gap: 5, flexDirection: 'column' }}>\n      <Button onClick={() => setI(i => i + 1)}>Refresh</Button>\n      <Button onClick={() => setShowMuted(s => !s)}>Show Muted: {showMuted ? 'ON' : 'OFF'}</Button>\n      <span style={{ padding: '3px 0' }}>Last World Played</span>\n      {Object.entries(lastPlayedSounds.lastServerPlayed).map(([key, value]) => {\n        if (!showMuted && mutedSounds.includes(key)) return null\n        return [key, value.count] as const\n      }).filter(a => !!a).sort((a, b) => b[1] - a[1]).slice(0, 20).map(([key, count]) => {\n        return <SoundRow key={key} sound={key}>\n          <span style={{ fontSize: 12, fontWeight: 'bold' }}>{count}</span>\n        </SoundRow>\n      })}\n      <span style={{ padding: '3px 0' }}>Last Client Played</span>\n      {lastPlayedSounds.lastClientPlayed.map((key) => {\n        if (!showMuted && mutedSounds.includes(key)) return null\n        return <SoundRow key={key} sound={key} children={undefined} />\n      })}\n      <Button onClick={() => hideCurrentModal()}>Back</Button>\n    </div>\n  </Screen>\n}\n","import { LeftTouchArea, RightTouchArea, useInterfaceState } from '@dimaka/interface'\nimport { css } from '@emotion/css'\nimport { useSnapshot } from 'valtio'\nimport { contro } from '../controls'\nimport { miscUiState, activeModalStack } from '../globalState'\nimport { watchValue, options } from '../optionsStorage'\nimport { useUsingTouch } from './utilsApp'\n\n// todo\nuseInterfaceState.setState({\n  isFlying: false,\n  uiCustomization: {\n    touchButtonSize: 40,\n  },\n  updateCoord ([coord, state]) {\n    const coordToAction = [\n      ['z', -1, 'KeyW'],\n      ['z', 1, 'KeyS'],\n      ['x', -1, 'KeyA'],\n      ['x', 1, 'KeyD'],\n      ['y', 1, 'Space'], // todo jump\n      ['y', -1, 'ShiftLeft'], // todo jump\n    ]\n    // todo refactor\n    const actionAndState = state === 0 ? coordToAction.filter(([axis]) => axis === coord) : coordToAction.find(([axis, value]) => axis === coord && value === state)\n    if (!bot) return\n    if (state === 0) {\n      // @ts-expect-error\n      for (const action of actionAndState) {\n        contro.pressedKeyOrButtonChanged({ code: action[2] }, false)\n      }\n    } else {\n      //@ts-expect-error\n      contro.pressedKeyOrButtonChanged({ code: actionAndState[2] }, true)\n    }\n  }\n})\n\nwatchValue(options, (o) => {\n  useInterfaceState.setState({\n    uiCustomization: {\n      touchButtonSize: o.touchButtonsSize,\n    },\n  })\n})\n\nexport default () => {\n  // todo setting\n  const usingTouch = useUsingTouch()\n  const { usingGamepadInput } = useSnapshot(miscUiState)\n  const modals = useSnapshot(activeModalStack)\n  const { touchMovementType } = useSnapshot(options)\n\n  if (!usingTouch || usingGamepadInput || touchMovementType !== 'classic') return null\n  return (\n    <div\n      style={{ zIndex: modals.length ? 7 : 8 }}\n      className={css`\n        position: fixed;\n        bottom: 0;\n        /* height: 100%; */\n        display: flex;\n        width: 100%;\n        justify-content: space-between;\n        align-items: flex-end;\n        pointer-events: none;\n        touch-action: none;\n        & > div {\n            pointer-events: auto;\n        }\n    `}\n    >\n      <LeftTouchArea />\n      <div />\n      <RightTouchArea />\n    </div>\n  )\n}\n","import { useSnapshot } from 'valtio'\nimport { miscUiState } from '../globalState'\nimport Input from './Input'\n\nfunction InnerSearch () {\n  const { currentTouch } = useSnapshot(miscUiState)\n\n  return <div style={{\n    position: 'fixed',\n    top: 5,\n    left: 0,\n    right: 0,\n    margin: 'auto',\n    zIndex: 11,\n    width: 'min-content',\n    transform: 'scale(1.5)'\n  }}\n  >\n    <Input\n      autoFocus={currentTouch === false}\n      placeholder='Search...'\n      onChange={({ target: { value } }) => {\n        customEvents.emit('search', value)\n      }}\n    />\n  </div>\n}\n\n// todo remove component as its not possible to reuse this component atm\nexport default () => {\n  const { displaySearchInput } = useSnapshot(miscUiState)\n\n  return displaySearchInput ? <InnerSearch /> : null\n}\n","import { CSSProperties, PointerEvent, useEffect, useRef, useState } from 'react'\nimport { proxy, ref, useSnapshot } from 'valtio'\nimport activatableItemsMobile from 'mineflayer-mouse/dist/activatableItemsMobile'\nimport { contro } from '../controls'\nimport { options } from '../optionsStorage'\nimport PixelartIcon from './PixelartIcon'\nimport Button from './Button'\nimport Slider from './Slider'\n\nexport type ButtonName = 'action' | 'sneak' | 'break' | 'jump'\n\ntype ButtonsPositions = Record<ButtonName, [number, number]>\n\nconst getCurrentAppScaling = () => {\n  // body has css property --guiScale\n  const guiScale = getComputedStyle(document.body).getPropertyValue('--guiScale')\n  return parseFloat(guiScale)\n}\n\nexport const joystickPointer = proxy({\n  pointer: null as { x: number, y: number, pointerId: number } | null,\n  joystickInner: null as HTMLDivElement | null,\n})\n\nexport const handleMovementStickDelta = (e?: { clientX, clientY }) => {\n  const max = 32\n  let x = 0\n  let y = 0\n  if (e) {\n    const scale = getCurrentAppScaling()\n    x = e.clientX - joystickPointer.pointer!.x\n    y = e.clientY - joystickPointer.pointer!.y\n    x = Math.min(Math.max(x, -max), max) / scale\n    y = Math.min(Math.max(y, -max), max) / scale\n  }\n\n  joystickPointer.joystickInner!.style.transform = `translate(${x}px, ${y}px)`\n  const vector = {\n    x: x / max,\n    y: 0,\n    z: y / max,\n  }\n  void contro.emit('movementUpdate', {\n    vector,\n    soleVector: vector\n  })\n}\n\ntype Props = {\n  setupActive: boolean\n  closeButtonsSetup: (newPositions?: ButtonsPositions) => void\n  foregroundGameActive: boolean\n}\n\nconst Z_INDEX_INTERACTIBLE = 8\n\nexport default ({ setupActive, closeButtonsSetup, foregroundGameActive }: Props) => {\n  const bot = window.bot as typeof __type_bot | undefined\n  const { touchControlsPositions, touchMovementType, touchInteractionType, touchControlsSize } = useSnapshot(options)\n  const buttonsPositions = touchControlsPositions as ButtonsPositions\n  const [selectedButton, setSelectedButton] = useState<ButtonName | 'joystick' | null>(null)\n\n  const joystickOuter = useRef<HTMLDivElement>(null)\n  const joystickInner = useRef<HTMLDivElement>(null)\n\n  const { pointer } = useSnapshot(joystickPointer)\n  const newButtonPositions = { ...buttonsPositions }\n\n  const buttonProps = (name: ButtonName) => {\n    let active = {\n      action: false,\n      sneak: bot?.getControlState('sneak'),\n      break: false,\n      jump: bot?.getControlState('jump'),\n    }[name]\n    const RIGHT_MOUSE_BUTTON = 2\n    const LEFT_MOUSE_BUTTON = 0\n    const holdDown = {\n      action () {\n        if (!bot) return\n        document.dispatchEvent(new MouseEvent('mousedown', { button: RIGHT_MOUSE_BUTTON }))\n        bot.mouse.update()\n      },\n      sneak () {\n        void contro.emit('trigger', {\n          command: 'general.toggleSneakOrDown',\n          schema: null as any,\n        })\n        active = bot?.getControlState('sneak')\n      },\n      break () {\n        if (!bot) return\n        document.dispatchEvent(new MouseEvent('mousedown', { button: LEFT_MOUSE_BUTTON }))\n        bot.mouse.update()\n        active = true\n      },\n      jump () {\n        void contro.emit('trigger', {\n          command: 'general.jump',\n          schema: null as any,\n        })\n        active = bot?.controlState.jump\n      }\n    }\n    const holdUp = {\n      action () {\n        document.dispatchEvent(new MouseEvent('mouseup', { button: RIGHT_MOUSE_BUTTON }))\n      },\n      sneak () {\n        void contro.emit('release', {\n          command: 'general.toggleSneakOrDown',\n          schema: null as any,\n        })\n        active = bot?.getControlState('sneak')\n      },\n      break () {\n        if (!bot) return\n        document.dispatchEvent(new MouseEvent('mouseup', { button: LEFT_MOUSE_BUTTON }))\n        bot.mouse.update()\n        active = false\n      },\n      jump () {\n        void contro.emit('release', {\n          command: 'general.jump',\n          schema: null as any,\n        })\n        active = bot?.controlState.jump\n      }\n    }\n\n    type PType = PointerEvent<HTMLDivElement>\n    const pointerup = (e: PType) => {\n      const elem = e.currentTarget as HTMLElement\n      console.log(e.type, elem.hasPointerCapture(e.pointerId))\n      elem.releasePointerCapture(e.pointerId)\n      if (!setupActive) {\n        holdUp[name]()\n        pointerToggledUpdate(e)\n      }\n    }\n    const pointerToggledUpdate = (e) => {\n      e.currentTarget.style.background = active ? 'rgba(0, 0, 0, 0.8)' : 'rgba(0, 0, 0, 0.5)'\n    }\n    let setupPointer = null as { x, y } | null\n    return {\n      style: {\n        position: 'fixed',\n        left: `${buttonsPositions[name][0]}%`,\n        top: `${buttonsPositions[name][1]}%`,\n        borderRadius: '50%',\n        width: `${touchControlsSize[name]}px`,\n        height: `${touchControlsSize[name]}px`,\n        background: active ? 'rgba(0, 0, 0, 0.8)' : 'rgba(0, 0, 0, 0.5)',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        transition: 'background 0.1s',\n        zIndex: Z_INDEX_INTERACTIBLE,\n        ...(setupActive && selectedButton === name ? {\n          border: '2px solid white',\n        } : {}),\n      } satisfies CSSProperties,\n      onPointerDown (e: PType) {\n        const elem = e.currentTarget as HTMLElement\n        elem.setPointerCapture(e.pointerId)\n        if (setupActive) {\n          setSelectedButton(name)\n          setupPointer = { x: e.clientX, y: e.clientY }\n        } else {\n          holdDown[name]()\n          pointerToggledUpdate(e)\n        }\n      },\n      onPointerMove (e: PType) {\n        if (setupPointer) {\n          const elem = e.currentTarget as HTMLElement\n          const size = 32\n          const scale = getCurrentAppScaling()\n          const xPerc = (e.clientX - (size * scale) / 2) / window.innerWidth * 100\n          const yPerc = (e.clientY - (size * scale) / 2) / window.innerHeight * 100\n          elem.style.left = `${xPerc}%`\n          elem.style.top = `${yPerc}%`\n          newButtonPositions[name] = [xPerc, yPerc]\n        }\n      },\n      onPointerUp: pointerup,\n      // onPointerCancel: pointerup,\n      onLostPointerCapture: pointerup,\n    }\n  }\n\n  useEffect(() => {\n    joystickPointer.joystickInner = joystickInner.current && ref(joystickInner.current)\n    // todo antipattern\n  }, [foregroundGameActive])\n\n  if (!foregroundGameActive && !setupActive) return null\n\n  return <div>\n    {setupActive && (\n      <div style={{\n        position: 'fixed',\n        top: '0',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        zIndex: Z_INDEX_INTERACTIBLE + 1,\n      }}>\n        <Slider\n          label={selectedButton ? `Size: ${selectedButton}` : 'Change button size'}\n          value={selectedButton ? touchControlsSize[selectedButton] : 32}\n          min={15}\n          max={100}\n          disabledReason={selectedButton ? undefined : 'Select a button first'}\n          updateValue={(value) => {\n            if (selectedButton) {\n              options.touchControlsSize[selectedButton] = value\n            }\n          }}\n        />\n      </div>\n    )}\n    {touchMovementType === 'modern' && (\n      <div\n        className='movement_joystick_outer'\n        ref={joystickOuter}\n        style={{\n          display: pointer || setupActive ? 'flex' : 'none',\n          borderRadius: '50%',\n          width: touchControlsSize.joystick,\n          height: touchControlsSize.joystick,\n          border: '2px solid rgba(0, 0, 0, 0.5)',\n          backgroundColor: 'rgba(255, 255, 255, 0.5)',\n          position: 'fixed',\n          justifyContent: 'center',\n          alignItems: 'center',\n          translate: '-50% -50%',\n          ...(setupActive ? {\n            left: '20%',\n            top: '50%',\n            cursor: 'pointer',\n            ...(selectedButton === 'joystick' ? {\n              border: '2px solid white',\n            } : {}),\n          } : pointer ? {\n            left: `${pointer.x / window.innerWidth * 100}%`,\n            top: `${pointer.y / window.innerHeight * 100}%`\n          } : {}),\n        }}\n        onClick={() => {\n          if (setupActive) {\n            setSelectedButton('joystick')\n          }\n        }}\n      >\n        <div\n          className='movement_joystick_inner'\n          style={{\n            borderRadius: '50%',\n            width: touchControlsSize.joystick * 0.35,\n            height: touchControlsSize.joystick * 0.35,\n            backgroundColor: 'rgba(0, 0, 0, 0.5)',\n            position: 'absolute',\n          }}\n          ref={joystickInner}\n        />\n      </div>\n    )}\n    {touchMovementType === 'modern' && (\n      <>\n        <div {...buttonProps('sneak')}>\n          <PixelartIcon iconName='arrow-down' />\n        </div>\n        <div {...buttonProps('jump')}>\n          <PixelartIcon iconName='arrow-up' />\n        </div>\n      </>\n    )}\n    {touchInteractionType === 'buttons' && (\n      <>\n        <div {...buttonProps('action')}>\n          <PixelartIcon iconName='circle' />\n        </div>\n        <div {...buttonProps('break')}>\n          <MineIcon />\n        </div>\n      </>\n    )}\n    {setupActive && <div style={{\n      position: 'fixed',\n      bottom: 0,\n      display: 'flex',\n      justifyContent: 'center',\n      gap: 3\n    }}\n    >\n      <Button onClick={() => {\n        closeButtonsSetup()\n      }}\n      >Cancel\n      </Button>\n      <Button onClick={() => {\n        closeButtonsSetup(newButtonPositions)\n      }}\n      >Apply\n      </Button>\n    </div>}\n  </div>\n}\n\nconst MineIcon = () => {\n  return <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 26 26\" width={22} height={22}>\n    <path d=\"M 8 0 L 8 2 L 18 2 L 18 0 L 8 0 z M 18 2 L 18 4 L 20 4 L 20 6 L 22 6 L 22 8 L 24 8 L 24 2 L 22 2 L 18 2 z M 24 8 L 24 18 L 26 18 L 26 8 L 24 8 z M 24 18 L 22 18 L 22 20 L 24 20 L 24 18 z M 22 18 L 22 10 L 20 10 L 20 18 L 22 18 z M 20 10 L 20 8 L 18 8 L 18 10 L 20 10 z M 18 10 L 16 10 L 16 12 L 18 12 L 18 10 z M 16 12 L 14 12 L 14 14 L 16 14 L 16 12 z M 14 14 L 12 14 L 12 16 L 14 16 L 14 14 z M 12 16 L 10 16 L 10 18 L 12 18 L 12 16 z M 10 18 L 8 18 L 8 20 L 10 20 L 10 18 z M 8 20 L 6 20 L 6 22 L 8 22 L 8 20 z M 6 22 L 4 22 L 4 24 L 6 24 L 6 22 z M 4 24 L 2 24 L 2 22 L 0 22 L 0 24 L 0 26 L 2 26 L 4 26 L 4 24 z M 2 22 L 4 22 L 4 20 L 2 20 L 2 22 z M 4 20 L 6 20 L 6 18 L 4 18 L 4 20 z M 6 18 L 8 18 L 8 16 L 6 16 L 6 18 z M 8 16 L 10 16 L 10 14 L 8 14 L 8 16 z M 10 14 L 12 14 L 12 12 L 10 12 L 10 14 z M 12 12 L 14 12 L 14 10 L 12 10 L 12 12 z M 14 10 L 16 10 L 16 8 L 14 8 L 14 10 z M 16 8 L 18 8 L 18 6 L 16 6 L 16 8 z M 16 6 L 16 4 L 8 4 L 8 6 L 16 6 z M 8 4 L 8 2 L 6 2 L 6 4 L 8 4 z\" stroke='white' />\n  </svg>\n}\n","import { useSnapshot } from 'valtio'\nimport { activeModalStack, hideModal } from '../globalState'\nimport { options } from '../optionsStorage'\nimport TouchAreasControls from './TouchAreasControls'\nimport { useIsModalActive, useUsingTouch } from './utilsApp'\n\nexport default () => {\n  const usingTouch = useUsingTouch()\n  const hasModals = useSnapshot(activeModalStack).length !== 0\n  const setupActive = useIsModalActive('touch-buttons-setup')\n\n  return <TouchAreasControls\n    foregroundGameActive={!!bot && !!usingTouch && !hasModals}\n    setupActive={setupActive}\n    closeButtonsSetup={(newPositions) => {\n      if (newPositions) {\n        options.touchControlsPositions = newPositions\n      }\n      hideModal()\n    }}\n  />\n}\n","import { subscribe } from 'valtio'\nimport { miscUiState } from './globalState'\n\nlet toCleanup = [] as Array<() => void>\n\nexport const watchUnloadForCleanup = (func: () => void) => {\n  toCleanup.push(func)\n}\n\nsubscribe(miscUiState, () => {\n  if (!miscUiState.gameLoaded) {\n    for (const func of toCleanup) {\n      func()\n    }\n    toCleanup = []\n  }\n})\n","import { useEffect, useRef, useState } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { createPortal } from 'react-dom'\nimport { subscribe, useSnapshot } from 'valtio'\nimport { openItemsCanvas, upInventoryItems } from '../inventoryWindows'\nimport { activeModalStack, isGameActive, miscUiState } from '../globalState'\nimport { currentScaling } from '../scaleInterface'\nimport { watchUnloadForCleanup } from '../gameUnload'\nimport { getItemNameRaw } from '../mineflayer/items'\nimport { isInRealGameSession } from '../utils'\nimport { triggerCommand } from '../controls'\nimport MessageFormattedString from './MessageFormattedString'\nimport SharedHudVars from './SharedHudVars'\n\n\nconst ItemName = ({ itemKey }: { itemKey: string }) => {\n  const [show, setShow] = useState(false)\n  const [itemName, setItemName] = useState<Record<string, any> | string>('')\n\n  const duration = 0.3\n\n  const defaultStyle: React.CSSProperties = {\n    position: 'fixed',\n    bottom: `calc(env(safe-area-inset-bottom) + ${bot ? bot.game.gameMode === 'creative' ? '40px' : '50px' : '50px'})`,\n    left: 0,\n    right: 0,\n    fontSize: 10,\n    textAlign: 'center',\n    pointerEvents: 'none',\n  }\n\n  useEffect(() => {\n    const item = bot.heldItem\n    if (item) {\n      const customDisplay = getItemNameRaw(item, appViewer.resourcesManager)\n      if (customDisplay) {\n        setItemName(customDisplay)\n      } else {\n        setItemName(item.displayName)\n      }\n    } else {\n      setItemName('')\n    }\n    setShow(true)\n    const id = setTimeout(() => {\n      setShow(false)\n    }, 1500)\n    return () => {\n      setShow(false)\n      clearTimeout(id)\n    }\n  }, [itemKey])\n\n  return (\n    <AnimatePresence>\n      {show && (\n        <SharedHudVars>\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration }}\n            style={defaultStyle}\n            className='item-display-name'\n          >\n            <MessageFormattedString message={itemName} />\n          </motion.div>\n        </SharedHudVars>\n      )}\n    </AnimatePresence>\n  )\n}\n\nconst HotbarInner = () => {\n  const container = useRef<HTMLDivElement>(null!)\n  const [itemKey, setItemKey] = useState('')\n  const hasModals = useSnapshot(activeModalStack).length\n  const { currentTouch, appConfig } = useSnapshot(miscUiState)\n  const mobileOpenInventory = currentTouch && !appConfig?.disabledCommands?.includes('general.inventory')\n\n  useEffect(() => {\n    const controller = new AbortController()\n\n    const inv = openItemsCanvas('HotbarWin', {\n      _client: {\n        write () {}\n      },\n      clickWindow (slot, mouseButton, mode) {\n        if (mouseButton === 1) {\n          console.log('right click')\n          return\n        }\n        const hotbarSlot = slot - bot.inventory.hotbarStart\n        if (hotbarSlot < 0 || hotbarSlot > 8) return\n        bot.setQuickBarSlot(hotbarSlot)\n      },\n    } as any)\n    const { canvasManager } = inv\n    inv.inventory.supportsOffhand = !bot.supportFeature('doesntHaveOffHandSlot')\n    inv.pwindow.disablePicking = true\n\n    canvasManager.children[0].disableHighlight = true\n    canvasManager.minimizedWindow = true\n    canvasManager.minimizedWindow = true\n\n    function setSize () {\n      canvasManager.setScale(currentScaling.scale)\n\n      canvasManager.windowHeight = 25 * canvasManager.scale\n      canvasManager.windowWidth = (210 - (inv.inventory.supportsOffhand ? 0 : 25) + (mobileOpenInventory ? 28 : 0)) * canvasManager.scale\n    }\n    setSize()\n    watchUnloadForCleanup(subscribe(currentScaling, setSize))\n    inv.canvas.style.pointerEvents = 'auto'\n    container.current.appendChild(inv.canvas)\n    const upHotbarItems = () => {\n      if (!appViewer.resourcesManager?.itemsAtlasParser) return\n      globalThis.debugHotbarItems = upInventoryItems(true, inv)\n    }\n\n    canvasManager.canvas.onclick = (e) => {\n      if (!isGameActive(true)) return\n      const pos = inv.canvasManager.getMousePos(inv.canvas, e)\n      if (canvasManager.canvas.width - pos.x < 35 * inv.canvasManager.scale && mobileOpenInventory) {\n        triggerCommand('general.inventory', true)\n        triggerCommand('general.inventory', false)\n      }\n    }\n\n    globalThis.debugUpHotbarItems = upHotbarItems\n    upHotbarItems()\n    bot.inventory.on('updateSlot', upHotbarItems)\n    appViewer.resourcesManager.on('assetsTexturesUpdated', upHotbarItems)\n    appViewer.resourcesManager.on('assetsInventoryReady', () => {\n      upHotbarItems()\n    })\n\n    const setSelectedSlot = (index: number) => {\n      if (index === bot.quickBarSlot) return\n      bot.setQuickBarSlot(index)\n      if (!bot.inventory.slots?.[bot.quickBarSlot + 36]) setItemKey('')\n    }\n    const heldItemChanged = () => {\n      inv.inventory.activeHotbarSlot = bot.quickBarSlot\n\n      if (!bot.inventory.slots?.[bot.quickBarSlot + 36]) {\n        setItemKey('')\n        return\n      }\n      const item = bot.inventory.slots[bot.quickBarSlot + 36]!\n      const itemNbt = item.nbt ? JSON.stringify(item.nbt) : ''\n      setItemKey(`${item.name}_split_${item.type}_split_${item.metadata}_split_${itemNbt}_split_${JSON.stringify(item['components'] ?? [])}`)\n    }\n    heldItemChanged()\n    bot.on('heldItemChanged' as any, heldItemChanged)\n\n    document.addEventListener('wheel', (e) => {\n      if (!isInRealGameSession()) return\n      e.preventDefault()\n      const newSlot = ((bot.quickBarSlot + Math.sign(e.deltaY)) % 9 + 9) % 9\n      setSelectedSlot(newSlot)\n    }, {\n      passive: false,\n      signal: controller.signal\n    })\n\n    document.addEventListener('keydown', (e) => {\n      if (!isInRealGameSession()) return\n      const numPressed = +((/Digit(\\d)/.exec(e.code))?.[1] ?? -1)\n      if (numPressed < 1 || numPressed > 9) return\n      setSelectedSlot(numPressed - 1)\n    }, {\n      passive: false,\n      signal: controller.signal\n    })\n\n    let touchStart = 0\n    document.addEventListener('touchstart', (e) => {\n      if ((e.target as HTMLElement).closest('.hotbar')) {\n        touchStart = Date.now()\n      } else {\n        touchStart = 0\n      }\n    })\n    document.addEventListener('touchend', (e) => {\n      if (touchStart && (e.target as HTMLElement).closest('.hotbar') && Date.now() - touchStart > 700) {\n        triggerCommand('general.dropStack', true)\n        triggerCommand('general.dropStack', false)\n      }\n      touchStart = 0\n    })\n\n    return () => {\n      inv.destroy()\n      controller.abort()\n      appViewer.resourcesManager.off('assetsTexturesUpdated', upHotbarItems)\n    }\n  }, [])\n\n  return <SharedHudVars>\n    <ItemName itemKey={itemKey} />\n    <Portal>\n      <div\n        className='hotbar-fullscreen-container'\n        style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          width: '100dvw',\n          height: '100dvh',\n          zIndex: hasModals ? 1 : 8,\n          display: 'flex',\n          justifyContent: 'center',\n          pointerEvents: 'none',\n        }}>\n        <div\n          className='hotbar'\n          ref={container}\n          style={{\n            position: 'absolute',\n            pointerEvents: 'none',\n            bottom: 'var(--hud-bottom-raw)'\n          }}\n        />\n      </div>\n    </Portal>\n  </SharedHudVars>\n}\n\nexport default () => {\n  const [gameMode, setGameMode] = useState(bot.game?.gameMode ?? 'creative')\n  useEffect(() => {\n    bot.on('game', () => {\n      setGameMode(bot.game.gameMode)\n    })\n  }, [])\n\n  return gameMode === 'spectator' ? null : <HotbarInner />\n}\n\nconst Portal = ({ children, to = document.body }) => {\n  return createPortal(children, to)\n}\n","import { useEffect, useState } from 'react'\nimport './Crosshair.css'\nimport { proxy, useSnapshot } from 'valtio'\nimport SharedHudVars from './SharedHudVars'\n\n// todo move to mineflayer\nexport const itemBeingUsed = proxy({\n  name: null as string | null,\n  hand: 0 as 0 | 1\n})\n\nexport default () => {\n  const { name: usingItem, hand } = useSnapshot(itemBeingUsed)\n\n  const [displayIndicator, setDisplayIndicator] = useState(false)\n  const [indicatorProgress, setIndicatorProgress] = useState(0)\n  const [alternativeIndicator, setAlternativeIndicator] = useState(false)\n  const boxMaxTimeMs = 1000\n  // todo add sword indicator\n  const indicatorSize = 20\n\n  useEffect(() => {\n    bot.on('heldItemChanged' as any, () => {\n      const displayBar = (item: import('prismarine-item').Item | null) => {\n        const itemName = item?.name\n        if (!itemName) return\n        return loadedData.foodsArray.map((food) => food.name).includes(itemName) || itemName === 'bow' || itemName === 'shield' || itemName === 'crossbow'\n      }\n      setDisplayIndicator(displayBar(bot.heldItem) || displayBar(bot.inventory.slots[45]) || false)\n    })\n  }, [])\n\n  useEffect(() => {\n    setAlternativeIndicator(usingItem === 'shield')\n    if (!usingItem) return\n    const startTime = Date.now()\n    let maxTime = 0\n    if (usingItem === 'bow' || usingItem === 'crossbow') {\n      maxTime = 1000\n    }\n    const isFood = loadedData.foodsArray.some((food) => food.name === usingItem)\n    if (isFood) {\n      maxTime = 32 * 50\n    }\n    if (!maxTime) return\n\n    const id = setInterval(() => {\n      const progress = (Date.now() - startTime) / boxMaxTimeMs\n      if (progress >= 1) {\n        clearInterval(id)\n      } else {\n        setIndicatorProgress(progress)\n      }\n    }, 1000 / 60)\n    return () => {\n      setIndicatorProgress(0)\n      clearInterval(id)\n    }\n  }, [usingItem])\n\n  return <SharedHudVars>\n    <div className='crosshair' />\n    {displayIndicator && <div\n      className='crosshair-indicator' style={{\n      //@ts-expect-error\n        '--crosshair-indicator-size': `${indicatorSize}px`,\n        borderLeft: `solid ${indicatorSize * indicatorProgress}px white`,\n        backgroundColor: alternativeIndicator ? 'dodgerblue' : undefined,\n      }}\n    />}\n  </SharedHudVars>\n}\n","import { loadSound, playSound } from '../basicSounds'\nimport buttonClickMp3 from '../../assets/button_click.mp3'\nimport { ButtonProvider } from './Button'\n\nvoid loadSound('button_click.mp3', buttonClickMp3)\n\nexport default ({ children }) => {\n  return <ButtonProvider onClick={() => {\n    void playSound('button_click.mp3')\n  }}>{children}</ButtonProvider>\n}\n","globalThis.resolveDnsFallback = async (hostname: string) => {\n  const response = await fetchServerStatus(hostname)\n  return response?.raw.srv_record ?? undefined\n}\n\nexport const isServerValid = (ip: string) => {\n  const isInLocalNetwork = ip.startsWith('192.168.') ||\n    ip.startsWith('10.') ||\n    ip.startsWith('172.') ||\n    ip.startsWith('127.') ||\n    ip.startsWith('localhost') ||\n    ip.startsWith(':')\n  const VALID_IP_OR_DOMAIN = ip.includes('.')\n\n  return !isInLocalNetwork && VALID_IP_OR_DOMAIN\n}\n\nexport async function fetchServerStatus (ip: string, signal?: AbortSignal, versionOverride?: string) {\n  if (!isServerValid(ip)) return\n\n  const response = await fetch(`https://api.mcstatus.io/v2/status/java/${ip}`, { signal })\n  const data: ServerResponse = await response.json()\n  const versionClean = data.version?.name_raw.replace(/^[^\\d.]+/, '')\n\n  return {\n    formattedText: data.motd?.raw ?? '',\n    textNameRight: data.online ?\n      `${versionOverride ?? versionClean} ${data.players?.online ?? '??'}/${data.players?.max ?? '??'}` :\n      '',\n    icon: data.icon,\n    offline: !data.online,\n    raw: data\n  }\n}\n\nexport type ServerResponse = {\n  online: boolean\n  version?: {\n    name_raw: string\n  }\n  // display tooltip\n  players?: {\n    online: number\n    max: number\n    list: Array<{\n      name_raw: string\n      name_clean: string\n    }>\n  }\n  icon?: string\n  motd?: {\n    raw: string\n  }\n  // todo circle error icon\n  mods?: Array<{ name: string, version: string }>\n  // todo display via hammer icon\n  software?: string\n  plugins?: Array<{ name, version }>\n  // port?: number\n  srv_record?: {\n    host: string\n    port: number\n  }\n}\n","import { createContext, useContext, useEffect, useState } from 'react'\nimport { useMedia } from 'react-use'\n\nexport const ScaleContext = createContext<number>(1)\n\nexport const useScale = () => useContext(ScaleContext)\n\nexport const UIProvider = ({ children, scale = 1 }) => {\n  return (\n    <ScaleContext.Provider value={scale}>\n      {children}\n    </ScaleContext.Provider>\n  )\n}\n\n\nexport const usePassesScaledDimensions = (minWidth: number | null = null, minHeight: number | null = null) => {\n  const scale = useScale()\n  const conditions: string[] = []\n\n  if (minWidth !== null) {\n    conditions.push(`(min-width: ${minWidth * scale}px)`)\n  }\n  if (minHeight !== null) {\n    conditions.push(`(min-height: ${minHeight * scale}px)`)\n  }\n\n  const media = conditions.join(' and ') || 'all'\n  return useMedia(media)\n}\n","import React, { useEffect } from 'react'\nimport { appQueryParams } from '../appParams'\nimport { fetchServerStatus, isServerValid } from '../api/mcStatusApi'\nimport { parseServerAddress } from '../parseServerAddress'\nimport Screen from './Screen'\nimport Input, { INPUT_LABEL_WIDTH, InputWithLabel } from './Input'\nimport Button from './Button'\nimport SelectGameVersion from './SelectGameVersion'\nimport { usePassesScaledDimensions } from './UIProvider'\n\nexport interface BaseServerInfo {\n  ip: string\n  name?: string\n  versionOverride?: string\n  proxyOverride?: string\n  usernameOverride?: string\n  /** Username or always use new if true */\n  authenticatedAccountOverride?: string | true\n}\n\ninterface Props {\n  onBack: () => void\n  onConfirm: (info: BaseServerInfo) => void\n  title?: string\n  initialData?: BaseServerInfo\n  parseQs?: boolean\n  onQsConnect?: (server: BaseServerInfo) => void\n  placeholders?: Pick<BaseServerInfo, 'proxyOverride' | 'usernameOverride'>\n  accounts?: string[]\n  authenticatedAccounts?: number\n  versions?: string[]\n}\n\nexport default ({ onBack, onConfirm, title = 'Add a Server', initialData, parseQs, onQsConnect, placeholders, accounts, versions }: Props) => {\n  const isSmallHeight = !usePassesScaledDimensions(null, 350)\n  const qsParamName = parseQs ? appQueryParams.name : undefined\n  const qsParamIp = parseQs ? appQueryParams.ip : undefined\n  const qsParamVersion = parseQs ? appQueryParams.version : undefined\n  const qsParamProxy = parseQs ? appQueryParams.proxy : undefined\n  const qsParamUsername = parseQs ? appQueryParams.username : undefined\n  const qsParamLockConnect = parseQs ? appQueryParams.lockConnect : undefined\n\n  const parsedQsIp = parseServerAddress(qsParamIp)\n  const parsedInitialIp = parseServerAddress(initialData?.ip)\n\n  const [serverName, setServerName] = React.useState(initialData?.name ?? qsParamName ?? '')\n  const [serverIp, setServerIp] = React.useState(parsedQsIp.serverIpFull || parsedInitialIp.serverIpFull || '')\n  const [versionOverride, setVersionOverride] = React.useState(initialData?.versionOverride ?? /* legacy */ initialData?.['version'] ?? qsParamVersion ?? '')\n  const [proxyOverride, setProxyOverride] = React.useState(initialData?.proxyOverride ?? qsParamProxy ?? '')\n  const [usernameOverride, setUsernameOverride] = React.useState(initialData?.usernameOverride ?? qsParamUsername ?? '')\n  const lockConnect = qsParamLockConnect === 'true'\n\n  const smallWidth = !usePassesScaledDimensions(400)\n  const initialAccount = initialData?.authenticatedAccountOverride\n  const [accountIndex, setAccountIndex] = React.useState(initialAccount === true ? -2 : initialAccount ? (accounts?.includes(initialAccount) ? accounts.indexOf(initialAccount) : -2) : -1)\n\n  const freshAccount = accountIndex === -2\n  const noAccountSelected = accountIndex === -1\n  const authenticatedAccountOverride = noAccountSelected ? undefined : freshAccount ? true : accounts?.[accountIndex]\n\n  let ipFinal = serverIp\n  ipFinal = ipFinal.replace(/:$/, '')\n  const commonUseOptions: BaseServerInfo = {\n    name: serverName,\n    ip: ipFinal,\n    versionOverride: versionOverride || undefined,\n    proxyOverride: proxyOverride || undefined,\n    usernameOverride: usernameOverride || undefined,\n    authenticatedAccountOverride,\n  }\n\n  const [fetchedServerInfoIp, setFetchedServerInfoIp] = React.useState<string | undefined>(undefined)\n  const [serverOnline, setServerOnline] = React.useState(null as boolean | null)\n  const [onlinePlayersList, setOnlinePlayersList] = React.useState<string[]>([])\n\n  useEffect(() => {\n    const controller = new AbortController()\n\n    const checkServer = async () => {\n      if (!qsParamIp || !isServerValid(qsParamIp)) return\n\n      try {\n        const status = await fetchServerStatus(qsParamIp)\n        if (!status) return\n\n        setServerOnline(status.raw.online)\n        setOnlinePlayersList(status.raw.players?.list.map(p => p.name_raw) ?? [])\n        setFetchedServerInfoIp(qsParamIp)\n      } catch (err) {\n        console.error('Failed to fetch server status:', err)\n      }\n    }\n\n    void checkServer()\n    return () => controller.abort()\n  }, [qsParamIp])\n\n  const validateUsername = (username: string) => {\n    if (!username) return undefined\n    if (onlinePlayersList.includes(username)) {\n      return { border: 'red solid 1px' }\n    }\n    const MINECRAFT_USERNAME_REGEX = /^\\w{3,16}$/\n    if (!MINECRAFT_USERNAME_REGEX.test(username)) {\n      return { border: 'red solid 1px' }\n    }\n    return undefined\n  }\n\n  const validateServerIp = () => {\n    if (!serverIp) return undefined\n    if (serverOnline) {\n      return { border: 'lightgreen solid 1px' }\n    } else {\n      return { border: 'red solid 1px' }\n    }\n  }\n\n  const displayConnectButton = qsParamIp\n  const serverExamples = ['example.com:25565', 'play.hypixel.net', 'ws://play.pcm.gg']\n  // pick random example\n  const example = serverExamples[Math.floor(Math.random() * serverExamples.length)]\n\n  return <Screen title={qsParamIp ? 'Connect to Server' : title} backdrop>\n    <form\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%'\n      }}\n      onSubmit={(e) => {\n        e.preventDefault()\n        onConfirm(commonUseOptions)\n      }}\n    >\n      <div style={{\n        display: smallWidth ? 'flex' : 'grid',\n        gap: 3,\n        ...(smallWidth ? {\n          flexDirection: 'column',\n        } : {\n          gridTemplateColumns: '1fr 1fr'\n        })\n      }}\n      >\n        <InputWithLabel\n          required\n          label=\"Server IP\"\n          autoFocus={!lockConnect}\n          value={serverIp}\n          disabled={lockConnect && parsedQsIp.host !== null}\n          onChange={({ target: { value } }) => {\n            setServerIp(value)\n            setServerOnline(false)\n          }}\n          validateInput={serverOnline === null || fetchedServerInfoIp !== serverIp ? undefined : validateServerIp}\n          placeholder={example}\n        />\n        {!lockConnect && <>\n          <div style={{ display: 'flex' }}>\n            <InputWithLabel label=\"Server Name\" value={serverName} onChange={({ target: { value } }) => setServerName(value)} placeholder='Defaults to IP' />\n          </div>\n        </>}\n        {isSmallHeight ? <div style={{ gridColumn: 'span 2', marginTop: 10, }} /> : <div style={{ gridColumn: smallWidth ? '' : 'span 2' }}>Overrides:</div>}\n        <div style={{\n          display: 'flex',\n          flexDirection: 'column',\n        }}>\n          <label style={{ fontSize: 12, marginBottom: 1, color: 'lightgray' }}>Version Override</label>\n          <SelectGameVersion\n            selected={{ value: versionOverride, label: versionOverride }}\n            versions={versions?.map(v => { return { value: v, label: v } }) ?? []}\n            onChange={(value) => {\n              setVersionOverride(value)\n            }}\n            placeholder=\"Optional, but recommended to specify\"\n            disabled={lockConnect}\n          />\n        </div>\n\n        <InputWithLabel\n          label=\"Proxy Override\"\n          value={proxyOverride}\n          disabled={lockConnect && (qsParamProxy !== null || !!placeholders?.proxyOverride) || serverIp.startsWith('ws://') || serverIp.startsWith('wss://')}\n          onChange={({ target: { value } }) => setProxyOverride(value)}\n          placeholder={serverIp.startsWith('ws://') || serverIp.startsWith('wss://') ? 'Not needed for websocket servers' : placeholders?.proxyOverride}\n        />\n        <InputWithLabel\n          label=\"Username Override\"\n          value={usernameOverride}\n          disabled={!noAccountSelected || (lockConnect && qsParamUsername !== null)}\n          onChange={({ target: { value } }) => setUsernameOverride(value)}\n          placeholder={placeholders?.usernameOverride}\n          validateInput={!serverOnline || fetchedServerInfoIp !== serverIp ? undefined : validateUsername}\n        />\n        <label style={{\n          display: 'flex',\n          flexDirection: 'column',\n        }}\n        >\n          <span style={{ fontSize: 12, marginBottom: 1, color: 'lightgray' }}>Account Override</span>\n          <select\n            onChange={({ target: { value } }) => setAccountIndex(Number(value))}\n            style={{\n              background: 'gray',\n              color: 'white',\n              height: 20,\n              fontSize: 13,\n            }}\n            defaultValue={initialAccount === true ? -2 : initialAccount === undefined ? -1 : (fallbackIfNotFound((accounts ?? []).indexOf(initialAccount)) ?? -2)}\n            disabled={lockConnect && qsParamUsername !== null}\n          >\n            <option value={-1}>Offline Account (Username)</option>\n            {accounts?.map((account, i) => <option key={i} value={i}>{account} (Logged In)</option>)}\n            <option value={-2}>Any other MS account</option>\n          </select>\n        </label>\n\n        {!lockConnect && <>\n          <ButtonWrapper onClick={() => {\n            onBack()\n          }}>\n            Cancel\n          </ButtonWrapper>\n          <ButtonWrapper type='submit'>\n            {displayConnectButton ? translate('Save') : <strong>{translate('Save')}</strong>}\n          </ButtonWrapper>\n        </>}\n        {displayConnectButton && (\n          <div style={{\n            gridColumn: smallWidth ? '' : 'span 2',\n            display: 'flex',\n            justifyContent: 'center'\n          }}>\n            <ButtonWrapper\n              data-test-id='connect-qs'\n              onClick={() => {\n                onQsConnect?.(commonUseOptions)\n              }}\n            >\n              <strong>{translate('Connect')}</strong>\n            </ButtonWrapper>\n          </div>\n        )}\n      </div>\n    </form>\n  </Screen>\n}\n\nconst ButtonWrapper = ({ ...props }: React.ComponentProps<typeof Button>) => {\n  props.style ??= {}\n  props.style.width = INPUT_LABEL_WIDTH\n  return <Button {...props} />\n}\n\nconst fallbackIfNotFound = (index: number) => (index === -1 ? undefined : index)\n","import { useEffect, useMemo, useState } from 'react'\nimport { useUtilsEffect } from '@zardoy/react-util'\nimport { useSnapshot } from 'valtio'\nimport { supportedVersions } from 'minecraft-protocol'\nimport { versionToNumber } from 'mc-assets/dist/utils'\nimport { ConnectOptions } from '../connect'\nimport { activeModalStack, hideCurrentModal, miscUiState, notHideableModalsWithoutForce, showModal } from '../globalState'\nimport appSupportedVersions from '../supportedVersions.mjs'\nimport { appQueryParams } from '../appParams'\nimport { fetchServerStatus, isServerValid } from '../api/mcStatusApi'\nimport { getServerInfo } from '../mineflayer/mc-protocol'\nimport { parseServerAddress } from '../parseServerAddress'\nimport ServersList, { getCurrentProxy, getCurrentUsername } from './ServersList'\nimport AddServerOrConnect, { BaseServerInfo } from './AddServerOrConnect'\nimport { useDidUpdateEffect } from './utils'\nimport { useIsModalActive } from './utilsApp'\nimport { showOptionsModal } from './SelectOption'\nimport { useCopyKeybinding } from './simpleHooks'\nimport { AuthenticatedAccount, setNewServersList } from './serversStorage'\nimport { appStorage, StoreServerItem } from './appStorageProvider'\nimport Button from './Button'\nimport { pixelartIcons } from './PixelartIcon'\nimport { showNotification } from './NotificationProvider'\n\nconst firstProtocolVersion = versionToNumber(supportedVersions[0])\nconst lastProtocolVersion = versionToNumber(supportedVersions.at(-1)!)\nconst protocolSupportedVersions = appSupportedVersions.filter(v => versionToNumber(v) >= firstProtocolVersion && versionToNumber(v) <= lastProtocolVersion)\n\nconst EXPLICIT_SHARE_SERVER_MODE = false\n\nif (appQueryParams.lockConnect) {\n  notHideableModalsWithoutForce.add('editServer')\n}\n\ntype AdditionalDisplayData = {\n  textNameRightGrayed: string\n  formattedText: string\n  textNameRight: string\n  icon?: string\n  offline?: boolean\n}\n\n// todo move to base\nconst normalizeIp = (ip: string) => ip.replace(/https?:\\/\\//, '').replace(/\\/(:|$)/, '')\n\nconst FETCH_DELAY = 100 // ms between each request\nconst MAX_CONCURRENT_REQUESTS = 10\n\nconst Inner = ({ hidden, customServersList }: { hidden?: boolean, customServersList?: string[] }) => {\n  const [serverEditScreen, setServerEditScreen] = useState<StoreServerItem | true | null>(null) // true for add\n  const { authenticatedAccounts } = useSnapshot(appStorage)\n  const [quickConnectIp, setQuickConnectIp] = useState('')\n  const [selectedIndex, setSelectedIndex] = useState(0)\n  const [retriggerFocusCounter, setRetriggerFocusCounter] = useState(0)\n\n  useEffect(() => {\n    if (!hidden) {\n      setRetriggerFocusCounter(x => x + 1)\n    }\n  }, [hidden])\n\n  const _savedServersListWatchOnly = useSnapshot(appStorage).serversList\n\n  const serversListProvided = useMemo(() => {\n    return (\n      customServersList\n        ? customServersList.map((row): StoreServerItem => {\n          const [ip, name] = row.split(' ')\n          const [_ip, _port, version] = ip.split(':')\n          return {\n            ip,\n            versionOverride: version,\n            name,\n          }\n        })\n        : [...(appStorage.serversList?.filter(server => server) ?? [])]\n    )\n  }, [customServersList, _savedServersListWatchOnly])\n\n  const [additionalServerData, setAdditionalServerData] = useState<Record<string, AdditionalDisplayData>>({})\n\n  // Add keyboard handler for moving servers\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (['input', 'textarea', 'select'].includes((e.target as HTMLElement)?.tagName?.toLowerCase())) return\n      if (!e.shiftKey || selectedIndex === undefined) return\n      if (e.key !== 'ArrowUp' && e.key !== 'ArrowDown') return\n      if (customServersList) return\n      e.preventDefault()\n      e.stopImmediatePropagation()\n\n      const newIndex = e.key === 'ArrowUp'\n        ? Math.max(0, selectedIndex - 1)\n        : Math.min(serversListProvided.length - 1, selectedIndex + 1)\n\n      if (newIndex === selectedIndex) return\n      if (newIndex < 0 || newIndex >= serversListProvided.length) return\n\n      // Move server in the list\n      const newList = [...serversListProvided]\n      const oldItem = newList[selectedIndex]\n      const newItem = newList[newIndex]\n      if (oldItem.isRecommended || newItem.isRecommended) {\n        return\n      }\n\n      newList[selectedIndex] = newItem\n      newList[newIndex] = oldItem\n\n      appStorage.serversList = newList\n      setSelectedIndex(newIndex)\n    }\n\n    document.addEventListener('keydown', handleKeyDown)\n    return () => document.removeEventListener('keydown', handleKeyDown)\n  }, [selectedIndex, serversListProvided])\n\n  const serversListSorted: Array<StoreServerItem & { index: number }> = useMemo(() => [\n    ...serversListProvided,\n    ...(customServersList ? [] : (miscUiState.appConfig?.promoteServers ?? [])).map((server): StoreServerItem => ({\n      ip: server.ip,\n      versionOverride: server.version,\n      description: server.description,\n      isRecommended: true\n    }))\n  ].map((server, index) => ({ ...server, index })), [serversListProvided])\n  // by lastJoined\n  // const serversListSorted = useMemo(() => {\n  //   return serversList.map((server, index) => ({ ...server, index })).sort((a, b) => (b.lastJoined ?? 0) - (a.lastJoined ?? 0))\n  // }, [serversList])\n\n  const isEditScreenModal = useIsModalActive('editServer')\n\n  useUtilsEffect(({ signal }) => {\n    if (isEditScreenModal) return\n    const update = async () => {\n      const queue = serversListSorted\n        .map(server => {\n          if (!isServerValid(server.ip) || signal.aborted) return null\n\n          return server\n        })\n        .filter(x => x !== null)\n\n      const activeRequests = new Set<Promise<void>>()\n\n      let lastRequestStart = 0\n      for (const server of queue) {\n        // Wait if at concurrency limit\n        if (activeRequests.size >= MAX_CONCURRENT_REQUESTS) {\n          // eslint-disable-next-line no-await-in-loop\n          await Promise.race(activeRequests)\n        }\n\n        // Create and track new request\n        // eslint-disable-next-line @typescript-eslint/no-loop-func\n        const request = new Promise<void>(resolve => {\n          setTimeout(async () => {\n            try {\n              lastRequestStart = Date.now()\n              if (signal.aborted) return\n              const isWebSocket = server.ip.startsWith('ws://') || server.ip.startsWith('wss://')\n              let data\n              if (isWebSocket) {\n                try {\n                  const pingResult = await getServerInfo(server.ip, undefined, undefined, true)\n                  console.log('pingResult.fullInfo.description', pingResult.fullInfo.description)\n                  data = {\n                    formattedText: pingResult.fullInfo.description,\n                    textNameRight: `ws ${pingResult.latency}ms`,\n                    textNameRightGrayed: `${pingResult.fullInfo.players?.online ?? '??'}/${pingResult.fullInfo.players?.max ?? '??'}`,\n                    offline: false\n                  }\n                } catch (err) {\n                  data = {\n                    formattedText: 'Failed to connect',\n                    textNameRight: '',\n                    textNameRightGrayed: '',\n                    offline: true\n                  }\n                }\n              } else {\n                data = await fetchServerStatus(server.ip, /* signal */undefined, server.versionOverride) // DONT ADD SIGNAL IT WILL CRUSH JS RUNTIME\n              }\n              if (data) {\n                setAdditionalServerData(old => ({\n                  ...old,\n                  [server.ip]: data\n                }))\n              }\n            } catch (err) {\n              console.warn('Failed to fetch server status', err)\n            } finally {\n              activeRequests.delete(request)\n              resolve()\n            }\n          }, lastRequestStart ? Math.max(0, FETCH_DELAY - (Date.now() - lastRequestStart)) : 0)\n        })\n\n        activeRequests.add(request)\n      }\n\n      await Promise.all(activeRequests)\n    }\n\n    void update()\n  }, [serversListSorted, isEditScreenModal])\n\n  useDidUpdateEffect(() => {\n    if (serverEditScreen && !isEditScreenModal) {\n      showModal({ reactType: 'editServer' })\n    }\n    if (!serverEditScreen && isEditScreenModal) {\n      hideCurrentModal()\n    }\n  }, [serverEditScreen])\n\n  useDidUpdateEffect(() => {\n    if (!isEditScreenModal) {\n      setServerEditScreen(null)\n    }\n  }, [isEditScreenModal])\n\n  useCopyKeybinding(() => {\n    const item = serversListProvided[selectedIndex]\n    if (!item) return\n    let str = `${item.ip}`\n    if (item.versionOverride) {\n      str += `:${item.versionOverride}`\n    }\n    return str\n  })\n\n  const editModalJsx = isEditScreenModal ? <AddServerOrConnect\n    placeholders={{\n      proxyOverride: getCurrentProxy(),\n      usernameOverride: getCurrentUsername(),\n    }}\n    parseQs={!serverEditScreen}\n    onBack={() => {\n      hideCurrentModal()\n    }}\n    onConfirm={(info) => {\n      if (!serverEditScreen) return\n      if (serverEditScreen === true) {\n        const server: StoreServerItem = { ...info, lastJoined: Date.now() } // so it appears first\n        appStorage.serversList = [server, ...(appStorage.serversList ?? serversListProvided)]\n      } else {\n        const index = appStorage.serversList?.indexOf(serverEditScreen)\n        if (index !== undefined) {\n          const { lastJoined } = appStorage.serversList![index]\n          appStorage.serversList![index] = { ...info, lastJoined }\n        }\n      }\n      setServerEditScreen(null)\n    }}\n    accounts={authenticatedAccounts.map(a => a.username)}\n    initialData={!serverEditScreen || serverEditScreen === true ? {\n      ip: quickConnectIp\n    } : serverEditScreen}\n    onQsConnect={(info) => {\n      const connectOptions: ConnectOptions = {\n        username: info.usernameOverride || getCurrentUsername() || '',\n        server: normalizeIp(info.ip),\n        proxy: info.proxyOverride || getCurrentProxy(),\n        botVersion: info.versionOverride,\n        ignoreQs: true,\n      }\n      dispatchEvent(new CustomEvent('connect', { detail: connectOptions }))\n    }}\n    versions={protocolSupportedVersions}\n  /> : null\n\n  const serversListJsx = <ServersList\n    joinServer={(overridesOrIp, { shouldSave }) => {\n      let overrides: BaseServerInfo\n      if (typeof overridesOrIp === 'string') {\n        let msAuth = false\n        const parts = overridesOrIp.split(':')\n        if (parts.at(-1) === 'ms') {\n          msAuth = true\n          parts.pop()\n        }\n        const parsed = parseServerAddress(parts.join(':'))\n        overrides = {\n          ip: parsed.serverIpFull,\n          versionOverride: parsed.version,\n          authenticatedAccountOverride: msAuth ? true : undefined, // todo popup selector\n        }\n      } else {\n        overrides = overridesOrIp\n      }\n\n      const indexOrIp = overrides.ip\n      let ip = indexOrIp\n      let server: StoreServerItem | undefined\n      if (shouldSave === undefined) {\n        // hack: inner component doesn't know of overrides for existing servers\n        server = serversListSorted.find(s => s.index.toString() === indexOrIp)!\n        ip = server.ip\n        overrides = server\n      }\n\n      const lastJoinedUsername = serversListProvided.find(s => s.usernameOverride)?.usernameOverride\n      let username = overrides.usernameOverride || getCurrentUsername() || ''\n      if (!username) {\n        const promptUsername = prompt('Enter username', lastJoinedUsername || '')\n        if (!promptUsername) return\n        username = promptUsername\n      }\n      let authenticatedAccount: AuthenticatedAccount | true | undefined\n      if (overrides.authenticatedAccountOverride) {\n        if (overrides.authenticatedAccountOverride === true) {\n          authenticatedAccount = true\n        } else {\n          authenticatedAccount = authenticatedAccounts.find(a => a.username === overrides.authenticatedAccountOverride) ?? true\n        }\n      }\n      const options = {\n        username,\n        server: normalizeIp(ip),\n        proxy: overrides.proxyOverride || getCurrentProxy(),\n        botVersion: overrides.versionOverride ?? /* legacy */ overrides['version'],\n        ignoreQs: true,\n        authenticatedAccount,\n        saveServerToHistory: shouldSave,\n        onSuccessfulPlay () {\n          if (shouldSave !== false && !serversListProvided.some(s => s.ip === ip)) {\n            const newServersList: StoreServerItem[] = [\n              {\n                ip,\n                lastJoined: Date.now(),\n                versionOverride: overrides.versionOverride,\n                numConnects: 1\n              },\n              ...serversListProvided\n            ]\n            setNewServersList(newServersList)\n            miscUiState.loadedServerIndex = (newServersList.length - 1).toString()\n          }\n\n          if (shouldSave === undefined) { // loading saved\n            // find and update\n            const server = serversListProvided.find(s => s.ip === ip)\n            if (server) {\n              // move to top\n              const newList = [...serversListProvided]\n              const index = newList.indexOf(server)\n              const thisItem = newList[index]\n              newList.splice(index, 1)\n              newList.unshift(thisItem)\n\n              server.lastJoined = Date.now()\n              server.numConnects = (server.numConnects || 0) + 1\n              setNewServersList(newList)\n            }\n          }\n        },\n        serverIndex: shouldSave ? serversListProvided.length.toString() : indexOrIp // assume last\n      } satisfies ConnectOptions\n      dispatchEvent(new CustomEvent('connect', { detail: options }))\n      // qsOptions\n    }}\n    lockedEditing={!!customServersList}\n    setQuickConnectIp={setQuickConnectIp}\n    onProfileClick={async () => {\n      const username = await showOptionsModal('Select authenticated account to remove', authenticatedAccounts.map(a => a.username))\n      if (!username) return\n      appStorage.authenticatedAccounts = authenticatedAccounts.filter(a => a.username !== username)\n    }}\n    onWorldAction={(action, index) => {\n      const server = serversListProvided[index]\n      if (!server) return\n\n      if (action === 'edit') {\n        setServerEditScreen(server)\n      }\n      if (action === 'delete') {\n        appStorage.serversList = appStorage.serversList!.filter(s => s !== server)\n      }\n    }}\n    onGeneralAction={(action) => {\n      if (action === 'create') {\n        setServerEditScreen(true)\n      }\n      if (action === 'cancel') {\n        hideCurrentModal()\n      }\n    }}\n    worldData={serversListSorted.map(server => {\n      const additional = additionalServerData[server.ip]\n      const handleShare = async () => {\n        try {\n          const qs = new URLSearchParams()\n          qs.set('ip', server.ip)\n          if (server.proxyOverride) qs.set('proxy', server.proxyOverride)\n          if (server.versionOverride) qs.set('version', server.versionOverride)\n          qs.set('username', server.usernameOverride ?? '')\n          const shareUrl = `${window.location.origin}${window.location.pathname}?${qs.toString()}`\n          await navigator.clipboard.writeText(shareUrl)\n          const MESSAGE = 'Server link copied to clipboard'\n          if (EXPLICIT_SHARE_SERVER_MODE) {\n            await showOptionsModal(MESSAGE, [])\n          } else {\n            showNotification(MESSAGE)\n          }\n        } catch (err) {\n          console.error(err)\n          showNotification('Failed to copy server link to clipboard')\n        }\n      }\n\n      return {\n        name: server.index.toString(),\n        title: server.name || server.ip,\n        detail: (server.versionOverride ?? '') + ' ' + (server.usernameOverride ?? ''),\n        formattedTextOverride: additional?.formattedText,\n        worldNameRight: additional?.textNameRight ?? '',\n        worldNameRightGrayed: additional?.textNameRightGrayed ?? '',\n        iconSrc: additional?.icon,\n        offline: additional?.offline,\n        afterTitleUi: (\n          <Button\n            tabIndex={-1}\n            icon=\"external-link\"\n            style={{ marginRight: 8, width: 20, height: 20 }}\n            onClick={(e) => {\n              e.stopPropagation()\n              void handleShare()\n            }}\n          />\n        ),\n        group: customServersList ? 'Provided Servers' : (server.isRecommended ? ' Recommended Servers' : ' Saved Servers')\n      }\n    })}\n    hidden={hidden}\n    onRowSelect={(serverIndex) => {\n      setSelectedIndex(Number(serverIndex))\n    }}\n    selectedRow={selectedIndex}\n    retriggerFocusCounter={retriggerFocusCounter}\n  />\n  return <>\n    {serversListJsx}\n    {editModalJsx}\n  </>\n}\n\nexport default () => {\n  const serversListQs = appQueryParams.serversList\n  const [customServersList, setCustomServersList] = useState<string[] | undefined>(serversListQs ? [] : undefined)\n\n  useEffect(() => {\n    if (serversListQs) {\n      if (serversListQs.startsWith('http')) {\n        void fetch(serversListQs).then(async r => r.text()).then((text) => {\n          const isJson = serversListQs.endsWith('.json') ? true : serversListQs.endsWith('.txt') ? false : text.startsWith('[')\n          setCustomServersList(isJson ? JSON.parse(text) : text.split('\\n').map(x => x.trim()).filter(x => x.trim().length > 0))\n        }).catch((err) => {\n          console.error(err)\n          alert(`Failed to get servers list file: ${err}`)\n        })\n      } else {\n        setCustomServersList(serversListQs.split(','))\n      }\n    }\n  }, [serversListQs])\n\n  const modalStack = useSnapshot(activeModalStack)\n  const hasServersListModal = modalStack.some(x => x.reactType === 'serversList')\n  const editServerModalActive = useIsModalActive('editServer')\n  const generalSelectActive = useIsModalActive('general-select')\n  // const isServersListModalActive = useIsModalActive('serversList') || (modalStack.some(x => x.reactType === 'serversList') && generalSelectActive)\n  const isServersListModalActive = useIsModalActive('serversList')\n\n  const eitherModal = isServersListModalActive || editServerModalActive\n  const render = eitherModal || hasServersListModal\n  return render ? <Inner hidden={!isServersListModalActive} customServersList={customServersList} /> : null\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"container\":\"container-dRiZZT\",\"group\":\"group-haorh2\",\"group-category\":\"group-category-HNSIFU\",\"groupCategory\":\"group-category-HNSIFU\",\"actionBinds\":\"actionBinds-MbRkMv\",\"warning-container\":\"warning-container-mgiK4D\",\"warningContainer\":\"warning-container-mgiK4D\",\"actionName\":\"actionName-uFJWW2\",\"undo-keyboard\":\"undo-keyboard-fjpyGp\",\"undoKeyboard\":\"undo-keyboard-fjpyGp\",\"undo-gamepad\":\"undo-gamepad-ZNUg28\",\"undoGamepad\":\"undo-gamepad-ZNUg28\",\"button\":\"button-AF2rj4\",\"margin-left\":\"margin-left-ugrmlI\",\"marginLeft\":\"margin-left-ugrmlI\",\"matched-bind\":\"matched-bind-GFWOr1\",\"matchedBind\":\"matched-bind-GFWOr1\",\"matched-bind-warning\":\"matched-bind-warning-WdXyU1\",\"matchedBindWarning\":\"matched-bind-warning-WdXyU1\",\"chat-command\":\"chat-command-onMok2\",\"chatCommand\":\"chat-command-onMok2\"};","import { useEffect, useState, useContext } from 'react'\nimport { customCommandsConfig } from '../customCommands'\nimport { ButtonWithMatchesAlert, Context } from './KeybindingsScreen'\nimport Button from './Button'\nimport styles from './KeybindingsScreen.module.css'\nimport Input from './Input'\n\n\nexport type CustomCommand = {\n  keys: undefined | string[]\n  gamepad: undefined | string[]\n  type: string\n  inputs: any[]\n}\n\nexport type CustomCommandsMap = Record<string, CustomCommand>\n\nexport default ({\n  customCommands,\n  updateCurrBind,\n  resetBinding,\n}: {\n  customCommands: CustomCommandsMap,\n  updateCurrBind: (group: string, action: string) => void,\n  resetBinding: (group: string, action: string, inputType: string) => void,\n}) => {\n  const { userConfig, setUserConfig } = useContext(Context)\n  const [customConfig, setCustomConfig] = useState<any>({ ...customCommands })\n\n  useEffect(() => {\n    setUserConfig({ ...userConfig, custom: { ...customConfig } })\n  }, [customConfig])\n\n  const addNewCommand = (type: string) => {\n    // max key + 1\n    const newKey = String(Math.max(...Object.keys(customConfig).map(Number).filter(key => !isNaN(key)), 0) + 1)\n    setCustomConfig(prev => {\n      const newCustomConf = { ...prev }\n      newCustomConf[newKey] = {\n        keys: undefined as string[] | undefined,\n        gamepad: undefined as string[] | undefined,\n        type,\n        inputs: [] as any[]\n      }\n      return newCustomConf\n    })\n  }\n\n  return <>\n    <div className={styles.group}>\n      {Object.entries(customCommandsConfig).map(([group, { input }]) => (\n        <div key={`group-container-${group}`} className={styles.group}>\n          <div key={`category-${group}`} className={styles['group-category']}>{group}</div>\n          {Object.entries(customConfig).filter(([key, data]) => data.type === group).map((commandData, indexOption) => {\n            return <CustomCommandContainer\n              key={indexOption}\n              indexOption={indexOption}\n              commandData={commandData}\n              updateCurrBind={updateCurrBind}\n              groupData={[group, { input }]}\n              setCustomConfig={setCustomConfig}\n              resetBinding={resetBinding}\n            />\n          })}\n          <Button\n            onClick={() => addNewCommand(group)}\n            icon=\"pixelarticons:add-box\"\n            style={{\n              alignSelf: 'center'\n            }}\n          />\n        </div>\n      ))}\n    </div>\n  </>\n}\n\nconst CustomCommandContainer = ({\n  indexOption,\n  commandData,\n  updateCurrBind,\n  setCustomConfig,\n  resetBinding,\n  groupData\n}) => {\n  const { userConfig } = useContext(Context)\n\n  const [commandKey, { keys, gamepad, inputs }] = commandData\n  const [group, { input }] = groupData\n\n  const setInputValue = (optionKey, indexInput, value) => {\n    setCustomConfig(prev => {\n      const newConfig = { ...prev }\n      newConfig[optionKey].inputs = [...prev[optionKey].inputs]\n      newConfig[optionKey].inputs[indexInput] = value\n      return newConfig\n    })\n  }\n\n  return <div style={{ padding: '10px' }}>\n    {input.map((obj, indexInput) => {\n      const config = typeof obj === 'function' ? obj(inputs) : obj\n      if (!config) return null\n\n      return config.type === 'select'\n        ? <select\n          key={indexInput} onChange={(e) => {\n            setInputValue(commandKey, indexInput, e.target.value)\n          }}\n        >{config.options.map((option) => <option key={option} value={option}>{option}</option>)}\n        </select>\n        : <Input key={indexInput} rootStyles={{ width: '99%' }} placeholder={config.placeholder} value={inputs[indexInput] ?? ''} onChange={(e) => setInputValue(commandKey, indexInput, e.target.value)} />\n    })}\n    <div className={styles.actionBinds}>\n      {\n        userConfig?.['custom']?.[commandKey]?.keys ? <Button\n          onClick={() => {\n            updateCurrBind(group, commandKey)\n            resetBinding('custom', commandKey, 'keyboard')\n          }}\n          className={styles['undo-keyboard']}\n          icon=\"pixelarticons:undo\"\n        />\n          : null\n      }\n\n      {[0, 1].map((key, index) => <ButtonWithMatchesAlert\n        key={`custom-keyboard-${group}-${commandKey}-${index}`}\n        group=\"custom\"\n        action={commandKey}\n        index={index}\n        inputType=\"keyboard\"\n        keys={keys}\n        gamepad={gamepad}\n      />)}\n\n      <div style={{ marginRight: 'auto' }} />\n\n      {\n        userConfig?.['custom']?.[commandKey]?.gamepad ? <Button\n          onClick={() => {\n            updateCurrBind(group, commandKey)\n            resetBinding('custom', commandKey, 'gamepad')\n          }}\n          className={styles['undo-keyboard']}\n          icon=\"pixelarticons:undo\"\n        />\n          : null\n      }\n      <ButtonWithMatchesAlert\n        group=\"custom\"\n        action={commandKey}\n        index={0}\n        inputType=\"gamepad\"\n        keys={keys}\n        gamepad={gamepad}\n      />\n      <Button\n        onClick={() => {\n          setCustomConfig(prev => {\n            const { [commandKey]: commandToRemove, ...newConfig } = prev\n            return newConfig\n          })\n        }}\n        style={{ color: 'red' }}\n        icon=\"pixelarticons:delete\"\n      />\n    </div>\n  </div>\n}\n","export async function parseBindingName (binding: string) {\n  if (!binding) return ''\n\n  const { keyboard } = (typeof navigator === 'undefined' ? undefined : navigator) ?? {}\n  const layoutMap = await keyboard?.getLayoutMap?.() ?? new Map<string, string>()\n\n  const mapKey = (key: string) => layoutMap.get(key) || key\n\n  const cut = binding.replaceAll(/(Digit|Key)/g, '')\n  const parts = cut.includes('+') ? cut.split('+') : [cut]\n\n  for (let i = 0; i < parts.length; i++) {\n    parts[i] = mapKey(parts[i]).split(/(?<=[a-z])(?=\\d)/).join(' ').split(/(?=[A-Z])/).reverse().join(' ')\n  }\n\n  return parts.join(' + ')\n}\n","import { AllKeyCodes } from 'contro-max'\nimport { useState, useEffect } from 'react'\nimport triangle from './ps_icons/playstation_triangle_console_controller_gamepad_icon.svg'\nimport square from './ps_icons/playstation_square_console_controller_gamepad_icon.svg'\nimport circle from './ps_icons/circle_playstation_console_controller_gamepad_icon.svg'\nimport cross from './ps_icons/cross_playstation_console_controller_gamepad_icon.svg'\nimport { parseBindingName } from './parseKeybindingName'\n\n\ntype Props = {\n  type: 'keyboard' | 'gamepad',\n  val: AllKeyCodes,\n  isPS?: boolean\n}\n\nexport default ({ type, val, isPS }: Props) => {\n  const [bindName, setBindName] = useState('')\n\n  async function setBind () {\n    setBindName(val)\n    const bind = type === 'keyboard' ? await parseBindingName(val) : isPS && buttonsMap[val] ? buttonsMap[val] : val\n    setBindName(bind)\n  }\n\n  useEffect(() => {\n    void setBind()\n  }, [type, val, isPS])\n\n  return <>\n    {bindName}\n  </>\n}\n\nconst buttonsMap = {\n  'A': cross,\n  'B': circle,\n  'X': square,\n  'Y': triangle\n}\n","import { createContext, useState } from 'react'\nimport { contro, updateBinds } from '../controls'\nimport KeybindingsScreen from './KeybindingsScreen'\nimport { useIsModalActive } from './utilsApp'\n\nconst bindingActions = {\n  updateBinds\n}\n\nexport const BindingActionsContext = createContext(bindingActions)\n\nexport default () => {\n  const [bindActions, setBindActions] = useState(bindingActions)\n  const isModalActive = useIsModalActive('keybindings')\n\n  if (!isModalActive) return null\n\n  const hasPsGamepad = [...(navigator.getGamepads?.() ?? [])].some(gp => gp?.id.match(/playstation|dualsense|dualshock/i)) // todo: use last used gamepad detection\n  return <BindingActionsContext.Provider value={bindActions}>\n    <KeybindingsScreen isPS={hasPsGamepad} contro={contro} />\n  </BindingActionsContext.Provider>\n}\n","import { useEffect, useState } from 'react'\n\nexport default () => {\n  const [dataUrl, setDataUrl] = useState<string | null | true>(null) // true means loading\n\n  useEffect(() => {\n    // TODO delete maps!\n    const updateHeldMap = () => {\n      setDataUrl(null)\n      const item = bot.heldItem\n      if (!item || !['filled_map', 'map'].includes(item.name)) return\n      // setDataUrl(true)\n      const mapNumber = ((item?.nbt?.value as any)?.map?.value) ?? (item['components']?.find(x => x.type === 'map_id')?.data)\n      // if (!mapNumber) return\n      setDataUrl(bot.mapDownloader.maps?.[mapNumber] as unknown as string)\n    }\n\n    bot.on('heldItemChanged' as any, () => {\n      updateHeldMap()\n    })\n\n    bot.on('new_map', ({ id }) => {\n      // total maps: Object.keys(bot.mapDownloader.maps).length\n      updateHeldMap()\n    })\n\n    updateHeldMap()\n  }, [])\n\n  return dataUrl && dataUrl !== true ? <div style={{\n    position: 'fixed',\n    bottom: 20,\n    left: 8,\n    pointerEvents: 'none',\n  }}\n  >\n    <img\n      src={dataUrl} style={{\n        width: 92,\n        height: 92,\n        imageRendering: 'pixelated',\n      }}\n    />\n  </div> : null\n}\n","import { hideCurrentModal } from '../globalState'\nimport Button from './Button'\nimport { useIsModalActive } from './utilsApp'\n\nexport default () => {\n  const isModalActive = useIsModalActive('bed')\n\n  if (!isModalActive) return null\n\n  return <div style={{\n    position: 'fixed',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    display: 'flex',\n    justifyContent: 'center',\n  }}\n  >\n    <Button onClick={() => {\n      void bot.wake()\n      hideCurrentModal()\n    }}>Cancel</Button>\n  </div>\n}\n","import { proxy, subscribe, useSnapshot } from 'valtio'\nimport { activeModalStack, hideCurrentModal } from '../globalState'\nimport Screen from './Screen'\nimport Button from './Button'\nimport { hardcodedKnownModals, watchedModalsFromHooks } from './utilsApp'\n\nconst componentActive = proxy({\n  enabled: false\n})\n\nconst checkModalAvailability = () => {\n  const last = activeModalStack.at(-1)\n  let withWildCardModal = false\n  for (const modal of watchedModalsFromHooks.value) {\n    if (modal.endsWith('*') && last?.reactType.startsWith(modal.slice(0, -1))) {\n      withWildCardModal = true\n      break\n    }\n  }\n\n  componentActive.enabled = !!last && !hardcodedKnownModals.some(x => last.reactType.startsWith(x)) && !watchedModalsFromHooks.value.includes(last.reactType) && !withWildCardModal\n}\n\nsubscribe(activeModalStack, () => {\n  checkModalAvailability()\n})\nsubscribe(watchedModalsFromHooks, () => {\n  checkModalAvailability()\n})\n\nexport default () => {\n  const { enabled } = useSnapshot(componentActive)\n  const lastModal = useSnapshot(activeModalStack).at(-1)?.reactType\n\n  if (!enabled || watchedModalsFromHooks.value.includes(lastModal!)) return null\n  return <Screen\n    title={`Error: Modal (route) ${lastModal} is is unavailable or doesn't exist`}\n    style={{\n      zIndex: -1,\n    }}\n    backdrop={false}\n  >\n    <Button\n      style={{ marginTop: 30 }} onClick={() => {\n        hideCurrentModal()\n      }}\n    >Back\n    </Button>\n  </Screen>\n}\n","import { useState } from 'react'\nimport { useUtilsEffect } from '@zardoy/react-util'\nimport { QRCodeSVG } from 'qrcode.react'\nimport PixelartIcon, { pixelartIcons } from './PixelartIcon'\nimport Screen from './Screen'\nimport Button from './Button'\n\nexport default ({\n  code = 'ABCD-EFGH-IJKL-MNOP',\n  loginLink = 'https://aka.ms/devicelogin',\n  connectingServer = 'mc.example.comsdlfjsklfjsfjdskfjsj',\n  expiresEnd = Date.now() + 1000 * 60 * 5,\n  setSaveToken = (() => { }) as ((state: boolean) => void) | undefined,\n  defaultSaveToken = true,\n  onCancel = () => { },\n  directLink = 'https://aka.ms/devicelogin'\n}) => {\n  if (connectingServer.length > 30) connectingServer = connectingServer.slice(0, 30) + '...'\n  const [timeLeft, setTimeLeft] = useState(``)\n\n  useUtilsEffect(({ interval }) => {\n    interval(1000, () => {\n      const timeLeft = Math.max(0, Math.ceil((expiresEnd - Date.now()) / 1000))\n      const minutes = Math.floor(timeLeft / 60)\n      const seconds = timeLeft % 60\n      setTimeLeft(`${minutes}:${seconds.toString().padStart(2, '0')}`)\n      if (timeLeft <= 0) setTimeLeft('Code expired!')\n    })\n  }, [])\n\n  return <Screen title='Microsoft Account Authentication' titleMarginTop={5}>\n    <div style={{\n      background: 'white',\n      padding: '20px 18px',\n      width: 300,\n      maxHeight: 240,\n      color: 'black',\n      // borderRadius: 8,\n    }}\n    >\n      <div style={{\n        // fontFamily: 'monospace',\n        fontSize: 18,\n        padding: '5px 10px',\n        paddingBottom: 1,\n        backgroundColor: 'lightgray',\n        textAlign: 'center',\n        marginTop: -5,\n        userSelect: 'all',\n      }}\n      >{code}\n      </div>\n      <div style={{\n        display: 'flex',\n        justifyContent: 'center',\n        fontSize: 12,\n      }}\n      >\n        Waiting... <PixelartIcon iconName='clock' /> {timeLeft}\n      </div>\n      <div style={{\n        fontSize: 12,\n        marginTop: 10,\n      }}\n      >\n        To join a Minecraft server {connectingServer} using your Microsoft account, you need to visit{' '}\n        <a\n          href={directLink}\n          style={{\n            color: 'black',\n            textDecoration: 'underline',\n            fontWeight: 600,\n          }}\n          target='_blank'\n        >Direct Link\n        </a>\n        {' '} or {' '}\n        <a\n          href={loginLink}\n          style={{\n            color: 'black',\n            textDecoration: 'underline',\n            fontWeight: 600,\n          }}\n          target='_blank'\n        >{loginLink.replace(/(https?:\\/\\/)?(www\\.)?/, '')}\n        </a>\n        {' '}\n        and enter the code above.\n      </div>\n      <div style={{\n        fontSize: 11,\n        marginTop: 5,\n        color: 'gray',\n        display: 'flex',\n        gap: 2\n      }}\n      >\n        <div>\n          <PixelartIcon iconName={pixelartIcons.alert} styles={{ display: 'inline-block', }} />\n          Join only <b>vanilla servers</b>! This client is detectable and may result in a ban by anti-cheat plugins.\n        </div>\n        <QRCodeSVG size={40} value={directLink} style={{ display: 'block', flexShrink: 0 }} color='gray' />\n      </div>\n      {setSaveToken && <label style={{\n        fontSize: 12,\n        display: 'flex',\n        alignItems: 'center',\n        gap: 5,\n        marginTop: 4,\n      }}\n      >\n        <input type='checkbox' defaultChecked={defaultSaveToken} onChange={e => setSaveToken(e.target.checked)} />{' '}\n        Save account token in this browser\n      </label>}\n    </div>\n    <Button\n      style={{\n        marginTop: -5,\n      }}\n      onClick={onCancel}\n    >Cancel\n    </Button>\n  </Screen>\n}\n","import { proxy, ref, useSnapshot } from 'valtio'\nimport SignInMessage from './SignInMessage'\nimport { lastConnectOptions } from './AppStatusProvider'\nimport { useIsModalActive } from './utilsApp'\n\nexport const signInMessageState = proxy({\n  code: '',\n  link: '',\n  expiresOn: 0,\n  shouldSaveToken: true,\n  abortController: ref(new AbortController()),\n})\n\nexport default () => {\n  const { code, expiresOn, link, shouldSaveToken } = useSnapshot(signInMessageState)\n  const signInTestModal = useIsModalActive('sign-in-test')\n\n  if (!code && !signInTestModal) return null\n\n  return <SignInMessage\n    code={code}\n    expiresEnd={expiresOn}\n    loginLink={link}\n    defaultSaveToken={shouldSaveToken}\n    setSaveToken={(state) => {\n      signInMessageState.shouldSaveToken = state\n    }}\n    connectingServer={lastConnectOptions.value?.server ?? ''}\n    onCancel={() => {\n      signInMessageState.abortController.abort()\n    }}\n    directLink={`http://microsoft.com/link?otc=${code}`}\n  />\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"bookWrapper\":\"bookWrapper-TEaT2a\",\"bookContainer\":\"bookContainer-ozXOuS\",\"bookImages\":\"bookImages-QIgUqp\",\"outSide\":\"outSide-tdPk6N\",\"titleIcon\":\"titleIcon-FuigMg\",\"titleContent\":\"titleContent-HOFf9S\",\"insideIcon\":\"insideIcon-mvWhHG\",\"insideHalfIcon\":\"insideHalfIcon-oGVWWK\",\"inside\":\"inside-PZ2fCX\",\"uneditable\":\"uneditable-IHhvqQ\",\"page\":\"page-1nUQUw\",\"messageFormattedString\":\"messageFormattedString-MAym7w\",\"textArea\":\"textArea-CTZEzD\",\"blink\":\"blink-k8j9re\",\"controlPrev\":\"controlPrev-lG4k_N\",\"controlNext\":\"controlNext-KXyao4\",\"actions\":\"actions-Puvqtl\",\"pageAnimation\":\"pageAnimation-A9GdFI\",\"titleAnimation\":\"titleAnimation-DE4b6h\",\"titleContentAnimation\":\"titleContentAnimation-VkNFpG\",\"insideAnimation\":\"insideAnimation-ztZegY\",\"pageTextAnimation\":\"pageTextAnimation-FFgFRV\",\"pageSecondTextAnimation\":\"pageSecondTextAnimation-II5__1\",\"hidden\":\"hidden-W0KfLq\",\"titleAnimationReverse\":\"titleAnimationReverse-FRokqy\",\"titleContentAnimationReverse\":\"titleContentAnimationReverse-UxVYyT\",\"insideAnimationReverse\":\"insideAnimationReverse-wRiH6k\",\"pageAnimationReverse\":\"pageAnimationReverse-I_oYqS\",\"pageTextAnimationReverse\":\"pageTextAnimationReverse-OqcZ1i\",\"pageSecondTextAnimationReverse\":\"pageSecondTextAnimationReverse-iU27Jz\",\"pageButtonAnimationReverse\":\"pageButtonAnimationReverse-lx7O3V\",\"text\":\"text-PsAhko\"};","import React, { useState, useRef, useEffect, useCallback } from 'react'\nimport insideIcon from './book_icons/book.webp'\nimport insideHalfIcon from './book_icons/book-half.webp'\nimport singlePageInsideIcon from './book_icons/notebook.webp'\nimport titleIcon from './book_icons/title.webp'\nimport styles from './Book.module.css'\nimport Button from './Button'\nimport MessageFormattedString from './MessageFormattedString'\n\nexport interface BookProps {\n  textPages: string[]\n  editable: boolean\n  onSign: (textPages: string[], title: string) => void\n  onEdit: (textPages: string[]) => void\n  onClose: () => void\n  author: string\n}\n\nconst Book: React.FC<BookProps> = ({ textPages, editable, onSign, onEdit, onClose, author }) => {\n  const [pages, setPages] = useState<string[]>(textPages)\n  const [currentPage, setCurrentPage] = useState(0)\n  const [isSinglePage, setIsSinglePage] = useState(window.innerWidth < 972)\n  const [insideImage, setInsideImage] = useState(window.innerWidth < 972 ? singlePageInsideIcon : insideIcon)\n  const [animateInsideIcon, setAnimateInsideIcon] = useState(0)\n  const [animatePageIcon, setAnimatePageIcon] = useState(0)\n  const [animateTitleIcon, setAnimateTitleIcon] = useState(0)\n  const [signClickedOnce, setSignClickedOnce] = useState(false)\n  const textAreaRefs = useRef<HTMLTextAreaElement[]>([])\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  const handleResize = useCallback(() => {\n    const isSingle = window.innerWidth < 972\n    setIsSinglePage(isSingle)\n    setInsideImage(isSingle ? singlePageInsideIcon : insideIcon)\n  }, [])\n\n  useEffect(() => {\n    handleResize()\n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [handleResize])\n\n  useEffect(() => {\n    const index = currentPage * (isSinglePage ? 1 : 2)\n    if (textAreaRefs.current[index]) textAreaRefs.current[index].focus()\n  }, [currentPage, isSinglePage])\n\n  useEffect(() => {\n    if (signClickedOnce) {\n      setTimeout(() => {\n        inputRef.current!.focus()\n      }, 300) // wait for animation\n    }\n  }, [signClickedOnce])\n\n  const handlePageChange = (direction: number) => {\n    setCurrentPage((prevPage) => Math.min(Math.max(prevPage + direction, 0), Math.ceil(pages.length / (isSinglePage ? 1 : 2)) - 1))\n  }\n\n  const updatePage = (index, text) => {\n    setPages((prevPages) => {\n      const updatedPages = [...prevPages]\n      updatedPages[index] = text\n      return updatedPages\n    })\n  }\n\n  const handleTextChange = (e, pageIndex) => {\n    const text = e.target.value\n    updatePage(pageIndex, text)\n\n    const nextPageIndex = pageIndex + 1\n    const isMaxLengthReached = text.length >= e.target.maxLength\n\n    if (isMaxLengthReached) {\n      if (nextPageIndex < pages.length) {\n        setCurrentPage(Math.floor(nextPageIndex / (isSinglePage ? 1 : 2)))\n      } else {\n        setPages((prevPages) => [...prevPages, ''])\n        setCurrentPage(Math.floor(nextPageIndex / (isSinglePage ? 1 : 2)))\n      }\n      textAreaRefs.current[nextPageIndex]?.focus()\n    } else if (text === '' && pageIndex > 0 && e.nativeEvent.inputType === 'deleteContentBackward') {\n      setCurrentPage(Math.floor((pageIndex - 1) / (isSinglePage ? 1 : 2)))\n      textAreaRefs.current[pageIndex - 1]?.focus()\n    }\n  }\n\n  useEffect(() => {\n    const index = currentPage * (isSinglePage ? 1 : 2)\n    textAreaRefs.current[index]?.focus()\n  }, [currentPage, isSinglePage])\n\n  const handlePaste = (e: React.ClipboardEvent<HTMLTextAreaElement>, pageIndex: number) => {\n    const pasteText = e.clipboardData.getData('text')\n    const updatedPages = [...pages]\n    const currentText = updatedPages[pageIndex]\n    const selectionStart = e.currentTarget.selectionStart || 0\n    const selectionEnd = e.currentTarget.selectionEnd || 0\n\n    const newText = currentText.slice(0, selectionStart) + pasteText + currentText.slice(selectionEnd)\n    updatedPages[pageIndex] = newText\n    setPages(updatedPages)\n\n    if (newText.length > e.currentTarget.maxLength) {\n      const remainingText = newText.slice(e.currentTarget.maxLength)\n      updatedPages[pageIndex] = newText.slice(0, e.currentTarget.maxLength)\n      setPages(updatedPages)\n\n      const nextPageIndex = pageIndex + 1\n\n      if (nextPageIndex < pages.length) {\n        handlePasteRemainingText(remainingText, nextPageIndex)\n      } else {\n        setPages((prevPages) => [...prevPages, remainingText])\n        setCurrentPage(Math.floor(nextPageIndex / (isSinglePage ? 1 : 2)))\n        focusOnTextArea(nextPageIndex)\n      }\n    }\n  }\n\n  const handlePasteRemainingText = (remainingText: string, nextPageIndex: number) => {\n    const updatedPages = [...pages]\n    updatedPages[nextPageIndex] = remainingText\n    setPages(updatedPages)\n    focusOnTextArea(nextPageIndex)\n  }\n\n  const focusOnTextArea = (index: number) => {\n    setTimeout(() => {\n      textAreaRefs.current[index]?.focus()\n    }, 0)\n  }\n\n  const handleSign = useCallback(() => {\n    if (editable && signClickedOnce) {\n      const title = inputRef.current?.value || ''\n      onSign(pages, title)\n    }\n    setSignClickedOnce(true)\n    setAnimatePageIcon(1)\n    setAnimateInsideIcon(1)\n    setTimeout(() => {\n      setAnimateTitleIcon(1)\n    }, 150)\n  }, [pages, onSign, editable, signClickedOnce])\n\n  const handleEdit = useCallback(() => {\n    setSignClickedOnce(false)\n    onEdit(pages)\n  }, [pages, onEdit])\n\n  const handleCancel = useCallback(() => {\n    if (signClickedOnce) {\n      setSignClickedOnce(false)\n      setAnimateTitleIcon(2)\n      setTimeout(() => {\n        setAnimateInsideIcon(2)\n        setTimeout(() => {\n          setAnimatePageIcon(2)\n        }, 150)\n      }, 150)\n    } else {\n      onClose()\n    }\n  }, [signClickedOnce, onClose])\n\n  const setRef = (index: number) => (el: HTMLTextAreaElement | null) => {\n    textAreaRefs.current[index] = el!\n  }\n\n  const getAnimationClass = (animationState, baseClass) => {\n    switch (animationState) {\n      case 1:\n        return `${baseClass} ${styles.pageAnimation}`\n      case 2:\n        return `${baseClass} ${styles.pageAnimationReverse}`\n      default:\n        return baseClass\n    }\n  }\n\n  const renderPage = (index) => (\n    <div className={styles.page} key={index}>\n      {editable ? (\n        <textarea\n          onContextMenu={(e) => {\n            e.stopPropagation() // allow to open system context menu on text area for better UX\n          }}\n          ref={setRef(index)}\n          value={pages[index]}\n          onChange={(e) => handleTextChange(e, index)}\n          onPaste={(e) => handlePaste(e, index)}\n          className={getAnimationClass(animatePageIcon, styles.textArea)}\n          maxLength={500}\n        />\n      ) : (\n        <div className={getAnimationClass(animatePageIcon, '')}>\n          <MessageFormattedString message={pages[index]} fallbackColor='black' className={styles.messageFormattedString} />\n        </div>\n      )}\n    </div>\n  )\n\n  return (\n    <div className={styles.bookWrapper}>\n      <div className={styles.bookContainer}>\n        <img\n          src={insideImage}\n          className={`${styles.insideIcon} ${\n            animateInsideIcon === 1\n              ? styles.insideAnimation\n              : animateTitleIcon === 2\n                ? styles.insideAnimationReverse\n                : ''\n          }`}\n          alt=\"inside Icon\"\n        />\n        <img\n          src={insideHalfIcon}\n          className={`${styles.insideHalfIcon} ${\n            animatePageIcon === 1\n              ? styles.pageAnimation\n              : animatePageIcon === 2\n                ? styles.pageAnimationReverse\n                : ''\n          }`}\n          alt=\"inside Page Icon\"\n        />\n        <img\n          src={titleIcon}\n          className={`${styles.titleIcon} ${\n            animateTitleIcon === 1\n              ? styles.titleAnimation\n              : animateTitleIcon === 2\n                ? styles.titleAnimationReverse\n                : ''\n          }`}\n          alt=\"Title Icon\"\n        />\n        <div className={`${styles.inside}`}>\n          {renderPage(currentPage * (isSinglePage ? 1 : 2))}\n          {!isSinglePage && (currentPage * 2 + 1) < pages.length && renderPage(currentPage * 2 + 1)}\n          <Button\n            className={`${styles.controlPrev} ${\n              animateInsideIcon === 1\n                ? styles.hidden\n                : animateInsideIcon === 2\n                  ? styles.pageButtonAnimationReverse\n                  : ''\n            }`}\n            onClick={() => handlePageChange(-1)}\n            disabled={currentPage === 0}\n          >\n            {' '}\n          </Button>\n          <Button\n            className={`${styles.controlNext} ${\n              animateInsideIcon === 1\n                ? styles.hidden\n                : animateInsideIcon === 2\n                  ? styles.pageButtonAnimationReverse\n                  : ''\n            }`}\n            onClick={() => handlePageChange(1)}\n            disabled={(currentPage + 1) * (isSinglePage ? 1 : 2) >= pages.length}\n          >\n            {' '}\n          </Button>\n        </div>\n        <div\n          className={`${styles.outSide} ${\n            animateTitleIcon === 1\n              ? styles.titleContentAnimation\n              : animateTitleIcon === 2\n                ? styles.titleContentAnimationReverse\n                : ''\n          }`}\n        >\n          {editable ? (\n            <div className={`${styles.titleContent}`} >\n              <MessageFormattedString message=\"Enter Book Title: \" />\n              <form onSubmit={(e) => {\n                e.preventDefault()\n                handleSign()\n              }}\n              >\n                <input\n                  ref={inputRef}\n                  className=\"\"\n                />\n                {/* for some reason this is needed to make Enter work on android chrome */}\n                <button type='submit' style={{ visibility: 'hidden', height: 0, width: 0 }} />\n              </form>\n              <MessageFormattedString message={`by ${author}`} />\n              <br />\n              <MessageFormattedString message=\"Note! When you sign the book, it will no longer be editable.\" />\n            </div>\n          ) : (\n            <div className={`${styles.titleContent}`} >\n              <MessageFormattedString message=\"Book Name Here\" />\n              <br />\n              <MessageFormattedString message=\"by: Author\" />\n            </div>\n          )}\n        </div>\n      </div>\n      <div className={styles.actions}>\n        {editable && (\n          <Button onClick={handleSign}>\n            {signClickedOnce ? 'Sign and Save' : 'Sign'}\n          </Button>\n        )}\n\n        {editable && !signClickedOnce && <Button onClick={handleSign}>Sign</Button>}\n        {editable && !signClickedOnce && <Button onClick={handleEdit}>Edit</Button>}\n        <Button onClick={handleCancel}>{signClickedOnce ? 'Cancel' : 'Close'}</Button>\n      </div>\n    </div>\n  )\n}\n\nexport default Book\n","import { versionToNumber } from 'renderer/viewer/common/utils'\nimport nbt from 'prismarine-nbt'\nimport { useEffect, useState } from 'react'\nimport { useSnapshot } from 'valtio'\nimport mojangson from 'mojangson'\nimport { activeModalStack, hideCurrentModal, showModal } from '../globalState'\nimport Book from './Book'\nimport { useIsModalActive } from './utilsApp'\n\ninterface OpenedBook {\n  pages: string[]\n  title: string\n  author: string\n  isEditable: boolean\n}\n\nexport default () => {\n  const modalActive = useIsModalActive('book')\n  // const modalStack = useSnapshot(activeModalStack)\n  const [openedBook, setOpenedBook] = useState<OpenedBook | null>(null)\n\n  const signEditBook = (pages: string[], title: string | undefined) => {\n    if (versionToNumber(bot.version) < versionToNumber('1.17.2')) {\n      if (title === undefined) {\n        void bot.writeBook(bot.inventory.hotbarStart + bot.quickBarSlot, pages)\n      } else {\n        //@ts-expect-error\n        // slot, pages, author, title\n        bot.signBook(bot.inventory.hotbarStart + bot.quickBarSlot, pages, title, bot.username)\n      }\n      hideCurrentModal()\n      return\n    }\n    const currentSlot = bot.quickBarSlot\n    // mineflayer has wrong implementation of this action after 1.17.2\n    if (title === undefined) {\n      bot._client.write('edit_book', {\n        hand: currentSlot,\n        pages\n      })\n    } else {\n      bot._client.write('edit_book', {\n        hand: currentSlot,\n        pages,\n        title\n      })\n    }\n    hideCurrentModal()\n  }\n\n  // test: /give @p minecraft:written_book{pages:['{\"text\":\"4This is red text. lThis is bold text.\"}'],title:\"Book\",author:\"Author\"}\n  useEffect(() => {\n    const openBookWithNbt = () => {\n      if (activeModalStack.at(-1)?.reactType === 'book') {\n        hideCurrentModal()\n      }\n      const book = bot.inventory.slots[bot.inventory.hotbarStart + bot.quickBarSlot]\n      if (!book?.nbt) return\n      // {\"type\":\"compound\",\"name\":\"\",\"value\":{\"title\":{\"type\":\"string\",\"value\":\"yes\"},\"author\":{\"type\":\"string\",\"value\":\"bot\"},\"pages\":{\"type\":\"list\",\"value\":{\"type\":\"string\",\"value\":[\"{\\\"text\\\":\\\"1\\\"}\",\"{\\\"text\\\":\\\"4\\\"}\",\"{\\\"text\\\":\\\"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\\\"}\"]}\n      const parsedData = nbt.simplify(book.nbt as any)\n      if (!parsedData.pages) return\n      const pages = parsedData.pages.map((page) => {\n        if (book.name !== 'written_book') return page\n        const parsedPage = mojangson.simplify(mojangson.parse(page))\n        return parsedPage.text ?? page\n      })\n      // const {title, author} = parsedData\n      setOpenedBook({\n        pages,\n        title: parsedData.title ?? '',\n        author: parsedData.author ?? '',\n        isEditable: book.name === 'writable_book',\n      })\n      showModal({ reactType: 'book' })\n    }\n    customEvents.on('activateItem', (item) => {\n      if (item.name === 'writable_book') {\n        if (item.nbt?.value.pages) {\n          openBookWithNbt()\n        } else {\n          setOpenedBook({\n            pages: [],\n            title: '',\n            author: '',\n            isEditable: true,\n          })\n          showModal({ reactType: 'book' })\n        }\n      }\n    })\n    bot._client.on('open_book', openBookWithNbt)\n  }, [])\n\n  useEffect(() => {\n    if (modalActive) return\n    setOpenedBook(null)\n  }, [modalActive])\n\n  if (!openedBook) return null\n  return <Book\n    textPages={openedBook.pages}\n    editable={openedBook.isEditable}\n    onSign={(pages, title) => signEditBook(pages, title)}\n    onEdit={(pages) => signEditBook(pages, undefined)}\n    onClose={() => {\n      hideCurrentModal()\n    }}\n    author={bot.username}\n  />\n}\n","import type { BossBar as BossBarTypeRaw } from 'mineflayer'\nimport { useState, useEffect } from 'react'\nimport MessageFormattedString from './MessageFormattedString'\nimport './BossBarOverlay.css'\n\nconst colors = ['pink', 'blue', 'red', 'green', 'yellow', 'purple', 'white']\nconst divs = [0, 6, 10, 12, 20]\n\nexport type BossBarType = BossBarTypeRaw & {\n  // todo why not use public properties?\n  title: string | Record<string, any> | null,\n  _title: string | Record<string, any> | null,\n  _color: string,\n  _dividers: number,\n  _health: number,\n  lastUpdated: number\n}\n\nexport default ({ bar }: { bar: BossBarType }) => {\n  const [title, setTitle] = useState({})\n  const [bossBarStyles, setBossBarStyles] = useState<{ [key: string]: string | number }>({})\n  const [fillStyles, setFillStyles] = useState<{ [key: string]: string | number }>({})\n  const [div1Styles, setDiv1Styles] = useState<{ [key: string]: string | number }>({})\n  const [div2Styles, setDiv2Styles] = useState<{ [key: string]: string | number }>({})\n\n  useEffect(() => {\n    setTitle(bar._title ?? bar.title)\n    setBossBarStyles(prevStyles => ({\n      ...prevStyles,\n      backgroundPositionY: `-${colors.indexOf(bar._color) * 10}px`\n    }))\n    setFillStyles(prevStyles => ({\n      ...prevStyles,\n      width: `${bar._health * 100}%`,\n      backgroundPositionY: `-${colors.indexOf(bar._color) * 10 + 5}px`\n    }))\n    setDiv1Styles(prevStyles => ({\n      ...prevStyles,\n      backgroundPositionY: `-${divs.indexOf(bar._dividers) * 10 + 70}px`\n    }))\n    setDiv2Styles(prevStyles => ({\n      ...prevStyles,\n      width: `${bar._health * 100}%`,\n      backgroundPositionY: `-${divs.indexOf(bar._dividers) * 10 + 75}px`\n    }))\n  }, [bar])\n\n  return (\n    <div className=\"bossbar-container\">\n      <div className=\"bossbar-title\"><MessageFormattedString message={title} /></div>\n      <div className=\"bossbar\" style={bossBarStyles}>\n        <div className=\"fill\" style={fillStyles} />\n        <div className=\"fill\" style={div1Styles} />\n        <div className=\"fill\" style={div2Styles} />\n      </div>\n    </div>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { useSnapshot } from 'valtio'\nimport { miscUiState } from '../globalState'\nimport './BossBarOverlay.css'\nimport BossBar, { BossBarType } from './BossBarOverlay'\n\n\nexport default () => {\n  const { currentTouch } = useSnapshot(miscUiState)\n  const [bossBars, setBossBars] = useState(new Map<string, BossBarType>())\n  const addBossBar = (bossBar: BossBarType) => {\n    setBossBars(prevBossBars => new Map(prevBossBars.set(bossBar.entityUUID, {\n      ...bossBar,\n      lastUpdated: Date.now()\n    })))\n  }\n\n  const removeBossBar = (bossBar: BossBarType) => {\n    setBossBars(prevBossBars => {\n      const newBossBars = new Map(prevBossBars)\n      newBossBars.delete(bossBar.entityUUID)\n      return newBossBars\n    })\n  }\n\n  useEffect(() => {\n    bot.on('bossBarCreated', (bossBar) => {\n      addBossBar(bossBar as BossBarType)\n    })\n    bot.on('bossBarUpdated', (bossBar) => {\n      if (!bossBar) return\n      addBossBar(bossBar as BossBarType)\n    })\n    bot.on('bossBarDeleted', (bossBar) => {\n      if (!bossBar) return\n      removeBossBar(bossBar as BossBarType)\n    })\n  }, [])\n\n  return (\n    <div className={`bossBars ${currentTouch ? 'mobile' : ''}`} id=\"bossBars\">\n      {[...bossBars.values()].map(bar => (\n        <BossBar key={`${bar.entityUUID}-${bar.lastUpdated}`} bar={bar} />\n      ))}\n    </div>\n  )\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"root\":\"root-FJmcB2\",\"header\":\"header-Ix2S76\",\"statsRow\":\"statsRow-shytw2\",\"searchBar\":\"searchBar-Cmb3Xu\",\"content\":\"content-hDiNMy\",\"verticalContent\":\"verticalContent-XZ5gwH\",\"modList\":\"modList-ADWwNJ\",\"sidebar\":\"sidebar-UQ__eQ\",\"modInfo\":\"modInfo-S_rGad\",\"modInfoTitle\":\"modInfoTitle-UEbS6D\",\"modInfoText\":\"modInfoText-Ir1Jnc\",\"modActions\":\"modActions-nnN4Dq\",\"modRow\":\"modRow-uBWc0w\",\"modRowTitle\":\"modRowTitle-wMBzQF\",\"modRowInfo\":\"modRowInfo-o12SaU\",\"repoHeader\":\"repoHeader-JeRvxn\",\"repoContent\":\"repoContent-SI7GNl\",\"modErrorList\":\"modErrorList-eFLdFJ\",\"fieldEditorTextarea\":\"fieldEditorTextarea-RKqvDd\"};","import { useEffect, useState, useMemo, useRef } from 'react'\nimport { useSnapshot } from 'valtio'\nimport { openURL } from 'renderer/viewer/lib/simpleUtils'\nimport { addRepositoryAction, setEnabledModAction, getAllModsDisplayList, installModByName, selectAndRemoveRepository, uninstallModAction, fetchAllRepositories, modsReactiveUpdater, modsErrors, fetchRepository, getModModifiableFields, saveClientModData, getAllModsModifiableFields, callMethodAction } from '../clientMods'\nimport { createNotificationProgressReporter, ProgressReporter } from '../core/progressReporter'\nimport { hideModal } from '../globalState'\nimport { useIsModalActive } from './utilsApp'\nimport Input from './Input'\nimport Button from './Button'\nimport styles from './mods.module.css'\nimport { showOptionsModal, showInputsModal } from './SelectOption'\nimport Screen from './Screen'\nimport PixelartIcon, { pixelartIcons } from './PixelartIcon'\nimport { showNotification } from './NotificationProvider'\nimport { usePassesScaledDimensions } from './UIProvider'\nimport { appStorage } from './appStorageProvider'\n\ntype ModsData = Awaited<ReturnType<typeof getAllModsDisplayList>>\n\nconst ModListItem = ({\n  mod,\n  onClick,\n  hasError\n}: {\n  mod: ModsData['repos'][0]['packages'][0],\n  onClick: () => void,\n  hasError: boolean\n}) => (\n  <div\n    className={styles.modRow}\n    onClick={onClick}\n    data-enabled={mod.installed ? '' : mod.activated}\n    data-has-error={hasError}\n  >\n    <div className={styles.modRowTitle}>\n      {mod.name}\n      {mod.installedVersion && mod.installedVersion !== mod.version && (\n        <PixelartIcon\n          iconName={pixelartIcons['arrow-up-box']}\n          styles={{ fontSize: 14, marginLeft: 3 }}\n        />\n      )}\n    </div>\n    <div className={styles.modRowInfo}>\n      {mod.description}\n      {mod.author && `  By ${mod.author}`}\n      {mod.version && `  v${mod.version}`}\n      {mod.serverPlugin && `  World plugin`}\n    </div>\n  </div>\n)\n\nconst ModSidebar = ({ mod }: { mod: (ModsData['repos'][0]['packages'][0] & { repo?: string }) | null }) => {\n  const errors = useSnapshot(modsErrors)\n  const [editingField, setEditingField] = useState<{ name: string, content: string, language: string } | null>(null)\n\n  const handleAction = async (action: () => Promise<void>, errorMessage: string, progress?: ProgressReporter) => {\n    try {\n      await action()\n      progress?.end()\n    } catch (error) {\n      console.error(error)\n      progress?.end()\n      showNotification(errorMessage, error.message, true)\n    }\n  }\n\n  if (!mod) {\n    return <div className={styles.modInfoText}>Select a mod to view details</div>\n  }\n\n  const modifiableFields = mod.installed ? getModModifiableFields(mod.installed) : []\n\n  const handleSaveField = async (newContents: string) => {\n    if (!editingField) return\n    try {\n      mod[editingField.name] = newContents\n      mod.wasModifiedLocally = true\n      await saveClientModData(mod)\n      setEditingField(null)\n      showNotification('Success', 'Contents saved successfully')\n    } catch (error) {\n      showNotification('Error', 'Failed to save contents: ' + error.message, true)\n    }\n  }\n\n  if (editingField) {\n    return (\n      <EditingCodeWindow\n        contents={editingField.content}\n        language={editingField.language}\n        onClose={newContents => {\n          if (newContents === undefined) {\n            setEditingField(null)\n            return\n          }\n          void handleSaveField(newContents)\n        }}\n      />\n    )\n  }\n\n  return (\n    <>\n      <div className={styles.modInfo}>\n        <div className={styles.modInfoTitle}>\n          {mod.name} {mod.installed?.wasModifiedLocally ? '(modified)' : ''}\n        </div>\n        <div className={styles.modInfoText}>\n          {mod.description}\n        </div>\n        <div className={styles.modInfoText}>\n          {mod.author && `Author: ${mod.author}\\n`}\n          {mod.version && `Version: ${mod.version}\\n`}\n          {mod.installedVersion && mod.installedVersion !== mod.version && `Installed version: ${mod.installedVersion}\\n`}\n          {mod.section && `Section: ${mod.section}\\n`}\n        </div>\n        {errors[mod.name]?.length > 0 && (\n          <div className={styles.modErrorList}>\n            <ul>\n              {errors[mod.name].map((error, i) => (\n                <li key={i}>{error}</li>\n              ))}\n            </ul>\n          </div>\n        )}\n      </div>\n      <div className={styles.modActions}>\n        {mod.installed ? (\n          <>\n            {mod.activated ? (\n              <Button\n                onClick={async () => handleAction(\n                  async () => setEnabledModAction(mod.name, false),\n                  'Failed to disable mod:'\n                )}\n                icon={pixelartIcons['remove-box']}\n                title=\"Disable\"\n              />\n            ) : (\n              <Button\n                onClick={async () => handleAction(\n                  async () => setEnabledModAction(mod.name, true),\n                  'Failed to enable mod:'\n                )}\n                icon={pixelartIcons['add-box']}\n                title=\"Enable\"\n                disabled={!mod.canBeActivated}\n              />\n            )}\n            <Button\n              onClick={async () => handleAction(\n                async () => uninstallModAction(mod.name),\n                'Failed to uninstall mod:'\n              )}\n              icon={pixelartIcons.trash}\n              title=\"Delete\"\n            />\n            {mod.installedVersion && mod.installedVersion !== mod.version && (\n              <Button\n                onClick={async () => {\n                  if (!mod.repo) return\n                  const progress = createNotificationProgressReporter(`${mod.name} updated and activated`)\n                  await handleAction(\n                    async () => {\n                      await installModByName(mod.repo!, mod.name, progress)\n                    },\n                    'Failed to update mod:',\n                    progress\n                  )\n                }}\n                icon={pixelartIcons['arrow-up-box']}\n                title=\"Update\"\n              />\n            )}\n            {mod.serverPlugin && (\n              <Button\n                onClick={async () => {\n                  const url = new URL(window.location.href)\n                  url.searchParams.set('sp', '1')\n                  url.searchParams.set('serverPlugin', mod.name)\n                  openURL(url.toString())\n                }}\n                icon={pixelartIcons.play}\n                title=\"Try in blank world\"\n              />\n            )}\n          </>\n        ) : (\n          <Button\n            onClick={async () => {\n              if (!mod.repo) return\n              const progress = createNotificationProgressReporter(`${mod.name} installed and enabled`)\n              await handleAction(\n                async () => {\n                  await installModByName(mod.repo!, mod.name, progress)\n                },\n                'Failed to install & activate mod:',\n                progress\n              )\n            }}\n            icon={pixelartIcons.download}\n            title=\"Install\"\n          />\n        )}\n        {modifiableFields.length > 0 && (\n          <Button\n            onClick={async (e) => {\n              const fields = e.shiftKey ? getAllModsModifiableFields() : modifiableFields\n              const result = await showInputsModal('Edit Mod Field', Object.fromEntries(fields.map(field => {\n                return [field.field, {\n                  type: 'button' as const,\n                  label: field.label,\n                  onButtonClick () {\n                    setEditingField({\n                      name: field.field,\n                      content: field.getContent?.() || mod.installed![field.field] || '',\n                      language: field.language\n                    })\n                  }\n                }]\n              })), {\n                showConfirm: false\n              })\n            }}\n            icon={pixelartIcons['edit']}\n            title=\"Edit Mod\"\n          />\n        )}\n      </div>\n\n      {window.loadedMods?.[mod.name] && mod.actionsMain && (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 3 }}>\n          Actions:\n          {Object.entries(mod.actionsMain).map(([key, setting]) => (\n            <div\n              key={key} onClick={() => {\n                void callMethodAction(mod.name, 'main', key)\n              }}>{key}</div>\n          ))}\n        </div>\n      )}\n    </>\n  )\n}\n\nconst EditingCodeWindow = ({\n  contents,\n  language,\n  onClose\n}: {\n  contents: string,\n  language: string,\n  onClose: (newContents?: string) => void\n}) => {\n  const ref = useRef<HTMLTextAreaElement>(null)\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        e.preventDefault()\n        e.stopImmediatePropagation()\n      }\n    }\n    window.addEventListener('keydown', handleKeyDown, { capture: true })\n    return () => window.removeEventListener('keydown', handleKeyDown, { capture: true })\n  }, [])\n\n  return <Screen title=\"Editing code\">\n    <div className=\"\">\n      <textarea\n        ref={ref}\n        className={styles.fieldEditorTextarea}\n        defaultValue={contents}\n      />\n      <Button\n        style={{ position: 'absolute', bottom: 10, left: 10, backgroundColor: 'red' }}\n        onClick={() => onClose(undefined)}\n        icon={pixelartIcons.close}\n        title=\"Cancel\"\n      />\n      <Button\n        style={{ position: 'absolute', bottom: 10, right: 10, backgroundColor: '#4CAF50' }}\n        onClick={() => onClose(ref.current?.value)}\n        icon={pixelartIcons.check}\n        title=\"Save\"\n      />\n    </div>\n  </Screen>\n}\n\nexport default () => {\n  const isModalActive = useIsModalActive('mods', true)\n  const [modsData, setModsData] = useState<ModsData | null>(null)\n  const [search, setSearch] = useState('')\n  const [showOnlyInstalled, setShowOnlyInstalled] = useState(false)\n  const [showOnlyEnabled, setShowOnlyEnabled] = useState(false)\n  const [selectedModIndex, setSelectedModIndex] = useState<number | null>(null)\n  const [expandedRepos, setExpandedRepos] = useState<Record<string, boolean>>({})\n  const useHorizontalLayout = usePassesScaledDimensions(400)\n  const { counter } = useSnapshot(modsReactiveUpdater)\n  const errors = useSnapshot(modsErrors)\n\n  const allModsArray = useMemo(() => {\n    if (!modsData) return []\n    return [\n      ...modsData.repos.flatMap(repo => repo.packages.map(mod => ({ ...mod, repo: repo.url }))),\n      ...modsData.modsWithoutRepos\n    ]\n  }, [modsData])\n\n  useEffect(() => {\n    if (isModalActive) {\n      if (appStorage.firstModsPageVisit) {\n        appStorage.firstModsPageVisit = false\n        const defaultRepo = 'zardoy/mcraft-client-mods'\n        void fetchRepository(defaultRepo, defaultRepo)\n      }\n      void getAllModsDisplayList().then(mods => {\n        setModsData(mods)\n        // Update selected mod index if needed\n        if (selectedModIndex !== null && selectedModIndex < allModsArray.length) {\n          setSelectedModIndex(selectedModIndex)\n        }\n      })\n    }\n  }, [isModalActive, counter])\n\n  if (!isModalActive) return null\n\n  const toggleRepo = (repoUrl: string) => {\n    setExpandedRepos(prev => ({\n      ...prev,\n      [repoUrl]: !prev[repoUrl]\n    }))\n  }\n\n  const modFilter = (mod: ModsData['repos'][0]['packages'][0]) => {\n    const matchesSearch = mod.name.toLowerCase().includes(search.toLowerCase()) ||\n      mod.description?.toLowerCase().includes(search.toLowerCase())\n    const matchesInstalledFilter = !showOnlyInstalled || mod.installed\n    const matchesEnabledFilter = !showOnlyEnabled || mod.activated\n    return matchesSearch && matchesInstalledFilter && matchesEnabledFilter\n  }\n\n  const filteredMods = modsData ? {\n    repos: modsData.repos.map(repo => ({\n      ...repo,\n      packages: repo.packages.filter(modFilter)\n    })),\n    modsWithoutRepos: modsData.modsWithoutRepos.filter(modFilter)\n  } : null\n\n  const filteredModsCount = filteredMods ?\n    filteredMods.repos.reduce((acc, repo) => acc + repo.packages.length, 0) + filteredMods.modsWithoutRepos.length : 0\n\n  const totalRepos = modsData?.repos.length ?? 0\n\n  const getStatsText = () => {\n    if (!filteredMods) return 'Loading...'\n    if (showOnlyEnabled) {\n      return `Showing ${filteredMods.repos.reduce((acc, repo) => acc + repo.packages.filter(mod => mod.activated).length, 0)} enabled mods in ${totalRepos} repos`\n    } else if (showOnlyInstalled) {\n      return `Showing ${filteredMods.repos.reduce((acc, repo) => acc + repo.packages.filter(mod => mod.installed).length, 0)} installed mods in ${totalRepos} repos`\n    }\n    return `Showing all ${totalRepos} repos with ${filteredModsCount} mods`\n  }\n\n  const selectedMod = selectedModIndex === null ? null : allModsArray[selectedModIndex]\n\n  return <Screen backdrop=\"dirt\" title=\"Client Mods (Preview)\" titleMarginTop={0} contentStyle={{ paddingTop: 15, height: '100%', width: '100%' }}>\n    <Button\n      icon={pixelartIcons['close']}\n      onClick={() => {\n        hideModal()\n      }}\n      style={{\n        color: '#ff5d5d',\n        position: 'fixed',\n        top: 10,\n        left: 20\n      }}\n    />\n    <div className={styles.root}>\n      <div className={styles.header}>\n        <Button\n          style={{}}\n          icon={pixelartIcons['sliders']}\n          onClick={() => {\n            if (showOnlyEnabled) {\n              setShowOnlyEnabled(false)\n            } else if (showOnlyInstalled) {\n              setShowOnlyInstalled(false)\n              setShowOnlyEnabled(true)\n            } else {\n              setShowOnlyInstalled(true)\n            }\n          }}\n          title={showOnlyEnabled ? 'Show all mods' : showOnlyInstalled ? 'Show enabled mods' : 'Show installed mods'}\n        />\n        <Button\n          onClick={async () => {\n            // const refreshButton = `Refresh repositories (last update)`\n            const refreshButton = `Refresh repositories`\n            const choice = await showOptionsModal(`Manage repositories (${modsData?.repos.length ?? '-'} repos)`, ['Add repository', 'Remove repository', refreshButton])\n            switch (choice) {\n              case 'Add repository': {\n                await addRepositoryAction()\n                break\n              }\n              case 'Remove repository': {\n                await selectAndRemoveRepository()\n                break\n              }\n              case refreshButton: {\n                await fetchAllRepositories()\n                break\n              }\n              case undefined:\n                break\n            }\n          }}\n          icon={pixelartIcons['list-box']}\n          title=\"Manage repositories\"\n        />\n        <Input\n          className={styles.searchBar}\n          value={search}\n          onChange={e => setSearch(e.target.value)}\n          placeholder=\"Search mods in added repositories...\"\n          autoFocus\n        />\n      </div>\n      <div className={styles.statsRow}>\n        {getStatsText()}\n      </div>\n      <div className={`${styles.content} ${useHorizontalLayout ? '' : styles.verticalContent}`}>\n        <div className={styles.modList}>\n          {filteredMods ? (\n            <>\n              {filteredMods.repos.map(repo => (\n                <div key={repo.url}>\n                  <div\n                    className={styles.repoHeader}\n                    onClick={() => toggleRepo(repo.url)}\n                  >\n                    <span>{expandedRepos[repo.url] ? '' : ''}</span>\n                    <span>{repo.name || repo.url}</span>\n                    <span>({repo.packages.length})</span>\n                  </div>\n                  {expandedRepos[repo.url] && (\n                    <div className={styles.repoContent}>\n                      {repo.packages.map((mod) => (\n                        <ModListItem\n                          key={mod.name}\n                          mod={mod}\n                          onClick={() => setSelectedModIndex(allModsArray.findIndex(m => m.name === mod.name))}\n                          hasError={errors[mod.name]?.length > 0}\n                        />\n                      ))}\n                    </div>\n                  )}\n                </div>\n              ))}\n              {filteredMods.modsWithoutRepos.length > 0 && (\n                <div>\n                  <div className={styles.repoHeader}>\n                    <span></span>\n                    <span>Other Mods</span>\n                    <span>({filteredMods.modsWithoutRepos.length})</span>\n                  </div>\n                  <div className={styles.repoContent}>\n                    {filteredMods.modsWithoutRepos.map(mod => (\n                      <ModListItem\n                        key={mod.name}\n                        mod={mod}\n                        onClick={() => setSelectedModIndex(allModsArray.findIndex(m => m.name === mod.name))}\n                        hasError={errors[mod.name]?.length > 0}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n            </>\n          ) : (\n            <div className={styles.modRowInfo}>Loading mods...</div>\n          )}\n        </div>\n        <div className={styles.sidebar}>\n          <ModSidebar mod={selectedMod} />\n        </div>\n      </div>\n    </div>\n  </Screen>\n}\n","import { useState } from 'react'\nimport { useIsHashActive } from './simpleHooks'\n\nexport default () => {\n  const MODES_COUNT = 5\n  const [mode, setMode] = useState(0)\n  const isHashActive = useIsHashActive('#edges')\n\n  if (!isHashActive) return null\n\n  const styles: React.CSSProperties = {\n    display: 'flex',\n    fontSize: 18,\n    zIndex: 10_000,\n    background: 'rgba(0, 0, 255, 0.5)',\n    border: '2px solid red',\n    whiteSpace: 'pre',\n  }\n  let text = ''\n  if (mode === 0) {\n    styles.position = 'fixed'\n    styles.inset = 0\n    styles.height = '100%'\n    text = 'inset 0 fixed 100% height'\n  }\n  if (mode === 1) {\n    styles.position = 'fixed'\n    styles.inset = 0\n    text = 'inset 0 fixed'\n  }\n  if (mode === 2) {\n    styles.position = 'absolute'\n    styles.inset = 0\n    text = 'inset 0 absolute'\n  }\n  if (mode === 3) {\n    styles.position = 'fixed'\n    styles.top = 0\n    styles.left = 0\n    styles.right = 0\n    styles.height = '100dvh'\n    text = 'top 0 fixed 100dvh'\n  }\n  if (mode === 4) {\n    styles.position = 'fixed'\n    styles.top = 0\n    styles.left = 0\n    styles.right = 0\n    styles.height = '100dvh'\n    text = 'top 0 bottom 0 fixed 100dvh'\n  }\n\n  return <div\n    style={styles}\n    onClick={() => {\n      setMode((mode + 1) % MODES_COUNT)\n    }}\n  >\n    {mode}: {text}{'\\n'}\n    inner: {window.innerWidth}x{window.innerHeight}{'\\n'}\n    outer: {window.outerWidth}x{window.outerHeight}{'\\n'}\n  </div>\n}\n","import { useRef, useEffect } from 'react'\nimport { subscribe, useSnapshot } from 'valtio'\nimport { useUtilsEffect } from '@zardoy/react-util'\nimport { getThreeJsRendererMethods } from 'renderer/viewer/three/threeJsMethods'\nimport { isItemActivatableMobile } from 'mineflayer-mouse/dist/activatableItemsMobile'\nimport { options } from '../optionsStorage'\nimport { activeModalStack, isGameActive, miscUiState } from '../globalState'\nimport { onCameraMove, CameraMoveEvent } from '../cameraRotationControls'\nimport { pointerLock, isInRealGameSession } from '../utils'\nimport { videoCursorInteraction } from '../customChannels'\nimport { handleMovementStickDelta, joystickPointer } from './TouchAreasControls'\n\n/** after what time of holding the finger start breaking the block */\nconst touchStartBreakingBlockMs = 500\n\nfunction GameInteractionOverlayInner ({\n  zIndex,\n  setJoystickOrigin,\n  updateJoystick\n}: {\n  zIndex: number,\n  setJoystickOrigin: (e: PointerEvent | null) => void\n  updateJoystick: (e: PointerEvent) => void\n}) {\n  const overlayRef = useRef<HTMLDivElement>(null)\n\n\n  useUtilsEffect(({ signal }) => {\n    if (!overlayRef.current) return\n\n    const cameraControlEl = overlayRef.current\n    let virtualClickActive = false\n    let virtualClickTimeout: NodeJS.Timeout | undefined\n    let screenTouches = 0\n    const capturedPointer = {\n      active: null as {\n        id: number;\n        x: number;\n        y: number;\n        sourceX: number;\n        sourceY: number;\n        activateCameraMove: boolean;\n        time: number\n      } | null\n    }\n\n    const pointerDownHandler = (e: PointerEvent) => {\n      const clickedEl = e.composedPath()[0]\n      if (!isGameActive(true) || clickedEl !== cameraControlEl || e.pointerId === undefined) {\n        return\n      }\n      getThreeJsRendererMethods()?.onPageInteraction()\n      screenTouches++\n      if (screenTouches === 3) {\n        // todo maybe mouse wheel click?\n      }\n      const usingModernMovement = options.touchMovementType === 'modern'\n      if (usingModernMovement) {\n        if (!joystickPointer.pointer && e.clientX < window.innerWidth / 2) {\n          cameraControlEl.setPointerCapture(e.pointerId)\n          setJoystickOrigin(e)\n          return\n        }\n      }\n      if (capturedPointer.active) {\n        return\n      }\n      cameraControlEl.setPointerCapture(e.pointerId)\n      capturedPointer.active = {\n        id: e.pointerId,\n        x: e.clientX,\n        y: e.clientY,\n        sourceX: e.clientX,\n        sourceY: e.clientY,\n        activateCameraMove: false,\n        time: Date.now()\n      }\n      if (options.touchInteractionType === 'classic') {\n        virtualClickTimeout ??= setTimeout(() => {\n          virtualClickActive = true\n          // If held item is activatable, use right click instead of left\n          const heldItemName = bot?.heldItem?.name\n          const isOnlyActivatable = heldItemName && isItemActivatableMobile(heldItemName, loadedData)\n          document.dispatchEvent(new MouseEvent('mousedown', { button: isOnlyActivatable ? 2 : 0 }))\n        }, touchStartBreakingBlockMs)\n      }\n    }\n\n    const pointerMoveHandler = (e: PointerEvent) => {\n      if (e.pointerId === undefined) return\n      const scale = window.visualViewport?.scale || 1\n\n      const supportsPressure = (e as any).pressure !== undefined &&\n        (e as any).pressure !== 0 &&\n        (e as any).pressure !== 0.5 &&\n        (e as any).pressure !== 1 &&\n        (e.pointerType === 'touch' || e.pointerType === 'pen')\n\n      if (e.pointerId === joystickPointer.pointer?.pointerId) {\n        updateJoystick(e)\n        if (supportsPressure && (e as any).pressure > 0.5) {\n          bot.setControlState('sprint', true)\n        }\n        return\n      }\n      if (e.pointerId !== capturedPointer.active?.id) return\n      // window.scrollTo(0, 0)\n      e.preventDefault()\n      e.stopPropagation()\n\n      const allowedJitter = 1.1\n      if (supportsPressure) {\n        bot.setControlState('jump', (e as any).pressure > 0.5)\n      }\n\n      // Adjust coordinates for scale\n      const currentX = e.clientX / scale\n      const currentY = e.clientY / scale\n      const sourceX = capturedPointer.active.sourceX / scale\n      const sourceY = capturedPointer.active.sourceY / scale\n      const lastX = capturedPointer.active.x / scale\n      const lastY = capturedPointer.active.y / scale\n\n      const xDiff = Math.abs(currentX - sourceX) > allowedJitter\n      const yDiff = Math.abs(currentY - sourceY) > allowedJitter\n\n      if (!capturedPointer.active.activateCameraMove && (xDiff || yDiff)) {\n        capturedPointer.active.activateCameraMove = true\n      }\n      if (capturedPointer.active.activateCameraMove) {\n        clearTimeout(virtualClickTimeout)\n      }\n\n      onCameraMove({\n        movementX: (currentX - lastX),\n        movementY: (currentY - lastY),\n        type: 'touchmove',\n        stopPropagation: () => e.stopPropagation()\n      } as CameraMoveEvent)\n\n      capturedPointer.active.x = e.clientX\n      capturedPointer.active.y = e.clientY\n    }\n\n    const pointerUpHandler = (e: PointerEvent) => {\n      if (e.pointerId === undefined) return\n      if (e.pointerId === joystickPointer.pointer?.pointerId) {\n        setJoystickOrigin(null)\n        return\n      }\n      if (e.pointerId !== capturedPointer.active?.id) return\n      clearTimeout(virtualClickTimeout)\n      virtualClickTimeout = undefined\n\n      if (virtualClickActive) {\n        // button 0 is left click\n        // If held item is activatable, use right click instead of left\n        const heldItemName = bot?.heldItem?.name\n        const isOnlyActivatable = heldItemName && isItemActivatableMobile(heldItemName, loadedData)\n        document.dispatchEvent(new MouseEvent('mouseup', { button: isOnlyActivatable ? 2 : 0 }))\n        virtualClickActive = false\n      } else if (!capturedPointer.active.activateCameraMove && (Date.now() - capturedPointer.active.time < touchStartBreakingBlockMs)) {\n        // single click action\n        const MOUSE_BUTTON_RIGHT = 2\n        const MOUSE_BUTTON_LEFT = 0\n        const heldItemName = bot?.heldItem?.name\n        const isOnlyActivatable = heldItemName && isItemActivatableMobile(heldItemName, loadedData)\n        const gonnaAttack = !!bot.mouse.getCursorState().entity || !!videoCursorInteraction()\n        // If not attacking entity and item is activatable, use right click for breaking\n        const useButton = !gonnaAttack && isOnlyActivatable ? MOUSE_BUTTON_RIGHT : (gonnaAttack ? MOUSE_BUTTON_LEFT : MOUSE_BUTTON_RIGHT)\n        document.dispatchEvent(new MouseEvent('mousedown', { button: useButton }))\n        bot.mouse.update()\n        document.dispatchEvent(new MouseEvent('mouseup', { button: useButton }))\n      }\n\n      if (screenTouches > 0) {\n        screenTouches--\n      }\n      capturedPointer.active = null\n    }\n\n    const contextMenuHandler = (e: Event) => {\n      e.preventDefault()\n    }\n\n    const blurHandler = () => {\n      bot.clearControlStates()\n    }\n\n    cameraControlEl.addEventListener('pointerdown', pointerDownHandler, { signal })\n    cameraControlEl.addEventListener('pointermove', pointerMoveHandler, { signal })\n    cameraControlEl.addEventListener('pointerup', pointerUpHandler, { signal })\n    cameraControlEl.addEventListener('pointercancel', pointerUpHandler, { signal })\n    cameraControlEl.addEventListener('lostpointercapture', pointerUpHandler, { signal })\n    cameraControlEl.addEventListener('contextmenu', contextMenuHandler, { signal })\n    window.addEventListener('blur', blurHandler, { signal })\n\n    // Add zoom detection and reset\n    const detectAndResetZoom = () => {\n      const { visualViewport } = window\n      if (!visualViewport) return\n\n      if (visualViewport.scale !== 1) {\n        // Reset zoom by updating viewport meta tag\n        const viewport = document.querySelector('meta[name=viewport]')\n        if (viewport) {\n          viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no')\n          // Force re-layout\n          setTimeout(() => {\n            viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no')\n          }, 300)\n        }\n      }\n    }\n\n    // Listen for zoom changes\n    window.visualViewport?.addEventListener('resize', detectAndResetZoom, { signal })\n    detectAndResetZoom()\n\n    // Prevent zoom gestures\n    document.addEventListener('gesturestart', (e) => e.preventDefault(), { signal })\n    document.addEventListener('gesturechange', (e) => e.preventDefault(), { signal })\n    document.addEventListener('gestureend', (e) => e.preventDefault(), { signal })\n\n\n    // Debug method to simulate zoom\n    window.debugSimulateZoom = (scale = 1.1, x = 0, y = 0) => {\n      const viewport = document.querySelector('meta[name=viewport]')\n      if (viewport) {\n        viewport.setAttribute('content', `width=device-width, initial-scale=${scale}, user-scalable=no, viewport-fit=cover, transform-origin: ${x}px ${y}px`)\n      }\n      // This will trigger the visualViewport resize event\n      setTimeout(() => {\n        window.visualViewport?.dispatchEvent(new Event('resize'))\n      }, 100)\n    }\n\n    // Debug method to reset zoom\n    window.debugResetZoom = () => {\n      const viewport = document.querySelector('meta[name=viewport]')\n      if (viewport) {\n        viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no')\n      }\n      setTimeout(() => {\n        window.visualViewport?.dispatchEvent(new Event('resize'))\n      }, 100)\n    }\n\n    signal.addEventListener('abort', () => {\n      setJoystickOrigin(null)\n    })\n  }, [setJoystickOrigin])\n\n  return (\n    <OverlayElement divRef={overlayRef} zIndex={zIndex} />\n  )\n\n\n}\n\nconst OverlayElement = ({ divRef, zIndex }: { divRef: React.RefObject<HTMLDivElement>, zIndex: number }) => {\n  return <div\n    className='game-interaction-overlay'\n    ref={divRef}\n    style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      zIndex,\n      touchAction: 'none',\n      userSelect: 'none'\n    }}\n  />\n}\n\nexport default function GameInteractionOverlay ({ zIndex }: { zIndex: number }) {\n  const modalStack = useSnapshot(activeModalStack)\n  const { currentTouch } = useSnapshot(miscUiState)\n\n  const setJoystickOrigin = useRef((e: PointerEvent | null) => {\n    if (!e) {\n      handleMovementStickDelta()\n      joystickPointer.pointer = null\n      return\n    }\n\n    joystickPointer.pointer = {\n      pointerId: e.pointerId,\n      x: e.clientX,\n      y: e.clientY\n    }\n  }).current\n\n  const updateJoystick = useRef((e: PointerEvent) => {\n    handleMovementStickDelta(e)\n  }).current\n\n  if (modalStack.length > 0 || !currentTouch) return null\n  return <GameInteractionOverlayInner\n    zIndex={zIndex}\n    setJoystickOrigin={setJoystickOrigin}\n    updateJoystick={updateJoystick}\n  />\n\n}\n\nsubscribe(activeModalStack, () => {\n  if (activeModalStack.length === 0) {\n    if (isInRealGameSession()) {\n      void pointerLock.requestPointerLock()\n    }\n  } else {\n    document.exitPointerLock?.()\n  }\n})\n","import { PacketData } from './ReplayPanel'\n\nfunction wildcardToRegExp (pattern: string): RegExp {\n  const escaped = pattern.replaceAll(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n  return new RegExp(`^${escaped.replaceAll('\\\\*', '.*')}$`)\n}\n\nfunction patternToRegExp (pattern: string): RegExp {\n  if (pattern.startsWith('$')) {\n    return new RegExp(`^${pattern.slice(1)}$`)\n  }\n  return wildcardToRegExp(`*${pattern}*`)\n}\n\nexport function parseFilterString (filter: string): { include: RegExp[]; exclude: RegExp[] } {\n  const parts = filter.split(/,\\s*/)\n  const include: RegExp[] = []\n  const exclude: RegExp[] = []\n\n  for (const part of parts) {\n    if (!part) continue\n    if (part.startsWith('!')) {\n      exclude.push(patternToRegExp(part.slice(1)))\n    } else {\n      include.push(patternToRegExp(part))\n    }\n  }\n\n  return { include, exclude }\n}\n\nexport function filterPackets (packets: PacketData[], filter: string): { filtered: PacketData[]; hiddenCount: number } {\n  if (!filter.trim()) {\n    return { filtered: packets, hiddenCount: 0 }\n  }\n\n  const { include, exclude } = parseFilterString(filter)\n  const filtered = packets.filter(packet => {\n    // If packet matches any exclude pattern, filter it out\n    if (exclude.some(pattern => pattern.test(packet.name))) {\n      return false\n    }\n    // If there are include patterns, packet must match at least one\n    if (include.length > 0) {\n      return include.some(pattern => pattern.test(packet.name))\n    }\n    // If no include patterns, keep the packet (unless it was excluded)\n    return true\n  })\n\n  return {\n    filtered,\n    hiddenCount: packets.length - filtered.length\n  }\n}\n","export const DARK_COLORS = {\n  bg: '#1e1e1e',\n  input: '#2d2d2d',\n  text: '#ffffff',\n  textDim: '#888888',\n  client: '#144218',\n  server: '#750200',\n  modified: '#f57f17',\n  border: '#333333',\n  hover: '#404040'\n}\n","import { useEffect, useRef, useState } from 'react'\nimport { DARK_COLORS } from './constants'\n\ninterface Props {\n  value: string\n  onChange: (value: string) => void\n  hiddenCount: number\n  shownCount: number\n  onClearFilter: () => void\n  clientPacketsAutocomplete: string[]\n  serverPacketsAutocomplete: string[]\n}\n\nexport default function FilterInput ({\n  value,\n  onChange,\n  hiddenCount,\n  shownCount,\n  onClearFilter,\n  clientPacketsAutocomplete,\n  serverPacketsAutocomplete\n}: Props) {\n  const inputRef = useRef<HTMLInputElement>(null)\n  const [showAutocomplete, setShowAutocomplete] = useState(false)\n  const [selectedIndex, setSelectedIndex] = useState(0)\n\n  const allSuggestions = [\n    ...clientPacketsAutocomplete.map(name => ({ name, isClient: true })),\n    ...serverPacketsAutocomplete.map(name => ({ name, isClient: false }))\n  ].sort((a, b) => a.name.localeCompare(b.name))\n\n  const currentWord = value.split(/,\\s*/).pop() || ''\n  const filteredSuggestions = allSuggestions.filter(\n    ({ name }) => name.toLowerCase().includes(currentWord.toLowerCase().replace(/^\\$/, ''))\n  )\n\n  useEffect(() => {\n    setSelectedIndex(0)\n  }, [currentWord])\n\n  const acceptSuggestion = (suggestion: string) => {\n    const parts = value.split(/,\\s*/)\n    parts[parts.length - 1] = suggestion\n    onChange(parts.join(', '))\n    setShowAutocomplete(false)\n    inputRef.current?.focus()\n  }\n\n  return (\n    <div>\n      <div style={{ position: 'relative' }}>\n        <input\n          ref={inputRef}\n          type=\"text\"\n          value={value}\n          onChange={e => onChange(e.target.value)}\n          onFocus={() => setShowAutocomplete(true)}\n          onBlur={() => {\n            setTimeout(() => setShowAutocomplete(false), 200)\n          }}\n          onKeyDown={e => {\n            if (!showAutocomplete) {\n              if (e.key === 'Tab') {\n                e.preventDefault()\n                setShowAutocomplete(true)\n              }\n              return\n            }\n\n            if (e.key === 'ArrowDown') {\n              e.preventDefault()\n              setSelectedIndex(i => (i + 1) % filteredSuggestions.length)\n            } else if (e.key === 'ArrowUp') {\n              e.preventDefault()\n              setSelectedIndex(i => (i - 1 + filteredSuggestions.length) % filteredSuggestions.length)\n            } else if (e.key === 'Enter' && filteredSuggestions.length > 0) {\n              e.preventDefault()\n              acceptSuggestion(filteredSuggestions[selectedIndex].name)\n            } else if (e.key === 'Escape') {\n              e.preventDefault()\n              setShowAutocomplete(false)\n            }\n          }}\n          placeholder=\"Filter packets (e.g. entity, $block_display, !position)\"\n          style={{\n            width: '100%',\n            padding: '8px',\n            border: `1px solid ${DARK_COLORS.border}`,\n            borderRadius: '4px',\n            background: DARK_COLORS.input,\n            color: DARK_COLORS.text\n          }}\n        />\n        {showAutocomplete && filteredSuggestions.length > 0 && (\n          <div style={{\n            position: 'absolute',\n            top: '100%',\n            left: 0,\n            right: 0,\n            backgroundColor: DARK_COLORS.bg,\n            border: `1px solid ${DARK_COLORS.border}`,\n            borderRadius: '4px',\n            marginTop: '4px',\n            maxHeight: '200px',\n            overflowY: 'auto',\n            zIndex: 1\n          }}>\n            {filteredSuggestions.map(({ name, isClient }, index) => (\n              <div\n                key={name}\n                onClick={() => acceptSuggestion(name)}\n                style={{\n                  padding: '4px 8px',\n                  cursor: 'pointer',\n                  backgroundColor: index === selectedIndex ? DARK_COLORS.hover : DARK_COLORS.bg,\n                  color: isClient ? DARK_COLORS.client : DARK_COLORS.server\n                }}\n              >\n                {name}\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n      <div style={{\n        marginTop: '4px',\n        fontSize: '12px',\n        color: DARK_COLORS.textDim,\n        display: 'flex',\n        alignItems: 'center',\n        gap: '4px'\n      }}>\n        <span>Showing: {shownCount}</span>\n        <span></span>\n        <span>Hidden: {hiddenCount}</span>\n\n        <div style={{\n          opacity: value ? 1 : 0,\n          gap: '4px',\n          display: 'flex',\n          alignItems: 'center'\n        }}>\n          <span></span>\n          <button\n            onClick={onClearFilter}\n            style={{\n              background: 'none',\n              border: 'none',\n              padding: 0,\n              color: DARK_COLORS.text,\n              cursor: 'pointer',\n              textDecoration: 'underline',\n            }}\n          >\n            clear all\n          </button>\n        </div>\n\n      </div>\n    </div>\n  )\n}\n","import { useRef, useState } from 'react'\nimport { processPacketDataForLogging } from 'mcraft-fun-mineflayer/build/packetsLogger'\nimport { PacketData } from '../../ReplayPanel'\nimport { useScrollBehavior } from '../../hooks/useScrollBehavior'\nimport { ClientOnMap } from '../../../generatedServerPackets'\nimport { DARK_COLORS } from './constants'\n\nconst formatters: Record<string, (data: any) => string> = {\n  position: (data) => `x:${data.x.toFixed(2)} y:${data.y.toFixed(2)} z:${data.z.toFixed(2)}`,\n  // chat: (data) => data,\n  map_chunk (data: ClientOnMap['map_chunk'] | any) {\n    const sizeOfChunk = data.chunkData?.length\n    const blockEntitiesCount = data.blockEntities?.length\n    return `x:${data.x} z:${data.z} C:${sizeOfChunk} E:${blockEntitiesCount}`\n  },\n  default: (data) => processPacketDataForLogging(data)\n}\n\nconst getPacketIcon = (packet: PacketData): string => {\n  if (packet.isCustomChannel) return ''\n  if (packet.name.includes('position')) return ''\n  if (packet.name.includes('chat')) return ''\n  if (packet.name.includes('block') || packet.name.includes('chunk') || packet.name.includes('light')) return ''\n  if (packet.name.includes('entity') || packet.name.includes('player') || packet.name.includes('passenger')) return ''\n  return ''\n}\n\ninterface Props {\n  packets: PacketData[]\n  filter: string\n  maxHeight?: number\n}\n\nconst ROW_HEIGHT = 24\nconst EXPANDED_HEIGHT = 120\n\nfunction formatTimeDiff (current: number, prev: number | null): string {\n  if (prev === null) return ''\n  const diff = current - prev\n  return `+${Math.floor(diff / 1000)}`\n}\n\nconst styles = {\n  packetRow: {\n    height: ROW_HEIGHT,\n    padding: '0 8px',\n    fontSize: '12px',\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    cursor: 'pointer',\n    transition: 'background-color 0.1s'\n  } as const,\n  expandedPacket: {\n    height: EXPANDED_HEIGHT,\n    padding: '8px',\n    background: DARK_COLORS.input,\n    fontSize: '12px',\n    overflow: 'auto',\n    borderBottom: `1px solid ${DARK_COLORS.border}`\n  } as const\n}\n\nexport default function PacketList ({ packets, filter, maxHeight = 300 }: Props) {\n  const listRef = useRef<HTMLDivElement>(null)\n  const [expandedPacket, setExpandedPacket] = useState<number | null>(null)\n  const { scrollToBottom } = useScrollBehavior(listRef, { messages: packets, opened: true })\n\n  let prevTimestamp: number | null = null\n\n  return (\n    <>\n      <style>\n        {`\n          .packet-row:hover {\n            background: ${DARK_COLORS.hover} !important;\n          }\n        `}\n      </style>\n      <div\n        ref={listRef}\n        style={{\n          overflowY: 'auto',\n          height: maxHeight,\n          display: 'flex',\n          flexDirection: 'column'\n        }}\n      >\n        <div style={{ minHeight: '100%' }}>\n          {packets.map((packet, index) => {\n            const timeDiff = formatTimeDiff(packet.timestamp, prevTimestamp)\n            prevTimestamp = packet.timestamp\n            return (\n              <div key={`${packet.timestamp}-${packet.position}`}>\n                <div\n                  className=\"packet-row\"\n                  onClick={() => setExpandedPacket(expandedPacket === packet.position ? null : packet.position)}\n                  style={{\n                    ...styles.packetRow,\n                    background: packet.isFromClient ? DARK_COLORS.client : DARK_COLORS.server,\n                    opacity: packet.isUpcoming ? 0.5 : 1\n                  }}\n                >\n                  <span>{getPacketIcon(packet)}</span>\n                  <span style={{ color: DARK_COLORS.textDim }}>\n                    #{packet.position}\n                    {timeDiff && <span style={{ marginLeft: '4px' }}>{timeDiff}</span>}\n                  </span>\n                  {filter && (\n                    <span style={{ color: DARK_COLORS.textDim }}>#{index + 1}</span>\n                  )}\n                  <span style={{\n                    color: packet.actualVersion ? DARK_COLORS.modified : DARK_COLORS.text,\n                    fontWeight: 'bold'\n                  }}>\n                    {packet.name}\n                  </span>\n                  <span style={{ color: DARK_COLORS.textDim, flex: 1, overflow: 'hidden', textOverflow: 'ellipsis' }}>\n                    {formatters[packet.name]?.(packet.data) ?? formatters.default(packet.data)}\n                  </span>\n                </div>\n                {expandedPacket === packet.position && (\n                  <div style={styles.expandedPacket}>\n                    <div style={{ marginBottom: '8px' }}>\n                      <strong>Data:</strong>\n                      <pre style={{ margin: '4px 0', color: DARK_COLORS.textDim }}>\n                        {JSON.stringify(JSON.parse(formatters.default(packet.data)), null, 2)}\n                      </pre>\n                    </div>\n                    {packet.actualVersion && (\n                      <div>\n                        <strong>Actual Version:</strong>\n                        <pre style={{ margin: '4px 0', color: DARK_COLORS.textDim }}>\n                          {JSON.stringify(JSON.parse(formatters.default(packet.actualVersion)), null, 2)}\n                        </pre>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    </>\n  )\n}\n","import { DARK_COLORS } from './constants'\n\ninterface Props {\n  current: number\n  total: number\n}\n\nfunction padNumber (num: number): string {\n  return String(num).padStart(3, '0')\n}\n\nexport default function ProgressBar ({ current, total }: Props) {\n  return (\n    <div style={{ display: 'flex', alignItems: 'center', gap: '8px', flex: 1 }}>\n      <div style={{ color: DARK_COLORS.textDim, fontSize: '12px', minWidth: '70px' }}>\n        {padNumber(current)}/{padNumber(total)}\n      </div>\n      <div style={{\n        flex: 1,\n        height: '4px',\n        background: DARK_COLORS.border,\n        borderRadius: '2px'\n      }}>\n        <div\n          style={{\n            width: `${(current / total) * 100}%`,\n            height: '100%',\n            background: DARK_COLORS.text,\n            borderRadius: '2px',\n            transition: 'width 0.2s'\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { useSnapshot } from 'valtio'\nimport { filterPackets } from './packetsFilter'\nimport { DARK_COLORS } from './components/replay/constants'\nimport FilterInput from './components/replay/FilterInput'\nimport PacketList from './components/replay/PacketList'\nimport ProgressBar from './components/replay/ProgressBar'\nimport { packetsReplayState } from './state/packetsReplayState'\n\ninterface Props {\n  replayName: string\n  packets: readonly PacketData[]\n  isPlaying: boolean\n  progress: { current: number; total: number }\n  speed: number\n  defaultFilter?: string\n  customButtons: Readonly<Record<string, { state: boolean; label: string; tooltip?: string }>>\n  onPlayPause?: (isPlaying: boolean) => void\n  onRestart?: () => void\n  onSpeedChange?: (speed: number) => void\n  onFilterChange: (filter: string) => void\n  onCustomButtonToggle: (buttonId: string) => void\n  clientPacketsAutocomplete: string[]\n  serverPacketsAutocomplete: string[]\n  style?: React.CSSProperties\n}\n\nexport default function ReplayPanel ({\n  replayName,\n  packets,\n  isPlaying,\n  progress,\n  speed,\n  defaultFilter = '',\n  customButtons,\n  onPlayPause,\n  onRestart,\n  onSpeedChange,\n  onFilterChange,\n  onCustomButtonToggle,\n  clientPacketsAutocomplete,\n  serverPacketsAutocomplete,\n  style\n}: Props) {\n  const [filter, setFilter] = useState(defaultFilter)\n  const { isMinimized, isRecording } = useSnapshot(packetsReplayState)\n  const { filtered: filteredPackets, hiddenCount } = filterPackets(packets.slice(-500), filter)\n\n  useEffect(() => {\n    onFilterChange(filter)\n  }, [filter, onFilterChange])\n\n  const handlePlayPauseClick = () => {\n    if (isMinimized) {\n      packetsReplayState.isMinimized = false\n    } else {\n      onPlayPause?.(!isPlaying)\n    }\n  }\n\n  const playPauseButton = (\n    <button\n      onClick={handlePlayPauseClick}\n      style={{\n        background: 'none',\n        border: 'none',\n        cursor: 'pointer',\n        padding: '4px',\n        color: DARK_COLORS.text\n      }}\n    >\n      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n        {isRecording ? (\n          <circle cx=\"12\" cy=\"12\" r=\"8\" fill=\"red\" />\n        ) : isPlaying ? (\n          <path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"/>\n        ) : (\n          <path d=\"M8 5v14l11-7z\"/>\n        )}\n      </svg>\n    </button>\n  )\n\n  const baseContainerStyle = {\n    position: 'fixed',\n    top: 18,\n    right: 0,\n    zIndex: 1000,\n    background: DARK_COLORS.bg,\n    padding: '16px',\n    borderRadius: '0 0 8px 0',\n    boxShadow: '0 2px 8px rgba(0,0,0,0.3)',\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '12px',\n    color: DARK_COLORS.text,\n    ...style\n  } as const\n\n  if (isMinimized) {\n    return (\n      <div style={{\n        ...baseContainerStyle,\n        width: 'auto'\n      }}>\n        {playPauseButton}\n      </div>\n    )\n  }\n\n  return (\n    <div style={{\n      ...baseContainerStyle,\n      width: '400px',\n      maxHeight: '80vh'\n    }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <div style={{ fontSize: '12px', fontWeight: 'bold' }}>{replayName || 'Unnamed Replay'}</div>\n        <button\n          onClick={() => { packetsReplayState.isMinimized = true }}\n          style={{\n            background: 'none',\n            border: 'none',\n            color: DARK_COLORS.text,\n            cursor: 'pointer',\n            padding: '4px',\n            fontSize: '14px',\n            opacity: 0.7,\n            transition: 'opacity 0.2s'\n          }}\n          onMouseEnter={e => {\n            e.currentTarget.style.opacity = '1'\n          }}\n          onMouseLeave={e => {\n            e.currentTarget.style.opacity = '0.7'\n          }}\n        >\n          \n        </button>\n      </div>\n\n      <div style={{ fontSize: '8px', color: '#888888', marginTop: '-8px' }}>\n        {isRecording ? 'Recording packets...' : 'Integrated server emulation. Testing client...'}\n      </div>\n\n      <FilterInput\n        value={filter}\n        onChange={setFilter}\n        hiddenCount={hiddenCount}\n        shownCount={filteredPackets.length}\n        onClearFilter={() => setFilter('')}\n        clientPacketsAutocomplete={clientPacketsAutocomplete}\n        serverPacketsAutocomplete={serverPacketsAutocomplete}\n      />\n\n      <PacketList\n        packets={filteredPackets}\n        filter={filter}\n        maxHeight={300}\n      />\n\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: '8px',\n        // grayscale if recording\n        filter: isRecording ? 'grayscale(100%)' : 'none',\n        cursor: isRecording ? 'not-allowed' : 'default'\n      }}>\n        {playPauseButton}\n        <ProgressBar current={progress.current} total={progress.total} />\n      </div>\n\n      <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n        <button\n          onClick={onRestart}\n          style={{\n            padding: '4px 8px',\n            borderRadius: '4px',\n            border: `1px solid ${DARK_COLORS.border}`,\n            background: DARK_COLORS.input,\n            color: DARK_COLORS.text,\n            cursor: 'pointer'\n          }}\n        >\n          Restart\n        </button>\n\n        <input\n          type=\"number\"\n          value={speed}\n          onChange={e => onSpeedChange?.(Number(e.target.value))}\n          onContextMenu={e => {\n            e.preventDefault()\n            onSpeedChange?.(1)\n          }}\n          step={0.1}\n          min={0.1}\n          style={{\n            width: '60px',\n            padding: '4px',\n            border: `1px solid ${DARK_COLORS.border}`,\n            borderRadius: '4px',\n            background: DARK_COLORS.input,\n            color: DARK_COLORS.text\n          }}\n        />\n\n        {Object.entries(customButtons).map(([buttonId, { state, label, tooltip }]) => (\n          <button\n            key={buttonId}\n            onClick={() => onCustomButtonToggle(buttonId)}\n            title={tooltip}\n            style={{\n              padding: '4px 8px',\n              borderRadius: '4px',\n              border: `1px solid ${DARK_COLORS.border}`,\n              background: state\n                ? DARK_COLORS.client\n                : DARK_COLORS.input,\n              color: DARK_COLORS.text,\n              cursor: 'pointer',\n              minWidth: '32px'\n            }}\n          >\n            {label}\n          </button>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport interface PacketData {\n  name: string\n  data: any\n  isFromClient: boolean\n  isUpcoming: boolean\n  actualVersion?: any\n  position: number\n  timestamp: number\n  isCustomChannel?: boolean\n}\n","import { useSnapshot } from 'valtio'\nimport { useMemo } from 'react'\nimport { appQueryParams, updateQsParam } from '../appParams'\nimport { miscUiState } from '../globalState'\nimport { onChangeButtonState, packetsReplayState } from './state/packetsReplayState'\nimport ReplayPanel from './ReplayPanel'\n\nexport default function PacketsReplayProvider () {\n  const state = useSnapshot(packetsReplayState)\n  const { gameLoaded } = useSnapshot(miscUiState)\n\n  const autocomplete = useMemo(() => {\n    if (!loadedData) return\n    return {\n      client: Object.keys(loadedData.protocol.play.toClient.types).filter(a => a.startsWith('packet_')).map(a => a.slice('packet_'.length)),\n      server: Object.keys(loadedData.protocol.play.toServer.types).filter(a => a.startsWith('packet_')).map(a => a.slice('packet_'.length))\n    }\n  }, [gameLoaded])\n\n  if (!state.isOpen) return null\n\n  return (\n    <ReplayPanel\n      style={{\n        transform: 'scale(0.4)',\n        transformOrigin: 'top right'\n      }}\n      replayName={state.replayName}\n      packets={state.packetsPlayback}\n      isPlaying={state.isPlaying}\n      progress={state.progress}\n      speed={state.speed}\n      defaultFilter={appQueryParams.replayFilter ?? ''}\n      clientPacketsAutocomplete={autocomplete?.client ?? []}\n      serverPacketsAutocomplete={autocomplete?.server ?? []}\n      customButtons={state.customButtons}\n      onPlayPause={(isPlaying) => {\n        packetsReplayState.isPlaying = isPlaying\n      }}\n      onRestart={() => {\n        window.location.reload()\n      }}\n      onSpeedChange={(speed) => {\n        packetsReplayState.speed = speed\n        updateQsParam('replaySpeed', speed === 1 ? undefined : speed.toString())\n      }}\n      onFilterChange={(filter) => {\n        updateQsParam('replayFilter', filter)\n      }}\n      onCustomButtonToggle={(button) => {\n        onChangeButtonState(button as keyof typeof packetsReplayState.customButtons, !state.customButtons[button].state)\n      }}\n    />\n  )\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"hint_container\":\"hint_container-TtFMXH\",\"hintContainer\":\"hint_container-TtFMXH\",\"hint_text\":\"hint_text-sDZkR9\",\"hintText\":\"hint_text-sDZkR9\"};","import { useEffect, useState } from 'react'\nimport { useSnapshot } from 'valtio'\nimport { options } from '../optionsStorage'\nimport { activeModalStack } from '../globalState'\nimport { videoCursorInteraction } from '../customChannels'\n// import PixelartIcon, { pixelartIcons } from './PixelartIcon'\nimport styles from './TouchInteractionHint.module.css'\nimport { useUsingTouch } from './utilsApp'\nimport Button from './Button'\n\nexport default () => {\n  const usingTouch = useUsingTouch()\n  const modalStack = useSnapshot(activeModalStack)\n  const { touchInteractionType } = useSnapshot(options)\n  const [hintText, setHintText] = useState<string | null>(null)\n  const [entityName, setEntityName] = useState<string | null>(null)\n\n  useEffect(() => {\n    const update = () => {\n      const videoInteraction = videoCursorInteraction()\n      if (videoInteraction) {\n        setHintText(`Interact with video`)\n        setEntityName(null)\n      } else {\n        const cursorState = bot.mouse.getCursorState()\n        if (cursorState.entity) {\n          const name = cursorState.entity.displayName ?? cursorState.entity.name ?? 'Entity'\n          setHintText(`Attack ${name}`)\n          setEntityName(name)\n        } else {\n          setHintText(null)\n          setEntityName(null)\n        }\n      }\n    }\n\n    // Initial update\n    update()\n\n    // Subscribe to physics ticks\n    bot.on('physicsTick', update)\n\n    return () => {\n      bot?.removeListener('physicsTick', update)\n    }\n  }, [])\n\n  const handleUseButtonClick = (e: React.MouseEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n\n    document.dispatchEvent(new MouseEvent('mousedown', { button: 2 }))\n    bot.mouse.update()\n    document.dispatchEvent(new MouseEvent('mouseup', { button: 2 }))\n  }\n\n  if (!usingTouch || touchInteractionType !== 'classic' || modalStack.length > 0) return null\n  if (!hintText && !entityName) return null\n\n  // need to hide \"Use\" button if there isn't an entity name, but there is a hint text\n  if (!entityName) return null\n\n  return (\n    <div\n      className={`${styles.hint_container} interaction-hint`}\n    >\n      {/* temporary hide hint indicator and text */}\n      {/* <PixelartIcon iconName={pixelartIcons['sun-alt']} width={14} />\n      <span className={styles.hint_text}>{hintText || 'Attack entity'}</span> */}\n      <Button\n        onClick={handleUseButtonClick}\n      >\n        {`Use ${entityName}`}\n      </Button>\n    </div>\n  )\n}\n","import { proxy, useSnapshot } from 'valtio'\nimport PixelartIcon, { pixelartIcons } from './PixelartIcon'\n\nexport const voiceChatStatus = proxy({\n  active: false,\n  muted: false,\n  hasInputVoice: false,\n  isErrored: false,\n  isConnected: false,\n  isAlone: false,\n\n  isSharingScreen: false,\n})\n\nwindow.voiceChatStatus = voiceChatStatus\n\nconst Icon = () => {\n  return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n    <path fill=\"currentColor\" d=\"M9 14H8v-2h3v-1H8V9h3V8H8V6h3V5H8V3h1V2h1V1h4v1h1v1h1v2h-3v1h3v2h-3v1h3v2h-3v1h3v2h-1v1h-1v1h-4v-1H9z\" />\n    <path fill=\"currentColor\" d=\"M19 12v3h-1v2h-1v1h-2v1h-2v2h3v2H8v-2h3v-2H9v-1H7v-1H6v-2H5v-3h1v2h1v2h1v1h2v1h4v-1h2v-1h1v-2h1v-2z\" />\n  </svg>\n}\n\nexport default () => {\n  const SIZE = 48\n  const { active, muted, hasInputVoice, isSharingScreen, isConnected, isErrored, isAlone } = useSnapshot(voiceChatStatus)\n  if (!active) return null\n\n  const getRingColor = () => {\n    if (isErrored) return 'rgba(214, 4, 4, 0.5)' // red with opacity\n    if (isConnected) {\n      if (isAlone) return 'rgba(183, 255, 0, 0.5)' // lime yellow\n      return 'rgba(50, 205, 50, 0.5)' // green with opacity\n    }\n    return 'rgba(128, 128, 128, 0.5)' // gray with opacity\n  }\n\n  return (\n    <div\n      className='voice-chat-microphone'\n      onClick={() => {\n        // toggleMicrophoneMuted()\n      }}\n    >\n      <div style={{\n        position: 'fixed',\n        bottom: '20px',\n        zIndex: 10,\n        left: '20px',\n        width: SIZE,\n        height: SIZE,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        color: muted ? 'rgb(214 4 4)' : hasInputVoice ? '#32cd32' : '#ffffff',\n        border: `2px solid ${getRingColor()}`,\n        borderRadius: '50%',\n        boxShadow: '0 2px 8px rgba(0, 0, 0, 0.2)',\n        transition: 'background-color 0.2s ease',\n      }}>\n        <Icon />\n      </div>\n      {/* stop sharing screen */}\n      {isSharingScreen && <div style={{\n        position: 'fixed',\n        bottom: '20px',\n        left: '20px',\n        width: SIZE,\n        height: SIZE,\n        display: 'flex',\n        alignItems: 'center',\n      }}>\n        <PixelartIcon iconName={pixelartIcons.cast} /> Stop Sharing Screen\n      </div>}\n    </div>\n  )\n}\n","import { useMemo } from 'react'\nimport { useSnapshot } from 'valtio'\nimport { appQueryParams } from '../appParams'\nimport { ConnectOptions } from '../connect'\nimport { lastConnectOptions } from './AppStatusProvider'\nimport PixelartIcon, { pixelartIcons } from './PixelartIcon'\nimport { useIsModalActive } from './utilsApp'\nimport Button from './Button'\n\nconst VERTICAL_LAYOUT = false\n\nexport default () => {\n  const { ip, version, proxy, username, connectText } = appQueryParams\n  const isModalActive = useIsModalActive('only-connect-server')\n\n  if (!isModalActive) return null\n\n  const handleConnect = () => {\n    const connectOptions: ConnectOptions = {\n      username: username || '',\n      server: ip,\n      proxy,\n      botVersion: version,\n    }\n    window.dispatchEvent(new CustomEvent('connect', { detail: connectOptions }))\n  }\n\n  return (\n    <div style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      background: 'rgba(0, 0, 0, 0.25)',\n      zIndex: 1000,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }}>\n      <div style={{\n        display: 'flex',\n        gap: '40px',\n        alignItems: 'center',\n        background: 'rgba(0, 0, 0, 0.5)',\n        padding: VERTICAL_LAYOUT ? '15px 40px' : '25px',\n        // paddingRight: VERTICAL_LAYOUT ? '0' : '40px',\n        borderRadius: '5px',\n        flexDirection: VERTICAL_LAYOUT ? 'column' : 'row',\n      }}>\n        <div style={{\n          color: 'white',\n          fontSize: '13px'\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', marginBottom: '10px' }}>\n            <PixelartIcon iconName={pixelartIcons.server} width={16} />\n            <span style={{ marginLeft: '8px' }}>{ip}</span>\n            {proxy && <span style={{ marginLeft: '8px', color: 'lightgray' }}>({proxy})</span>}\n          </div>\n          <div style={{ display: 'flex', alignItems: 'center' }}>\n            <PixelartIcon iconName={pixelartIcons.user} width={16} />\n            <span style={{ marginLeft: '8px' }}>{username}</span>\n            {version && <span style={{ marginLeft: '8px', color: 'lightgray' }}>({version})</span>}\n          </div>\n        </div>\n        <Button\n          onClick={handleConnect}\n          style={{\n            width: 'auto',\n            padding: '0 12px',\n            transform: 'scale(1.4)',\n            transformOrigin: 'center'\n          }}\n        >\n          {connectText || 'Connect'}\n        </Button>\n      </div>\n    </div>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { options } from '../optionsStorage'\nimport { contro } from '../controls'\n\nexport default () => {\n  const [pressedKeys, setPressedKeys] = useState<Set<string>>(new Set())\n  const [actions, setActions] = useState<string[]>([])\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      setPressedKeys(prev => new Set([...prev, e.code]))\n    }\n\n    const handleKeyUp = (e: KeyboardEvent) => {\n      setPressedKeys(prev => {\n        const newSet = new Set(prev)\n        newSet.delete(e.code)\n        return newSet\n      })\n    }\n\n    const handleBlur = () => {\n      setPressedKeys(new Set())\n    }\n\n    const handleControTrigger = ({ command }) => {\n      setActions(prev => [...prev, command])\n    }\n\n    const handleControReleased = ({ command }) => {\n      setActions(prev => prev.filter(action => action !== command))\n    }\n\n    window.addEventListener('keydown', handleKeyDown)\n    window.addEventListener('keyup', handleKeyUp)\n    window.addEventListener('blur', handleBlur)\n\n    contro.on('trigger', handleControTrigger)\n    contro.on('release', handleControReleased)\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown)\n      window.removeEventListener('keyup', handleKeyUp)\n      window.removeEventListener('blur', handleBlur)\n      contro.off('trigger', handleControTrigger)\n      contro.off('released', handleControReleased)\n    }\n  }, [])\n\n  if (!options.debugContro) return null\n\n  return (\n    <div\n      className='debug-contro'\n      style={{\n        position: 'fixed',\n        right: 0,\n        top: '50%',\n        transform: 'translateY(-50%)',\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        padding: '8px',\n        fontFamily: 'monospace',\n        fontSize: '8px',\n        color: 'white',\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '4px',\n        zIndex: 2,\n      }}\n    >\n      <div>Keys: {[...pressedKeys].join(', ')}</div>\n      <div style={{ color: 'limegreen' }}>Actions: {actions.join(', ')}</div>\n    </div>\n  )\n}\n","import { useEffect, useRef, useState } from 'react'\nimport './LoadingChunks.css'\n\nexport interface ChunkDebug {\n  x: number // like -32\n  z: number // like -32\n  lines: string[]\n  sidebarLines: string[]\n  state: 'server-waiting' | 'order-queued' | 'client-waiting' | 'client-processing' | 'done-empty' | 'done'\n}\n\ninterface ProcessedChunk extends ChunkDebug {\n  relX: number\n  relZ: number\n  displayLines: string[]\n}\n\nconst stateColors: Record<ChunkDebug['state'], string> = {\n  'server-waiting': 'gray',\n  'order-queued': 'darkorange',\n  'client-waiting': 'yellow',\n  'client-processing': 'yellow',\n  'done-empty': 'darkgreen',\n  'done': 'limegreen',\n}\n\nexport default ({\n  chunks,\n  playerChunk,\n  maxDistance,\n  tileSize = 16,\n  fontSize = 5,\n}: {\n  chunks: ChunkDebug[]\n  playerChunk: { x: number, z: number }\n  maxDistance: number,\n  tileSize?: number\n  fontSize?: number\n}) => {\n  const [selectedChunk, setSelectedChunk] = useState<ProcessedChunk | null>(null)\n  const [showSidebar, setShowSidebar] = useState(false)\n\n  // Calculate grid dimensions based on maxDistance\n  const gridSize = maxDistance * 2 + 1\n  const centerIndex = maxDistance\n\n  // Process chunks to get only the last one for each position and within maxDistance\n  const processedChunks = chunks.reduce<Record<string, ProcessedChunk>>((acc, chunk) => {\n    const relX = Math.floor((chunk.x - playerChunk.x) / 16)\n    const relZ = Math.floor((chunk.z - playerChunk.z) / 16)\n\n    // Skip chunks outside maxDistance\n    if (Math.abs(relX) > maxDistance || Math.abs(relZ) > maxDistance) return acc\n\n    const key = `${chunk.x},${chunk.z}`\n    acc[key] = {\n      ...chunk,\n      relX,\n      relZ,\n      displayLines: [`${relX},${relZ} (${chunk.x},${chunk.z})`, ...chunk.lines]\n    }\n    return acc\n  }, {})\n\n  return (\n    <div style={{ display: 'flex', gap: '10px' }}>\n      <div style={{\n        display: 'grid',\n        gridTemplateColumns: `repeat(${gridSize}, 1fr)`,\n        gridTemplateRows: `repeat(${gridSize}, 1fr)`,\n        gap: 1,\n        // width: `${tileSize * gridSize}px`,\n        // height: `${tileSize * gridSize}px`,\n      }}>\n        {Array.from({ length: gridSize * gridSize }).map((_, i) => {\n          const relX = -maxDistance + (i % gridSize)\n          const relZ = -maxDistance + Math.floor(i / gridSize)\n          const x = playerChunk.x + relX * 16\n          const z = playerChunk.z + relZ * 16\n          const chunk = processedChunks[`${x},${z}`]\n\n          return (\n            <div\n              key={`${x},${z}`}\n              onClick={() => {\n                if (chunk) {\n                  setSelectedChunk(chunk)\n                  setShowSidebar(true)\n                }\n              }}\n              style={{\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                background: chunk ? stateColors[chunk.state] : 'black',\n                color: 'white',\n                fontSize: `${fontSize}px`,\n                cursor: chunk ? 'pointer' : 'default',\n                position: 'relative',\n                width: `${tileSize}px`,\n                flexDirection: 'column',\n                height: `${tileSize}px`,\n                padding: 1,\n                // pre-wrap\n                whiteSpace: 'pre',\n              }}\n            >\n              {relX}, {relZ}{'\\n'}\n              {chunk?.lines[0]}{'\\n'}\n              <span style={{ fontSize: `${fontSize * 0.8}px` }}>{chunk?.lines[1]}</span>\n            </div>\n          )\n        })}\n      </div>\n\n      {showSidebar && selectedChunk && (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '5px' }} className='text-select'>\n          {selectedChunk.displayLines.map((line, i) => (\n            <div key={i} style={{ fontSize: '10px', wordBreak: 'break-word' }}>\n              {line}\n            </div>\n          ))}\n          <div style={{ marginTop: '10px', fontSize: '10px', whiteSpace: 'pre', maxWidth: 100, }}>\n            <div>Sidebar Info:</div>\n            {selectedChunk.sidebarLines.map((line, i) => (\n              <div key={i}>{line}</div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { useUtilsEffect } from '@zardoy/react-util'\nimport { WorldRendererCommon } from 'renderer/viewer/lib/worldrendererCommon'\nimport { WorldRendererThree } from 'renderer/viewer/three/worldrendererThree'\nimport { Vec3 } from 'vec3'\nimport { generateSpiralMatrix } from 'flying-squid/dist/utils'\nimport Screen from './Screen'\nimport ChunksDebug, { ChunkDebug } from './ChunksDebug'\nimport { useIsModalActive } from './utilsApp'\n\nconst Inner = () => {\n  const [playerX, setPlayerX] = useState(Math.floor(worldView!.lastPos.x / 16) * 16)\n  const [playerZ, setPlayerZ] = useState(Math.floor(worldView!.lastPos.z / 16) * 16)\n  const [update, setUpdate] = useState(0)\n\n  useUtilsEffect(({ interval }) => {\n    const up = () => {\n      // setUpdate(u => u + 1)\n    }\n    bot.on('chunkColumnLoad', up)\n    interval(\n      500,\n      () => {\n        setPlayerX(Math.floor(worldView!.lastPos.x / 16) * 16)\n        setPlayerZ(Math.floor(worldView!.lastPos.z / 16) * 16)\n        setUpdate(u => u + 1)\n      }\n    )\n    return () => {\n      bot.removeListener('chunkColumnLoad', up)\n    }\n  }, [])\n\n  // Track first load time for all chunks\n  const allLoadTimes = Object.values(worldView!.debugChunksInfo)\n    .map(chunk => chunk?.loads[0]?.time ?? Infinity)\n    .filter(time => time !== Infinity)\n    .sort((a, b) => a - b)\n\n  const allSpiralChunks = Object.fromEntries(generateSpiralMatrix(worldView!.viewDistance).map(pos => [`${pos[0]},${pos[1]}`, pos]))\n\n  const mapChunk = (key: string, state: ChunkDebug['state']): ChunkDebug => {\n    const x = Number(key.split(',')[0])\n    const z = Number(key.split(',')[1])\n    const chunkX = Math.floor(x / 16)\n    const chunkZ = Math.floor(z / 16)\n\n    delete allSpiralChunks[`${chunkX},${chunkZ}`]\n    const chunk = worldView!.debugChunksInfo[key]\n    const firstLoadTime = chunk?.loads[0]?.time\n    const loadIndex = firstLoadTime ? allLoadTimes.indexOf(firstLoadTime) + 1 : 0\n    // const timeSinceFirstLoad = firstLoadTime ? firstLoadTime - allLoadTimes[0] : 0\n    const timeSinceFirstLoad = firstLoadTime ? firstLoadTime - allLoadTimes[0] : 0\n    let line = ''\n    let line2 = ''\n    if (loadIndex) {\n      line = `${loadIndex}`\n      line2 = `${timeSinceFirstLoad}ms`\n    }\n    if (chunk?.loads.length > 1) {\n      line += ` - ${chunk.loads.length}`\n    }\n\n    return {\n      x,\n      z,\n      state,\n      lines: [line, line2],\n      sidebarLines: [\n        `loads: ${chunk?.loads?.map(l => `${l.reason} ${l.dataLength} ${l.time}`).join('\\n')}`,\n        // `blockUpdates: ${chunk.blockUpdates}`,\n      ],\n    }\n  }\n\n  const chunksWaitingServer = Object.keys(worldView!.waitingSpiralChunksLoad).map(key => mapChunk(key, 'server-waiting'))\n\n  const world = globalThis.world as WorldRendererThree\n\n  const loadedSectionsChunks = Object.fromEntries(Object.keys(world.sectionObjects).map(sectionPos => {\n    const [x, y, z] = sectionPos.split(',').map(Number)\n    return [`${x},${z}`, true]\n  }))\n\n  const chunksWaitingClient = Object.keys(worldView!.loadedChunks).map(key => mapChunk(key, 'client-waiting'))\n\n  const clientProcessingChunks = Object.keys(world.loadedChunks).map(key => mapChunk(key, 'client-processing'))\n\n  const chunksDoneEmpty = Object.keys(world.finishedChunks)\n    .filter(chunkPos => !loadedSectionsChunks[chunkPos])\n    .map(key => mapChunk(key, 'done-empty'))\n\n  const chunksDone = Object.keys(world.finishedChunks).map(key => mapChunk(key, 'done'))\n\n\n  const chunksWaitingOrder = Object.values(allSpiralChunks).map(([x, z]) => {\n    const pos = new Vec3(x * 16, 0, z * 16)\n    if (bot.world.getColumnAt(pos) === null) return null\n    return mapChunk(`${pos.x},${pos.z}`, 'order-queued')\n  }).filter(a => !!a)\n\n  const allChunks = [\n    ...chunksWaitingServer,\n    ...chunksWaitingClient,\n    ...clientProcessingChunks,\n    ...chunksDone,\n    ...chunksDoneEmpty,\n    ...chunksWaitingOrder,\n  ]\n  return <Screen title={`Chunks Debug (avg: ${worldView!.lastChunkReceiveTimeAvg.toFixed(1)}ms)`}>\n    <ChunksDebug\n      chunks={allChunks}\n      playerChunk={{\n        x: playerX,\n        z: playerZ\n      }}\n      maxDistance={worldView!.viewDistance}\n      tileSize={32}\n      fontSize={8}\n    />\n  </Screen>\n}\n\nexport default () => {\n  const isActive = useIsModalActive('chunks-debug')\n  if (!isActive) return null\n\n  return <Inner />\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"debugResponseTimeIndicator\":\"debugResponseTimeIndicator-fgQAAT\"};","import { useEffect, useState } from 'react'\nimport { options } from '../../optionsStorage'\n\nimport styles from './DebugResponseTimeIndicator.module.css'\n\nexport default () => {\n  const [isPointerDown, setIsPointerDown] = useState(false)\n\n  useEffect(() => {\n    const handlePointerDown = () => {\n      setIsPointerDown(true)\n    }\n\n    const handlePointerUp = () => {\n      setIsPointerDown(false)\n    }\n\n    window.addEventListener('pointerdown', handlePointerDown)\n    window.addEventListener('pointerup', handlePointerUp)\n\n    return () => {\n      window.removeEventListener('pointerdown', handlePointerDown)\n      window.removeEventListener('pointerup', handlePointerUp)\n    }\n  }, [])\n\n  if (!('debugResponseTimeIndicator' in options) || !options.debugResponseTimeIndicator) return null\n\n  return isPointerDown ? (\n    <div className={styles.debugResponseTimeIndicator} />\n  ) : null\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"container\":\"container-fIXcRm\",\"column\":\"column-p5oTjN\",\"sliderGroup\":\"sliderGroup-bL4OLm\"};","import { WorldRendererCommon } from 'renderer/viewer/lib/worldrendererCommon'\nimport { useState } from 'react'\nimport { useSnapshot } from 'valtio'\nimport { options } from '../optionsStorage'\nimport Screen from './Screen'\nimport Button from './Button'\nimport Slider from './Slider'\nimport styles from './rendererDebugMenu.module.css'\n\nexport default () => {\n  const worldRenderer = window.world as WorldRendererCommon | undefined\n  return worldRenderer ? <RendererDebugMenu worldRenderer={worldRenderer} /> : null\n}\n\nconst RendererDebugMenu = ({ worldRenderer }: { worldRenderer: WorldRendererCommon }) => {\n  const { reactiveDebugParams } = worldRenderer\n  const { chunksRenderAboveEnabled, chunksRenderBelowEnabled, chunksRenderDistanceEnabled, chunksRenderAboveOverride, chunksRenderBelowOverride, chunksRenderDistanceOverride, stopRendering, disableEntities } = useSnapshot(reactiveDebugParams)\n\n  const { rendererPerfDebugOverlay } = useSnapshot(options)\n\n  // Helper to round values to nearest step\n  const roundToStep = (value: number, step: number) => Math.round(value / step) * step\n\n  if (!rendererPerfDebugOverlay) return null\n\n  return <div className={styles.container}>\n    <div className={styles.column}>\n      <h3>Rendering Controls</h3>\n      <Button\n        label={stopRendering ? 'Start Rendering' : 'Stop Rendering'}\n        onClick={() => { reactiveDebugParams.stopRendering = !reactiveDebugParams.stopRendering }}\n        overlayColor={stopRendering ? 'red' : undefined}\n      />\n      <Button\n        label={disableEntities ? 'Enable Entities' : 'Disable Entities'}\n        onClick={() => { reactiveDebugParams.disableEntities = !reactiveDebugParams.disableEntities }}\n        overlayColor={disableEntities ? 'red' : undefined}\n      />\n    </div>\n\n    <div className={styles.column}>\n      <h3>Chunks Render Settings</h3>\n      <div className={styles.sliderGroup}>\n        <Button\n          label={chunksRenderAboveEnabled ? 'Disable Above Override' : 'Enable Above Override'}\n          onClick={() => {\n            const newState = !chunksRenderAboveEnabled\n            reactiveDebugParams.chunksRenderAboveEnabled = newState\n            if (newState) { reactiveDebugParams.chunksRenderAboveOverride = 0 } else { reactiveDebugParams.chunksRenderAboveOverride = undefined }\n          }}\n        />\n        <Slider\n          label=\"Chunks Above\"\n          min={0}\n          max={256}\n          value={chunksRenderAboveOverride ?? 0}\n          style={{ width: '100%', }}\n          updateValue={(value) => {\n            const roundedValue = roundToStep(value, 16)\n            reactiveDebugParams.chunksRenderAboveOverride = roundedValue\n          }}\n          disabledReason={chunksRenderAboveEnabled ? undefined : 'Override not enabled'}\n          unit=\"\"\n          valueDisplay={roundToStep(reactiveDebugParams.chunksRenderAboveOverride ?? 0, 16)}\n        />\n      </div>\n\n      <div className={styles.sliderGroup}>\n        <Button\n          label={chunksRenderBelowEnabled ? 'Disable Below Override' : 'Enable Below Override'}\n          onClick={() => {\n            const newState = !chunksRenderBelowEnabled\n            reactiveDebugParams.chunksRenderBelowEnabled = newState\n            if (newState) { reactiveDebugParams.chunksRenderBelowOverride = 0 } else { reactiveDebugParams.chunksRenderBelowOverride = undefined }\n          }}\n        />\n        <Slider\n          label=\"Chunks Below\"\n          min={0}\n          max={256}\n          style={{ width: '100%', }}\n          value={chunksRenderBelowOverride ?? 0}\n          updateValue={(value) => {\n            const roundedValue = roundToStep(value, 16)\n            reactiveDebugParams.chunksRenderBelowOverride = roundedValue\n          }}\n          disabledReason={chunksRenderBelowEnabled ? undefined : 'Override not enabled'}\n          unit=\"\"\n          valueDisplay={roundToStep(reactiveDebugParams.chunksRenderBelowOverride ?? 0, 16)}\n        />\n      </div>\n\n      {/* <div className={styles.sliderGroup}>\n        <Button\n          label={chunksRenderDistanceEnabled ? 'Disable Distance Override' : 'Enable Distance Override'}\n          onClick={() => {\n            const newState = !chunksRenderDistanceEnabled\n            reactiveDebugParams.chunksRenderDistanceEnabled = newState\n            if (newState) { reactiveDebugParams.chunksRenderDistanceOverride = 8 } else { reactiveDebugParams.chunksRenderDistanceOverride = undefined }\n          }}\n        />\n        <Slider\n          label=\"Render Distance\"\n          min={1}\n          max={32}\n          style={{ width: '100%', }}\n          value={chunksRenderDistanceOverride ?? 8}\n          updateValue={(value) => {\n            const roundedValue = Math.round(value)\n            reactiveDebugParams.chunksRenderDistanceOverride = roundedValue\n          }}\n          disabledReason={chunksRenderDistanceEnabled ? undefined : 'Override not enabled'}\n          unit=\"\"\n          valueDisplay={Math.round(reactiveDebugParams.chunksRenderDistanceOverride ?? 8)}\n        />\n      </div> */}\n    </div>\n  </div>\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"modalScreen\":\"modalScreen-cClnsz\",\"container\":\"container-Rg_44M\",\"title\":\"title-HitmZQ\",\"contentWrapper\":\"contentWrapper-w4Sn_u\",\"subtitle\":\"subtitle-Wv3FAi\",\"paragraph\":\"paragraph-Adf60U\",\"list\":\"list-IohlzU\",\"listItem\":\"listItem-fv0jZx\",\"link\":\"link-wejgpx\",\"sectionTitle\":\"sectionTitle-f28VbG\",\"closeButton\":\"closeButton-Ii28Cv\",\"closeIcon\":\"closeIcon-UsO0rV\"};","import { hideCurrentModal } from '../globalState'\nimport { useIsModalActive } from './utilsApp'\nimport Screen from './Screen'\nimport PixelartIcon, { pixelartIcons } from './PixelartIcon'\nimport styles from './CreditsAboutModal.module.css'\n\nexport default () => {\n  const isModalActive = useIsModalActive('credits-about')\n\n  if (!isModalActive) return null\n\n  return (\n    <Screen\n      title=\"\"\n      backdrop\n      className={styles.modalScreen}>\n      <div className={styles.container}>\n        <h2 className={styles.title}>Minecraft Open Source JS Edition</h2>\n\n        <div className={styles.contentWrapper}>\n          <small className={styles.subtitle}><i>What if Minecraft was an online game?</i></small>\n          <p className={styles.paragraph}>\n            Hey! You are on the safest modern Minecraft clone rewritten in JavaScript. A huge amount of work has gone into this project to make it fast and complete, and many features would not be possible without these awesome people and projects:\n          </p>\n          <ul className={styles.list}>\n            <li className={styles.listItem}>- Everyone who provided awesome mods for the game</li>\n            <li className={styles.listItem}>- <span><a className={styles.link} href=\"https://discord.com/users/gen6442\" target=\"_blank\" rel=\"noopener noreferrer\">[Gen]</a></span> for rewriting the physics engine to be Grim-compliant</li>\n            <li className={styles.listItem}>- <span><a className={styles.link} href=\"https://viaversion.com/\" target=\"_blank\" rel=\"noopener noreferrer\">[ViaVersion]</a></span> for providing reliable sound id mappings</li>\n            <li className={styles.listItem}>- <span><a className={styles.link} href=\"https://github.com/BlueMap-Minecraft/BlueMap\" target=\"_blank\" rel=\"noopener noreferrer\">[Bluemap]</a></span> for providing block entity models like chest</li>\n            <li className={styles.listItem}>- <span><a className={styles.link} href=\"https://github.com/misode/deepslate\" target=\"_blank\" rel=\"noopener noreferrer\">[Deepslate]</a></span> for rendering 3d blocks in GUI (inventory)</li>\n            <li className={styles.listItem}>- <span><a className={styles.link} href=\"https://www.npmjs.com/package/skinview3d\" target=\"_blank\" rel=\"noopener noreferrer\">[skinview3d]</a></span> for rendering skins & player geometry</li>\n            <li className={styles.listItem}>- <span><a className={styles.link} href=\"https://github.com/atxi/Polymer\" target=\"_blank\" rel=\"noopener noreferrer\">[Polymer]</a></span> (c++ project) for providing fast & accurate server light implementation</li>\n          </ul>\n\n          <h3 className={styles.sectionTitle}>Current contributors:</h3>\n          <ul className={styles.list}>\n            <li className={styles.listItem}>- <span className={styles.link}><a className={styles.link} href=\"https://github.com/mgDentist\" target=\"_blank\" rel=\"noopener noreferrer\">Maxim Grigorev</a></span> - React UI & Core Developer Maintainer</li>\n            <li className={styles.listItem}>- And many more community contributors!</li>\n          </ul>\n\n          <button\n            className={styles.closeButton}\n            onClick={() => hideCurrentModal()}\n            aria-label=\"Close\"\n            type=\"button\"\n          >\n            <PixelartIcon\n              iconName={pixelartIcons.close}\n              width={12}\n              className={styles.closeIcon}\n            />\n          </button>\n        </div>\n      </div>\n    </Screen>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { useSnapshot } from 'valtio'\nimport { options } from '../optionsStorage'\nimport PixelartIcon, { pixelartIcons } from './PixelartIcon'\n\ninterface BatteryManager extends EventTarget {\n  charging: boolean\n  chargingTime: number\n  dischargingTime: number\n  level: number\n  addEventListener(type: 'chargingchange' | 'levelchange', listener: EventListener): void\n  removeEventListener(type: 'chargingchange' | 'levelchange', listener: EventListener): void\n}\n\ndeclare global {\n  interface Navigator {\n    getBattery(): Promise<BatteryManager>\n  }\n}\n\nexport default () => {\n  const [fullScreen, setFullScreen] = useState(false)\n  const { topRightTimeDisplay } = useSnapshot(options)\n  if (topRightTimeDisplay === 'never') return null\n  return <FullscreenTime />\n}\n\nconst FullscreenTime = () => {\n  const { topRightTimeDisplay } = useSnapshot(options)\n  const [fullScreen, setFullScreen] = useState(false)\n  const [time, setTime] = useState('')\n  const [batteryInfo, setBatteryInfo] = useState<{ level: number, charging: boolean } | null>(null)\n\n  useEffect(() => {\n    document.documentElement.addEventListener('fullscreenchange', () => {\n      setFullScreen(!!document.fullscreenElement)\n    })\n\n    // Update time every second\n    const updateTime = () => {\n      const now = new Date()\n      const hours = now.getHours().toString().padStart(2, '0')\n      const minutes = now.getMinutes().toString().padStart(2, '0')\n      setTime(`${hours}:${minutes}`)\n    }\n    updateTime()\n    const timeInterval = setInterval(updateTime, 1000)\n\n    // Get battery info if available\n    if ('getBattery' in navigator) {\n      void navigator.getBattery().then(battery => {\n        const updateBatteryInfo = () => {\n          setBatteryInfo({\n            level: Math.round(battery.level * 100),\n            charging: battery.charging\n          })\n        }\n        updateBatteryInfo()\n        battery.addEventListener('levelchange', updateBatteryInfo)\n        battery.addEventListener('chargingchange', updateBatteryInfo)\n        return () => {\n          battery.removeEventListener('levelchange', updateBatteryInfo)\n          battery.removeEventListener('chargingchange', updateBatteryInfo)\n        }\n      })\n    }\n\n    return () => {\n      clearInterval(timeInterval)\n    }\n  }, [])\n\n  if (topRightTimeDisplay === 'only-fullscreen' && !fullScreen) return null\n\n  return (\n    <div\n      className='top-right-time'\n      style={{\n        position: 'fixed',\n        top: 'env(safe-area-inset-top, 5px)',\n        right: 'env(safe-area-inset-right, 5px)',\n        display: 'flex',\n        alignItems: 'center',\n        gap: '4px',\n        padding: '1px 3px',\n        background: 'rgba(0, 0, 0, 0.75)',\n        borderRadius: '2px',\n        fontSize: 8,\n        color: 'white',\n        fontFamily: 'minecraft, mojangles, monospace',\n        zIndex: 1,\n        pointerEvents: 'none'\n      }}\n    >\n      <span>{time}</span>\n      {batteryInfo && (\n        <div style={{ display: 'flex', alignItems: 'center', gap: '2px' }}>\n          <PixelartIcon\n            iconName={getBatteryIcon(batteryInfo.level, batteryInfo.charging)}\n            styles={{ fontSize: 10 }}\n          />\n          <span>{batteryInfo.level}%</span>\n        </div>\n      )}\n    </div>\n  )\n}\n\nconst getBatteryIcon = (level: number, charging: boolean) => {\n  if (charging) return pixelartIcons['battery-charging']\n  if (level > 60) return pixelartIcons['battery-full']\n  if (level > 20) return pixelartIcons['battery-2']\n  if (level > 5) return pixelartIcons['battery-1']\n  return pixelartIcons['battery']\n}\n","import { useSnapshot } from 'valtio'\nimport { activeModalStack, hideCurrentModal } from '../globalState'\nimport { resolveStorageConflicts, getStorageConflicts } from './appStorageProvider'\nimport { useIsModalActive } from './utilsApp'\nimport Screen from './Screen'\nimport Button from './Button'\n\nconst formatTimestamp = (timestamp?: number) => {\n  if (!timestamp) return 'Unknown time'\n  return new Date(timestamp).toLocaleString()\n}\n\nexport default () => {\n  const isModalActive = useIsModalActive('storage-conflict')\n  const conflicts = getStorageConflicts()\n\n  if (!isModalActive/*  || conflicts.length === 0 */) return null\n\n  const clampText = (text: string) => {\n    if (typeof text !== 'string') text = JSON.stringify(text)\n    return text.length > 30 ? text.slice(0, 30) + '...' : text\n  }\n\n  const conflictText = conflicts.map(conflict => {\n    const localTime = formatTimestamp(conflict.localStorageTimestamp)\n    const cookieTime = formatTimestamp(conflict.cookieTimestamp)\n    return `${conflict.key}: LocalStorage (${localTime}, ${clampText(conflict.localStorageValue)}) vs Cookie (${cookieTime}, ${clampText(conflict.cookieValue)})`\n  }).join('\\n')\n\n  return (\n    <div\n    >\n      <div style={{\n        background: '#dcb58f',\n        border: '2px solid #654321',\n        padding: '20px',\n        margin: '10px',\n        color: '#FFFFFF',\n        fontFamily: 'minecraft, monospace',\n        textAlign: 'center',\n        zIndex: 1000,\n        position: 'fixed',\n        left: 0,\n        right: 0\n      }}>\n        <div style={{\n          fontSize: '16px',\n          fontWeight: 'bold',\n          color: '#000000',\n          marginBottom: '15px'\n        }}>\n          Data Conflict Found\n        </div>\n\n        <div style={{\n          fontSize: '12px',\n          marginBottom: '20px',\n          whiteSpace: 'pre-line',\n          // backgroundColor: 'rgba(0, 0, 0, 0.5)',\n          color: '#642323',\n          padding: '10px',\n          // border: '1px solid #654321'\n        }}>\n          You have conflicting data between localStorage (old) and cookies (new, domain-synced) for the following settings:\n          {'\\n\\n'}\n          {conflictText}\n          {'\\n\\n'}\n          Please choose which version to keep:\n        </div>\n\n        <div style={{ display: 'flex', gap: '10px', justifyContent: 'center', fontSize: '8px', color: 'black' }}>\n          <div\n            onClick={() => {\n              resolveStorageConflicts(true) // Use localStorage\n              hideCurrentModal()\n            }}\n            style={{\n              border: '1px solid #654321',\n              padding: '8px 16px',\n              cursor: 'pointer'\n            }}\n          >\n            Use Local Storage & Disable Cookie Sync\n          </div>\n\n          <div\n            onClick={() => {\n              resolveStorageConflicts(false) // Use cookies\n              hideCurrentModal()\n            }}\n            style={{\n              border: '1px solid #654321',\n              padding: '8px 16px',\n              cursor: 'pointer'\n            }}\n          >\n            Use Cookie Data & Remove Local Data\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","/* eslint-disable no-await-in-loop */\nimport { useSnapshot } from 'valtio'\nimport { useEffect, useState } from 'react'\nimport { getLoadedImage } from 'mc-assets/dist/utils'\nimport { createCanvas } from 'renderer/viewer/lib/utils'\n\nconst TEXTURE_UPDATE_INTERVAL = 100 // 5 times per second\n\nexport default () => {\n  const { onFire, perspective } = useSnapshot(appViewer.playerState.reactive)\n  const [fireTextures, setFireTextures] = useState<string[]>([])\n  const [currentTextureIndex, setCurrentTextureIndex] = useState(0)\n\n  useEffect(() => {\n    let animationFrameId: number\n    let lastTextureUpdate = 0\n\n    const updateTexture = (timestamp: number) => {\n      if (onFire && fireTextures.length > 0) {\n        if (timestamp - lastTextureUpdate >= TEXTURE_UPDATE_INTERVAL) {\n          setCurrentTextureIndex(prev => (prev + 1) % fireTextures.length)\n          lastTextureUpdate = timestamp\n        }\n      }\n      animationFrameId = requestAnimationFrame(updateTexture)\n    }\n\n    animationFrameId = requestAnimationFrame(updateTexture)\n    return () => cancelAnimationFrame(animationFrameId)\n  }, [onFire, fireTextures])\n\n  useEffect(() => {\n    const loadTextures = async () => {\n      const fireImageUrls: string[] = []\n\n      const { resourcesManager } = appViewer\n      const { blocksAtlasParser } = resourcesManager\n      if (!blocksAtlasParser?.atlas?.latest) {\n        console.warn('FireRenderer: Blocks atlas parser not available')\n        return\n      }\n\n      const keys = Object.keys(blocksAtlasParser.atlas.latest.textures).filter(key => /^fire_\\d+$/.exec(key))\n      for (const key of keys) {\n        const textureInfo = blocksAtlasParser.getTextureInfo(key) as { u: number, v: number, width?: number, height?: number }\n        if (textureInfo) {\n          const defaultSize = blocksAtlasParser.atlas.latest.tileSize\n          const imageWidth = blocksAtlasParser.atlas.latest.width\n          const imageHeight = blocksAtlasParser.atlas.latest.height\n          const textureWidth = textureInfo.width ?? defaultSize\n          const textureHeight = textureInfo.height ?? defaultSize\n\n          // Create a temporary canvas for the full texture\n          const tempCanvas = createCanvas(textureWidth, textureHeight)\n          const tempCtx = tempCanvas.getContext('2d')\n          if (tempCtx && blocksAtlasParser.latestImage) {\n            const image = await getLoadedImage(blocksAtlasParser.latestImage)\n            tempCtx.drawImage(\n              image,\n              textureInfo.u * imageWidth,\n              textureInfo.v * imageHeight,\n              textureWidth,\n              textureHeight,\n              0,\n              0,\n              textureWidth,\n              textureHeight\n            )\n\n            // Create final canvas with only top 20% of the texture\n            const finalHeight = Math.ceil(textureHeight * 0.4)\n            const canvas = createCanvas(textureWidth, finalHeight)\n            const ctx = canvas.getContext('2d')\n            if (ctx) {\n              // Draw only the top portion\n              ctx.drawImage(\n                tempCanvas,\n                0,\n                0, // Start from top\n                textureWidth,\n                finalHeight,\n                0,\n                0,\n                textureWidth,\n                finalHeight\n              )\n\n              const blob = await canvas.convertToBlob()\n              const url = URL.createObjectURL(blob)\n              fireImageUrls.push(url)\n            }\n          }\n        }\n      }\n\n      setFireTextures(fireImageUrls)\n    }\n\n    // Load textures initially\n    if (appViewer.resourcesManager.currentResources) {\n      void loadTextures()\n    }\n\n    // Set up listener for texture updates\n    const onAssetsUpdated = () => {\n      void loadTextures()\n    }\n    appViewer.resourcesManager.on('assetsTexturesUpdated', onAssetsUpdated)\n\n    // Cleanup\n    return () => {\n      appViewer.resourcesManager.off('assetsTexturesUpdated', onAssetsUpdated)\n      // Cleanup texture URLs\n      for (const url of fireTextures) URL.revokeObjectURL(url)\n    }\n  }, [])\n\n  if (!onFire || fireTextures.length === 0 || perspective !== 'first_person') return null\n\n  return (\n    <div\n      className='fire-renderer-container'\n      style={{\n        position: 'fixed',\n        left: 0,\n        right: 0,\n        bottom: 0,\n        height: '20dvh',\n        pointerEvents: 'none',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'flex-end',\n        overflow: 'hidden',\n        zIndex: -1\n      }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          width: '100%',\n          height: '100%',\n          backgroundImage: `url(${fireTextures[currentTextureIndex]})`,\n          backgroundSize: '50% 100%',\n          backgroundPosition: 'center',\n          backgroundRepeat: 'repeat-x',\n          opacity: 0.7,\n          filter: 'brightness(1.2) contrast(1.2)',\n          mixBlendMode: 'screen'\n        }}\n      />\n    </div>\n  )\n}\n","import { proxy, useSnapshot } from 'valtio'\nimport { useEffect } from 'react'\nimport { Editor } from '@monaco-editor/react'\nimport PixelartIcon, { pixelartIcons } from '../react/PixelartIcon'\nimport { useIsModalActive } from '../react/utilsApp'\nimport { showNotification } from '../react/NotificationProvider'\nimport { hideModal, showModal } from '../globalState'\nimport { ideState, saveIde } from '../core/ideChannels'\nimport './MonacoEditor.css'\n\nexport default () => {\n  const { contents, line, column, id, language, title } = useSnapshot(ideState)\n  const isModalActive = useIsModalActive('monaco-editor')\n  const bodyFont = getComputedStyle(document.body).fontFamily\n\n  useEffect(() => {\n    if (id && !isModalActive) {\n      showModal({ reactType: 'monaco-editor' })\n    }\n    if (!id && isModalActive) {\n      hideModal()\n    }\n  }, [id])\n\n  useEffect(() => {\n    if (!isModalActive && id) {\n      try {\n        saveIde()\n      } catch (err) {\n        reportError(err)\n        showNotification('Failed to save the editor', 'Please try again', true)\n      }\n      ideState.id = ''\n      ideState.contents = ''\n    }\n  }, [isModalActive])\n\n  if (!isModalActive) return null\n\n  return <div className=\"monaco-editor-container\">\n    <div className=\"monaco-editor-close\">\n      <PixelartIcon\n        iconName={pixelartIcons.close}\n        width={26}\n        onClick={() => {\n          hideModal()\n        }}\n      />\n    </div>\n    <div className=\"monaco-editor-title\">\n      {title}\n    </div>\n    <div className=\"monaco-editor-wrapper\">\n      <Editor\n        height=\"100%\"\n        width=\"100%\"\n        language={language}\n        theme='vs-dark'\n        line={line}\n        onChange={(value) => {\n          ideState.contents = value ?? ''\n        }}\n        value={contents}\n        options={{\n          fontFamily: bodyFont,\n          minimap: {\n            enabled: true,\n          },\n        }}\n      />\n    </div>\n  </div>\n}\n","import { promisify } from 'util'\nimport fs from 'fs'\nimport * as nbt from 'prismarine-nbt'\nimport RegionFile from 'prismarine-provider-anvil/src/region'\nimport { versions } from 'minecraft-data'\nimport { getThreeJsRendererMethods } from 'renderer/viewer/three/threeJsMethods'\nimport { openWorldDirectory, openWorldZip } from './browserfs'\nimport { isGameActive } from './globalState'\nimport { showNotification } from './react/NotificationProvider'\nimport { openFile, VALID_REPLAY_EXTENSIONS } from './packetsReplay/replayPackets'\n\nconst parseNbt = promisify(nbt.parse)\nconst simplifyNbt = nbt.simplify\nwindow.nbt = nbt\n\n// Supported image types for skybox\nconst VALID_IMAGE_EXTENSIONS = ['.png', '.jpg', '.jpeg', '.webp']\n\n// todo display drop zone\nfor (const event of ['drag', 'dragstart', 'dragend', 'dragover', 'dragenter', 'dragleave', 'drop']) {\n  window.addEventListener(event, (e: any) => {\n    if (e.dataTransfer && !e.dataTransfer.types.includes('Files')) {\n      // e.dataTransfer.effectAllowed = \"none\"\n      return\n    }\n    e.preventDefault()\n  })\n}\nwindow.addEventListener('drop', async e => {\n  if (!e.dataTransfer?.files.length) return\n  const { items } = e.dataTransfer\n  const item = items[0]\n  if (item.getAsFileSystemHandle) {\n    const filehandle = await item.getAsFileSystemHandle() as FileSystemFileHandle | FileSystemDirectoryHandle\n    if (filehandle.kind === 'file') {\n      const file = await filehandle.getFile()\n\n      await handleDroppedFile(file)\n    } else {\n      if (isGameActive(false)) {\n        alert('Exit current world first, before loading a new one.')\n        return\n      }\n      await openWorldDirectory(filehandle)\n    }\n  } else {\n    await handleDroppedFile(item.getAsFile()!)\n  }\n})\n\nasync function handleDroppedFile (file: File) {\n  // Check for image files first when game is active\n  if (isGameActive(false) && VALID_IMAGE_EXTENSIONS.some(ext => file.name.toLowerCase().endsWith(ext))) {\n    try {\n      // Convert image to base64\n      const reader = new FileReader()\n      const base64Promise = new Promise<string>((resolve, reject) => {\n        reader.onload = () => resolve(reader.result as string)\n        reader.onerror = reject\n      })\n      reader.readAsDataURL(file)\n      const base64Image = await base64Promise\n\n      // Get ThreeJS backend methods and update skybox\n      const setSkyboxImage = getThreeJsRendererMethods()?.setSkyboxImage\n      if (setSkyboxImage) {\n        await setSkyboxImage(base64Image)\n        showNotification('Skybox updated successfully')\n      } else {\n        showNotification('Cannot update skybox - renderer does not support it')\n      }\n      return\n    } catch (err) {\n      console.error('Failed to update skybox:', err)\n      showNotification('Failed to update skybox', 'error')\n      return\n    }\n  }\n\n  if (file.name.endsWith('.zip')) {\n    void openWorldZip(file)\n    return\n  }\n  // if (file.name.endsWith('.mca')) // TODO let's do something interesting with it: viewer?\n  if (file.name.endsWith('.rar')) {\n    alert('Rar files are not supported yet!')\n    return\n  }\n  if (VALID_REPLAY_EXTENSIONS.some(ext => file.name.endsWith(ext)) || file.name.startsWith('packets-replay')) {\n    const contents = await file.text()\n    openFile({\n      contents,\n      filename: file.name,\n      filesize: file.size\n    })\n    return\n  }\n  if (file.name.endsWith('.mca')) {\n    const tempPath = '/temp/temp.mca'\n    try {\n      await fs.promises.writeFile(tempPath, Buffer.from(await file.arrayBuffer()) as any)\n      const region = new RegionFile(tempPath)\n      await region.initialize()\n      const chunks: Record<string, any> = {}\n      console.log('Reading chunks...')\n      console.log(chunks)\n      let versionDetected = false\n      for (const [i, _] of Array.from({ length: 32 }).entries()) {\n        for (const [k, _] of Array.from({ length: 32 }).entries()) {\n          // todo, may use faster reading, but features is not commonly used\n          // eslint-disable-next-line no-await-in-loop\n          const nbt = await region.read(i, k)\n          chunks[`${i},${k}`] = nbt\n          if (nbt && !versionDetected) {\n            const simplified = simplifyNbt(nbt)\n            const version = versions.pc.find(x => x['dataVersion'] === simplified.DataVersion)?.minecraftVersion\n            console.log('Detected version', version ?? 'unknown')\n            versionDetected = true\n          }\n        }\n      }\n      Object.defineProperty(chunks, 'simplified', {\n        get () {\n          const mapped = {}\n          for (const [i, _] of Array.from({ length: 32 }).entries()) {\n            for (const [k, _] of Array.from({ length: 32 }).entries()) {\n              const key = `${i},${k}`\n              const chunk = chunks[key]\n              if (!chunk) continue\n              mapped[key] = simplifyNbt(chunk)\n            }\n          }\n          return mapped\n        },\n      })\n      console.log('Done!', chunks)\n    } finally {\n      await fs.promises.unlink(tempPath)\n    }\n    return\n  }\n\n  const buffer = await file.arrayBuffer()\n  const parsed = await parseNbt(Buffer.from(buffer)).catch((err) => {\n    alert('Couldn\\'t parse nbt, ensure you are opening .dat or file (or .zip/folder with a world)')\n    throw err\n  })\n  showNotification(`${file.name} data available in browser console`)\n  console.log('raw', parsed)\n  console.log('simplified', nbt.simplify(parsed))\n}\n","import { LocalServer } from './customServer'\n\nconst { createMCServer } = require('flying-squid/dist')\n\nexport const startLocalServer = (serverOptions) => {\n  const passOptions = { ...serverOptions, Server: LocalServer }\n  const server: NonNullable<typeof localServer> = createMCServer(passOptions)\n  server.formatMessage = (message) => `[server] ${message}`\n  server.options = passOptions\n  //@ts-expect-error todo remove\n  server.looseProtocolMode = true\n  return server\n}\n\n// features that flying-squid doesn't support at all\n// todo move & generate in flying-squid\nexport const unsupportedLocalServerFeatures = ['transactionPacketExists', 'teleportUsesOwnPacket']\n","import { ref } from 'valtio'\nimport { watchUnloadForCleanup } from './gameUnload'\n\nlet inWater = false\n\ncustomEvents.on('gameLoaded', () => {\n  const cleanup = () => {\n    appViewer.playerState.reactive.inWater = false\n  }\n  watchUnloadForCleanup(cleanup)\n\n  const updateInWater = () => {\n    const waterBr = Object.keys(bot.entity.effects).find((effect: any) => loadedData.effects[effect.id]?.name === 'water_breathing')\n    if (inWater) {\n      appViewer.playerState.reactive.inWater = true\n      appViewer.playerState.reactive.waterBreathing = waterBr !== undefined\n    } else {\n      cleanup()\n    }\n    updateBackground()\n  }\n  bot.on('physicsTick', () => {\n    // todo\n    const _inWater = bot.world.getBlock(bot.entity.position.offset(0, 1, 0))?.name === 'water'\n    if (_inWater !== inWater) {\n      inWater = _inWater\n      updateInWater()\n    }\n  })\n})\n\nlet sceneBg = { r: 0, g: 0, b: 0 }\nexport const updateBackground = (newSceneBg = sceneBg) => {\n  sceneBg = newSceneBg\n  const color: [number, number, number] = inWater ? [0, 0, 1] : [sceneBg.r, sceneBg.g, sceneBg.b]\n  appViewer.playerState.reactive.backgroundColor = ref(color)\n}\n","import { options } from './optionsStorage'\nimport { assertDefined } from './utils'\nimport { updateBackground } from './water'\n\nexport default () => {\n  const timeUpdated = () => {\n    // 0 morning\n    const dayTotal = 24_000\n    const evening = 11_500\n    const night = 13_500\n    const morningStart = 23_000\n    const morningEnd = 23_961\n    const timeProgress = options.dayCycleAndLighting ? bot.time.timeOfDay : 0\n\n    // todo check actual colors\n    const dayColorRainy = { r: 111 / 255, g: 156 / 255, b: 236 / 255 }\n    // todo yes, we should make animations (and rain)\n    // eslint-disable-next-line unicorn/numeric-separators-style\n    const dayColor = bot.isRaining ? dayColorRainy : { r: 0.6784313725490196, g: 0.8470588235294118, b: 0.9019607843137255 } // lightblue\n    // let newColor = dayColor\n    let int = 1\n    if (timeProgress < evening) {\n      // stay dayily\n    } else if (timeProgress < night) {\n      const progressNorm = timeProgress - evening\n      const progressMax = night - evening\n      int = 1 - progressNorm / progressMax\n    } else if (timeProgress < morningStart) {\n      int = 0\n    } else if (timeProgress < morningEnd) {\n      const progressNorm = timeProgress - morningStart\n      const progressMax = night - morningEnd\n      int = progressNorm / progressMax\n    }\n    // todo need to think wisely how to set these values & also move directional light around!\n    const colorInt = Math.max(int, 0.1)\n    updateBackground({ r: dayColor.r * colorInt, g: dayColor.g * colorInt, b: dayColor.b * colorInt })\n    if (!options.newVersionsLighting && bot.supportFeature('blockStateId')) {\n      appViewer.playerState.reactive.ambientLight = Math.max(int, 0.25)\n      appViewer.playerState.reactive.directionalLight = Math.min(int, 0.5)\n    }\n  }\n\n  bot.on('time', timeUpdated)\n  timeUpdated()\n}\n","import { isCypress } from './standaloneUtils'\n\n// might not resolve at all\nexport const registerServiceWorker = async () => {\n  if (!('serviceWorker' in navigator) || process.env.SINGLE_FILE_BUILD) return\n  if (process.env.DISABLE_SERVICE_WORKER) return\n  if (!isCypress() && process.env.NODE_ENV !== 'development') {\n    return new Promise<void>(resolve => {\n      window.addEventListener('load', async () => {\n        await navigator.serviceWorker.register('./service-worker.js').then(registration => {\n          console.log('SW registered:', registration)\n          resolve()\n        }).catch(registrationError => {\n          console.log('SW registration failed:', registrationError)\n        })\n      })\n    })\n  } else {\n    // force unregister service worker in development mode\n    const registrations = await navigator.serviceWorker.getRegistrations()\n    for (const registration of registrations) {\n      await registration.unregister() // eslint-disable-line no-await-in-loop\n    }\n    if (registrations.length) {\n      location.reload()\n    }\n  }\n}\n","import { subscribeKey } from 'valtio/utils'\nimport { gameAdditionalState } from './globalState'\nimport { options } from './optionsStorage'\nimport { playerState } from './mineflayer/playerState'\n\nlet currentFov = 0\nlet targetFov = 0\nlet lastUpdateTime = 0\nconst FOV_TRANSITION_DURATION = 200 // milliseconds\n\n// TODO: These should be configured based on your game's settings\nconst BASE_MOVEMENT_SPEED = 0.1 // Default walking speed in Minecraft\nconst FOV_EFFECT_SCALE = 1 // Equivalent to Minecraft's FOV Effects slider\n\nconst updateFovAnimation = () => {\n  if (!playerState.ready) return\n\n  // Calculate base FOV modifier\n  let fovModifier = 1\n\n  // Flying modifier\n  if (gameAdditionalState.isFlying) {\n    fovModifier *= 1.05\n  }\n\n  // Movement speed modifier\n  // TODO: Get actual movement speed attribute value\n  const movementSpeedAttr = (bot.entity?.attributes?.['generic.movement_speed'] || bot.entity?.attributes?.['minecraft:movement_speed'] || bot.entity?.attributes?.['movement_speed'] || bot.entity?.attributes?.['minecraft:movementSpeed'])?.value || BASE_MOVEMENT_SPEED\n  let currentSpeed = BASE_MOVEMENT_SPEED\n  // todo\n  if (bot.controlState?.sprint && !bot.controlState?.sneak) {\n    currentSpeed *= 1.3\n  }\n  fovModifier *= (currentSpeed / movementSpeedAttr + 1) / 2\n\n  // Validate fov modifier\n  if (Math.abs(BASE_MOVEMENT_SPEED) < Number.EPSILON || isNaN(fovModifier) || !isFinite(fovModifier)) {\n    fovModifier = 1\n  }\n\n  // Item usage modifier\n  if (playerState.reactive.heldItemMain) {\n    const heldItem = playerState.reactive.heldItemMain\n    if (heldItem?.name === 'bow' && playerState.reactive.itemUsageTicks > 0) {\n      const ticksUsingItem = playerState.reactive.itemUsageTicks\n      let usageProgress = ticksUsingItem / 20\n      if (usageProgress > 1) {\n        usageProgress = 1\n      } else {\n        usageProgress *= usageProgress\n      }\n      fovModifier *= 1 - usageProgress * 0.15\n    }\n    // TODO: Add spyglass/scope check here if needed\n  }\n\n  // Apply FOV effect scale\n  fovModifier = 1 + (fovModifier - 1) * FOV_EFFECT_SCALE\n\n  // Calculate target FOV\n  const baseFov = gameAdditionalState.isZooming ? 30 : options.fov\n  targetFov = baseFov * fovModifier\n\n  // Smooth transition\n  const now = performance.now()\n  if (currentFov !== targetFov) {\n    const elapsed = now - lastUpdateTime\n    const progress = Math.min(elapsed / FOV_TRANSITION_DURATION, 1)\n    const easeOutCubic = (t: number) => 1 - (1 - t) ** 3\n\n    currentFov += (targetFov - currentFov) * easeOutCubic(progress)\n\n    if (Math.abs(currentFov - targetFov) < 0.01) {\n      currentFov = targetFov\n    }\n\n    appViewer.inWorldRenderingConfig.fov = currentFov\n  }\n  lastUpdateTime = now\n}\n\nexport const watchFov = () => {\n  // Initial FOV setup\n  if (!beforeRenderFrame.includes(updateFovAnimation)) {\n    beforeRenderFrame.push(updateFovAnimation)\n  }\n\n  customEvents.on('gameLoaded', () => {\n    updateFovAnimation()\n  })\n}\n","import { saveServer } from './flyingSquidUtils'\nimport { watchUnloadForCleanup } from './gameUnload'\nimport { showModal } from './globalState'\nimport { options } from './optionsStorage'\nimport { chatInputValueGlobal } from './react/Chat'\nimport { showNotification } from './react/NotificationProvider'\n\nexport default () => {\n  localServer!.on('warpsLoaded', () => {\n    if (!localServer) return\n    showNotification(`${localServer.warps.length} Warps loaded`, 'Use /warp <name> to teleport to a warp point.', false, 'label-alt', () => {\n      chatInputValueGlobal.value = '/warp '\n      showModal({ reactType: 'chat' })\n    })\n  })\n\n  if (options.singleplayerAutoSave) {\n    const autoSaveInterval = setInterval(() => {\n      if (options.singleplayerAutoSave) {\n        void saveServer(true)\n      }\n    }, 2000)\n    watchUnloadForCleanup(() => {\n      clearInterval(autoSaveInterval)\n    })\n  }\n}\n","import { isMobile } from 'renderer/viewer/lib/simpleUtils'\n\nif (process.env.NODE_ENV === 'development') {\n  // mobile devtools\n  if (isMobile()) {\n    // can be changed to require('eruda')\n    //@ts-expect-error\n    void import('https://cdn.skypack.dev/eruda').then(({ default: eruda }) => eruda.init())\n  }\n}\nconsole.log('JS Loaded in', Date.now() - window.startLoad)\n","/* eslint-disable guard-for-in */\n\n// todo refactor into its own commons module\nimport { EventEmitter } from 'events'\nimport { generateSpiralMatrix, ViewRect } from 'flying-squid/dist/utils'\nimport { Vec3 } from 'vec3'\nimport { BotEvents } from 'mineflayer'\nimport { proxy } from 'valtio'\nimport TypedEmitter from 'typed-emitter'\nimport { delayedIterator } from '../../playground/shared'\nimport { chunkPos } from './simpleUtils'\n\nexport type ChunkPosKey = string // like '16,16'\ntype ChunkPos = { x: number, z: number } // like { x: 16, z: 16 }\n\nexport type WorldDataEmitterEvents = {\n  chunkPosUpdate: (data: { pos: Vec3 }) => void\n  blockUpdate: (data: { pos: Vec3, stateId: number }) => void\n  entity: (data: any) => void\n  entityMoved: (data: any) => void\n  playerEntity: (data: any) => void\n  time: (data: number) => void\n  renderDistance: (viewDistance: number) => void\n  blockEntities: (data: Record<string, any> | { blockEntities: Record<string, any> }) => void\n  markAsLoaded: (data: { x: number, z: number }) => void\n  unloadChunk: (data: { x: number, z: number }) => void\n  loadChunk: (data: { x: number, z: number, chunk: string, blockEntities: any, worldConfig: any, isLightUpdate: boolean }) => void\n  updateLight: (data: { pos: Vec3 }) => void\n  onWorldSwitch: () => void\n  end: () => void\n}\n\nexport class WorldDataEmitterWorker extends (EventEmitter as new () => TypedEmitter<WorldDataEmitterEvents>) {\n  static readonly restorerName = 'WorldDataEmitterWorker'\n}\n\nexport class WorldDataEmitter extends (EventEmitter as new () => TypedEmitter<WorldDataEmitterEvents>) {\n  spiralNumber = 0\n  gotPanicLastTime = false\n  panicChunksReload = () => {}\n  loadedChunks: Record<ChunkPosKey, boolean>\n  private inLoading = false\n  private chunkReceiveTimes: number[] = []\n  private lastChunkReceiveTime = 0\n  public lastChunkReceiveTimeAvg = 0\n  private panicTimeout?: NodeJS.Timeout\n  readonly lastPos: Vec3\n  private eventListeners: Record<string, any> = {}\n  private readonly emitter: WorldDataEmitter\n  debugChunksInfo: Record<ChunkPosKey, {\n    loads: Array<{\n      dataLength: number\n      reason: string\n      time: number\n    }>\n    // blockUpdates: number\n  }> = {}\n\n  waitingSpiralChunksLoad = {} as Record<ChunkPosKey, (value: boolean) => void>\n\n  addWaitTime = 1\n  /* config */ keepChunksDistance = 0\n  /* config */ isPlayground = false\n  /* config */ allowPositionUpdate = true\n\n  constructor (public world: typeof __type_bot['world'], public viewDistance: number, position: Vec3 = new Vec3(0, 0, 0)) {\n    // eslint-disable-next-line constructor-super\n    super()\n    this.loadedChunks = {}\n    this.lastPos = new Vec3(0, 0, 0).update(position)\n    // todo\n    this.emitter = this\n  }\n\n  setBlockStateId (position: Vec3, stateId: number) {\n    const val = this.world.setBlockStateId(position, stateId) as Promise<void> | void\n    if (val) throw new Error('setBlockStateId returned promise (not supported)')\n    // const chunkX = Math.floor(position.x / 16)\n    // const chunkZ = Math.floor(position.z / 16)\n    // if (!this.loadedChunks[`${chunkX},${chunkZ}`] && !this.waitingSpiralChunksLoad[`${chunkX},${chunkZ}`]) {\n    //   void this.loadChunk({ x: chunkX, z: chunkZ })\n    //   return\n    // }\n\n    this.emit('blockUpdate', { pos: position, stateId })\n  }\n\n  updateViewDistance (viewDistance: number) {\n    this.viewDistance = viewDistance\n    this.emitter.emit('renderDistance', viewDistance)\n  }\n\n  listenToBot (bot: typeof __type_bot) {\n    const entitiesObjectData = new Map<string, number>()\n    bot._client.prependListener('spawn_entity', (data) => {\n      if (data.objectData && data.entityId !== undefined) {\n        entitiesObjectData.set(data.entityId, data.objectData)\n      }\n    })\n\n    const emitEntity = (e, name = 'entity') => {\n      if (!e) return\n      if (e === bot.entity) {\n        if (name === 'entity') {\n          this.emitter.emit('playerEntity', e)\n        }\n        return\n      }\n      if (!e.name) return // mineflayer received update for not spawned entity\n      e.objectData = entitiesObjectData.get(e.id)\n      this.emitter.emit(name as any, {\n        ...e,\n        pos: e.position,\n        username: e.username,\n        team: bot.teamMap[e.username] || bot.teamMap[e.uuid],\n        // set debugTree (obj) {\n        //   e.debugTree = obj\n        // }\n      })\n    }\n\n    this.eventListeners = {\n      // 'move': botPosition,\n      entitySpawn (e: any) {\n        if (e.name === 'item_frame' || e.name === 'glow_item_frame') {\n          // Item frames use block positions in the protocol, not their center. Fix that.\n          e.position.translate(0.5, 0.5, 0.5)\n        }\n        emitEntity(e)\n      },\n      entityUpdate (e: any) {\n        emitEntity(e)\n      },\n      entityEquip (e: any) {\n        emitEntity(e)\n      },\n      entityMoved (e: any) {\n        emitEntity(e, 'entityMoved')\n      },\n      entityGone: (e: any) => {\n        this.emitter.emit('entity', { id: e.id, delete: true })\n      },\n      chunkColumnLoad: (pos: Vec3) => {\n        const now = performance.now()\n        if (this.lastChunkReceiveTime) {\n          this.chunkReceiveTimes.push(now - this.lastChunkReceiveTime)\n        }\n        this.lastChunkReceiveTime = now\n\n        if (this.waitingSpiralChunksLoad[`${pos.x},${pos.z}`]) {\n          this.waitingSpiralChunksLoad[`${pos.x},${pos.z}`](true)\n          delete this.waitingSpiralChunksLoad[`${pos.x},${pos.z}`]\n        } else if (this.loadedChunks[`${pos.x},${pos.z}`]) {\n          void this.loadChunk(pos, false, 'Received another chunkColumnLoad event while already loaded')\n        }\n        this.chunkProgress()\n      },\n      chunkColumnUnload: (pos: Vec3) => {\n        this.unloadChunk(pos)\n      },\n      blockUpdate: (oldBlock: any, newBlock: any) => {\n        const stateId = newBlock.stateId ?? ((newBlock.type << 4) | newBlock.metadata)\n        this.emitter.emit('blockUpdate', { pos: oldBlock.position, stateId })\n      },\n      time: () => {\n        this.emitter.emit('time', bot.time.timeOfDay)\n      },\n      end: () => {\n        this.emitter.emit('end')\n      },\n      // when dimension might change\n      login: () => {\n        void this.updatePosition(bot.entity.position, true)\n        this.emitter.emit('playerEntity', bot.entity)\n      },\n      respawn: () => {\n        void this.updatePosition(bot.entity.position, true)\n        this.emitter.emit('playerEntity', bot.entity)\n        this.emitter.emit('onWorldSwitch')\n      },\n    } satisfies Partial<BotEvents>\n\n\n    bot._client.on('update_light', ({ chunkX, chunkZ }) => {\n      const chunkPos = new Vec3(chunkX * 16, 0, chunkZ * 16)\n      if (!this.waitingSpiralChunksLoad[`${chunkX},${chunkZ}`] && this.loadedChunks[`${chunkX},${chunkZ}`]) {\n        void this.loadChunk(chunkPos, true, 'update_light')\n      }\n    })\n\n    for (const [evt, listener] of Object.entries(this.eventListeners)) {\n      bot.on(evt as any, listener)\n    }\n\n    for (const id in bot.entities) {\n      const e = bot.entities[id]\n      try {\n        emitEntity(e)\n      } catch (err) {\n        // reportError?.(err)\n        console.error('error processing entity', err)\n      }\n    }\n  }\n\n  emitterGotConnected () {\n    this.emitter.emit('blockEntities', new Proxy({}, {\n      get (_target, posKey, receiver) {\n        if (typeof posKey !== 'string') return\n        const [x, y, z] = posKey.split(',').map(Number)\n        return bot.world.getBlock(new Vec3(x, y, z))?.entity\n      },\n    }))\n  }\n\n  removeListenersFromBot (bot: import('mineflayer').Bot) {\n    for (const [evt, listener] of Object.entries(this.eventListeners)) {\n      bot.removeListener(evt as any, listener)\n    }\n  }\n\n  async init (pos: Vec3) {\n    this.updateViewDistance(this.viewDistance)\n    this.emitter.emit('chunkPosUpdate', { pos })\n    if (bot?.time?.timeOfDay) {\n      this.emitter.emit('time', bot.time.timeOfDay)\n    }\n    if (bot?.entity) {\n      this.emitter.emit('playerEntity', bot.entity)\n    }\n    this.emitterGotConnected()\n    const [botX, botZ] = chunkPos(pos)\n\n    const positions = generateSpiralMatrix(this.viewDistance).map(([x, z]) => new Vec3((botX + x) * 16, 0, (botZ + z) * 16))\n\n    this.lastPos.update(pos)\n    await this._loadChunks(positions, pos)\n  }\n\n  chunkProgress () {\n    if (this.panicTimeout) clearTimeout(this.panicTimeout)\n    if (this.chunkReceiveTimes.length >= 5) {\n      const avgReceiveTime = this.chunkReceiveTimes.reduce((a, b) => a + b, 0) / this.chunkReceiveTimes.length\n      this.lastChunkReceiveTimeAvg = avgReceiveTime\n      const timeoutDelay = avgReceiveTime * 2 + 1000 // 2x average + 1 second\n\n      // Clear any existing timeout\n      if (this.panicTimeout) clearTimeout(this.panicTimeout)\n\n      // Set new timeout for panic reload\n      this.panicTimeout = setTimeout(() => {\n        if (!this.gotPanicLastTime && this.inLoading) {\n          console.warn('Chunk loading seems stuck, triggering panic reload')\n          this.gotPanicLastTime = true\n          this.panicChunksReload()\n        }\n      }, timeoutDelay)\n    }\n  }\n\n  async _loadChunks (positions: Vec3[], centerPos: Vec3) {\n    this.spiralNumber++\n    const { spiralNumber } = this\n    // stop loading previous chunks\n    for (const pos of Object.keys(this.waitingSpiralChunksLoad)) {\n      this.waitingSpiralChunksLoad[pos](false)\n      delete this.waitingSpiralChunksLoad[pos]\n    }\n\n    let continueLoading = true\n    this.inLoading = true\n    await delayedIterator(positions, this.addWaitTime, async (pos) => {\n      if (!continueLoading || this.loadedChunks[`${pos.x},${pos.z}`]) return\n\n      // Wait for chunk to be available from server\n      if (!this.world.getColumnAt(pos)) {\n        continueLoading = await new Promise<boolean>(resolve => {\n          this.waitingSpiralChunksLoad[`${pos.x},${pos.z}`] = resolve\n        })\n      }\n      if (!continueLoading) return\n      await this.loadChunk(pos, undefined, `spiral ${spiralNumber} from ${centerPos.x},${centerPos.z}`)\n      this.chunkProgress()\n    })\n    if (this.panicTimeout) clearTimeout(this.panicTimeout)\n    this.inLoading = false\n    this.gotPanicLastTime = false\n    this.chunkReceiveTimes = []\n    this.lastChunkReceiveTime = 0\n  }\n\n  readdDebug () {\n    const clonedLoadedChunks = { ...this.loadedChunks }\n    this.unloadAllChunks()\n    console.time('readdDebug')\n    for (const loadedChunk in clonedLoadedChunks) {\n      const [x, z] = loadedChunk.split(',').map(Number)\n      void this.loadChunk(new Vec3(x, 0, z))\n    }\n    const interval = setInterval(() => {\n      if (appViewer.rendererState.world.allChunksLoaded) {\n        clearInterval(interval)\n        console.timeEnd('readdDebug')\n      }\n    }, 100)\n  }\n\n  // debugGotChunkLatency = [] as number[]\n  // lastTime = 0\n\n  async loadChunk (pos: ChunkPos, isLightUpdate = false, reason = 'spiral') {\n    const [botX, botZ] = chunkPos(this.lastPos)\n\n    const dx = Math.abs(botX - Math.floor(pos.x / 16))\n    const dz = Math.abs(botZ - Math.floor(pos.z / 16))\n    if (dx <= this.viewDistance && dz <= this.viewDistance) {\n      // eslint-disable-next-line @typescript-eslint/await-thenable -- todo allow to use async world provider but not sure if needed\n      const column = await this.world.getColumnAt(pos['y'] ? pos as Vec3 : new Vec3(pos.x, 0, pos.z))\n      if (column) {\n        // const latency = Math.floor(performance.now() - this.lastTime)\n        // this.debugGotChunkLatency.push(latency)\n        // this.lastTime = performance.now()\n        // todo optimize toJson data, make it clear why it is used\n        const chunk = column.toJson()\n        // TODO: blockEntities\n        const worldConfig = {\n          minY: column['minY'] ?? 0,\n          worldHeight: column['worldHeight'] ?? 256,\n        }\n        //@ts-expect-error\n        this.emitter.emit('loadChunk', { x: pos.x, z: pos.z, chunk, blockEntities: column.blockEntities, worldConfig, isLightUpdate })\n        this.loadedChunks[`${pos.x},${pos.z}`] = true\n\n        this.debugChunksInfo[`${pos.x},${pos.z}`] ??= {\n          loads: []\n        }\n        this.debugChunksInfo[`${pos.x},${pos.z}`].loads.push({\n          dataLength: chunk.length,\n          reason,\n          time: Date.now(),\n        })\n      } else if (this.isPlayground) { // don't allow in real worlds pre-flag chunks as loaded to avoid race condition when the chunk might still be loading. In playground it's assumed we always pre-load all chunks first\n        this.emitter.emit('markAsLoaded', { x: pos.x, z: pos.z })\n      }\n    } else {\n      // console.debug('skipped loading chunk', dx, dz, '>', this.viewDistance)\n    }\n  }\n\n  unloadAllChunks () {\n    for (const coords of Object.keys(this.loadedChunks)) {\n      const [x, z] = coords.split(',').map(Number)\n      this.unloadChunk({ x, z })\n    }\n  }\n\n  unloadChunk (pos: ChunkPos) {\n    this.emitter.emit('unloadChunk', { x: pos.x, z: pos.z })\n    delete this.loadedChunks[`${pos.x},${pos.z}`]\n    delete this.debugChunksInfo[`${pos.x},${pos.z}`]\n  }\n\n  async updatePosition (pos: Vec3, force = false) {\n    if (!this.allowPositionUpdate) return\n    const [lastX, lastZ] = chunkPos(this.lastPos)\n    const [botX, botZ] = chunkPos(pos)\n    if (lastX !== botX || lastZ !== botZ || force) {\n      this.emitter.emit('chunkPosUpdate', { pos })\n\n      // unload chunks that are no longer in view\n      const newViewToUnload = new ViewRect(botX, botZ, this.viewDistance + this.keepChunksDistance)\n      const chunksToUnload: Vec3[] = []\n      for (const coords of Object.keys(this.loadedChunks)) {\n        const x = parseInt(coords.split(',')[0], 10)\n        const z = parseInt(coords.split(',')[1], 10)\n        const p = new Vec3(x, 0, z)\n        const [chunkX, chunkZ] = chunkPos(p)\n        if (!newViewToUnload.contains(chunkX, chunkZ)) {\n          chunksToUnload.push(p)\n        }\n      }\n      for (const p of chunksToUnload) {\n        this.unloadChunk(p)\n      }\n\n      // load new chunks\n      const positions = generateSpiralMatrix(this.viewDistance).map(([x, z]) => {\n        const pos = new Vec3((botX + x) * 16, 0, (botZ + z) * 16)\n        if (!this.loadedChunks[`${pos.x},${pos.z}`]) return pos\n        return undefined!\n      }).filter(a => !!a)\n      this.lastPos.update(pos)\n      void this._loadChunks(positions, pos)\n    } else {\n      this.emitter.emit('chunkPosUpdate', { pos }) // todo-low\n      this.lastPos.update(pos)\n    }\n  }\n}\n","import { proxy } from 'valtio'\nimport { NonReactiveState, RendererReactiveState } from '../../src/appViewer'\n\nexport const getDefaultRendererState = (): {\n  reactive: RendererReactiveState\n  nonReactive: NonReactiveState\n} => {\n  return {\n    reactive: proxy({\n      world: {\n        chunksLoaded: new Set(),\n        heightmaps: new Map(),\n        allChunksLoaded: true,\n        mesherWork: false,\n        intersectMedia: null\n      },\n      renderer: '',\n      preventEscapeMenu: false\n    }),\n    nonReactive: {\n      world: {\n        chunksLoaded: new Set(),\n        chunksTotalNumber: 0,\n      }\n    }\n  }\n}\n","// Import placeholders - replace with actual imports for your environment\nimport { ItemRenderer, Identifier, ItemStack, NbtString, Structure, StructureRenderer, ItemRendererResources, BlockDefinition, BlockModel, TextureAtlas, Resources, ItemModel } from 'deepslate'\nimport { mat4, vec3 } from 'gl-matrix'\nimport { AssetsParser } from 'mc-assets/dist/assetsParser'\nimport { getLoadedImage, versionToNumber } from 'mc-assets/dist/utils'\nimport { BlockModel as BlockModelMcAssets, AtlasParser } from 'mc-assets'\nimport { getLoadedBlockstatesStore, getLoadedModelsStore } from 'mc-assets/dist/stores'\nimport { makeTextureAtlas } from 'mc-assets/dist/atlasCreator'\nimport { proxy, ref } from 'valtio'\nimport { getItemDefinition } from 'mc-assets/dist/itemDefinitions'\n\nexport const getNonFullBlocksModels = () => {\n  let version = appViewer.resourcesManager.currentResources!.version ?? 'latest'\n  if (versionToNumber(version) < versionToNumber('1.13')) version = '1.13'\n  const itemsDefinitions = appViewer.resourcesManager.itemsDefinitionsStore.data.latest\n  const blockModelsResolved = {} as Record<string, any>\n  const itemsModelsResolved = {} as Record<string, any>\n  const fullBlocksWithNonStandardDisplay = [] as string[]\n  const handledItemsWithDefinitions = new Set()\n  const assetsParser = new AssetsParser(version, getLoadedBlockstatesStore(appViewer.resourcesManager.currentResources!.blockstatesModels), getLoadedModelsStore(appViewer.resourcesManager.currentResources!.blockstatesModels))\n\n  const standardGuiDisplay = {\n    'rotation': [\n      30,\n      225,\n      0\n    ],\n    'translation': [\n      0,\n      0,\n      0\n    ],\n    'scale': [\n      0.625,\n      0.625,\n      0.625\n    ]\n  }\n\n  const arrEqual = (a: number[], b: number[]) => a.length === b.length && a.every((x, i) => x === b[i])\n  const addModelIfNotFullblock = (name: string, model: BlockModelMcAssets) => {\n    if (blockModelsResolved[name]) return\n    if (!model?.elements?.length) return\n    const isFullBlock = model.elements.length === 1 && arrEqual(model.elements[0].from, [0, 0, 0]) && arrEqual(model.elements[0].to, [16, 16, 16])\n    if (isFullBlock) return\n    const hasBetterPrerender = assetsParser.blockModelsStore.data.latest[`item/${name}`]?.textures?.['layer0']?.startsWith('invsprite_')\n    if (hasBetterPrerender) return\n    model['display'] ??= {}\n    model['display']['gui'] ??= standardGuiDisplay\n    blockModelsResolved[name] = model\n  }\n\n  for (const [name, definition] of Object.entries(itemsDefinitions)) {\n    const item = getItemDefinition(appViewer.resourcesManager.itemsDefinitionsStore, {\n      version,\n      name,\n      properties: {\n        'minecraft:display_context': 'gui',\n      },\n    })\n    if (item) {\n      const { resolvedModel } = assetsParser.getResolvedModelsByModel((item.special ? name : item.model).replace('minecraft:', '')) ?? {}\n      if (resolvedModel) {\n        handledItemsWithDefinitions.add(name)\n      }\n      if (resolvedModel?.elements) {\n        let hasStandardDisplay = true\n        if (resolvedModel['display']?.gui) {\n          hasStandardDisplay =\n            arrEqual(resolvedModel['display'].gui.rotation, standardGuiDisplay.rotation)\n            && arrEqual(resolvedModel['display'].gui.translation, standardGuiDisplay.translation)\n            && arrEqual(resolvedModel['display'].gui.scale, standardGuiDisplay.scale)\n        }\n\n        addModelIfNotFullblock(name, resolvedModel)\n\n        if (!blockModelsResolved[name] && !hasStandardDisplay) {\n          fullBlocksWithNonStandardDisplay.push(name)\n        }\n        const notSideLight = resolvedModel['gui_light'] && resolvedModel['gui_light'] !== 'side'\n        if (!hasStandardDisplay || notSideLight) {\n          blockModelsResolved[name] = resolvedModel\n        }\n      }\n      if (!blockModelsResolved[name] && item.tints && resolvedModel) {\n        resolvedModel['tints'] = item.tints\n        if (resolvedModel.elements) {\n          blockModelsResolved[name] = resolvedModel\n        } else {\n          itemsModelsResolved[name] = resolvedModel\n        }\n      }\n    }\n  }\n\n  for (const [name, blockstate] of Object.entries(appViewer.resourcesManager.currentResources!.blockstatesModels.blockstates.latest)) {\n    if (handledItemsWithDefinitions.has(name)) {\n      continue\n    }\n    const resolvedModel = assetsParser.getResolvedModelFirst({ name: name.replace('minecraft:', ''), properties: {} }, true)\n    if (resolvedModel) {\n      addModelIfNotFullblock(name, resolvedModel[0])\n    }\n  }\n\n  return {\n    blockModelsResolved,\n    itemsModelsResolved\n  }\n}\n\n// customEvents.on('gameLoaded', () => {\n//   const res = getNonFullBlocksModels()\n// })\n\nconst RENDER_SIZE = 64\n\nconst generateItemsGui = async (models: Record<string, BlockModelMcAssets>, isItems = false) => {\n  const { currentResources } = appViewer.resourcesManager\n  const imgBitmap = isItems ? currentResources!.itemsAtlasImage : currentResources!.blocksAtlasImage\n  const canvasTemp = document.createElement('canvas')\n  canvasTemp.width = imgBitmap.width\n  canvasTemp.height = imgBitmap.height\n  canvasTemp.style.imageRendering = 'pixelated'\n  const ctx = canvasTemp.getContext('2d')!\n  ctx.imageSmoothingEnabled = false\n  ctx.drawImage(imgBitmap, 0, 0)\n\n  const atlasParser = isItems ? appViewer.resourcesManager.itemsAtlasParser : appViewer.resourcesManager.blocksAtlasParser\n  const textureAtlas = new TextureAtlas(\n    ctx.getImageData(0, 0, imgBitmap.width, imgBitmap.height),\n    Object.fromEntries(Object.entries(atlasParser.atlas.latest.textures).map(([key, value]) => {\n      return [key, [\n        value.u,\n        value.v,\n        (value.u + (value.su ?? atlasParser.atlas.latest.suSv)),\n        (value.v + (value.sv ?? atlasParser.atlas.latest.suSv)),\n      ]] as [string, [number, number, number, number]]\n    }))\n  )\n\n  const PREVIEW_ID = Identifier.parse('preview:preview')\n  const PREVIEW_DEFINITION = new BlockDefinition({ '': { model: PREVIEW_ID.toString() } }, undefined)\n\n  let textureWasRequested = false\n  let modelData: any\n  let currentModelName: string | undefined\n  const resources: ItemRendererResources = {\n    getBlockModel (id) {\n      if (id.equals(PREVIEW_ID)) {\n        return BlockModel.fromJson(modelData ?? {})\n      }\n      return null\n    },\n    getTextureUV (texture) {\n      textureWasRequested = true\n      return textureAtlas.getTextureUV(texture.toString().replace('minecraft:', '').replace('block/', '').replace('item/', '').replace('blocks/', '').replace('items/', '') as any)\n    },\n    getTextureAtlas () {\n      return textureAtlas.getTextureAtlas()\n    },\n    getItemComponents (id) {\n      return new Map()\n    },\n    getItemModel (id) {\n      // const isSpecial = currentModelName === 'shield' || currentModelName === 'conduit' || currentModelName === 'trident'\n      const isSpecial = false\n      if (id.equals(PREVIEW_ID)) {\n        return ItemModel.fromJson({\n          type: isSpecial ? 'minecraft:special' : 'minecraft:model',\n          model: isSpecial ? {\n            type: currentModelName,\n          } : PREVIEW_ID.toString(),\n          base: PREVIEW_ID.toString(),\n          tints: modelData?.tints,\n        })\n      }\n      return null\n    },\n  }\n\n  const canvas = document.createElement('canvas')\n  canvas.width = RENDER_SIZE\n  canvas.height = RENDER_SIZE\n  const gl = canvas.getContext('webgl2', { preserveDrawingBuffer: true })\n  if (!gl) {\n    throw new Error('Cannot get WebGL2 context')\n  }\n\n  function resetGLContext (gl) {\n    gl.clearColor(0, 0, 0, 0)\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT)\n  }\n\n  // const includeOnly = ['powered_repeater', 'wooden_door']\n  const includeOnly = [] as string[]\n\n  const images: Record<string, HTMLImageElement> = {}\n  const item = new ItemStack(PREVIEW_ID, 1, new Map(Object.entries({\n    'minecraft:item_model': new NbtString(PREVIEW_ID.toString()),\n  })))\n  const renderer = new ItemRenderer(gl, item, resources, { display_context: 'gui' })\n  const missingTextures = new Set()\n  for (const [modelName, model] of Object.entries(models)) {\n    textureWasRequested = false\n    if (includeOnly.length && !includeOnly.includes(modelName)) continue\n\n    const patchMissingTextures = () => {\n      for (const element of model.elements ?? []) {\n        for (const [faceName, face] of Object.entries(element.faces)) {\n          if (face.texture.startsWith('#')) {\n            missingTextures.add(`${modelName} ${faceName}: ${face.texture}`)\n            face.texture = 'block/unknown'\n          }\n        }\n      }\n    }\n    patchMissingTextures()\n    // TODO eggs\n\n    modelData = model\n    currentModelName = modelName\n    resetGLContext(gl)\n    if (!modelData) continue\n    renderer.setItem(item, { display_context: 'gui' })\n    renderer.drawItem()\n    if (!textureWasRequested) continue\n    const url = canvas.toDataURL()\n    // eslint-disable-next-line no-await-in-loop\n    const img = await getLoadedImage(url)\n    images[modelName] = img\n  }\n\n  if (missingTextures.size) {\n    console.warn(`[guiRenderer] Missing textures in ${[...missingTextures].join(', ')}`)\n  }\n\n  return images\n}\n\n/**\n * @mainThread\n */\nconst generateAtlas = async (images: Record<string, HTMLImageElement>) => {\n  const atlas = makeTextureAtlas({\n    input: Object.keys(images),\n    tileSize: RENDER_SIZE,\n    getLoadedImage (name) {\n      return {\n        image: images[name],\n      }\n    },\n  })\n\n  // const atlasParser = new AtlasParser({ latest: atlas.json }, atlas.canvas.toDataURL())\n  // const a = document.createElement('a')\n  // a.href = await atlasParser.createDebugImage(true)\n  // a.download = 'blocks_atlas.png'\n  // a.click()\n\n  appViewer.resourcesManager.currentResources!.guiAtlas = {\n    json: atlas.json,\n    image: await createImageBitmap(atlas.canvas),\n  }\n\n  return atlas\n}\n\nexport const generateGuiAtlas = async () => {\n  const { blockModelsResolved, itemsModelsResolved } = getNonFullBlocksModels()\n\n  // Generate blocks atlas\n  console.time('generate blocks gui atlas')\n  const blockImages = await generateItemsGui(blockModelsResolved, false)\n  console.timeEnd('generate blocks gui atlas')\n  console.time('generate items gui atlas')\n  const itemImages = await generateItemsGui(itemsModelsResolved, true)\n  console.timeEnd('generate items gui atlas')\n  await generateAtlas({ ...blockImages, ...itemImages })\n  appViewer.resourcesManager.currentResources!.guiAtlasVersion++\n  // await generateAtlas(blockImages)\n}\n","import { EventEmitter } from 'events'\nimport TypedEmitter from 'typed-emitter'\nimport blocksAtlases from 'mc-assets/dist/blocksAtlases.json'\nimport itemsAtlases from 'mc-assets/dist/itemsAtlases.json'\nimport itemDefinitionsJson from 'mc-assets/dist/itemDefinitions.json'\nimport blocksAtlasLatest from 'mc-assets/dist/blocksAtlasLatest.png'\nimport blocksAtlasLegacy from 'mc-assets/dist/blocksAtlasLegacy.png'\nimport itemsAtlasLatest from 'mc-assets/dist/itemsAtlasLatest.png'\nimport itemsAtlasLegacy from 'mc-assets/dist/itemsAtlasLegacy.png'\nimport christmasPack from 'mc-assets/dist/textureReplacements/christmas'\nimport { AtlasParser, ItemsAtlasesOutputJson } from 'mc-assets/dist/atlasParser'\nimport worldBlockProvider, { WorldBlockProvider } from 'mc-assets/dist/worldBlockProvider'\nimport { ItemsRenderer } from 'mc-assets/dist/itemsRenderer'\nimport { getLoadedItemDefinitionsStore } from 'mc-assets'\nimport { generateGuiAtlas } from 'renderer/viewer/lib/guiRenderer'\nimport { importLargeData } from '../generated/large-data-aliases'\n\ntype ResourceManagerEvents = {\n  assetsTexturesUpdated: () => void\n  assetsInventoryStarted: () => void\n  assetsInventoryReady: () => void\n}\n\nexport class LoadedResourcesTransferrable {\n  allReady = false\n  // Atlas parsers\n  itemsAtlasImage: ImageBitmap\n  blocksAtlasImage: ImageBitmap\n  blocksAtlasJson: ItemsAtlasesOutputJson\n  // User data (specific to current resourcepack/version)\n  customBlockStates?: Record<string, any>\n  customModels?: Record<string, any>\n  /** array where the index represents the custom model data value, and the element at that index is the model path to use */\n  customItemModelNames: Record<string, string[]> = {}\n  customTextures: {\n    items?: { tileSize: number | undefined, textures: Record<string, HTMLImageElement> }\n    blocks?: { tileSize: number | undefined, textures: Record<string, HTMLImageElement> }\n    armor?: { tileSize: number | undefined, textures: Record<string, HTMLImageElement> }\n  } = {}\n  guiAtlas: { json: any, image: ImageBitmap } | null = null\n  guiAtlasVersion = 0\n\n  itemsRenderer: ItemsRenderer\n  worldBlockProvider?: WorldBlockProvider\n  blockstatesModels: any = null\n\n  version: string\n  texturesVersion: string\n}\n\nexport interface ResourcesCurrentConfig {\n  version: string\n  texturesVersion?: string\n  // noBlockstatesModels?: boolean\n  noInventoryGui?: boolean\n  includeOnlyBlocks?: string[]\n}\n\nexport interface UpdateAssetsRequest {\n  _?: false\n}\n\nexport interface ResourcesManagerTransferred extends TypedEmitter<ResourceManagerEvents> {\n  currentResources: LoadedResourcesTransferrable\n}\nexport interface ResourcesManagerCommon extends TypedEmitter<ResourceManagerEvents> {\n  currentResources: LoadedResourcesTransferrable | undefined\n}\n\nconst STABLE_MODELS_VERSION = '1.21.4'\nexport class ResourcesManager extends (EventEmitter as new () => TypedEmitter<ResourceManagerEvents>) {\n  static restorerName = 'ResourcesManager'\n\n  // Source data (imported, not changing)\n  sourceBlockStatesModels: any = null\n  readonly sourceBlocksAtlases: any = blocksAtlases\n  readonly sourceItemsAtlases: any = itemsAtlases\n  readonly sourceItemDefinitionsJson: any = itemDefinitionsJson\n  readonly itemsDefinitionsStore = getLoadedItemDefinitionsStore(this.sourceItemDefinitionsJson)\n\n  currentResources: LoadedResourcesTransferrable | undefined\n  itemsAtlasParser: AtlasParser\n  blocksAtlasParser: AtlasParser\n  currentConfig: ResourcesCurrentConfig | undefined\n  abortController = new AbortController()\n  _promiseAssetsReadyResolvers = Promise.withResolvers<void>()\n  get promiseAssetsReady () {\n    return this._promiseAssetsReadyResolvers.promise\n  }\n\n  async loadSourceData (version: string) {\n    this.sourceBlockStatesModels ??= await importLargeData('blockStatesModels')\n  }\n\n  resetResources () {\n    this.currentResources = new LoadedResourcesTransferrable()\n  }\n\n  async updateAssetsData (request: UpdateAssetsRequest, unstableSkipEvent = false) {\n    if (!this.currentConfig) throw new Error('No config loaded')\n    this._promiseAssetsReadyResolvers = Promise.withResolvers()\n    const abortController = new AbortController()\n    await this.loadSourceData(this.currentConfig.version)\n    if (abortController.signal.aborted) return\n\n    const resources = this.currentResources ?? new LoadedResourcesTransferrable()\n    resources.version = this.currentConfig.version\n    resources.texturesVersion = this.currentConfig.texturesVersion ?? resources.version\n\n    resources.blockstatesModels = {\n      blockstates: {},\n      models: {}\n    }\n    // todo-low resolve version\n    resources.blockstatesModels.blockstates.latest = {\n      ...this.sourceBlockStatesModels.blockstates.latest,\n      ...resources.customBlockStates\n    }\n\n    resources.blockstatesModels.models.latest = {\n      ...this.sourceBlockStatesModels.models.latest,\n      ...resources.customModels\n    }\n\n    console.time('recreateAtlases')\n    await Promise.all([\n      this.recreateBlockAtlas(resources),\n      this.recreateItemsAtlas(resources)\n    ])\n    console.timeEnd('recreateAtlases')\n\n    if (abortController.signal.aborted) return\n\n    if (resources.version && resources.blockstatesModels && this.itemsAtlasParser && this.blocksAtlasParser) {\n      resources.itemsRenderer = new ItemsRenderer(\n        resources.version,\n        resources.blockstatesModels,\n        this.itemsAtlasParser,\n        this.blocksAtlasParser\n      )\n    }\n\n    if (abortController.signal.aborted) return\n\n    this.currentResources = resources\n    resources.allReady = true\n    if (!unstableSkipEvent) { // todo rework resourcepack optimization\n      this.emit('assetsTexturesUpdated')\n    }\n\n    if (this.currentConfig.noInventoryGui) {\n      this._promiseAssetsReadyResolvers.resolve()\n    } else {\n      this.emit('assetsInventoryStarted')\n      void this.generateGuiTextures().then(() => {\n        if (abortController.signal.aborted) return\n        if (!unstableSkipEvent) {\n          this.emit('assetsInventoryReady')\n        }\n        this._promiseAssetsReadyResolvers.resolve()\n      })\n    }\n  }\n\n  async recreateBlockAtlas (resources: LoadedResourcesTransferrable = this.currentResources!) {\n    const blockTexturesChanges = {} as Record<string, string>\n    const date = new Date()\n    if ((date.getMonth() === 11 && date.getDate() >= 24) || (date.getMonth() === 0 && date.getDate() <= 6)) {\n      Object.assign(blockTexturesChanges, christmasPack)\n    }\n\n    const blocksAssetsParser = new AtlasParser(this.sourceBlocksAtlases, blocksAtlasLatest, blocksAtlasLegacy)\n\n    const customBlockTextures = Object.keys(resources.customTextures.blocks?.textures ?? {})\n    console.time('createBlocksAtlas')\n    const { atlas: blocksAtlas, canvas: blocksCanvas } = await blocksAssetsParser.makeNewAtlas(\n      resources.texturesVersion,\n      (textureName) => {\n        if (this.currentConfig!.includeOnlyBlocks && !this.currentConfig!.includeOnlyBlocks.includes(textureName)) return false\n        const texture = resources.customTextures.blocks?.textures[textureName]\n        return blockTexturesChanges[textureName] ?? texture\n      },\n      undefined,\n      undefined,\n      customBlockTextures,\n      {\n        needHorizontalIndexes: !!this.currentConfig!.includeOnlyBlocks,\n      }\n    )\n    console.timeEnd('createBlocksAtlas')\n\n    this.blocksAtlasParser = new AtlasParser({ latest: blocksAtlas }, blocksCanvas.toDataURL())\n    resources.blocksAtlasImage = await createImageBitmap(blocksCanvas)\n    resources.blocksAtlasJson = this.blocksAtlasParser.atlas.latest\n\n    resources.worldBlockProvider = worldBlockProvider(\n      resources.blockstatesModels,\n      this.blocksAtlasParser.atlas,\n      STABLE_MODELS_VERSION\n    )\n  }\n\n  async recreateItemsAtlas (resources: LoadedResourcesTransferrable = this.currentResources!) {\n    const itemsAssetsParser = new AtlasParser(this.sourceItemsAtlases, itemsAtlasLatest, itemsAtlasLegacy)\n    const customItemTextures = Object.keys(resources.customTextures.items?.textures ?? {})\n    const { atlas: itemsAtlas, canvas: itemsCanvas } = await itemsAssetsParser.makeNewAtlas(\n      resources.texturesVersion,\n      (textureName) => {\n        const texture = resources.customTextures.items?.textures[textureName]\n        if (!texture) return\n        return texture\n      },\n      resources.customTextures.items?.tileSize,\n      undefined,\n      customItemTextures\n    )\n\n    this.itemsAtlasParser = new AtlasParser({ latest: itemsAtlas }, itemsCanvas.toDataURL())\n    resources.itemsAtlasImage = await createImageBitmap(itemsCanvas)\n  }\n\n  async generateGuiTextures () {\n    await generateGuiAtlas()\n  }\n\n  async downloadDebugAtlas (isItems = false) {\n    const resources = this.currentResources\n    if (!resources) throw new Error('No resources loaded')\n    const atlasParser = (isItems ? this.itemsAtlasParser : this.blocksAtlasParser)!\n    const dataUrl = await atlasParser.createDebugImage(true)\n    const a = document.createElement('a')\n    a.href = dataUrl\n    a.download = `atlas-debug-${isItems ? 'items' : 'blocks'}.png`\n    a.click()\n  }\n\n  destroy () {\n    this.abortController.abort()\n    this.currentResources = undefined\n    this.abortController = new AbortController()\n  }\n}\n","import { WorldDataEmitter, WorldDataEmitterWorker } from 'renderer/viewer/lib/worldDataEmitter'\nimport { getInitialPlayerState, PlayerStateRenderer, PlayerStateReactive } from 'renderer/viewer/lib/basePlayerState'\nimport { subscribeKey } from 'valtio/utils'\nimport { defaultWorldRendererConfig, WorldRendererConfig } from 'renderer/viewer/lib/worldrendererCommon'\nimport { Vec3 } from 'vec3'\nimport { SoundSystem } from 'renderer/viewer/three/threeJsSound'\nimport { proxy, subscribe } from 'valtio'\nimport { getDefaultRendererState } from 'renderer/viewer/baseGraphicsBackend'\nimport { getSyncWorld } from 'renderer/playground/shared'\nimport { MaybePromise } from 'contro-max/build/types/store'\nimport { PANORAMA_VERSION } from 'renderer/viewer/three/panoramaShared'\nimport { playerState } from './mineflayer/playerState'\nimport { createNotificationProgressReporter, ProgressReporter } from './core/progressReporter'\nimport { setLoadingScreenStatus } from './appStatus'\nimport { activeModalStack, miscUiState } from './globalState'\nimport { options } from './optionsStorage'\nimport { ResourcesManager, ResourcesManagerTransferred } from './resourcesManager'\nimport { watchOptionsAfterWorldViewInit } from './watchOptions'\nimport { loadMinecraftData } from './connect'\nimport { reloadChunks } from './utils'\nimport { displayClientChat } from './botUtils'\n\nexport interface RendererReactiveState {\n  world: {\n    chunksLoaded: Set<string>\n    // chunksTotalNumber: number\n    heightmaps: Map<string, Uint8Array>\n    allChunksLoaded: boolean\n    mesherWork: boolean\n    intersectMedia: { id: string, x: number, y: number } | null\n  }\n  renderer: string\n  preventEscapeMenu: boolean\n}\nexport interface NonReactiveState {\n  world: {\n    chunksLoaded: Set<string>\n    chunksTotalNumber: number\n  }\n}\n\nexport interface GraphicsBackendConfig {\n  fpsLimit?: number\n  powerPreference?: 'high-performance' | 'low-power'\n  statsVisible?: number\n  sceneBackground: string\n  timeoutRendering?: boolean\n}\n\nconst defaultGraphicsBackendConfig: GraphicsBackendConfig = {\n  fpsLimit: undefined,\n  powerPreference: undefined,\n  sceneBackground: 'lightblue',\n  timeoutRendering: false\n}\n\nexport interface GraphicsInitOptions<S = any> {\n  resourcesManager: ResourcesManagerTransferred\n  config: GraphicsBackendConfig\n  rendererSpecificSettings: S\n\n  callbacks: {\n    displayCriticalError: (error: Error) => void\n    setRendererSpecificSettings: (key: string, value: any) => void\n\n    fireCustomEvent: (eventName: string, ...args: any[]) => void\n  }\n}\n\nexport interface DisplayWorldOptions {\n  version: string\n  worldView: WorldDataEmitterWorker\n  inWorldRenderingConfig: WorldRendererConfig\n  playerStateReactive: PlayerStateReactive\n  rendererState: RendererReactiveState\n  nonReactiveState: NonReactiveState\n}\n\nexport type GraphicsBackendLoader = ((options: GraphicsInitOptions) => MaybePromise<GraphicsBackend>) & {\n  id: string\n}\n\n// no sync methods\nexport interface GraphicsBackend {\n  id: string\n  displayName?: string\n  startPanorama: () => void\n  // prepareResources: (version: string, progressReporter: ProgressReporter) => Promise<void>\n  startWorld: (options: DisplayWorldOptions) => Promise<void> | void\n  disconnect: () => void\n  setRendering: (rendering: boolean) => void\n  getDebugOverlay?: () => Record<string, any>\n  updateCamera: (pos: Vec3 | null, yaw: number, pitch: number) => void\n  setRoll?: (roll: number) => void\n  soundSystem: SoundSystem | undefined\n\n  backendMethods: Record<string, unknown> | undefined\n}\n\nexport class AppViewer {\n  waitBackendLoadPromises = [] as Array<Promise<void>>\n\n  resourcesManager = new ResourcesManager()\n  worldView: WorldDataEmitter | undefined\n  readonly config: GraphicsBackendConfig = {\n    ...defaultGraphicsBackendConfig,\n    powerPreference: options.gpuPreference === 'default' ? undefined : options.gpuPreference\n  }\n  backend?: GraphicsBackend\n  backendLoader?: GraphicsBackendLoader\n  private currentState?: {\n    method: string\n    args: any[]\n  }\n  currentDisplay = null as 'menu' | 'world' | null\n  inWorldRenderingConfig: WorldRendererConfig = proxy(defaultWorldRendererConfig)\n  lastCamUpdate = 0\n  playerState = playerState\n  rendererState = getDefaultRendererState().reactive\n  nonReactiveState: NonReactiveState = getDefaultRendererState().nonReactive\n  worldReady: Promise<void>\n  private resolveWorldReady: () => void\n\n  constructor () {\n    this.disconnectBackend()\n  }\n\n  async loadBackend (loader: GraphicsBackendLoader) {\n    if (this.backend) {\n      this.disconnectBackend()\n    }\n\n    await Promise.all(this.waitBackendLoadPromises)\n    this.waitBackendLoadPromises = []\n\n    this.backendLoader = loader\n    const rendererSpecificSettings = {} as Record<string, any>\n    const rendererSettingsKey = `renderer.${this.backendLoader?.id}`\n    for (const key in options) {\n      if (key.startsWith(rendererSettingsKey)) {\n        rendererSpecificSettings[key.slice(rendererSettingsKey.length + 1)] = options[key]\n      }\n    }\n    const loaderOptions: GraphicsInitOptions = { // todo!\n      resourcesManager: this.resourcesManager as ResourcesManagerTransferred,\n      config: this.config,\n      callbacks: {\n        displayCriticalError (error) {\n          console.error(error)\n          setLoadingScreenStatus(error.message, true)\n        },\n        setRendererSpecificSettings (key: string, value: any) {\n          options[`${rendererSettingsKey}.${key}`] = value\n        },\n        fireCustomEvent (eventName, ...args) {\n          // this.callbacks.fireCustomEvent(eventName, ...args)\n        }\n      },\n      rendererSpecificSettings,\n    }\n    this.backend = await loader(loaderOptions)\n\n    // if (this.resourcesManager.currentResources) {\n    //   void this.prepareResources(this.resourcesManager.currentResources.version, createNotificationProgressReporter())\n    // }\n\n    // Execute queued action if exists\n    if (this.currentState) {\n      if (this.currentState.method === 'startPanorama') {\n        this.startPanorama()\n      } else {\n        const { method, args } = this.currentState\n        this.backend[method](...args)\n        if (method === 'startWorld') {\n          void this.worldView!.init(bot.entity.position)\n          // void this.worldView!.init(args[0].playerState.getPosition())\n        }\n      }\n    }\n\n    // todo\n    modalStackUpdateChecks()\n  }\n\n  async startWithBot () {\n    const renderDistance = miscUiState.singleplayer ? options.renderDistance : options.multiplayerRenderDistance\n    await this.startWorld(bot.world, renderDistance)\n    this.worldView!.listenToBot(bot)\n  }\n\n  appConfigUdpate () {\n    if (miscUiState.appConfig) {\n      this.inWorldRenderingConfig.skinTexturesProxy = miscUiState.appConfig.skinTexturesProxy\n    }\n  }\n\n  async startWorld (world, renderDistance: number, playerStateSend: PlayerStateRenderer = this.playerState.reactive) {\n    if (this.currentDisplay === 'world') throw new Error('World already started')\n    this.currentDisplay = 'world'\n    const startPosition = bot.entity?.position ?? new Vec3(0, 64, 0)\n    this.worldView = new WorldDataEmitter(world, renderDistance, startPosition)\n    this.worldView.panicChunksReload = () => {\n      if (!options.experimentalClientSelfReload) return\n      if (process.env.NODE_ENV === 'development') {\n        displayClientChat(`[client] client panicked due to too long loading time. Soft reloading chunks...`)\n      }\n      void reloadChunks()\n    }\n    window.worldView = this.worldView\n    watchOptionsAfterWorldViewInit(this.worldView)\n    this.appConfigUdpate()\n\n    const displayWorldOptions: DisplayWorldOptions = {\n      version: this.resourcesManager.currentConfig!.version,\n      worldView: this.worldView,\n      inWorldRenderingConfig: this.inWorldRenderingConfig,\n      playerStateReactive: playerStateSend,\n      rendererState: this.rendererState,\n      nonReactiveState: this.nonReactiveState\n    }\n    let promise: undefined | Promise<void>\n    if (this.backend) {\n      promise = this.backend.startWorld(displayWorldOptions) ?? undefined\n      // void this.worldView.init(startPosition)\n    }\n    this.currentState = { method: 'startWorld', args: [displayWorldOptions] }\n\n    await promise\n    // Resolve the promise after world is started\n    this.resolveWorldReady()\n    return !!promise\n  }\n\n  resetBackend (cleanState = false) {\n    this.disconnectBackend(cleanState)\n    if (this.backendLoader) {\n      void this.loadBackend(this.backendLoader)\n    }\n  }\n\n  startPanorama () {\n    if (this.currentDisplay === 'menu') return\n    if (options.disableAssets) return\n    if (this.backend && !hasAppStatus()) {\n      this.currentDisplay = 'menu'\n      if (process.env.SINGLE_FILE_BUILD_MODE) {\n        void loadMinecraftData(PANORAMA_VERSION).then(() => {\n          this.backend?.startPanorama()\n        })\n      } else {\n        this.backend.startPanorama()\n      }\n    }\n    this.currentState = { method: 'startPanorama', args: [] }\n  }\n\n  // async prepareResources (version: string, progressReporter: ProgressReporter) {\n  //   if (this.backend) {\n  //     await this.backend.prepareResources(version, progressReporter)\n  //   }\n  // }\n\n  destroyAll () {\n    this.disconnectBackend()\n    this.resourcesManager.destroy()\n  }\n\n  disconnectBackend (cleanState = false) {\n    if (cleanState) {\n      this.currentState = undefined\n      this.currentDisplay = null\n      this.worldView = undefined\n    }\n    if (this.backend) {\n      this.backend.disconnect()\n      this.backend = undefined\n    }\n    this.currentDisplay = null\n    const { promise, resolve } = Promise.withResolvers<void>()\n    this.worldReady = promise\n    this.resolveWorldReady = resolve\n    this.rendererState = proxy(getDefaultRendererState().reactive)\n    this.nonReactiveState = getDefaultRendererState().nonReactive\n    // this.queuedDisplay = undefined\n  }\n\n  get utils () {\n    return {\n      async waitingForChunks () {\n        if (this.backend?.worldState.allChunksLoaded) return\n        return new Promise((resolve) => {\n          const interval = setInterval(() => {\n            if (this.backend?.worldState.allChunksLoaded) {\n              clearInterval(interval)\n              resolve(true)\n            }\n          }, 100)\n        })\n      }\n    }\n  }\n}\n\n// do not import this. Use global appViewer instead (without window prefix).\nexport const appViewer = new AppViewer()\nwindow.appViewer = appViewer\n\nconst initialMenuStart = async () => {\n  if (appViewer.currentDisplay === 'world') {\n    appViewer.resetBackend(true)\n  }\n  const demo = new URLSearchParams(window.location.search).get('demo')\n  if (!demo) {\n    appViewer.startPanorama()\n    return\n  }\n\n  // const version = '1.18.2'\n  const version = '1.21.4'\n  const { loadMinecraftData } = await import('./connect')\n  const { getSyncWorld } = await import('../renderer/playground/shared')\n  await loadMinecraftData(version)\n  const world = getSyncWorld(version)\n  world.setBlockStateId(new Vec3(0, 64, 0), loadedData.blocksByName.water.defaultState)\n  world.setBlockStateId(new Vec3(1, 64, 0), loadedData.blocksByName.water.defaultState)\n  world.setBlockStateId(new Vec3(1, 64, 1), loadedData.blocksByName.water.defaultState)\n  world.setBlockStateId(new Vec3(0, 64, 1), loadedData.blocksByName.water.defaultState)\n  world.setBlockStateId(new Vec3(-1, 64, -1), loadedData.blocksByName.water.defaultState)\n  world.setBlockStateId(new Vec3(-1, 64, 0), loadedData.blocksByName.water.defaultState)\n  world.setBlockStateId(new Vec3(0, 64, -1), loadedData.blocksByName.water.defaultState)\n  appViewer.resourcesManager.currentConfig = { version }\n  appViewer.playerState.reactive = getInitialPlayerState()\n  await appViewer.resourcesManager.updateAssetsData({})\n  await appViewer.startWorld(world, 3)\n  appViewer.backend!.updateCamera(new Vec3(0, 65.7, 0), 0, -Math.PI / 2) // Y+1 and pitch = PI/2 to look down\n  void appViewer.worldView!.init(new Vec3(0, 64, 0))\n}\nwindow.initialMenuStart = initialMenuStart\n\nconst hasAppStatus = () => activeModalStack.some(m => m.reactType === 'app-status')\n\nconst modalStackUpdateChecks = () => {\n  // maybe start panorama\n  if (!miscUiState.gameLoaded && !hasAppStatus()) {\n    void initialMenuStart()\n  }\n\n  if (appViewer.backend) {\n    appViewer.backend.setRendering(!hasAppStatus())\n  }\n\n  appViewer.inWorldRenderingConfig.foreground = activeModalStack.length === 0\n}\nsubscribe(activeModalStack, modalStackUpdateChecks)\n","import { EntityMesh, rendererSpecialHandled, EntityDebugFlags } from '../viewer/three/entity/EntityMesh'\n\nexport const displayEntitiesDebugList = (version: string) => {\n  // Create results container\n  const container = document.createElement('div')\n  container.style.cssText = `\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    max-height: 90vh;\n    overflow-y: auto;\n    background: rgba(0,0,0,0.8);\n    color: white;\n    padding: 20px;\n    border-radius: 8px;\n    font-family: monospace;\n    min-width: 400px;\n    z-index: 1000;\n  `\n  document.body.appendChild(container)\n\n  // Add title\n  const title = document.createElement('h2')\n  title.textContent = 'Minecraft Entity Support'\n  title.style.cssText = 'margin-top: 0; text-align: center;'\n  container.appendChild(title)\n\n  // Test entities\n  const results: Array<{\n    entity: string;\n    supported: boolean;\n    type?: 'obj' | 'bedrock' | 'special';\n    mappedFrom?: string;\n    textureMap?: boolean;\n    errors?: string[];\n  }> = []\n  const { mcData } = window\n  const entityNames = Object.keys(mcData.entitiesArray.reduce((acc, entity) => {\n    acc[entity.name] = true\n    return acc\n  }, {}))\n\n  // Add loading indicator\n  const loading = document.createElement('div')\n  loading.textContent = 'Testing entities...'\n  loading.style.textAlign = 'center'\n  container.appendChild(loading)\n\n  for (const entity of entityNames) {\n    const debugFlags: EntityDebugFlags = {}\n\n    if (rendererSpecialHandled.includes(entity)) {\n      results.push({\n        entity,\n        supported: true,\n        type: 'special',\n      })\n      continue\n    }\n\n    try {\n\n      const { mesh: entityMesh } = new EntityMesh(version, entity, undefined, {}, debugFlags)\n      // find the most distant pos child\n      window.objects ??= {}\n      window.objects[entity] = entityMesh\n\n      results.push({\n        entity,\n        supported: !!debugFlags.type || rendererSpecialHandled.includes(entity),\n        type: debugFlags.type,\n        mappedFrom: debugFlags.tempMap,\n        textureMap: debugFlags.textureMap,\n        errors: debugFlags.errors\n      })\n    } catch (e) {\n      console.error(e)\n      results.push({\n        entity,\n        supported: false,\n        mappedFrom: debugFlags.tempMap\n      })\n    }\n  }\n\n  // Remove loading indicator\n  loading.remove()\n\n  const createSection = (title: string, items: any[], filter: (item: any) => boolean) => {\n    const section = document.createElement('div')\n    section.style.marginBottom = '20px'\n\n    const sectionTitle = document.createElement('h3')\n    sectionTitle.textContent = title\n    sectionTitle.style.textAlign = 'center'\n    section.appendChild(sectionTitle)\n\n    const list = document.createElement('ul')\n    list.style.cssText = 'padding-left: 20px; list-style-type: none; margin: 0;'\n\n    const filteredItems = items.filter(filter)\n    for (const item of filteredItems) {\n      const listItem = document.createElement('li')\n      listItem.style.cssText = 'line-height: 1.4; margin: 8px 0;'\n\n      const entityName = document.createElement('strong')\n      entityName.style.cssText = 'user-select: text;-webkit-user-select: text;'\n      entityName.textContent = item.entity\n      listItem.appendChild(entityName)\n\n      let text = ''\n      if (item.mappedFrom) {\n        text += ` -> ${item.mappedFrom}`\n      }\n      if (item.type) {\n        text += ` - ${item.type}`\n      }\n      if (item.textureMap) {\n        text += ' '\n      }\n      if (item.errors) {\n        text += ' '\n      }\n\n      listItem.appendChild(document.createTextNode(text))\n      list.appendChild(listItem)\n    }\n\n    section.appendChild(list)\n    return { section, count: filteredItems.length }\n  }\n\n  // Sort results - bedrock first\n  results.sort((a, b) => {\n    if (a.type === 'bedrock' && b.type !== 'bedrock') return -1\n    if (a.type !== 'bedrock' && b.type === 'bedrock') return 1\n    return a.entity.localeCompare(b.entity)\n  })\n\n  // Add sections\n  const sections = [\n    {\n      title: ' Unsupported Entities',\n      filter: (r: any) => !r.supported && !r.mappedFrom\n    },\n    {\n      title: ' Partially Supported Entities',\n      filter: (r: any) => r.mappedFrom\n    },\n    {\n      title: ' Supported Entities',\n      filter: (r: any) => r.supported && !r.mappedFrom\n    }\n  ]\n\n  for (const { title, filter } of sections) {\n    const { section, count } = createSection(title, results, filter)\n    if (count > 0) {\n      container.appendChild(section)\n    }\n  }\n\n  // log object with errors per entity\n  const errors = results.filter(r => r.errors).map(r => ({\n    entity: r.entity,\n    errors: r.errors\n  }))\n  console.log(errors)\n}\n","import * as THREE from 'three'\nimport Stats from 'stats.js'\nimport StatsGl from 'stats-gl'\nimport * as tween from '@tweenjs/tween.js'\nimport { GraphicsBackendConfig, GraphicsInitOptions } from '../../../src/appViewer'\nimport { WorldRendererConfig } from '../lib/worldrendererCommon'\n\nexport class DocumentRenderer {\n  canvas: HTMLCanvasElement | OffscreenCanvas\n  readonly renderer: THREE.WebGLRenderer\n  private animationFrameId?: number\n  private timeoutId?: number\n  private lastRenderTime = 0\n\n  private previousCanvasWidth = 0\n  private previousCanvasHeight = 0\n  private currentWidth = 0\n  private currentHeight = 0\n\n  private renderedFps = 0\n  private fpsInterval: any\n  private readonly stats: TopRightStats | undefined\n  private paused = false\n  disconnected = false\n  preRender = () => { }\n  render = (sizeChanged: boolean) => { }\n  postRender = () => { }\n  sizeChanged = () => { }\n  droppedFpsPercentage: number\n  config: GraphicsBackendConfig\n  onRender = [] as Array<(sizeChanged: boolean) => void>\n  inWorldRenderingConfig: WorldRendererConfig | undefined\n\n  constructor (initOptions: GraphicsInitOptions, public externalCanvas?: OffscreenCanvas) {\n    this.config = initOptions.config\n\n    // Handle canvas creation/transfer based on context\n    if (externalCanvas) {\n      this.canvas = externalCanvas\n    } else {\n      this.addToPage()\n    }\n\n    try {\n      this.renderer = new THREE.WebGLRenderer({\n        canvas: this.canvas,\n        preserveDrawingBuffer: true,\n        logarithmicDepthBuffer: true,\n        powerPreference: this.config.powerPreference\n      })\n    } catch (err) {\n      initOptions.callbacks.displayCriticalError(new Error(`Failed to create WebGL context, not possible to render (restart browser): ${err.message}`))\n      throw err\n    }\n    this.renderer.outputColorSpace = THREE.LinearSRGBColorSpace\n    if (!externalCanvas) {\n      this.updatePixelRatio()\n    }\n    this.sizeUpdated()\n    // Initialize previous dimensions\n    this.previousCanvasWidth = this.canvas.width\n    this.previousCanvasHeight = this.canvas.height\n\n    const supportsWebGL2 = 'WebGL2RenderingContext' in window\n    // Only initialize stats and DOM-related features in main thread\n    if (!externalCanvas && supportsWebGL2) {\n      this.stats = new TopRightStats(this.canvas as HTMLCanvasElement, this.config.statsVisible)\n      this.setupFpsTracking()\n    }\n\n    this.startRenderLoop()\n  }\n\n  updatePixelRatio () {\n    let pixelRatio = window.devicePixelRatio || 1 // todo this value is too high on ios, need to check, probably we should use avg, also need to make it configurable\n    if (!this.renderer.capabilities.isWebGL2) {\n      pixelRatio = 1 // webgl1 has issues with high pixel ratio (sometimes screen is clipped)\n    }\n    this.renderer.setPixelRatio(pixelRatio)\n  }\n\n  sizeUpdated () {\n    this.renderer.setSize(this.currentWidth, this.currentHeight, false)\n  }\n\n  private addToPage () {\n    this.canvas = addCanvasToPage()\n    this.updateCanvasSize()\n  }\n\n  updateSizeExternal (newWidth: number, newHeight: number, pixelRatio: number) {\n    this.currentWidth = newWidth\n    this.currentHeight = newHeight\n    this.renderer.setPixelRatio(pixelRatio)\n    this.sizeUpdated()\n  }\n\n  private updateCanvasSize () {\n    if (!this.externalCanvas) {\n      const innnerWidth = window.innerWidth\n      const innnerHeight = window.innerHeight\n      if (this.currentWidth !== innnerWidth) {\n        this.currentWidth = innnerWidth\n      }\n      if (this.currentHeight !== innnerHeight) {\n        this.currentHeight = innnerHeight\n      }\n    }\n  }\n\n  private setupFpsTracking () {\n    let max = 0\n    this.fpsInterval = setInterval(() => {\n      if (max > 0) {\n        this.droppedFpsPercentage = this.renderedFps / max\n      }\n      max = Math.max(this.renderedFps, max)\n      this.renderedFps = 0\n    }, 1000)\n  }\n\n  private startRenderLoop () {\n    const animate = () => {\n      if (this.disconnected) return\n\n      if (this.config.timeoutRendering) {\n        this.timeoutId = setTimeout(animate, this.config.fpsLimit ? 1000 / this.config.fpsLimit : 0) as unknown as number\n      } else {\n        this.animationFrameId = requestAnimationFrame(animate)\n      }\n\n      if (this.paused || (this.renderer.xr.isPresenting && !this.inWorldRenderingConfig?.vrPageGameRendering)) return\n\n      // Handle FPS limiting\n      if (this.config.fpsLimit) {\n        const now = performance.now()\n        const elapsed = now - this.lastRenderTime\n        const fpsInterval = 1000 / this.config.fpsLimit\n\n        if (elapsed < fpsInterval) {\n          return\n        }\n\n        this.lastRenderTime = now - (elapsed % fpsInterval)\n      }\n\n      let sizeChanged = false\n      this.updateCanvasSize()\n      if (this.previousCanvasWidth !== this.currentWidth || this.previousCanvasHeight !== this.currentHeight) {\n        this.previousCanvasWidth = this.currentWidth\n        this.previousCanvasHeight = this.currentHeight\n        this.sizeUpdated()\n        sizeChanged = true\n      }\n\n      this.frameRender(sizeChanged)\n\n      // Update stats visibility each frame (main thread only)\n      if (this.config.statsVisible !== undefined) {\n        this.stats?.setVisibility(this.config.statsVisible)\n      }\n    }\n\n    animate()\n  }\n\n  frameRender (sizeChanged: boolean) {\n    this.preRender()\n    this.stats?.markStart()\n    tween.update()\n    if (!globalThis.freezeRender) {\n      this.render(sizeChanged)\n    }\n    for (const fn of this.onRender) {\n      fn(sizeChanged)\n    }\n    this.renderedFps++\n    this.stats?.markEnd()\n    this.postRender()\n  }\n\n  setPaused (paused: boolean) {\n    this.paused = paused\n  }\n\n  dispose () {\n    this.disconnected = true\n    if (this.animationFrameId) {\n      cancelAnimationFrame(this.animationFrameId)\n    }\n    if (this.timeoutId) {\n      clearTimeout(this.timeoutId)\n    }\n    if (this.canvas instanceof HTMLCanvasElement) {\n      this.canvas.remove()\n    }\n    clearInterval(this.fpsInterval)\n    this.stats?.dispose()\n    this.renderer.dispose()\n  }\n}\n\nclass TopRightStats {\n  private readonly stats: Stats\n  private readonly stats2: Stats\n  private readonly statsGl: StatsGl\n  private total = 0\n  private readonly denseMode: boolean\n\n  constructor (private readonly canvas: HTMLCanvasElement, initialStatsVisible = 0) {\n    this.stats = new Stats()\n    this.stats2 = new Stats()\n    this.statsGl = new StatsGl({ minimal: true })\n    this.stats2.showPanel(2)\n    this.denseMode = process.env.NODE_ENV === 'production' || window.innerHeight < 500\n\n    this.initStats()\n    this.setVisibility(initialStatsVisible)\n  }\n\n  private addStat (dom: HTMLElement, size = 80) {\n    dom.style.position = 'absolute'\n    if (this.denseMode) dom.style.height = '12px'\n    dom.style.overflow = 'hidden'\n    dom.style.left = ''\n    dom.style.top = '0'\n    dom.style.right = `${this.total}px`\n    dom.style.width = '80px'\n    dom.style.zIndex = '1'\n    dom.style.opacity = '0.8'\n    document.body.appendChild(dom)\n    this.total += size\n  }\n\n  private initStats () {\n    const hasRamPanel = this.stats2.dom.children.length === 3\n\n    this.addStat(this.stats.dom)\n    if (process.env.NODE_ENV === 'development' && document.exitPointerLock) {\n      this.stats.dom.style.top = ''\n      this.stats.dom.style.bottom = '0'\n    }\n    if (hasRamPanel) {\n      this.addStat(this.stats2.dom)\n    }\n\n    this.statsGl.init(this.canvas)\n    this.statsGl.container.style.display = 'flex'\n    this.statsGl.container.style.justifyContent = 'flex-end'\n\n    let i = 0\n    for (const _child of this.statsGl.container.children) {\n      const child = _child as HTMLElement\n      if (i++ === 0) {\n        child.style.display = 'none'\n      }\n      child.style.position = ''\n    }\n  }\n\n  setVisibility (level: number) {\n    const visible = level > 0\n    if (visible) {\n      this.stats.dom.style.display = 'block'\n      this.stats2.dom.style.display = level >= 2 ? 'block' : 'none'\n      this.statsGl.container.style.display = level >= 2 ? 'block' : 'none'\n    } else {\n      this.stats.dom.style.display = 'none'\n      this.stats2.dom.style.display = 'none'\n      this.statsGl.container.style.display = 'none'\n    }\n  }\n\n  markStart () {\n    this.stats.begin()\n    this.stats2.begin()\n    this.statsGl.begin()\n  }\n\n  markEnd () {\n    this.stats.end()\n    this.stats2.end()\n    this.statsGl.end()\n  }\n\n  dispose () {\n    this.stats.dom.remove()\n    this.stats2.dom.remove()\n    this.statsGl.container.remove()\n  }\n}\n\nconst addCanvasToPage = () => {\n  const canvas = document.createElement('canvas')\n  canvas.id = 'viewer-canvas'\n  document.body.appendChild(canvas)\n  return canvas\n}\n\nexport const addCanvasForWorker = () => {\n  const canvas = addCanvasToPage()\n  const transferred = canvas.transferControlToOffscreen()\n  let removed = false\n  let onSizeChanged = (w, h) => { }\n  let oldSize = { width: 0, height: 0 }\n  const checkSize = () => {\n    if (removed) return\n    if (oldSize.width !== window.innerWidth || oldSize.height !== window.innerHeight) {\n      onSizeChanged(window.innerWidth, window.innerHeight)\n      oldSize = { width: window.innerWidth, height: window.innerHeight }\n    }\n    requestAnimationFrame(checkSize)\n  }\n  requestAnimationFrame(checkSize)\n  return {\n    canvas: transferred,\n    destroy () {\n      removed = true\n      canvas.remove()\n    },\n    onSizeChanged (cb: (width: number, height: number) => void) {\n      onSizeChanged = cb\n    },\n    get size () {\n      return { width: window.innerWidth, height: window.innerHeight }\n    }\n  }\n}\n","import { join } from 'path'\nimport * as THREE from 'three'\nimport { getSyncWorld } from 'renderer/playground/shared'\nimport { Vec3 } from 'vec3'\nimport * as tweenJs from '@tweenjs/tween.js'\nimport type { GraphicsInitOptions } from '../../../src/appViewer'\nimport { WorldDataEmitter } from '../lib/worldDataEmitter'\nimport { defaultWorldRendererConfig, WorldRendererCommon } from '../lib/worldrendererCommon'\nimport { getDefaultRendererState } from '../baseGraphicsBackend'\nimport { ResourcesManager } from '../../../src/resourcesManager'\nimport { getInitialPlayerStateRenderer } from '../lib/basePlayerState'\nimport { loadThreeJsTextureFromUrl, loadThreeJsTextureFromUrlSync } from './threeJsUtils'\nimport { WorldRendererThree } from './worldrendererThree'\nimport { EntityMesh } from './entity/EntityMesh'\nimport { DocumentRenderer } from './documentRenderer'\nimport { PANORAMA_VERSION } from './panoramaShared'\n\nconst panoramaFiles = [\n  'panorama_3.png', // right (+x)\n  'panorama_1.png', // left (-x)\n  'panorama_4.png', // top (+y)\n  'panorama_5.png', // bottom (-y)\n  'panorama_0.png', // front (+z)\n  'panorama_2.png', // back (-z)\n]\n\nexport class PanoramaRenderer {\n  private readonly camera: THREE.PerspectiveCamera\n  private scene: THREE.Scene\n  private readonly ambientLight: THREE.AmbientLight\n  private readonly directionalLight: THREE.DirectionalLight\n  private panoramaGroup: THREE.Object3D | null = null\n  private time = 0\n  private readonly abortController = new AbortController()\n  private worldRenderer: WorldRendererCommon | WorldRendererThree | undefined\n  public WorldRendererClass = WorldRendererThree\n  public startTimes = new Map<THREE.MeshBasicMaterial, number>()\n\n  constructor (private readonly documentRenderer: DocumentRenderer, private readonly options: GraphicsInitOptions, private readonly doWorldBlocksPanorama = false) {\n    this.scene = new THREE.Scene()\n    // #324568\n    this.scene.background = new THREE.Color(0x32_45_68)\n\n    // Add ambient light\n    this.ambientLight = new THREE.AmbientLight(0xcc_cc_cc)\n    this.scene.add(this.ambientLight)\n\n    // Add directional light\n    this.directionalLight = new THREE.DirectionalLight(0xff_ff_ff, 0.5)\n    this.directionalLight.position.set(1, 1, 0.5).normalize()\n    this.directionalLight.castShadow = true\n    this.scene.add(this.directionalLight)\n\n    this.camera = new THREE.PerspectiveCamera(85, this.documentRenderer.canvas.width / this.documentRenderer.canvas.height, 0.05, 1000)\n    this.camera.position.set(0, 0, 0)\n    this.camera.rotation.set(0, 0, 0)\n  }\n\n  async start () {\n    if (this.doWorldBlocksPanorama) {\n      await this.worldBlocksPanorama()\n    } else {\n      this.addClassicPanorama()\n    }\n\n\n    this.documentRenderer.render = (sizeChanged = false) => {\n      if (sizeChanged) {\n        this.camera.aspect = this.documentRenderer.canvas.width / this.documentRenderer.canvas.height\n        this.camera.updateProjectionMatrix()\n      }\n      this.documentRenderer.renderer.render(this.scene, this.camera)\n    }\n  }\n\n  async debugImageInFrontOfCamera () {\n    const image = await loadThreeJsTextureFromUrl(join('background', 'panorama_0.png'))\n    const mesh = new THREE.Mesh(new THREE.PlaneGeometry(1000, 1000), new THREE.MeshBasicMaterial({ map: image }))\n    mesh.position.set(0, 0, -500)\n    mesh.rotation.set(0, 0, 0)\n    this.scene.add(mesh)\n  }\n\n  addClassicPanorama () {\n    const panorGeo = new THREE.BoxGeometry(1000, 1000, 1000)\n    const panorMaterials = [] as THREE.MeshBasicMaterial[]\n    const fadeInDuration = 200\n\n    // void this.debugImageInFrontOfCamera()\n\n    for (const file of panoramaFiles) {\n      const load = async () => {\n        const { texture } = loadThreeJsTextureFromUrlSync(join('background', file))\n\n        // Instead of using repeat/offset to flip, we'll use the texture matrix\n        texture.matrixAutoUpdate = false\n        texture.matrix.set(\n          -1, 0, 1, 0, 1, 0, 0, 0, 1\n        )\n\n        texture.wrapS = THREE.ClampToEdgeWrapping\n        texture.wrapT = THREE.ClampToEdgeWrapping\n        texture.minFilter = THREE.LinearFilter\n        texture.magFilter = THREE.LinearFilter\n\n        const material = new THREE.MeshBasicMaterial({\n          map: texture,\n          transparent: true,\n          side: THREE.DoubleSide,\n          depthWrite: false,\n          opacity: 0 // Start with 0 opacity\n        })\n\n        // Start fade-in when texture is loaded\n        this.startTimes.set(material, Date.now())\n        panorMaterials.push(material)\n      }\n\n      void load()\n    }\n\n    const panoramaBox = new THREE.Mesh(panorGeo, panorMaterials)\n    panoramaBox.onBeforeRender = () => {\n      this.time += 0.01\n      panoramaBox.rotation.y = Math.PI + this.time * 0.01\n      panoramaBox.rotation.z = Math.sin(-this.time * 0.001) * 0.001\n\n      // Time-based fade in animation for each material\n      for (const material of panorMaterials) {\n        const startTime = this.startTimes.get(material)\n        if (startTime) {\n          const elapsed = Date.now() - startTime\n          const progress = Math.min(1, elapsed / fadeInDuration)\n          material.opacity = progress\n        }\n      }\n    }\n\n    const group = new THREE.Object3D()\n    group.add(panoramaBox)\n\n    // Add squids\n    for (let i = 0; i < 20; i++) {\n      const m = new EntityMesh('1.16.4', 'squid').mesh\n      m.position.set(Math.random() * 30 - 15, Math.random() * 20 - 10, Math.random() * 10 - 17)\n      m.rotation.set(0, Math.PI + Math.random(), -Math.PI / 4, 'ZYX')\n      const v = Math.random() * 0.01\n      m.children[0].onBeforeRender = () => {\n        m.rotation.y += v\n        m.rotation.z = Math.cos(panoramaBox.rotation.y * 3) * Math.PI / 4 - Math.PI / 2\n      }\n      group.add(m)\n    }\n\n    this.scene.add(group)\n    this.panoramaGroup = group\n  }\n\n  async worldBlocksPanorama () {\n    const version = PANORAMA_VERSION\n    const fullResourceManager = this.options.resourcesManager as ResourcesManager\n    fullResourceManager.currentConfig = { version, noInventoryGui: true, }\n    await fullResourceManager.updateAssetsData({ })\n    if (this.abortController.signal.aborted) return\n    console.time('load panorama scene')\n    const world = getSyncWorld(version)\n    const PrismarineBlock = require('prismarine-block')\n    const Block = PrismarineBlock(version)\n    const fullBlocks = loadedData.blocksArray.filter(block => {\n    // if (block.name.includes('leaves')) return false\n      if (/* !block.name.includes('wool') &&  */!block.name.includes('stained_glass')/*  && !block.name.includes('terracotta') */) return false\n      const b = Block.fromStateId(block.defaultState, 0)\n      if (b.shapes?.length !== 1) return false\n      const shape = b.shapes[0]\n      return shape[0] === 0 && shape[1] === 0 && shape[2] === 0 && shape[3] === 1 && shape[4] === 1 && shape[5] === 1\n    })\n    const Z = -15\n    const sizeX = 100\n    const sizeY = 100\n    for (let x = -sizeX; x < sizeX; x++) {\n      for (let y = -sizeY; y < sizeY; y++) {\n        const block = fullBlocks[Math.floor(Math.random() * fullBlocks.length)]\n        world.setBlockStateId(new Vec3(x, y, Z), block.defaultState)\n      }\n    }\n    this.camera.updateProjectionMatrix()\n    this.camera.position.set(0.5, sizeY / 2 + 0.5, 0.5)\n    this.camera.rotation.set(0, 0, 0)\n    const initPos = new Vec3(...this.camera.position.toArray())\n    const worldView = new WorldDataEmitter(world, 2, initPos)\n    // worldView.addWaitTime = 0\n    if (this.abortController.signal.aborted) return\n\n    this.worldRenderer = new this.WorldRendererClass(\n      this.documentRenderer.renderer,\n      this.options,\n      {\n        version,\n        worldView,\n        inWorldRenderingConfig: defaultWorldRendererConfig,\n        playerStateReactive: getInitialPlayerStateRenderer().reactive,\n        rendererState: getDefaultRendererState().reactive,\n        nonReactiveState: getDefaultRendererState().nonReactive\n      }\n    )\n    if (this.worldRenderer instanceof WorldRendererThree) {\n      this.scene = this.worldRenderer.scene\n    }\n    void worldView.init(initPos)\n\n    await this.worldRenderer.waitForChunksToRender()\n    if (this.abortController.signal.aborted) return\n    // add small camera rotation to side on mouse move depending on absolute position of the cursor\n    const { camera } = this\n    const initX = camera.position.x\n    const initY = camera.position.y\n    let prevTwin: tweenJs.Tween<THREE.Vector3> | undefined\n    document.body.addEventListener('pointermove', (e) => {\n      if (e.pointerType !== 'mouse') return\n      const pos = new THREE.Vector2(e.clientX, e.clientY)\n      const SCALE = 0.2\n      /* -0.5 - 0.5 */\n      const xRel = pos.x / window.innerWidth - 0.5\n      const yRel = -(pos.y / window.innerHeight - 0.5)\n      prevTwin?.stop()\n      const to = {\n        x: initX + (xRel * SCALE),\n        y: initY + (yRel * SCALE)\n      }\n      prevTwin = new tweenJs.Tween(camera.position).to(to, 0) // todo use the number depending on diff // todo use the number depending on diff\n      // prevTwin.easing(tweenJs.Easing.Exponential.InOut)\n      prevTwin.start()\n      camera.updateProjectionMatrix()\n    }, {\n      signal: this.abortController.signal\n    })\n\n    console.timeEnd('load panorama scene')\n  }\n\n  dispose () {\n    this.scene.clear()\n    this.worldRenderer?.destroy()\n    this.abortController.abort()\n  }\n}\n\n// export class ClassicPanoramaRenderer {\n//   panoramaGroup: THREE.Object3D\n\n//   constructor (private readonly backgroundFiles: string[], onRender: Array<(sizeChanged: boolean) => void>, addSquids = true) {\n//     const panorGeo = new THREE.BoxGeometry(1000, 1000, 1000)\n//     const loader = new THREE.TextureLoader()\n//     const panorMaterials = [] as THREE.MeshBasicMaterial[]\n\n//     for (const file of this.backgroundFiles) {\n//       const texture = loader.load(file)\n\n//       // Instead of using repeat/offset to flip, we'll use the texture matrix\n//       texture.matrixAutoUpdate = false\n//       texture.matrix.set(\n//         -1, 0, 1, 0, 1, 0, 0, 0, 1\n//       )\n\n//       texture.wrapS = THREE.ClampToEdgeWrapping // Changed from RepeatWrapping\n//       texture.wrapT = THREE.ClampToEdgeWrapping // Changed from RepeatWrapping\n//       texture.minFilter = THREE.LinearFilter\n//       texture.magFilter = THREE.LinearFilter\n\n//       panorMaterials.push(new THREE.MeshBasicMaterial({\n//         map: texture,\n//         transparent: true,\n//         side: THREE.DoubleSide,\n//         depthWrite: false,\n//       }))\n//     }\n\n//     const panoramaBox = new THREE.Mesh(panorGeo, panorMaterials)\n//     panoramaBox.onBeforeRender = () => {\n//     }\n\n//     const group = new THREE.Object3D()\n//     group.add(panoramaBox)\n\n//     if (addSquids) {\n//       // Add squids\n//       for (let i = 0; i < 20; i++) {\n//         const m = new EntityMesh('1.16.4', 'squid').mesh\n//         m.position.set(Math.random() * 30 - 15, Math.random() * 20 - 10, Math.random() * 10 - 17)\n//         m.rotation.set(0, Math.PI + Math.random(), -Math.PI / 4, 'ZYX')\n//         const v = Math.random() * 0.01\n//         onRender.push(() => {\n//           m.rotation.y += v\n//           m.rotation.z = Math.cos(panoramaBox.rotation.y * 3) * Math.PI / 4 - Math.PI / 2\n//         })\n//         group.add(m)\n//       }\n//     }\n\n//     this.panoramaGroup = group\n//   }\n// }\n","export const PANORAMA_VERSION = '1.21.4'\n","import { VRButton } from 'three/examples/jsm/webxr/VRButton.js'\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js'\nimport { XRControllerModelFactory } from 'three/examples/jsm/webxr/XRControllerModelFactory.js'\nimport { buttonMap as standardButtonsMap } from 'contro-max/build/gamepad'\nimport * as THREE from 'three'\nimport { WorldRendererThree } from '../worldrendererThree'\nimport { DocumentRenderer } from '../documentRenderer'\n\nexport async function initVR (worldRenderer: WorldRendererThree, documentRenderer: DocumentRenderer) {\n  if (!('xr' in navigator) || !worldRenderer.worldRendererConfig.vrSupport) return\n  const { renderer } = worldRenderer\n\n  const isSupported = await checkVRSupport()\n  if (!isSupported) return\n\n  enableVr()\n\n  const vrButtonContainer = createVrButtonContainer(renderer)\n  const updateVrButtons = () => {\n    const newHidden = !worldRenderer.worldRendererConfig.vrSupport || !worldRenderer.worldRendererConfig.foreground\n    if (vrButtonContainer.hidden !== newHidden) {\n      vrButtonContainer.hidden = newHidden\n    }\n  }\n\n  worldRenderer.onRender.push(updateVrButtons)\n\n  function enableVr () {\n    renderer.xr.enabled = true\n    // renderer.xr.setReferenceSpaceType('local-floor')\n    worldRenderer.reactiveState.preventEscapeMenu = true\n  }\n\n  function disableVr () {\n    renderer.xr.enabled = false\n    worldRenderer.cameraGroupVr = undefined\n    worldRenderer.reactiveState.preventEscapeMenu = false\n    worldRenderer.scene.remove(user)\n    vrButtonContainer.hidden = true\n  }\n\n  function createVrButtonContainer (renderer) {\n    const container = document.createElement('div')\n    const vrButton = VRButton.createButton(renderer)\n    styleContainer(container)\n\n    const closeButton = createCloseButton(container)\n\n    container.appendChild(vrButton)\n    container.appendChild(closeButton)\n    document.body.appendChild(container)\n\n    return container\n  }\n\n  function styleContainer (container: HTMLElement) {\n    typedAssign(container.style, {\n      position: 'absolute',\n      bottom: '80px',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      justifyContent: 'center',\n      zIndex: '8',\n      gap: '8px',\n    })\n  }\n\n  function createCloseButton (container: HTMLElement) {\n    const closeButton = document.createElement('button')\n    closeButton.textContent = 'X'\n    typedAssign(closeButton.style, {\n      padding: '0 12px',\n      color: 'white',\n      fontSize: '14px',\n      lineHeight: '20px',\n      cursor: 'pointer',\n      background: 'transparent',\n      border: '1px solid rgb(255, 255, 255)',\n      borderRadius: '4px',\n      opacity: '0.7',\n    })\n\n    closeButton.addEventListener('click', () => {\n      container.hidden = true\n      worldRenderer.worldRendererConfig.vrSupport = false\n    })\n\n    return closeButton\n  }\n\n\n  async function checkVRSupport () {\n    try {\n      const supported = await navigator.xr?.isSessionSupported('immersive-vr')\n      return supported && !!XRSession.prototype.updateRenderState\n    } catch (err) {\n      console.error('Error checking if VR is supported', err)\n      return false\n    }\n  }\n\n  // hack for vr camera\n  const user = new THREE.Group()\n  user.name = 'vr-camera-container'\n  worldRenderer.scene.add(user)\n  const controllerModelFactory = new XRControllerModelFactory(new GLTFLoader())\n  const controller1 = renderer.xr.getControllerGrip(0)\n  const controller2 = renderer.xr.getControllerGrip(1)\n\n  // todo the logic written here can be hard to understand as it was designed to work in gamepad api emulation mode, will be refactored once there is a contro-max rewrite is done\n  const virtualGamepadIndex = 4\n  let connectedVirtualGamepad\n  //@ts-expect-error\n  const manageXrInputSource = ({ gamepad, handedness = defaultHandedness }, defaultHandedness, removeAction = false) => {\n    if (handedness === 'right') {\n      const event: any = new Event(removeAction ? 'gamepaddisconnected' : 'gamepadconnected') // todo need to expose and use external gamepads api in contro-max instead\n      event.gamepad = removeAction ? connectedVirtualGamepad : { ...gamepad, mapping: 'standard', index: virtualGamepadIndex }\n      connectedVirtualGamepad = event.gamepad\n      window.dispatchEvent(event)\n    }\n  }\n  let hand1: any = controllerModelFactory.createControllerModel(controller1)\n  controller1.addEventListener('connected', (event) => {\n    hand1.xrInputSource = event.data\n    manageXrInputSource(event.data, 'left')\n    user.add(controller1)\n  })\n  controller1.add(hand1)\n  let hand2: any = controllerModelFactory.createControllerModel(controller2)\n  controller2.addEventListener('connected', (event) => {\n    hand2.xrInputSource = event.data\n    manageXrInputSource(event.data, 'right')\n    user.add(controller2)\n  })\n  controller2.add(hand2)\n\n  controller1.addEventListener('disconnected', () => {\n    // don't handle removal of gamepads for now as is don't affect contro-max\n    manageXrInputSource(hand1.xrInputSource, 'left', true)\n    hand1.xrInputSource = undefined\n  })\n  controller2.addEventListener('disconnected', () => {\n    manageXrInputSource(hand1.xrInputSource, 'right', true)\n    hand2.xrInputSource = undefined\n  })\n\n  const originalGetGamepads = navigator.getGamepads.bind(navigator)\n  // is it okay to patch this?\n  //@ts-expect-error\n  navigator.getGamepads = () => {\n    const originalGamepads = originalGetGamepads()\n    if (!hand1.xrInputSource || !hand2.xrInputSource) return originalGamepads\n    return [\n      ...originalGamepads,\n      {\n        axes: remapAxes(hand2.xrInputSource.gamepad.axes, hand1.xrInputSource.gamepad.axes),\n        buttons: remapButtons(hand2.xrInputSource.gamepad.buttons, hand1.xrInputSource.gamepad.buttons),\n        connected: true,\n        mapping: 'standard',\n        id: '',\n        index: virtualGamepadIndex\n      }\n    ]\n  }\n\n  let rotSnapReset = true\n  let yawOffset = 0\n  renderer.setAnimationLoop(() => {\n    if (!renderer.xr.isPresenting) return\n    if (hand1.xrInputSource && hand2.xrInputSource) {\n      hand1.xAxis = hand1.xrInputSource.gamepad.axes[2]\n      hand1.yAxis = hand1.xrInputSource.gamepad.axes[3]\n      hand2.xAxis = hand2.xrInputSource.gamepad.axes[2]\n      hand2.yAxis = hand2.xrInputSource.gamepad.axes[3]\n      // hand2 should be right\n      if (hand1.xrInputSource.handedness === 'right') {\n        const tmp = hand2\n        hand2 = hand1\n        hand1 = tmp\n      }\n    }\n\n    if (rotSnapReset) {\n      if (Math.abs(hand1.xAxis) > 0.8) {\n        yawOffset -= Math.PI / 4 * Math.sign(hand1.xAxis)\n        rotSnapReset = false\n      }\n    } else if (Math.abs(hand1.xAxis) < 0.1) {\n      rotSnapReset = true\n    }\n\n    // appViewer.backend?.updateCamera(null, yawOffset, 0)\n    // worldRenderer.updateCamera(null, bot.entity.yaw, bot.entity.pitch)\n\n    // todo restore this logic (need to preserve ability to move camera)\n    // const xrCamera = renderer.xr.getCamera()\n    // const d = xrCamera.getWorldDirection(new THREE.Vector3())\n    // bot.entity.yaw = Math.atan2(-d.x, -d.z)\n    // bot.entity.pitch = Math.asin(d.y)\n\n    documentRenderer.frameRender(false)\n  })\n  renderer.xr.addEventListener('sessionstart', () => {\n    user.add(worldRenderer.camera)\n    worldRenderer.cameraGroupVr = user\n  })\n  renderer.xr.addEventListener('sessionend', () => {\n    worldRenderer.cameraGroupVr = undefined\n    user.remove(worldRenderer.camera)\n  })\n\n  worldRenderer.abortController.signal.addEventListener('abort', disableVr)\n}\n\nconst xrStandardRightButtonsMap = [\n  [0 /* trigger */, 'Right Trigger'],\n  [1 /* squeeze */, 'Right Bumper'],\n  // need to think of a way to support touchpad input\n  [3 /* Thumbstick Press */, 'Right Stick'],\n  [4 /* A */, 'A'],\n  [5 /* B */, 'B'],\n]\nconst xrStandardLeftButtonsMap = [\n  [0 /* trigger */, 'Left Trigger'],\n  [1 /* squeeze */, 'Left Bumper'],\n  // need to think of a way to support touchpad input\n  [3 /* Thumbstick Press */, 'Left Stick'],\n  [4 /* A */, 'X'],\n  [5 /* B */, 'Y'],\n]\nconst remapButtons = (rightButtons: any[], leftButtons: any[]) => {\n  // return remapped buttons\n  const remapped = [] as string[]\n  const remapWithMap = (buttons, map) => {\n    for (const [index, standardName] of map) {\n      const standardMappingIndex = standardButtonsMap.findIndex((aliases) => aliases.find(alias => standardName === alias))\n      remapped[standardMappingIndex] = buttons[index]\n    }\n  }\n  remapWithMap(rightButtons, xrStandardRightButtonsMap)\n  remapWithMap(leftButtons, xrStandardLeftButtonsMap)\n  return remapped\n}\nconst remapAxes = (axesRight, axesLeft) => {\n  // 0, 1 are reserved for touch\n  return [\n    axesLeft[2],\n    axesLeft[3],\n    axesRight[2],\n    axesRight[3]\n  ]\n}\n\nfunction typedAssign<T extends Record<string, any>> (target: T, source: Partial<T>) {\n  Object.assign(target, source)\n}\n","import * as THREE from 'three'\nimport { Vec3 } from 'vec3'\nimport { GraphicsBackendLoader, GraphicsBackend, GraphicsInitOptions, DisplayWorldOptions } from '../../../src/appViewer'\nimport { ProgressReporter } from '../../../src/core/progressReporter'\nimport { showNotification } from '../../../src/react/NotificationProvider'\nimport { displayEntitiesDebugList } from '../../playground/allEntitiesDebug'\nimport supportedVersions from '../../../src/supportedVersions.mjs'\nimport { ResourcesManager } from '../../../src/resourcesManager'\nimport { WorldRendererThree } from './worldrendererThree'\nimport { DocumentRenderer } from './documentRenderer'\nimport { PanoramaRenderer } from './panorama'\nimport { initVR } from './world/vr'\n\n// https://discourse.threejs.org/t/updates-to-color-management-in-three-js-r152/50791\nTHREE.ColorManagement.enabled = false\nglobalThis.THREE = THREE\n\nconst getBackendMethods = (worldRenderer: WorldRendererThree) => {\n  return {\n    updateMap: worldRenderer.entities.updateMap.bind(worldRenderer.entities),\n    updateCustomBlock: worldRenderer.updateCustomBlock.bind(worldRenderer),\n    getBlockInfo: worldRenderer.getBlockInfo.bind(worldRenderer),\n    playEntityAnimation: worldRenderer.entities.playAnimation.bind(worldRenderer.entities),\n    damageEntity: worldRenderer.entities.handleDamageEvent.bind(worldRenderer.entities),\n    updatePlayerSkin: worldRenderer.entities.updatePlayerSkin.bind(worldRenderer.entities),\n    changeHandSwingingState: worldRenderer.changeHandSwingingState.bind(worldRenderer),\n    getHighestBlocks: worldRenderer.getHighestBlocks.bind(worldRenderer),\n    reloadWorld: worldRenderer.reloadWorld.bind(worldRenderer),\n\n    addMedia: worldRenderer.media.addMedia.bind(worldRenderer.media),\n    destroyMedia: worldRenderer.media.destroyMedia.bind(worldRenderer.media),\n    setVideoPlaying: worldRenderer.media.setVideoPlaying.bind(worldRenderer.media),\n    setVideoSeeking: worldRenderer.media.setVideoSeeking.bind(worldRenderer.media),\n    setVideoVolume: worldRenderer.media.setVideoVolume.bind(worldRenderer.media),\n    setVideoSpeed: worldRenderer.media.setVideoSpeed.bind(worldRenderer.media),\n\n    addSectionAnimation (id: string, animation: typeof worldRenderer.sectionsOffsetsAnimations[string]) {\n      worldRenderer.sectionsOffsetsAnimations[id] = animation\n    },\n    removeSectionAnimation (id: string) {\n      delete worldRenderer.sectionsOffsetsAnimations[id]\n    },\n\n    shakeFromDamage: worldRenderer.cameraShake.shakeFromDamage.bind(worldRenderer.cameraShake),\n    onPageInteraction: worldRenderer.media.onPageInteraction.bind(worldRenderer.media),\n    downloadMesherLog: worldRenderer.downloadMesherLog.bind(worldRenderer),\n\n    addWaypoint: worldRenderer.waypoints.addWaypoint.bind(worldRenderer.waypoints),\n    removeWaypoint: worldRenderer.waypoints.removeWaypoint.bind(worldRenderer.waypoints),\n\n    // New method for updating skybox\n    setSkyboxImage: worldRenderer.skyboxRenderer.setSkyboxImage.bind(worldRenderer.skyboxRenderer)\n  }\n}\n\nexport type ThreeJsBackendMethods = ReturnType<typeof getBackendMethods>\n\nconst createGraphicsBackend: GraphicsBackendLoader = (initOptions: GraphicsInitOptions) => {\n  // Private state\n  const documentRenderer = new DocumentRenderer(initOptions)\n  globalThis.renderer = documentRenderer.renderer\n\n  let panoramaRenderer: PanoramaRenderer | null = null\n  let worldRenderer: WorldRendererThree | null = null\n\n  const startPanorama = async () => {\n    if (!documentRenderer) throw new Error('Document renderer not initialized')\n    if (worldRenderer) return\n    const qs = new URLSearchParams(location.search)\n    if (qs.get('debugEntities')) {\n      const fullResourceManager = initOptions.resourcesManager as ResourcesManager\n      fullResourceManager.currentConfig = { version: qs.get('version') || supportedVersions.at(-1)!, noInventoryGui: true }\n      await fullResourceManager.updateAssetsData({ })\n\n      displayEntitiesDebugList(fullResourceManager.currentConfig.version)\n      return\n    }\n\n    if (!panoramaRenderer) {\n      panoramaRenderer = new PanoramaRenderer(documentRenderer, initOptions, !!process.env.SINGLE_FILE_BUILD_MODE)\n      globalThis.panoramaRenderer = panoramaRenderer\n      callModsMethod('panoramaCreated', panoramaRenderer)\n      await panoramaRenderer.start()\n      callModsMethod('panoramaReady', panoramaRenderer)\n    }\n  }\n\n  const startWorld = async (displayOptions: DisplayWorldOptions) => {\n    if (panoramaRenderer) {\n      panoramaRenderer.dispose()\n      panoramaRenderer = null\n    }\n    worldRenderer = new WorldRendererThree(documentRenderer.renderer, initOptions, displayOptions)\n    void initVR(worldRenderer, documentRenderer)\n    await worldRenderer.worldReadyPromise\n    documentRenderer.render = (sizeChanged: boolean) => {\n      worldRenderer?.render(sizeChanged)\n    }\n    documentRenderer.inWorldRenderingConfig = displayOptions.inWorldRenderingConfig\n    window.world = worldRenderer\n    callModsMethod('worldReady', worldRenderer)\n  }\n\n  const disconnect = () => {\n    if (panoramaRenderer) {\n      panoramaRenderer.dispose()\n      panoramaRenderer = null\n    }\n    if (documentRenderer) {\n      documentRenderer.dispose()\n    }\n    if (worldRenderer) {\n      worldRenderer.destroy()\n      worldRenderer = null\n    }\n  }\n\n  // Public interface\n  const backend: GraphicsBackend = {\n    id: 'threejs',\n    displayName: `three.js ${THREE.REVISION}`,\n    startPanorama,\n    startWorld,\n    disconnect,\n    setRendering (rendering) {\n      documentRenderer.setPaused(!rendering)\n      if (worldRenderer) worldRenderer.renderingActive = rendering\n    },\n    getDebugOverlay: () => ({\n      get entitiesString () {\n        return worldRenderer?.entities.getDebugString()\n      },\n    }),\n    updateCamera (pos: Vec3 | null, yaw: number, pitch: number) {\n      worldRenderer?.setFirstPersonCamera(pos, yaw, pitch)\n    },\n    get soundSystem () {\n      return worldRenderer?.soundSystem\n    },\n    get backendMethods () {\n      if (!worldRenderer) return undefined\n      return getBackendMethods(worldRenderer)\n    }\n  }\n\n  globalThis.threeJsBackend = backend\n  globalThis.resourcesManager = initOptions.resourcesManager\n  callModsMethod('default', backend)\n\n  return backend\n}\n\nconst callModsMethod = (method: string, ...args: any[]) => {\n  for (const mod of Object.values((window.loadedMods ?? {}) as Record<string, any>)) {\n    try {\n      mod.threeJsBackendModule?.[method]?.(...args)\n    } catch (err) {\n      const errorMessage = `[mod three.js] Error calling ${method} on ${mod.name}: ${err}`\n      showNotification(errorMessage, 'error')\n      throw new Error(errorMessage)\n    }\n  }\n}\n\ncreateGraphicsBackend.id = 'threejs'\nexport default createGraphicsBackend\n","import { subscribeKey } from 'valtio/utils'\nimport createGraphicsBackend from 'renderer/viewer/three/graphicsBackend'\nimport { options } from './optionsStorage'\nimport { appViewer } from './appViewer'\nimport { miscUiState } from './globalState'\nimport { watchOptionsAfterViewerInit } from './watchOptions'\nimport { showNotification } from './react/NotificationProvider'\n\nconst backends = [\n  createGraphicsBackend,\n]\nconst loadBackend = async () => {\n  let backend = backends.find(backend => backend.id === options.activeRenderer)\n  if (!backend) {\n    showNotification(`No backend found for renderer ${options.activeRenderer}`, `Falling back to ${backends[0].id}`, true)\n    backend = backends[0]\n  }\n  await appViewer.loadBackend(backend)\n}\nwindow.loadBackend = loadBackend\nif (process.env.SINGLE_FILE_BUILD_MODE) {\n  const unsub = subscribeKey(miscUiState, 'fsReady', () => {\n    if (miscUiState.fsReady) {\n      // don't do it earlier to load fs and display menu faster\n      void loadBackend()\n      unsub()\n    }\n  })\n} else {\n  setTimeout(() => {\n    void loadBackend()\n  })\n}\n\nconst animLoop = () => {\n  for (const fn of beforeRenderFrame) fn()\n  requestAnimationFrame(animLoop)\n}\nrequestAnimationFrame(animLoop)\n\nwatchOptionsAfterViewerInit()\n\n// reset backend when renderer changes\n\nsubscribeKey(options, 'activeRenderer', async () => {\n  if (appViewer.currentDisplay === 'world' && bot) {\n    appViewer.resetBackend(true)\n    await loadBackend()\n    void appViewer.startWithBot()\n  }\n})\n","import { noCase } from 'change-case'\n\nexport interface BenchmarkAdapterInfo {\n  fixture: string\n  // general load info\n  worldLoadTimeSeconds: number\n\n  // mesher\n  mesherWorkersCount: number\n  mesherProcessAvgMs: number\n  mesherProcessWorstMs: number\n  mesherProcessTotalMs: number\n  chunksFullInfo: string\n\n  // rendering backend\n  averageRenderTimeMs: number\n  worstRenderTimeMs: number\n  fpsAveragePrediction: number\n  fpsWorstPrediction: number\n  fpsAverageReal: string\n  fpsWorstReal: number\n  backendInfoReport: string\n\n  // main thread\n  fpsAverageMainThread: number\n  fpsWorstMainThread: number\n\n  // memory total\n  memoryUsageAverage: string\n  memoryUsageWorst: string\n\n  // context info\n  gpuInfo: string\n  hardwareConcurrency: number\n  userAgent: string\n  clientVersion: string\n}\n\nexport const getAllInfo = (adapter: BenchmarkAdapterInfo) => {\n  return Object.fromEntries(\n    Object.entries(adapter).map(([key, value]) => {\n      if (typeof value === 'function') {\n        value = (value as () => any)()\n      }\n      if (typeof value === 'number') {\n        value = value.toFixed(2)\n      }\n      return [noCase(key), value]\n    })\n  )\n}\n\nexport const getAllInfoLines = (adapter: BenchmarkAdapterInfo, delayed = false) => {\n  const info = getAllInfo(adapter)\n  if (delayed) {\n    for (const key in info) {\n      if (key !== 'fpsAveragePrediction' && key !== 'fpsAverageReal') {\n        delete info[key]\n      }\n    }\n  }\n\n  return Object.entries(info).map(([key, value]) => {\n    return `${key}${delayed ? ' (delayed)' : ''}: ${value}`\n  })\n}\n","import { Vec3 } from 'vec3'\nimport { WorldRendererCommon } from 'renderer/viewer/lib/worldrendererCommon'\nimport prettyBytes from 'pretty-bytes'\nimport { subscribe } from 'valtio'\nimport { downloadAndOpenMapFromUrl } from './downloadAndOpenFile'\nimport { activeModalStack, miscUiState } from './globalState'\nimport { disabledSettings, options } from './optionsStorage'\nimport { BenchmarkAdapterInfo, getAllInfoLines } from './benchmarkAdapter'\nimport { appQueryParams } from './appParams'\nimport { getScreenRefreshRate } from './utils'\nimport { setLoadingScreenStatus } from './appStatus'\n\nconst DEFAULT_RENDER_DISTANCE = 5\n\ninterface BenchmarkFixture {\n  urlZip?: string\n  urlDir?: string[]\n  replayFileUrl?: string\n  spawn?: [number, number, number]\n}\n\nconst fixtures: Record<string, BenchmarkFixture> = {\n  default: {\n    urlZip: 'https://bucket.mcraft.fun/Future CITY 4.4-slim.zip',\n    spawn: [-133, 87, 309] as [number, number, number],\n  },\n  dir: {\n    urlDir: ['https://bucket.mcraft.fun/Greenfield%20v0.5.1/map-index.json', 'https://mcraft-proxy.vercel.app/0/bucket.mcraft.fun/Greenfield%20v0.5.1/map-index.json'],\n  },\n  replay: {\n    replayFileUrl: 'https://raw.githubusercontent.com/zardoy/mcraft-fun-replays/refs/heads/main/hypepixel-tnt-lobby.worldstate.txt',\n  },\n}\n\nError.stackTraceLimit = Error.stackTraceLimit < 30 ? 30 : Error.stackTraceLimit\n\nconst SESSION_STORAGE_BACKUP_KEY = 'benchmark-backup'\nexport const openBenchmark = async (renderDistance = DEFAULT_RENDER_DISTANCE) => {\n  let fixtureNameOpen = appQueryParams.openBenchmark\n  if (!fixtureNameOpen || fixtureNameOpen === '1' || fixtureNameOpen === 'true' || fixtureNameOpen === 'zip') {\n    fixtureNameOpen = 'default'\n  }\n\n\n  if (sessionStorage.getItem(SESSION_STORAGE_BACKUP_KEY)) {\n    const backup = JSON.stringify(JSON.parse(sessionStorage.getItem(SESSION_STORAGE_BACKUP_KEY)!), null, 2)\n    setLoadingScreenStatus('Either other tab with benchmark is open or page crashed. Last data backup is downloaded. Reload page to retry.')\n    // download file\n    const a = document.createElement('a')\n    a.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(backup)\n    a.download = `benchmark-${appViewer.backend?.id}.txt`\n    a.click()\n    sessionStorage.removeItem(SESSION_STORAGE_BACKUP_KEY)\n    return\n  }\n\n  const fixture: BenchmarkFixture = appQueryParams.benchmarkMapZipUrl ? {\n    urlZip: appQueryParams.benchmarkMapZipUrl,\n    spawn: appQueryParams.benchmarkPosition ? appQueryParams.benchmarkPosition.split(',').map(Number) as [number, number, number] : fixtures.default.spawn,\n  } : fixtures[fixtureNameOpen]\n\n  if (!fixture) {\n    setLoadingScreenStatus(`Benchmark fixture ${fixtureNameOpen} not found`)\n    return\n  }\n\n  let memoryUsageAverage = 0\n  let memoryUsageSamples = 0\n  let memoryUsageWorst = 0\n  setInterval(() => {\n    const memoryUsage = (window.performance as any)?.memory?.usedJSHeapSize\n    if (memoryUsage) {\n      memoryUsageAverage = (memoryUsageAverage * memoryUsageSamples + memoryUsage) / (memoryUsageSamples + 1)\n      memoryUsageSamples++\n      if (memoryUsage > memoryUsageWorst) {\n        memoryUsageWorst = memoryUsage\n      }\n    }\n  }, 200)\n\n  let mainThreadFpsAverage = 0\n  let mainThreadFpsWorst = undefined as number | undefined\n  let mainThreadFpsSamples = 0\n  let currentPassedFrames = 0\n  const mainLoop = () => {\n    currentPassedFrames++\n    requestAnimationFrame(mainLoop)\n  }\n  requestAnimationFrame(mainLoop)\n  setInterval(() => {\n    mainThreadFpsAverage = (mainThreadFpsAverage * mainThreadFpsSamples + currentPassedFrames) / (mainThreadFpsSamples + 1)\n    mainThreadFpsSamples++\n    if (mainThreadFpsWorst === undefined) {\n      mainThreadFpsWorst = currentPassedFrames\n    } else {\n      mainThreadFpsWorst = Math.min(mainThreadFpsWorst, currentPassedFrames)\n    }\n    currentPassedFrames = 0\n  }, 1000)\n\n  // todo urlDir fix\n  let fixtureName = `${fixture.urlZip ?? fixture.urlDir?.join('|') ?? fixture.replayFileUrl ?? 'unknown'}`\n  if (fixture.spawn) {\n    fixtureName += ` - ${fixture.spawn.join(' ')}`\n  }\n\n  fixtureName += ` - ${renderDistance}`\n  if (process.env.NODE_ENV !== 'development') { // do not delay\n    setLoadingScreenStatus('Benchmark requested... Getting screen refresh rate')\n    await new Promise(resolve => {\n      setTimeout(resolve, 1000)\n    })\n  }\n  let start = 0\n  // interval to backup data in sessionStorage in case of page crash\n  const saveBackupInterval = setInterval(() => {\n    if (!window.world) return\n    const backup = JSON.parse(JSON.stringify(window.benchmarkAdapter))\n    backup.timePassed = ((Date.now() - start) / 1000).toFixed(2)\n    sessionStorage.setItem(SESSION_STORAGE_BACKUP_KEY, JSON.stringify(backup))\n  }, 500)\n\n  const screenRefreshRate = await getScreenRefreshRate()\n  const benchmarkAdapter: BenchmarkAdapterInfo = {\n    get fixture () {\n      return fixtureName\n    },\n    get worldLoadTimeSeconds () {\n      return window.worldLoadTime\n    },\n    get mesherWorkersCount () {\n      return (window.world as WorldRendererCommon).worldRendererConfig.mesherWorkers\n    },\n    get mesherProcessAvgMs () {\n      return (window.world as WorldRendererCommon).workersProcessAverageTime\n    },\n    get mesherProcessTotalMs () {\n      return (window.world as WorldRendererCommon).workersProcessAverageTime * (window.world as WorldRendererCommon).workersProcessAverageTimeCount\n    },\n    get mesherProcessWorstMs () {\n      return (window.world as WorldRendererCommon).maxWorkersProcessTime\n    },\n    get chunksFullInfo () {\n      return (window.world as WorldRendererCommon).chunksFullInfo\n    },\n    get averageRenderTimeMs () {\n      return (window.world as WorldRendererCommon).renderTimeAvg\n    },\n    get worstRenderTimeMs () {\n      return (window.world as WorldRendererCommon).renderTimeMax\n    },\n    get fpsAveragePrediction () {\n      const avgRenderTime = (window.world as WorldRendererCommon).renderTimeAvg\n      return 1000 / avgRenderTime\n    },\n    get fpsWorstPrediction () {\n      const maxRenderTime = (window.world as WorldRendererCommon).renderTimeMax\n      return 1000 / maxRenderTime\n    },\n    get fpsAverageReal () {\n      return `${(window.world as WorldRendererCommon).fpsAverage.toFixed(0)} / ${screenRefreshRate}`\n    },\n    get fpsWorstReal () {\n      return (window.world as WorldRendererCommon).fpsWorst ?? -1\n    },\n    get backendInfoReport () {\n      return (window.world as WorldRendererCommon).backendInfoReport\n    },\n    get fpsAverageMainThread () {\n      return mainThreadFpsAverage\n    },\n    get fpsWorstMainThread () {\n      return mainThreadFpsWorst ?? -1\n    },\n    get memoryUsageAverage () {\n      return prettyBytes(memoryUsageAverage)\n    },\n    get memoryUsageWorst () {\n      return prettyBytes(memoryUsageWorst)\n    },\n    get gpuInfo () {\n      return appViewer.rendererState.renderer\n    },\n    get hardwareConcurrency () {\n      return navigator.hardwareConcurrency\n    },\n    get userAgent () {\n      return navigator.userAgent\n    },\n    clientVersion: `${process.env.RELEASE_TAG} ${process.env.BUILD_VERSION} ${process.env.RELEASE_LINK ?? ''}`,\n  }\n  window.benchmarkAdapter = benchmarkAdapter\n\n  disabledSettings.value.add('renderDistance')\n  options.renderDistance = renderDistance\n  disabledSettings.value.add('renderDebug')\n  options.renderDebug = 'advanced'\n  disabledSettings.value.add('waitForChunksRender')\n  options.waitForChunksRender = false\n\n  void downloadAndOpenMapFromUrl(fixture.urlZip, undefined, fixture.urlDir, fixture.replayFileUrl, {\n    connectEvents: {\n      serverCreated () {\n        if (fixture.spawn) {\n          localServer!.spawnPoint = new Vec3(...fixture.spawn)\n          localServer!.on('newPlayer', (player) => {\n            player.on('dataLoaded', () => {\n              player.position = new Vec3(...fixture.spawn!)\n              start = Date.now()\n            })\n          })\n        }\n      },\n    }\n  })\n\n  document.addEventListener('cypress-world-ready', () => {\n    clearInterval(saveBackupInterval)\n    sessionStorage.removeItem(SESSION_STORAGE_BACKUP_KEY)\n    let stats = getAllInfoLines(window.benchmarkAdapter)\n    const downloadFile = () => {\n      // const changedSettings =\n\n      const a = document.createElement('a')\n      a.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(stats.join('\\n'))\n      a.download = `benchmark-${appViewer.backend?.id}.txt`\n      a.click()\n    }\n    if (appQueryParams.downloadBenchmark) {\n      downloadFile()\n    }\n\n    const panel = document.createElement('div')\n    panel.style.position = 'fixed'\n    panel.style.top = '20px'\n    panel.style.right = '10px'\n    panel.style.backgroundColor = 'rgba(0,0,0,0.8)'\n    panel.style.color = 'white'\n    panel.style.padding = '10px'\n    panel.style.zIndex = '1000'\n    panel.style.fontFamily = 'monospace'\n    panel.style.maxWidth = '80%'\n    panel.style.maxHeight = '90vh'\n    panel.style.overflow = 'auto'\n    panel.id = 'benchmark-panel'\n\n    // Add download button\n    const downloadButton = document.createElement('button')\n    downloadButton.textContent = 'Download Results'\n    downloadButton.style.marginBottom = '10px'\n    downloadButton.style.padding = '5px 10px'\n    downloadButton.style.backgroundColor = '#4CAF50'\n    downloadButton.style.color = 'white'\n    downloadButton.style.border = 'none'\n    downloadButton.style.borderRadius = '4px'\n    downloadButton.style.cursor = 'pointer'\n    downloadButton.onclick = downloadFile\n    panel.appendChild(downloadButton)\n\n    const pre = document.createElement('pre')\n    pre.style.whiteSpace = 'pre-wrap'\n    pre.style.wordBreak = 'break-word'\n    panel.appendChild(pre)\n\n    pre.textContent = stats.join('\\n')\n    const updateStats = () => {\n      stats = getAllInfoLines(window.benchmarkAdapter)\n      pre.textContent = stats.join('\\n')\n    }\n\n    document.body.appendChild(panel)\n    // setInterval(updateStats, 100)\n  })\n}\n\n// add before unload\nwindow.addEventListener('beforeunload', () => {\n  // remove sessionStorage backup\n  sessionStorage.removeItem(SESSION_STORAGE_BACKUP_KEY)\n})\n\ndocument.addEventListener('pointerlockchange', (e) => {\n  const panel = document.querySelector<HTMLDivElement>('#benchmark-panel')\n  if (panel) {\n    panel.hidden = !!document.pointerLockElement\n  }\n})\n\nsubscribe(activeModalStack, () => {\n  const panel = document.querySelector<HTMLDivElement>('#benchmark-panel')\n  if (panel && activeModalStack.length > 1) {\n    panel.hidden = true\n  }\n})\n\nexport const registerOpenBenchmarkListener = () => {\n  if (appQueryParams.openBenchmark) {\n    void openBenchmark(appQueryParams.renderDistance ? +appQueryParams.renderDistance : undefined)\n  }\n\n  window.addEventListener('keydown', (e) => {\n    if (e.code === 'KeyB' && e.shiftKey && !miscUiState.gameLoaded && activeModalStack.length === 0) {\n      e.preventDefault()\n      // add ?openBenchmark=true to url without reload\n      const url = new URL(window.location.href)\n      url.searchParams.set('openBenchmark', 'true')\n      window.history.replaceState({}, '', url.toString())\n      void openBenchmark()\n    }\n  })\n}\n","import fs from 'fs'\nimport path from 'path'\nimport * as nbt from 'prismarine-nbt'\nimport { proxy } from 'valtio'\nimport { gzip } from 'node-gzip'\nimport { versionToNumber } from 'renderer/viewer/common/utils'\nimport { options } from './optionsStorage'\nimport { nameToMcOfflineUUID, disconnect } from './flyingSquidUtils'\nimport { existsViaStats, forceCachedDataPaths, forceRedirectPaths, mkdirRecursive } from './browserfs'\nimport { isMajorVersionGreater } from './utils'\n\nimport { activeModalStacks, insertActiveModalStack, miscUiState } from './globalState'\nimport supportedVersions from './supportedVersions.mjs'\nimport { ConnectOptions } from './connect'\nimport { appQueryParams } from './appParams'\n\n// todo include name of opened handle (zip)!\n// additional fs metadata\nexport const fsState = proxy({\n  isReadonly: false,\n  syncFs: false,\n  inMemorySave: false,\n  saveLoaded: false,\n  openReadOperations: 0,\n  openWriteOperations: 0,\n  remoteBackend: false,\n  inMemorySavePath: ''\n})\n\nconst PROPOSE_BACKUP = true\n\nexport function longArrayToNumber (longArray: number[]) {\n  const [high, low] = longArray\n  return (high << 32) + low\n}\n\nexport const readLevelDat = async (path) => {\n  let levelDatContent\n  try {\n    // todo-low cache reading\n    levelDatContent = await fs.promises.readFile(`${path}/level.dat`)\n  } catch (err) {\n    if (err.code === 'ENOENT') {\n      return undefined\n    }\n    throw err\n  }\n  const { parsed } = await nbt.parse(Buffer.from(levelDatContent))\n  const levelDat: import('./mcTypes').LevelDat = nbt.simplify(parsed).Data\n  return { levelDat, dataRaw: parsed.value.Data!.value as Record<string, any> }\n}\n\nexport const loadSave = async (root = '/world', connectOptions?: Partial<ConnectOptions>) => {\n  // todo test\n  if (miscUiState.gameLoaded) {\n    await disconnect()\n    await new Promise(resolve => {\n      setTimeout(resolve)\n    })\n  }\n\n  const disablePrompts = options.disableLoadPrompts\n\n  // todo do it in singleplayer as well\n  // eslint-disable-next-line guard-for-in\n  for (const key in forceCachedDataPaths) {\n\n    delete forceCachedDataPaths[key]\n  }\n  // eslint-disable-next-line guard-for-in\n  for (const key in forceRedirectPaths) {\n\n    delete forceRedirectPaths[key]\n  }\n  // todo check jsHeapSizeLimit\n\n  const warnings: string[] = []\n  const { levelDat, dataRaw } = (await readLevelDat(root))!\n  if (levelDat === undefined) {\n    if (fsState.isReadonly) {\n      throw new Error('level.dat not found, ensure you are loading world folder')\n    } else {\n      warnings.push('level.dat not found, world in current folder will be created')\n    }\n  }\n\n  let version: string | undefined | null\n  if (levelDat) {\n    version = appQueryParams.mapVersion ?? levelDat.Version?.Name\n    if (!version) {\n      // const newVersion = disablePrompts ? '1.8.8' : prompt(`In 1.8 and before world save doesn't contain version info, please enter version you want to use to load the world.\\nSupported versions ${supportedVersions.join(', ')}`, '1.8.8')\n      // if (!newVersion) return\n      // todo detect world load issues\n      const newVersion = '1.8.8'\n      version = newVersion\n    }\n    const lastSupportedVersion = supportedVersions.at(-1)!\n    const firstSupportedVersion = supportedVersions[0]\n    const lowerBound = isMajorVersionGreater(firstSupportedVersion, version)\n    const upperBound = versionToNumber(version) > versionToNumber(lastSupportedVersion)\n    if (lowerBound || upperBound) {\n      version = prompt(`Version ${version} is not supported, supported versions are ${supportedVersions.join(', ')}, what try to use instead?`, lowerBound ? firstSupportedVersion : lastSupportedVersion)\n      if (!version) return\n    }\n\n    const playerUuid = nameToMcOfflineUUID(options.localUsername)\n    const playerDatPath = `${root}/playerdata/${playerUuid}.dat`\n    const playerDataOverride = dataRaw.Player\n    if (playerDataOverride) {\n      const playerDat = await gzip(nbt.writeUncompressed({ name: '', ...playerDataOverride }))\n      if (fsState.isReadonly) {\n        forceCachedDataPaths[playerDatPath] = playerDat\n      } else {\n        await mkdirRecursive(path.dirname(playerDatPath))\n        await fs.promises.writeFile(playerDatPath, playerDat)\n      }\n    }\n  }\n\n  if (warnings.length && !disablePrompts) {\n    const doContinue = confirm(`Continue with following warnings?\\n${warnings.join('\\n')}`)\n    if (!doContinue) return\n  }\n\n  if (PROPOSE_BACKUP) {\n    // const doBackup = options.alwaysBackupWorldBeforeLoading ?? confirm('Do you want to backup your world files before loading it?')\n    // // const doBackup = true\n    // if (doBackup) {\n    //   // todo do it in flying squid instead\n    //   await fs.promises.copyFile('/world/level.dat', `/world/level.dat_old`)\n    //   try {\n    //     await fs.promises.mkdir('/backups/region.old', { recursive: true })\n    //   } catch (err) { }\n    //   const files = await fs.promises.readdir('/world/region')\n    //   for (const file of files) {\n    //     await fs.promises.copyFile(`/world/region/${file}`, `/world/region.old/${file}`)\n    //   }\n    // }\n  }\n\n  if (!fsState.isReadonly && !fsState.inMemorySave && !disablePrompts) {\n    // todo allow also to ctrl+s\n    alert('Note: the world is saved on interval, /save or disconnect! Ensure you have backup and be careful of new chunks writes!')\n  }\n\n  // improve compatibility with community saves\n  const rootRemapFiles = ['Warp files']\n  for (const rootRemapFile of rootRemapFiles) {\n    // eslint-disable-next-line no-await-in-loop\n    if (await existsViaStats(path.join(root, '..', rootRemapFile))) {\n      forceRedirectPaths[path.join(root, rootRemapFile)] = path.join(root, '..', rootRemapFile)\n    }\n  }\n\n  // todo reimplement\n  if (activeModalStacks['main-menu']) {\n    insertActiveModalStack('main-menu')\n  }\n  // todo use general logic\n  // if (activeModalStack.at(-1)?.reactType === 'app-status' && !appStatusState.isError) {\n  //   alert('Wait for operations to finish before loading a new world')\n  //   return\n  // }\n  // for (const _i of activeModalStack) {\n  //   hideModal(undefined, undefined, { force: true })\n  // }\n\n  // todo should not be set here\n  fsState.saveLoaded = true\n  fsState.inMemorySavePath = root\n  window.dispatchEvent(new CustomEvent('singleplayer', {\n    // todo check gamemode level.dat data etc\n    detail: {\n      version,\n      ...root === '/world' ? {} : {\n        'worldFolder': root\n      },\n      connectOptions\n    },\n  }))\n}\n","export const getProxyDetails = async (proxyBaseUrl: string) => {\n  if (!proxyBaseUrl.startsWith('http')) proxyBaseUrl = `${isPageSecure() ? 'https' : 'http'}://${proxyBaseUrl}`\n  const url = `${proxyBaseUrl}/api/vm/net/connect`\n  let result: Response\n  try {\n    result = await fetch(url)\n  } catch (err) {\n    throw new Error(`Selected proxy server ${proxyBaseUrl} most likely is down`)\n  }\n  return result\n}\n\nexport default async ({ tokenCaches, proxyBaseUrl, setProgressText = (text) => { }, setCacheResult, connectingServer }) => {\n  let onMsaCodeCallback\n  let connectingVersion = ''\n  // const authEndpoint = 'http://localhost:3000/'\n  // const sessionEndpoint = 'http://localhost:3000/session'\n  let authEndpoint: URL | undefined\n  let sessionEndpoint: URL | undefined\n  const result = await getProxyDetails(proxyBaseUrl)\n\n  try {\n    const json = await result.json()\n    authEndpoint = urlWithBase(json.capabilities.authEndpoint, proxyBaseUrl)\n    sessionEndpoint = urlWithBase(json.capabilities.sessionEndpoint, proxyBaseUrl)\n    if (!authEndpoint) throw new Error('No auth endpoint')\n  } catch (err) {\n    console.error(err)\n    throw new Error(`Selected proxy server ${proxyBaseUrl} does not support Microsoft authentication`)\n  }\n  const authFlow = {\n    async getMinecraftJavaToken () {\n      setProgressText('Authenticating with Microsoft account')\n      if (!window.crypto && !isPageSecure()) throw new Error('Crypto API is available only in secure contexts. Be sure to use https!')\n      let result = null\n      await fetch(authEndpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          ...tokenCaches,\n          // important to set this param and not fake it as auth server might reject the request otherwise\n          connectingServer,\n          connectingServerVersion: connectingVersion\n        }),\n      })\n        .catch(e => {\n          throw new Error(`Failed to connect to auth server (network error): ${e.message}`)\n        })\n        .then(async response => {\n          if (!response.ok) {\n            throw new Error(`Auth server error (${response.status}): ${await response.text()}`)\n          }\n\n          const reader = response.body!.getReader()\n          const decoder = new TextDecoder('utf8')\n\n          const processText = ({ done, value = undefined as Uint8Array | undefined }) => {\n            if (done) {\n              return\n            }\n\n            const processChunk = (chunkStr) => {\n              let json: any\n              try {\n                json = JSON.parse(chunkStr)\n              } catch (err) {}\n              if (!json) return\n              if (json.user_code) {\n                onMsaCodeCallback(json)\n                // this.codeCallback(json)\n              }\n              if (json.error) throw new Error(`Auth server error: ${json.error}`)\n              if (json.token) result = json\n              if (json.newCache) setCacheResult(json.newCache)\n            }\n\n            const strings = decoder.decode(value)\n\n            for (const chunk of strings.split('\\n\\n')) {\n              processChunk(chunk)\n            }\n\n            return reader.read().then(processText)\n          }\n          return reader.read().then(processText)\n        })\n      const restoredData = await restoreData(result)\n      if (restoredData?.certificates?.profileKeys?.privatePEM) {\n        restoredData.certificates.profileKeys.private = restoredData.certificates.profileKeys.privatePEM\n      }\n      return restoredData\n    }\n  }\n  return {\n    authFlow,\n    sessionEndpoint,\n    setOnMsaCodeCallback (callback) {\n      onMsaCodeCallback = callback\n    },\n    setConnectingVersion (version) {\n      connectingVersion = version\n    }\n  }\n}\n\nfunction isPageSecure (url = window.location.href) {\n  return !url.startsWith('http:')\n}\n\n// restore dates from strings\nconst restoreData = async (json) => {\n  const promises = [] as Array<Promise<void>>\n  if (typeof json === 'object' && json) {\n    for (const [key, value] of Object.entries(json)) {\n      if (typeof value === 'string') {\n        promises.push(tryRestorePublicKey(value, key, json))\n        if (value.endsWith('Z')) {\n          const date = new Date(value)\n          if (!isNaN(date.getTime())) {\n            json[key] = date\n          }\n        }\n      }\n      if (typeof value === 'object') {\n        // eslint-disable-next-line no-await-in-loop\n        await restoreData(value)\n      }\n    }\n  }\n\n  await Promise.all(promises)\n\n  return json\n}\n\nconst tryRestorePublicKey = async (value: string, name: string, parent: { [x: string]: any }) => {\n  value = value.trim()\n  if (!name.endsWith('PEM') || !value.startsWith('-----BEGIN RSA PUBLIC KEY-----') || !value.endsWith('-----END RSA PUBLIC KEY-----')) return\n  const der = pemToArrayBuffer(value)\n  const key = await window.crypto.subtle.importKey(\n    'spki', // Specify that the data is in SPKI format\n    der,\n    {\n      name: 'RSA-OAEP',\n      hash: { name: 'SHA-256' }\n    },\n    true,\n    ['encrypt'] // Specify key usages\n  )\n  const originalName = name.replace('PEM', '')\n  const exported = await window.crypto.subtle.exportKey('spki', key)\n  const exportedBuffer = new Uint8Array(exported)\n  parent[originalName] = {\n    export () {\n      return exportedBuffer\n    }\n  }\n}\n\nfunction pemToArrayBuffer (pem) {\n  // Fetch the part of the PEM string between header and footer\n  const pemHeader = '-----BEGIN RSA PUBLIC KEY-----'\n  const pemFooter = '-----END RSA PUBLIC KEY-----'\n  const pemContents = pem.slice(pemHeader.length, pem.length - pemFooter.length).trim()\n  const binaryDerString = atob(pemContents.replaceAll(/\\s/g, ''))\n  const binaryDer = new Uint8Array(binaryDerString.length)\n  for (let i = 0; i < binaryDerString.length; i++) {\n    binaryDer[i] = binaryDerString.codePointAt(i)!\n  }\n  return binaryDer.buffer\n}\n\nconst urlWithBase = (url: string, base: string) => {\n  const defaultBase = isPageSecure() ? 'https' : 'http'\n  if (!base.startsWith('http')) base = `${defaultBase}://${base}`\n  const urlObj = new URL(url, base)\n  base = base.replace(/^https?:\\/\\//, '')\n  urlObj.host = base.includes(':') ? base : `${base}:${isPageSecure(base) ? '443' : '80'}`\n  return urlObj\n}\n","import { viewerConnector } from 'mcraft-fun-mineflayer'\nimport { PACKETS_REPLAY_FILE_EXTENSION, WORLD_STATE_FILE_EXTENSION } from 'mcraft-fun-mineflayer/build/worldState'\nimport { Bot } from 'mineflayer'\nimport CircularBuffer from 'flying-squid/dist/circularBuffer'\nimport { PacketsLogger } from 'mcraft-fun-mineflayer/build/packetsLogger'\nimport { subscribe } from 'valtio'\nimport { lastConnectOptions } from '../../react/AppStatusProvider'\nimport { packetsRecordingState } from '../../packetsReplay/packetsReplayLegacy'\nimport { packetsReplayState } from '../../react/state/packetsReplayState'\n\nconst AUTO_CAPTURE_PACKETS_COUNT = 30\nlet circularBuffer: CircularBuffer | undefined\nlet lastConnectVersion = ''\n\nexport const localRelayServerPlugin = (bot: Bot) => {\n  lastConnectVersion = bot.version\n  let ended = false\n  bot.on('end', () => {\n    ended = true\n  })\n\n  bot.loadPlugin(\n    viewerConnector({\n      tcpEnabled: false,\n      websocketEnabled: false,\n    })\n  )\n\n  const downloadFile = (contents: string, filename: string) => {\n    const a = document.createElement('a')\n    const blob = new Blob([contents], { type: 'text/plain' })\n    const url = URL.createObjectURL(blob)\n    a.href = url\n    a.download = filename\n    a.click()\n    URL.revokeObjectURL(url)\n  }\n\n  bot.downloadCurrentWorldState = () => {\n    const worldState = bot.webViewer._unstable.createStateCaptureFile()\n    // add readable timestamp to filename\n    const timestamp = new Date().toISOString().replaceAll(/[-:Z]/g, '')\n    downloadFile(worldState.contents, `${bot.username}-world-state-${timestamp}.${WORLD_STATE_FILE_EXTENSION}`)\n  }\n\n  let logger: PacketsLogger | undefined\n  bot.startPacketsRecording = () => {\n    bot.webViewer._unstable.startRecording((l) => {\n      logger = l\n    })\n  }\n\n  bot.stopPacketsRecording = () => {\n    if (!logger) return\n    const packets = logger?.contents\n    logger = undefined\n    const timestamp = new Date().toISOString().replaceAll(/[-:Z]/g, '')\n    downloadFile(packets, `${bot.username}-packets-${timestamp}.${PACKETS_REPLAY_FILE_EXTENSION}`)\n    bot.webViewer._unstable.stopRecording()\n  }\n\n  circularBuffer = new CircularBuffer(AUTO_CAPTURE_PACKETS_COUNT)\n  let position = 0\n  bot._client.on('writePacket' as any, (name, params) => {\n    circularBuffer!.add({ name, state: bot._client.state, params, isFromServer: false, timestamp: Date.now() })\n    if (packetsRecordingState.active) {\n      packetsReplayState.packetsPlayback.push({\n        name,\n        data: params,\n        isFromClient: true,\n        isUpcoming: false,\n        position: position++,\n        timestamp: Date.now(),\n      })\n      packetsReplayState.progress.current++\n    }\n  })\n  bot._client.on('packet', (data, { name }) => {\n    if (name === 'map_chunk') data = { x: data.x, z: data.z }\n    circularBuffer!.add({ name, state: bot._client.state, params: data, isFromServer: true, timestamp: Date.now() })\n    if (packetsRecordingState.active) {\n      packetsReplayState.packetsPlayback.push({\n        name,\n        data,\n        isFromClient: false,\n        isUpcoming: false,\n        position: position++,\n        timestamp: Date.now(),\n      })\n      packetsReplayState.progress.total++\n    }\n  })\n  const oldWriteChannel = bot._client.writeChannel.bind(bot._client)\n  bot._client.writeChannel = (channel, params) => {\n    packetsReplayState.packetsPlayback.push({\n      name: channel,\n      data: params,\n      isFromClient: true,\n      isUpcoming: false,\n      position: position++,\n      timestamp: Date.now(),\n      isCustomChannel: true,\n    })\n    oldWriteChannel(channel, params)\n  }\n\n  upPacketsReplayPanel()\n}\n\nconst upPacketsReplayPanel = () => {\n  if (packetsRecordingState.active && bot) {\n    packetsReplayState.isOpen = true\n    packetsReplayState.isMinimized = true\n    packetsReplayState.isRecording = true\n    packetsReplayState.replayName = 'Recording all packets for ' + bot.username\n  }\n}\n\nsubscribe(packetsRecordingState, () => {\n  upPacketsReplayPanel()\n})\n\ndeclare module 'mineflayer' {\n  interface Bot {\n    downloadCurrentWorldState: () => void\n    startPacketsRecording: () => void\n    stopPacketsRecording: () => void\n  }\n}\n\nexport const getLastAutoCapturedPackets = () => circularBuffer?.size\nexport const downloadAutoCapturedPackets = () => {\n  const logger = new PacketsLogger({ minecraftVersion: lastConnectVersion })\n  logger.relativeTime = false\n  logger.formattedTime = true\n  for (const packet of circularBuffer?.getLastElements() ?? []) {\n    logger.log(packet.isFromServer, { name: packet.name, state: packet.state, time: packet.timestamp }, packet.params)\n  }\n  const textContents = logger.contents\n  const blob = new Blob([textContents], { type: 'text/plain' })\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = `${lastConnectOptions.value?.server ?? 'unknown-server'}-${lastConnectOptions.value?.username ?? 'unknown-username'}-auto-captured-packets.txt`\n  a.click()\n  URL.revokeObjectURL(url)\n}\n","export class UserError extends Error {\n  constructor (message: string) {\n    super(message)\n    this.name = 'UserError'\n  }\n}\n","// fix double tap on mobile\n\nlet lastElement = null as {\n  clickTime: number\n  element: HTMLElement\n} | null\ndocument.addEventListener('touchstart', (e) => {\n  if (e.touches.length > 1) {\n    lastElement = null\n    return\n  }\n  if (lastElement && Date.now() - lastElement.clickTime < 500 && lastElement.element === e.target) {\n    lastElement.element.dispatchEvent(new MouseEvent('dblclick', { bubbles: true }))\n    lastElement = null\n  }\n  lastElement = {\n    clickTime: Date.now(),\n    element: e.target as HTMLElement\n  }\n}, { passive: false })\n","import { proxy, subscribe } from 'valtio/vanilla'\nimport { subscribeKey } from 'valtio/utils'\nimport { omitObj } from '@zardoy/utils'\nimport { appQueryParams, appQueryParamsArray } from './appParams'\nimport type { AppConfig } from './appConfig'\nimport { appStorage } from './react/appStorageProvider'\nimport { miscUiState } from './globalState'\nimport { defaultOptions } from './defaultOptions'\n\nconst isDev = process.env.NODE_ENV === 'development'\nconst initialAppConfig = process.env?.INLINED_APP_CONFIG as AppConfig ?? {}\n\n// const qsOptionsRaw = new URLSearchParams(location.search).getAll('setting')\nconst qsOptionsRaw = appQueryParamsArray.setting ?? []\nexport const qsOptions = Object.fromEntries(qsOptionsRaw.map(o => {\n  const [key, value] = o.split(':')\n  return [key, JSON.parse(value)]\n}))\n\n// Track which settings are disabled (controlled by QS or forced by config)\nexport const disabledSettings = proxy({\n  value: new Set<string>(Object.keys(qsOptions))\n})\n\nconst migrateOptions = (options: Partial<AppOptions & Record<string, any>>) => {\n  if (options.highPerformanceGpu) {\n    options.gpuPreference = 'high-performance'\n    delete options.highPerformanceGpu\n  }\n  if (Object.keys(options.touchControlsPositions ?? {}).length === 0) {\n    options.touchControlsPositions = defaultOptions.touchControlsPositions\n  }\n  if (options.touchControlsPositions?.jump === undefined) {\n    options.touchControlsPositions!.jump = defaultOptions.touchControlsPositions.jump\n  }\n  if (options.touchControlsType === 'joystick-buttons') {\n    options.touchInteractionType = 'buttons'\n  }\n\n  return options\n}\nconst migrateOptionsLocalStorage = () => {\n  if (Object.keys(appStorage['options'] ?? {}).length) {\n    for (const key of Object.keys(appStorage['options'])) {\n      if (!(key in defaultOptions)) continue // drop unknown options\n      const defaultValue = defaultOptions[key]\n      if (JSON.stringify(defaultValue) !== JSON.stringify(appStorage['options'][key])) {\n        appStorage.changedSettings[key] = appStorage['options'][key]\n      }\n    }\n    delete appStorage['options']\n  }\n}\n\nexport type AppOptions = typeof defaultOptions\n\nconst isDeepEqual = (a: any, b: any): boolean => {\n  if (a === b) return true\n  if (typeof a !== typeof b) return false\n  if (typeof a !== 'object') return false\n  if (a === null || b === null) return a === b\n  if (Array.isArray(a) && Array.isArray(b)) {\n    if (a.length !== b.length) return false\n    return a.every((item, index) => isDeepEqual(item, b[index]))\n  }\n  const keysA = Object.keys(a)\n  const keysB = Object.keys(b)\n  if (keysA.length !== keysB.length) return false\n  return keysA.every(key => isDeepEqual(a[key], b[key]))\n}\n\nexport const getChangedSettings = () => {\n  return Object.fromEntries(\n    Object.entries(appStorage.changedSettings).filter(([key, value]) => !isDeepEqual(defaultOptions[key], value))\n  )\n}\n\nmigrateOptionsLocalStorage()\nexport const options: AppOptions = proxy({\n  ...defaultOptions,\n  ...initialAppConfig.defaultSettings,\n  ...migrateOptions(appStorage.changedSettings),\n  ...qsOptions\n})\n\nwindow.options = window.settings = options\n\nexport const resetOptions = () => {\n  Object.assign(options, defaultOptions)\n}\n\nObject.defineProperty(window, 'debugChangedOptions', {\n  get () {\n    return getChangedSettings()\n  },\n})\n\nsubscribe(options, (ops) => {\n  if (appQueryParams.freezeSettings === 'true') return\n  for (const op of ops) {\n    const [type, path, value] = op\n    // let patch\n    // let accessor = options\n    // for (const part of path) {\n    // }\n    const key = path[0] as string\n    if (disabledSettings.value.has(key)) continue\n    appStorage.changedSettings[key] = options[key]\n  }\n})\n\ntype WatchValue = <T extends Record<string, any>>(proxy: T, callback: (p: T, isChanged: boolean) => void) => () => void\n\nexport const watchValue: WatchValue = (proxy, callback) => {\n  const watchedProps = new Set<string>()\n  callback(new Proxy(proxy, {\n    get (target, p, receiver) {\n      watchedProps.add(p.toString())\n      return Reflect.get(target, p, receiver)\n    },\n  }), false)\n  const unsubscribes = [] as Array<() => void>\n  for (const prop of watchedProps) {\n    unsubscribes.push(\n      subscribeKey(proxy, prop, () => {\n        callback(proxy, true)\n      })\n    )\n  }\n\n  return () => {\n    for (const unsubscribe of unsubscribes) {\n      unsubscribe()\n    }\n  }\n}\n\nwatchValue(options, o => {\n  globalThis.excludeCommunicationDebugEvents = o.excludeCommunicationDebugEvents\n})\n\nwatchValue(options, o => {\n  document.body.classList.toggle('disable-assets', o.disableAssets)\n})\nwatchValue(options, o => {\n  document.body.style.setProperty('--touch-movement-buttons-opacity', (o.touchButtonsOpacity / 100).toString())\n})\nwatchValue(options, o => {\n  document.body.style.setProperty('--touch-movement-buttons-position', (o.touchButtonsPosition * 2) + 'px')\n})\n\nexport const useOptionValue = (setting, valueCallback) => {\n  valueCallback(setting)\n  subscribe(setting, valueCallback)\n}\n\nexport const getAppLanguage = () => {\n  if (options.language === 'auto') {\n    return miscUiState.appConfig?.defaultLanguage ?? navigator.language\n  }\n  return options.language\n}\n\nexport { defaultOptions } from './defaultOptions'\n","export const defaultOptions = {\n  renderDistance: 3,\n  keepChunksDistance: 1,\n  multiplayerRenderDistance: 3,\n  closeConfirmation: true,\n  autoFullScreen: false,\n  mouseRawInput: true,\n  autoExitFullscreen: false,\n  localUsername: 'wanderer',\n  mouseSensX: 50,\n  mouseSensY: -1,\n  chatWidth: 320,\n  chatHeight: 180,\n  chatScale: 100,\n  chatOpacity: 100,\n  chatOpacityOpened: 100,\n  messagesLimit: 200,\n  volume: 50,\n  enableMusic: false,\n  // fov: 70,\n  fov: 75,\n  defaultPerspective: 'first_person' as 'first_person' | 'third_person_back' | 'third_person_front',\n  guiScale: 3,\n  autoRequestCompletions: true,\n  touchButtonsSize: 40,\n  touchButtonsOpacity: 80,\n  touchButtonsPosition: 12,\n  touchControlsPositions: getDefaultTouchControlsPositions(),\n  touchControlsSize: getTouchControlsSize(),\n  touchMovementType: 'modern' as 'modern' | 'classic',\n  touchInteractionType: 'classic' as 'classic' | 'buttons',\n  gpuPreference: 'default' as 'default' | 'high-performance' | 'low-power',\n  backgroundRendering: '20fps' as 'full' | '20fps' | '5fps',\n  /** @unstable */\n  disableAssets: false,\n  /** @unstable */\n  debugLogNotFrequentPackets: false,\n  unimplementedContainers: false,\n  dayCycleAndLighting: true,\n  loadPlayerSkins: true,\n  renderEars: true,\n  lowMemoryMode: false,\n  starfieldRendering: true,\n  enabledResourcepack: null as string | null,\n  useVersionsTextures: 'latest',\n  serverResourcePacks: 'prompt' as 'prompt' | 'always' | 'never',\n  showHand: true,\n  viewBobbing: true,\n  displayRecordButton: true,\n  packetsLoggerPreset: 'all' as 'all' | 'no-buffers',\n  serversAutoVersionSelect: 'auto' as 'auto' | 'latest' | '1.20.4' | string,\n  customChannels: false,\n  remoteContentNotSameOrigin: false as boolean | string[],\n  packetsRecordingAutoStart: false,\n  language: 'auto',\n  preciseMouseInput: false,\n  // todo ui setting, maybe enable by default?\n  waitForChunksRender: false as 'sp-only' | boolean,\n  jeiEnabled: true as boolean | Array<'creative' | 'survival' | 'adventure' | 'spectator'>,\n  modsSupport: false,\n  modsAutoUpdate: 'check' as 'check' | 'never' | 'always',\n  modsUpdatePeriodCheck: 24, // hours\n  preventBackgroundTimeoutKick: false,\n  preventSleep: false,\n  debugContro: false,\n  debugChatScroll: false,\n  chatVanillaRestrictions: true,\n  debugResponseTimeIndicator: false,\n  chatPingExtension: true,\n  // antiAliasing: false,\n  topRightTimeDisplay: 'only-fullscreen' as 'only-fullscreen' | 'always' | 'never',\n\n  clipWorldBelowY: undefined as undefined | number, // will be removed\n  disableSignsMapsSupport: false,\n  singleplayerAutoSave: false,\n  showChunkBorders: false, // todo rename option\n  frameLimit: false as number | false,\n  alwaysBackupWorldBeforeLoading: undefined as boolean | undefined | null,\n  alwaysShowMobileControls: false,\n  excludeCommunicationDebugEvents: [] as string[],\n  preventDevReloadWhilePlaying: false,\n  numWorkers: 4,\n  localServerOptions: {\n    gameMode: 1\n  } as any,\n  preferLoadReadonly: false,\n  experimentalClientSelfReload: false,\n  remoteSoundsSupport: false,\n  remoteSoundsLoadTimeout: 500,\n  disableLoadPrompts: false,\n  guestUsername: 'guest',\n  askGuestName: true,\n  errorReporting: true,\n  /** Actually might be useful */\n  showCursorBlockInSpectator: false,\n  renderEntities: true,\n  smoothLighting: true,\n  newVersionsLighting: false,\n  chatSelect: true,\n  autoJump: 'auto' as 'auto' | 'always' | 'never',\n  autoParkour: false,\n  vrSupport: true, // doesn't directly affect the VR mode, should only disable the button which is annoying to android users\n  vrPageGameRendering: false,\n  renderDebug: 'basic' as 'none' | 'advanced' | 'basic',\n  rendererPerfDebugOverlay: false,\n\n  // advanced bot options\n  autoRespawn: false,\n  mutedSounds: [] as string[],\n  plugins: [] as Array<{ enabled: boolean, name: string, description: string, script: string }>,\n  /** Wether to popup sign editor on server action */\n  autoSignEditor: true,\n  wysiwygSignEditor: 'auto' as 'auto' | 'always' | 'never',\n  showMinimap: 'never' as 'always' | 'singleplayer' | 'never',\n  minimapOptimizations: true,\n  displayBossBars: true,\n  disabledUiParts: [] as string[],\n  neighborChunkUpdates: true,\n  highlightBlockColor: 'auto' as 'auto' | 'blue' | 'classic',\n  activeRenderer: 'threejs',\n  rendererSharedOptions: {\n    _experimentalSmoothChunkLoading: true,\n    _renderByChunks: false\n  }\n}\n\nfunction getDefaultTouchControlsPositions () {\n  return {\n    action: [\n      70,\n      76\n    ],\n    sneak: [\n      84,\n      76\n    ],\n    break: [\n      70,\n      57\n    ],\n    jump: [\n      84,\n      57\n    ],\n  } as Record<string, [number, number]>\n}\n\nfunction getTouchControlsSize () {\n  return {\n    joystick: 55,\n    action: 36,\n    break: 36,\n    jump: 36,\n    sneak: 36,\n  }\n}\n","import { proxy } from 'valtio'\nimport { PacketsLogger } from 'mcraft-fun-mineflayer/build/packetsLogger'\nimport { options } from '../optionsStorage'\n\nexport const packetsRecordingState = proxy({\n  active: options.packetsRecordingAutoStart,\n  hasRecordedPackets: false\n})\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let replayLogger: PacketsLogger | undefined\n\nconst isBufferData = (data: any): boolean => {\n  if (Buffer.isBuffer(data) || data instanceof Uint8Array) return true\n  if (typeof data === 'object' && data !== null) {\n    return Object.values(data).some(value => isBufferData(value))\n  }\n  return false\n}\n\nconst processPacketData = (data: any): any => {\n  if (options.packetsLoggerPreset === 'no-buffers') {\n    if (Buffer.isBuffer(data)) {\n      return '[buffer]'\n    }\n    if (typeof data === 'object' && data !== null) {\n      const processed = {}\n      for (const [key, value] of Object.entries(data)) {\n        processed[key] = isBufferData(value) ? '[buffer]' : value\n      }\n      return processed\n    }\n  }\n  return data\n}\n\nexport default () => {\n  customEvents.on('mineflayerBotCreated', () => {\n    replayLogger = new PacketsLogger({ minecraftVersion: bot.version })\n    replayLogger.contents = ''\n    packetsRecordingState.hasRecordedPackets = false\n    const handleServerPacket = (data, { name, state = bot._client.state }) => {\n      if (!packetsRecordingState.active) {\n        return\n      }\n      replayLogger!.log(true, { name, state }, processPacketData(data))\n      packetsRecordingState.hasRecordedPackets = true\n    }\n    bot._client.on('packet', handleServerPacket)\n    bot._client.on('packet_name' as any, (name, data) => {\n      handleServerPacket(data, { name })\n    })\n\n    bot._client.on('writePacket' as any, (name, data) => {\n      if (!packetsRecordingState.active) {\n        return\n      }\n      replayLogger!.log(false, { name, state: bot._client.state }, processPacketData(data))\n      packetsRecordingState.hasRecordedPackets = true\n    })\n  })\n}\n\nexport const downloadPacketsReplay = async () => {\n  const a = document.createElement('a')\n  a.href = `data:text/plain;charset=utf-8,${encodeURIComponent(replayLogger!.contents)}`\n  a.download = `packets-replay-${new Date().toISOString()}.txt`\n  a.click()\n}\nglobalThis.downloadPacketsReplay = downloadPacketsReplay\n","import prettyBytes from 'pretty-bytes'\n\nexport const getFixedFilesize = (bytes: number) => {\n  return prettyBytes(bytes, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\n}\n","/* eslint-disable no-await-in-loop */\nimport { createServer, ServerClient } from 'minecraft-protocol'\nimport { ParsedReplayPacket, parseReplayContents } from 'mcraft-fun-mineflayer/build/packetsLogger'\nimport { PACKETS_REPLAY_FILE_EXTENSION, WORLD_STATE_FILE_EXTENSION } from 'mcraft-fun-mineflayer/build/worldState'\nimport MinecraftData from 'minecraft-data'\nimport { GameMode } from 'mineflayer'\nimport { UserError } from '../mineflayer/userError'\nimport { packetsReplayState } from '../react/state/packetsReplayState'\nimport { getFixedFilesize } from '../react/simpleUtils'\nimport { appQueryParams } from '../appParams'\nimport { LocalServer } from '../customServer'\n\nconst SUPPORTED_FORMAT_VERSION = 1\n\ntype ReplayDefinition = {\n  minecraftVersion: string\n  replayAgainst?: 'client' | 'server'\n  serverIp?: string\n}\n\ninterface OpenFileOptions {\n  contents: string\n  filename?: string\n  filesize?: number\n}\n\nexport function openFile ({ contents, filename = 'unnamed', filesize }: OpenFileOptions) {\n  packetsReplayState.replayName = `${filename} (${getFixedFilesize(filesize ?? contents.length)})`\n  packetsReplayState.isPlaying = false\n\n  const connectOptions = {\n    worldStateFileContents: contents,\n    username: 'replay'\n  }\n  dispatchEvent(new CustomEvent('connect', { detail: connectOptions }))\n}\n\nexport const startLocalReplayServer = (contents: string) => {\n  const { packets, header } = parseReplayContents(contents)\n\n  packetsReplayState.packetsPlayback = []\n  packetsReplayState.isOpen = true\n  packetsReplayState.isPlaying = true\n  packetsReplayState.progress = {\n    current: 0,\n    total: packets.filter(packet => packet.isFromServer).length\n  }\n  packetsReplayState.speed = 1\n  packetsReplayState.replayName ||= `local ${getFixedFilesize(contents.length)}`\n  packetsReplayState.replayName = `${header.minecraftVersion} ${packetsReplayState.replayName}`\n\n  if ('formatVersion' in header && header.formatVersion !== SUPPORTED_FORMAT_VERSION) {\n    throw new UserError(`Unsupported format version: ${header.formatVersion}`)\n  }\n  if ('replayAgainst' in header && header.replayAgainst === 'server') {\n    throw new Error('not supported')\n  }\n\n  const server = createServer({\n    Server: LocalServer as any,\n    version: header.minecraftVersion,\n    'online-mode': false\n  })\n\n  const data = MinecraftData(header.minecraftVersion)\n  server.on(data.supportFeature('hasConfigurationState') ? 'playerJoin' : 'login' as any, async client => {\n    await mainPacketsReplayer(\n      client,\n      packets,\n      packetsReplayState.customButtons.validateClientPackets.state ? undefined : true\n    )\n  })\n\n  return {\n    server,\n    version: header.minecraftVersion\n  }\n}\n\n// time based packets\n// const FLATTEN_CLIENT_PACKETS = new Set(['position', 'position_look'])\nconst FLATTEN_CLIENT_PACKETS = new Set([] as string[])\n\nconst positions = {\n  client: 0,\n  server: 0\n}\nconst addPacketToReplayer = (name: string, data, isFromClient: boolean, wasUpcoming = false) => {\n  const side = isFromClient ? 'client' : 'server'\n\n  if (wasUpcoming) {\n    const lastUpcoming = packetsReplayState.packetsPlayback.find(p => p.isUpcoming && p.name === name)\n    if (lastUpcoming) {\n      lastUpcoming.isUpcoming = false\n    }\n  } else {\n    packetsReplayState.packetsPlayback.push({\n      name,\n      data,\n      isFromClient,\n      position: ++positions[side]!,\n      isUpcoming: false,\n      timestamp: Date.now()\n    })\n  }\n\n  if (!isFromClient && !wasUpcoming) {\n    packetsReplayState.progress.current++\n  }\n}\n\nconst IGNORE_SERVER_PACKETS = new Set([\n  'kick_disconnect',\n])\n\nconst ADDITIONAL_DELAY = 500\n\nconst mainPacketsReplayer = async (client: ServerClient, packets: ParsedReplayPacket[], ignoreClientPacketsWait: string[] | true = []) => {\n  const writePacket = (name: string, data: any) => {\n    data = restoreData(data)\n    client.write(name, data)\n  }\n\n  const playPackets = packets.filter(p => p.state === 'play')\n\n  let clientPackets = [] as Array<{ name: string, params: any }>\n  const clientsPacketsWaiter = createPacketsWaiter({\n    unexpectedPacketReceived (name, params) {\n      console.log('unexpectedPacketReceived', name, params)\n      addPacketToReplayer(name, params, true)\n    },\n    expectedPacketReceived (name, params) {\n      console.log('expectedPacketReceived', name, params)\n      addPacketToReplayer(name, params, true, true)\n    },\n    unexpectedPacketsLimit: 15,\n    onUnexpectedPacketsLimitReached () {\n      addPacketToReplayer('...', {}, true)\n    }\n  })\n\n  // Patch console.error to detect errors\n  const originalConsoleError = console.error\n  let lastSentPacket: { name: string, params: any } | null = null\n  console.error = (...args) => {\n    if (lastSentPacket) {\n      console.log('Got error after packet', lastSentPacket.name, lastSentPacket.params)\n    }\n    originalConsoleError.apply(console, args)\n    if (packetsReplayState.customButtons.stopOnError.state) {\n      packetsReplayState.isPlaying = false\n      throw new Error('Replay stopped due to error: ' + args.join(' '))\n    }\n  }\n\n  const playServerPacket = (name: string, params: any) => {\n    try {\n      writePacket(name, params)\n      addPacketToReplayer(name, params, false)\n      lastSentPacket = { name, params }\n    } catch (err) {\n      console.error('Error processing packet:', err)\n      if (packetsReplayState.customButtons.stopOnError.state) {\n        packetsReplayState.isPlaying = false\n      }\n    }\n  }\n\n  try {\n    bot.on('error', (err) => {\n      console.error('Mineflayer error:', err)\n    })\n\n    bot._client.on('writePacket' as any, (name, params) => {\n      clientsPacketsWaiter.addPacket(name, params)\n    })\n\n    console.log('start replaying!')\n    for (const [i, packet] of playPackets.entries()) {\n      if (!packetsReplayState.isPlaying) {\n        await new Promise<void>(resolve => {\n          const interval = setInterval(() => {\n            if (packetsReplayState.isPlaying) {\n              clearInterval(interval)\n              resolve()\n            }\n          }, 100)\n        })\n      }\n\n      if (packet.isFromServer) {\n        if (packet.params === null) {\n          console.warn('packet.params is null', packet)\n          continue\n        }\n        playServerPacket(packet.name, packet.params)\n        if (packet.diff) {\n          await new Promise(resolve => {\n            setTimeout(resolve, packet.diff * packetsReplayState.speed + ADDITIONAL_DELAY * (packetsReplayState.customButtons.packetsSenderDelay.state ? 1 : 0))\n          })\n        }\n      } else if (ignoreClientPacketsWait !== true && !ignoreClientPacketsWait.includes(packet.name)) {\n        clientPackets.push({ name: packet.name, params: packet.params })\n        if (playPackets[i + 1]?.isFromServer) {\n          // eslint-disable-next-line @typescript-eslint/no-loop-func\n          clientPackets = clientPackets.filter((p, index) => {\n            return !FLATTEN_CLIENT_PACKETS.has(p.name) || index === clientPackets.findIndex(clientPacket => clientPacket.name === p.name)\n          })\n          for (const packet of clientPackets) {\n            packetsReplayState.packetsPlayback.push({\n              name: packet.name,\n              data: packet.params,\n              isFromClient: true,\n              position: positions.client++,\n              timestamp: Date.now(),\n              isUpcoming: true,\n            })\n          }\n\n          await Promise.race([\n            clientsPacketsWaiter.waitForPackets(clientPackets.map(p => p.name)),\n            ...(packetsReplayState.customButtons.skipMissingOnTimeout.state ? [new Promise(resolve => {\n              setTimeout(resolve, 1000)\n            })] : [])\n          ])\n          clientsPacketsWaiter.stopWaiting()\n          clientPackets = []\n        }\n      }\n    }\n  } finally {\n    // Restore original console.error\n    console.error = originalConsoleError\n  }\n}\n\nexport const switchGameMode = (gameMode: GameMode) => {\n  const gamemodes = {\n    survival: 0,\n    creative: 1,\n    adventure: 2,\n    spectator: 3\n  }\n  if (gameMode === 'spectator') {\n    bot._client.emit('abilities', {\n    // can fly + is flying\n      flags: 6\n    })\n  }\n  bot._client.emit('game_state_change', {\n    reason: 3,\n    gameMode: gamemodes[gameMode]\n  })\n}\n\ninterface PacketsWaiterOptions {\n  unexpectedPacketReceived?: (name: string, params: any) => void\n  expectedPacketReceived?: (name: string, params: any) => void\n  onUnexpectedPacketsLimitReached?: () => void\n  unexpectedPacketsLimit?: number\n}\n\ninterface PacketsWaiter {\n  addPacket(name: string, params: any): void\n  waitForPackets(packets: string[]): Promise<void>\n  stopWaiting(): void\n}\n\nconst createPacketsWaiter = (options: PacketsWaiterOptions = {}): PacketsWaiter => {\n  let packetHandler: ((data: any, name: string) => void) | null = null\n  const queuedPackets: Array<{ name: string, params: any }> = []\n  let isWaiting = false\n  let unexpectedPacketsCount = 0\n  const handlePacket = (data: any, name: string, waitingPackets: string[], resolve: () => void) => {\n    if (waitingPackets.includes(name)) {\n      waitingPackets.splice(waitingPackets.indexOf(name), 1)\n      options.expectedPacketReceived?.(name, data)\n    } else {\n      if (options.unexpectedPacketsLimit && unexpectedPacketsCount < options.unexpectedPacketsLimit) {\n        options.unexpectedPacketReceived?.(name, data)\n      }\n      if (options.onUnexpectedPacketsLimitReached && unexpectedPacketsCount === options.unexpectedPacketsLimit) {\n        options.onUnexpectedPacketsLimitReached?.()\n      }\n      unexpectedPacketsCount++\n    }\n\n    if (waitingPackets.length === 0) {\n      resolve()\n    }\n  }\n\n  return {\n    addPacket (name: string, params: any) {\n      if (packetHandler) {\n        packetHandler(params, name)\n      } else {\n        queuedPackets.push({ name, params })\n      }\n    },\n\n    async waitForPackets (packets: string[]) {\n      if (isWaiting) {\n        throw new Error('Already waiting for packets')\n      }\n      unexpectedPacketsCount = 0\n      isWaiting = true\n\n      try {\n        await new Promise<void>(resolve => {\n          const waitingPackets = [...packets]\n\n          packetHandler = (data: any, name: string) => {\n            handlePacket(data, name, waitingPackets, resolve)\n          }\n\n          // Process any queued packets\n          for (const packet of queuedPackets) {\n            handlePacket(packet.params, packet.name, waitingPackets, resolve)\n          }\n          queuedPackets.length = 0\n        })\n      } finally {\n        isWaiting = false\n        packetHandler = null\n      }\n    },\n    stopWaiting () {\n      isWaiting = false\n      packetHandler = null\n      queuedPackets.length = 0\n    }\n  }\n}\n\nconst isArrayEqual = (a: any[], b: any[]) => {\n  if (a.length !== b.length) return false\n  for (const [i, element] of a.entries()) {\n    if (element !== b[i]) return false\n  }\n  return true\n}\n\nconst restoreData = (json: any) => {\n  if (!json) return json\n  const keys = Object.keys(json)\n\n  if (isArrayEqual(keys.sort(), ['data', 'type'].sort())) {\n    if (json.type === 'Buffer') {\n      return Buffer.from(json.data)\n    }\n  }\n\n  if (typeof json === 'object' && json) {\n    for (const [key, value] of Object.entries(json)) {\n      if (typeof value === 'object') {\n        json[key] = restoreData(value)\n      }\n    }\n  }\n\n  return json\n}\n\nexport const VALID_REPLAY_EXTENSIONS = [`.${PACKETS_REPLAY_FILE_EXTENSION}`, `.${WORLD_STATE_FILE_EXTENSION}`]\n","export const guessProblem = (errorMessage: string) => {\n  if (errorMessage.endsWith('Socket error: ECONNREFUSED')) {\n    return 'Most probably the server is not running.'\n  }\n}\n\nexport const loadingTexts = [\n  'Like the project? Give us a star on GitHub or rate us on AlternativeTo!',\n  'To stay updated with the latest changes, go to the GitHub page, click on \"Watch\", choose \"Custom\", and then opt for \"Releases\"!',\n  'Upvote features on GitHub issues to help us prioritize them!',\n  'Want to contribute to the project? Check out Contributing.md on GitHub!',\n]\n","import { useEffect, useState } from 'react'\nimport { appQueryParams } from '../appParams'\nimport styles from './appStatus.module.css'\nimport Button from './Button'\nimport Screen from './Screen'\nimport LoadingChunks from './LoadingChunks'\nimport LoadingTimer from './LoadingTimer'\n\nexport default ({\n  status,\n  isError,\n  hideDots = false,\n  lastStatus = '',\n  backAction = undefined as undefined | (() => void),\n  description = '' as string | JSX.Element,\n  actionsSlot = null as React.ReactNode | null,\n  showReconnect = false,\n  onReconnect = undefined as undefined | (() => void),\n  children\n}) => {\n  const [loadingDotIndex, setLoadingDotIndex] = useState(0)\n\n  useEffect(() => {\n    const statusRunner = async () => {\n      const timer = async (ms) => new Promise((resolve) => { setTimeout(resolve, ms) })\n\n      const load = async () => {\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n          setLoadingDotIndex(i => (i + 1) % 4)\n          await timer(500) // eslint-disable-line no-await-in-loop\n        }\n      }\n\n      void load()\n    }\n\n    void statusRunner()\n  }, [])\n\n  const lockConnect = appQueryParams.lockConnect === 'true'\n\n  return (\n    <div className=''>\n      <Screen\n        className='small-content'\n        titleSelectable={isError}\n        title={\n          <>\n            <span style={{\n              wordBreak: 'break-word',\n              whiteSpace: 'pre-wrap',\n            }}\n            >\n              {status}\n            </span>\n            <div style={{ display: 'inline-flex', gap: '1px', }} hidden={hideDots || isError}>\n              {\n                [...'...'].map((dot, i) => {\n                  return <span\n                    key={i} style={{\n                      visibility: loadingDotIndex <= i ? 'hidden' : 'visible',\n                    }}>{dot}</span>\n                })\n              }\n            </div>\n            <p className={styles.description}>{description}</p>\n            <p className={styles['last-status']}>{lastStatus ? `Last status: ${lastStatus}` : lastStatus}</p>\n          </>\n        }\n        backdrop='dirt'\n      >\n        {isError && (\n          <>\n            {showReconnect && onReconnect && <Button onClick={onReconnect}>\n              <b>Reconnect</b>\n            </Button>}\n            {actionsSlot}\n            {!lockConnect && <Button\n              onClick={() => {\n                if (location.search) {\n                  location.search = ''\n                } else {\n                  window.location.reload()\n                }\n              }}\n            >\n              <b>Reset App (recommended)</b>\n            </Button>}\n            {backAction && <Button label=\"Back\" onClick={backAction} />}\n          </>\n        )}\n        {children}\n        <LoadingTimer />\n      </Screen>\n    </div>\n  )\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"description\":\"description-CKQUPy\",\"last-status\":\"last-status-js4NpE\",\"lastStatus\":\"last-status-js4NpE\"};","// extracted by css-extract-rspack-plugin\nexport default {\"container\":\"container-HLYI5E\",\"main\":\"main-i6FZfW\"};","import { useEffect, useState } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport styles from './DiveTransition.module.css'\n\nconst durationInSeconds = 0.3\nconst durationInMs = durationInSeconds * 1000\n\nexport default ({ children, open, isError = false }) => {\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() => {\n    if (!mounted && open) {\n      setMounted(true)\n    }\n    let timeout\n    if (mounted && !open) {\n      timeout = setTimeout(() => {\n        setMounted(false)\n      }, durationInMs)\n    }\n    return () => {\n      if (timeout) clearTimeout(timeout)\n    }\n  }, [open])\n\n  if (!mounted) return null\n\n  return (\n    <AnimatePresence initial={false}>\n      {open && (\n        <div className={styles.container}>\n          <motion.div\n            initial={false}\n            exit={isError ? undefined : { opacity: 0 }}\n            transition={{ duration: durationInSeconds }}\n            className={styles.main}\n          >\n            {children}\n          </motion.div>\n        </div>\n      )}\n    </AnimatePresence>\n  )\n}\n","import { useEffect, useRef } from 'react'\nimport './LoadingChunks.css'\n\nexport default ({ regionFiles = [] as string[], stateMap = {} as Record<string, string>, displayText = false, playerChunk = null as null | { x: number, z: number } }) => {\n  // visualize downloading chunks\n  const regionNumbers = regionFiles.map(x => x.split('.').slice(1, 3).map(Number))\n  const minX = Math.min(...regionNumbers.map(([x]) => x))\n  const maxX = Math.max(...regionNumbers.map(([x]) => x))\n  const minZ = Math.min(...regionNumbers.map(([, z]) => z))\n  const maxZ = Math.max(...regionNumbers.map(([, z]) => z))\n  const xChunks = maxX - minX + 1\n  const zChunks = maxZ - minZ + 1\n\n  return <div style={{\n    // maxWidth: '80%',\n    // maxHeight: '80%',\n    // aspectRatio: '1',\n    display: 'grid',\n    gridTemplateColumns: `repeat(${xChunks}, 1fr)`,\n    gridTemplateRows: `repeat(${zChunks}, 1fr)`,\n    gap: 1,\n    width: '110px',\n    height: '110px',\n  }}>\n    {Array.from({ length: xChunks * zChunks }).map((_, i) => {\n      const x = minX + i % xChunks\n      const z = minZ + Math.floor(i / xChunks)\n      const file = `r.${x}.${z}.mca`\n      const state = stateMap[file]\n      if (!regionFiles.includes(file)) return <div key={i} style={{ background: 'gray' }} />\n      return <Chunk key={i} x={x} z={z} state={state} displayText={displayText} currentPlayer={playerChunk?.x === x && playerChunk?.z === z} />\n    })}\n  </div>\n}\n\nconst Chunk = ({ x, z, state, displayText, currentPlayer }) => {\n  const text = displayText ? `${x},${z}` : undefined\n\n  return <div style={{\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    background: state === 'errored' ? 'red' : state === 'loading' ? 'white' : 'limegreen',\n    animation: state === 'loading' ? `loading-chunks-loading-animation 4s infinite cubic-bezier(0.4, 0, 0.2, 1)` : undefined,\n    transition: 'background 1s',\n    color: state === 'loading' ? 'black' : 'white',\n    position: 'relative',\n    zIndex: 1,\n  }}>\n    {/* green dot */}\n    {currentPlayer && <div style={{\n      position: 'absolute',\n      background: 'red',\n      borderRadius: '50%',\n      width: '5px',\n      height: '5px',\n      zIndex: -1,\n    }} />}\n    {text}</div>\n}\n","import { proxy, useSnapshot } from 'valtio'\nimport { useEffect, useRef, useState } from 'react'\nimport { activeModalStack, activeModalStacks, hideModal, insertActiveModalStack, miscUiState } from '../globalState'\nimport { guessProblem } from '../errorLoadingScreenHelpers'\nimport type { ConnectOptions } from '../connect'\nimport { downloadPacketsReplay, packetsRecordingState, replayLogger } from '../packetsReplay/packetsReplayLegacy'\nimport { getProxyDetails } from '../microsoftAuthflow'\nimport { downloadAutoCapturedPackets, getLastAutoCapturedPackets } from '../mineflayer/plugins/packetsRecording'\nimport { appQueryParams } from '../appParams'\nimport AppStatus from './AppStatus'\nimport DiveTransition from './DiveTransition'\nimport { useDidUpdateEffect } from './utils'\nimport { useIsModalActive } from './utilsApp'\nimport Button from './Button'\nimport { updateAuthenticatedAccountData, updateLoadedServerData, AuthenticatedAccount } from './serversStorage'\nimport { showOptionsModal } from './SelectOption'\nimport LoadingChunks from './LoadingChunks'\nimport MessageFormattedString from './MessageFormattedString'\n\nconst initialState = {\n  status: '',\n  lastStatus: '',\n  maybeRecoverable: true,\n  descriptionHint: '',\n  isError: false,\n  hideDots: false,\n  loadingChunksData: null as null | Record<string, string>,\n  loadingChunksDataPlayerChunk: null as null | { x: number, z: number },\n  isDisplaying: false,\n  minecraftJsonMessage: null as null | Record<string, any>,\n  showReconnect: false\n}\nexport const appStatusState = proxy(initialState)\nexport const resetAppStatusState = () => {\n  Object.assign(appStatusState, initialState)\n}\n\nexport const lastConnectOptions = {\n  value: null as ConnectOptions | null\n}\nglobalThis.lastConnectOptions = lastConnectOptions\n\nconst saveReconnectOptions = (options: ConnectOptions) => {\n  sessionStorage.setItem('reconnectOptions', JSON.stringify({\n    value: options,\n    timestamp: Date.now()\n  }))\n}\n\nexport const reconnectReload = () => {\n  if (lastConnectOptions.value) {\n    saveReconnectOptions(lastConnectOptions.value)\n    window.location.reload()\n  }\n}\n\nexport const quickDevReconnect = () => {\n  if (!lastConnectOptions.value) {\n    return\n  }\n\n  resetAppStatusState()\n  window.dispatchEvent(new window.CustomEvent('connect', {\n    detail: lastConnectOptions.value\n  }))\n}\n\nexport default () => {\n  const lastState = useRef(JSON.parse(JSON.stringify(appStatusState)))\n  const currentState = useSnapshot(appStatusState)\n  const { active: replayActive } = useSnapshot(packetsRecordingState)\n\n  const isOpen = useIsModalActive('app-status')\n\n  if (isOpen) {\n    lastState.current = JSON.parse(JSON.stringify(currentState))\n  }\n\n  const usingState = (isOpen ? currentState : lastState.current) as typeof currentState\n  const { isError, lastStatus, maybeRecoverable, status, hideDots, descriptionHint, loadingChunksData, loadingChunksDataPlayerChunk, minecraftJsonMessage, showReconnect } = usingState\n\n  useDidUpdateEffect(() => {\n    // todo play effect only when world successfully loaded\n    if (!isOpen) {\n      const startDiveAnimation = (divingElem: HTMLElement) => {\n        divingElem.style.animationName = 'dive-animation'\n        divingElem.parentElement!.style.perspective = '1200px'\n        divingElem.onanimationend = () => {\n          divingElem.parentElement!.style.perspective = ''\n          divingElem.onanimationend = null\n        }\n      }\n\n      const divingElem = document.querySelector('#viewer-canvas')\n      let observer: MutationObserver | null = null\n      if (divingElem) {\n        startDiveAnimation(divingElem as HTMLElement)\n      } else {\n        observer = new MutationObserver((mutations) => {\n          const divingElem = document.querySelector('#viewer-canvas')\n          if (divingElem) {\n            startDiveAnimation(divingElem as HTMLElement)\n            observer!.disconnect()\n          }\n        })\n        observer.observe(document.body, {\n          childList: true,\n          subtree: true\n        })\n      }\n      return () => {\n        if (observer) {\n          observer.disconnect()\n        }\n      }\n    }\n  }, [isOpen])\n\n  useEffect(() => {\n    const controller = new AbortController()\n    window.addEventListener('keyup', (e) => {\n      if ('input textarea select'.split(' ').includes((e.target as HTMLElement).tagName?.toLowerCase() ?? '')) return\n      if (activeModalStack.at(-1)?.reactType !== 'app-status') return\n      // todo do only if reconnect is possible\n      if (e.code !== 'KeyR' || !lastConnectOptions.value) return\n      quickDevReconnect()\n    }, {\n      signal: controller.signal\n    })\n    return () => controller.abort()\n  }, [])\n\n  const displayAuthButton = status.includes('This server appears to be an online server and you are providing no authentication.')\n    || JSON.stringify(minecraftJsonMessage ?? {}).toLowerCase().includes('authenticate')\n  const hasVpnText = (text: string) => text.includes('VPN') || text.includes('Proxy')\n  const displayVpnButton = hasVpnText(status) || (minecraftJsonMessage && hasVpnText(JSON.stringify(minecraftJsonMessage)))\n  const authReconnectAction = async () => {\n    let accounts = [] as AuthenticatedAccount[]\n    updateAuthenticatedAccountData(oldAccounts => {\n      accounts = oldAccounts\n      return oldAccounts\n    })\n\n    const account = await showOptionsModal('Choose account to connect with', [...accounts.map(account => account.username), 'Use other account'])\n    if (!account) return\n    lastConnectOptions.value!.authenticatedAccount = accounts.find(acc => acc.username === account) || true\n    quickDevReconnect()\n  }\n\n  const lastAutoCapturedPackets = getLastAutoCapturedPackets()\n  const lockConnect = appQueryParams.lockConnect === 'true'\n  const wasDisconnected = showReconnect\n  let backAction = undefined as (() => void) | undefined\n  if (maybeRecoverable && (!lockConnect || !wasDisconnected)) {\n    backAction = () => {\n      if (!wasDisconnected) {\n        hideModal(undefined, undefined, { force: true })\n        return\n      }\n      resetAppStatusState()\n      miscUiState.gameLoaded = false\n      miscUiState.loadedDataVersion = null\n      window.loadedData = undefined\n      if (activeModalStacks['main-menu']) {\n        insertActiveModalStack('main-menu')\n        if (activeModalStack.at(-1)?.reactType === 'app-status') {\n          hideModal(undefined, undefined, { force: true }) // workaround: hide loader that was shown on world loading\n        }\n      } else {\n        hideModal(undefined, undefined, { force: true })\n      }\n    }\n  }\n  return <DiveTransition open={isOpen} isError={isError}>\n    <AppStatus\n      status={status}\n      isError={isError || status === ''} // display back button if status is empty as probably our app is errored\n      hideDots={hideDots}\n      lastStatus={lastStatus}\n      showReconnect={showReconnect}\n      onReconnect={reconnectReload}\n      description={<>{\n        displayAuthButton ? '' : (isError ? guessProblem(status) : '') || descriptionHint\n      }{\n        minecraftJsonMessage && <MessageFormattedString message={minecraftJsonMessage} />\n      }</>}\n      backAction={backAction}\n      actionsSlot={\n        <>\n          {displayAuthButton && <Button label='Authenticate' onClick={authReconnectAction} />}\n          {displayVpnButton && <PossiblyVpnBypassProxyButton reconnect={quickDevReconnect} />}\n          {replayActive && <Button label={`Download Packets Replay ${replayLogger?.contents.split('\\n').length}L`} onClick={downloadPacketsReplay} />}\n          {wasDisconnected && lastAutoCapturedPackets && <Button label={`Inspect Last ${lastAutoCapturedPackets} Packets`} onClick={() => downloadAutoCapturedPackets()} />}\n        </>\n      }\n    >\n      {loadingChunksData && <LoadingChunks regionFiles={Object.keys(loadingChunksData)} stateMap={loadingChunksData} playerChunk={loadingChunksDataPlayerChunk} />}\n      {isOpen && <DisplayingIndicator />}\n    </AppStatus>\n  </DiveTransition>\n}\n\nconst DisplayingIndicator = () => {\n  useEffect(() => {\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        appStatusState.isDisplaying = true\n      })\n    })\n  }, [])\n\n  return <div />\n}\n\nconst PossiblyVpnBypassProxyButton = ({ reconnect }: { reconnect: () => void }) => {\n  const [vpnBypassProxy, setVpnBypassProxy] = useState('')\n\n  const useVpnBypassProxyAction = () => {\n    updateLoadedServerData((data) => {\n      data.proxyOverride = vpnBypassProxy\n      return data\n    }, lastConnectOptions.value?.serverIndex)\n    lastConnectOptions.value!.proxy = vpnBypassProxy\n    reconnect()\n  }\n\n  useEffect(() => {\n    const proxy = lastConnectOptions.value?.proxy\n    if (!proxy) return\n    getProxyDetails(proxy)\n      .then(async (r) => r.json())\n      .then(({ capabilities }) => {\n        const { vpnBypassProxy } = capabilities\n        if (!vpnBypassProxy) return\n        setVpnBypassProxy(vpnBypassProxy)\n      })\n      .catch(() => { })\n  }, [])\n\n  if (!vpnBypassProxy) return\n  return <Button label='Use VPN bypass proxy' onClick={useVpnBypassProxyAction} />\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"button\":\"button-KqXTeV\",\"icon\":\"icon-rzxum4\"};","import classNames from 'classnames'\nimport { createContext, FC, Ref, useContext, useEffect, useRef } from 'react'\nimport buttonCss from './button.module.css'\nimport SharedHudVars from './SharedHudVars'\nimport PixelartIcon from './PixelartIcon'\n\n// testing in storybook from deathscreen\n\ninterface Props extends React.ComponentProps<'button'> {\n  label?: string\n  postLabel?: React.ReactNode\n  icon?: string\n  children?: React.ReactNode\n  inScreen?: boolean\n  rootRef?: Ref<HTMLButtonElement>\n  overlayColor?: string\n  noTranslate?: boolean\n}\n\nconst ButtonContext = createContext({\n  onClick () { },\n})\n\nexport const ButtonProvider: FC<{ children, onClick }> = ({ children, onClick }) => {\n  return <ButtonContext.Provider value={{ onClick }}>{children}</ButtonContext.Provider>\n}\n\nexport default (({ label, icon, children, inScreen, rootRef, type = 'button', postLabel, overlayColor, noTranslate, ...args }) => {\n  const style = {\n    ...args.style,\n  } as React.CSSProperties\n\n  const buttonRef = useRef<any>(null)\n\n  useEffect(() => {\n    // replace all text childs with translated text\n    // traverse dom\n    const traverse = (node: HTMLElement) => {\n      for (const child of node.childNodes) {\n        if (child.nodeType === Node.TEXT_NODE) {\n          if (child.textContent) {\n            child.textContent = translate(child.textContent)\n          }\n        } else {\n          traverse(child as HTMLElement)\n        }\n      }\n    }\n    traverse(buttonRef.current)\n  }, [label, children, postLabel])\n\n  args.title = translate(args.title)\n\n  const ctx = useContext(ButtonContext)\n\n  const onClick = (e) => {\n    ctx.onClick()\n    args.onClick?.(e)\n  }\n  const labelText = `${translate(label) ?? ''} ${typeof children === 'string' ? translate(children) : ''}`\n  if (inScreen) {\n    style.width = 150\n    args.className = `${args.className ?? ''} settings-text-container`\n  }\n  if (typeof style.width === 'number' && ((style.width <= 150 && labelText.length > 17) || (style.width >= 90 && labelText.length >= 11))) {\n    args.className = `${args.className ?? ''} settings-text-container-long`\n  }\n\n  if (icon) {\n    style.width = 20\n  }\n\n  const tryToTranslate = (maybeText: any) => {\n    if (noTranslate) return maybeText\n    if (typeof maybeText === 'string') {\n      return window.translateText?.(maybeText) ?? maybeText\n    }\n    if (Array.isArray(maybeText)) {\n      return maybeText.map(tryToTranslate)\n    }\n    return maybeText\n  }\n\n  return <SharedHudVars>\n    <button\n      ref={(button) => {\n        buttonRef.current = button\n        if (typeof rootRef === 'function') {\n          rootRef(button)\n        } else if (rootRef) {\n        //@ts-expect-error\n          rootRef.current = button\n        }\n      }}\n      {...args}\n      style={style}\n      className={classNames(buttonCss.button, args.className)}\n      onClick={onClick}\n      type={type}\n    >\n      {icon && <PixelartIcon className={buttonCss.icon} iconName={icon} />}\n      {label}\n      {postLabel}\n      {children}\n      {overlayColor && <div style={{\n        position: 'absolute',\n        inset: 0,\n        backgroundColor: overlayColor,\n        opacity: 0.5,\n        pointerEvents: 'none'\n      }} />}\n    </button>\n  </SharedHudVars>\n}) satisfies FC<Props>\n","import { proxy, subscribe } from 'valtio'\nimport { useEffect, useMemo, useRef, useState } from 'react'\nimport { isStringAllowed, MessageFormatPart } from '../chatUtils'\nimport { MessagePart } from './MessageFormatted'\nimport './Chat.css'\nimport { isIos, reactKeyForMessage } from './utils'\nimport Button from './Button'\nimport { pixelartIcons } from './PixelartIcon'\nimport { useScrollBehavior } from './hooks/useScrollBehavior'\n\nexport type Message = {\n  parts: MessageFormatPart[],\n  id: number\n  timestamp?: number\n}\n\nconst MessageLine = ({ message, currentPlayerName, chatOpened }: { message: Message, currentPlayerName?: string, chatOpened?: boolean }) => {\n  const [fadeState, setFadeState] = useState<'visible' | 'fading' | 'faded'>('visible')\n\n  useEffect(() => {\n    if (window.debugStopChatFade) return\n    // Start fading after 5 seconds\n    const fadeTimeout = setTimeout(() => {\n      setFadeState('fading')\n    }, 5000)\n\n    // Remove after fade animation (3s) completes\n    const removeTimeout = setTimeout(() => {\n      setFadeState('faded')\n    }, 8000)\n\n    // Cleanup timeouts if component unmounts\n    return () => {\n      clearTimeout(fadeTimeout)\n      clearTimeout(removeTimeout)\n    }\n  }, []) // Empty deps array since we only want this to run once when message is added\n\n  const classes = {\n    'chat-message': true,\n    'chat-message-fading': !chatOpened && fadeState === 'fading',\n    'chat-message-faded': !chatOpened && fadeState === 'faded'\n  }\n\n  return <li className={Object.entries(classes).filter(([, val]) => val).map(([name]) => name).join(' ')} data-time={message.timestamp ? new Date(message.timestamp).toLocaleString('en-US', { hour12: false }) : undefined}>\n    {message.parts.map((msg, i) => {\n      // Check if this is a text part that might contain a mention\n      if (typeof msg.text === 'string' && currentPlayerName) {\n        const parts = msg.text.split(new RegExp(`(@${currentPlayerName})`, 'i'))\n        if (parts.length > 1) {\n          return parts.map((txtPart, j) => {\n            const part = {\n              ...msg,\n              text: txtPart\n            }\n            if (txtPart.toLowerCase() === `@${currentPlayerName}`.toLowerCase()) {\n              part.color = '#ffa500'\n              part.bold = true\n              return <MessagePart key={j} part={part} />\n            }\n            return <MessagePart key={j} part={part} />\n          })\n        }\n      }\n      return <MessagePart key={i} part={msg} />\n    })}\n  </li>\n}\n\ntype Props = {\n  messages: Message[]\n  usingTouch: boolean\n  opacity?: number\n  opened?: boolean\n  onClose?: () => void\n  sendMessage?: (message: string) => Promise<void> | void\n  fetchCompletionItems?: (triggerKind: 'implicit' | 'explicit', completeValue: string, fullValue: string, abortController?: AbortController) => Promise<string[] | void>\n  // width?: number\n  allowSelection?: boolean\n  inputDisabled?: string\n  placeholder?: string\n  chatVanillaRestrictions?: boolean\n  debugChatScroll?: boolean\n  getPingComplete?: (value: string) => Promise<string[]>\n  currentPlayerName?: string\n}\n\nexport const chatInputValueGlobal = proxy({\n  value: ''\n})\n\nexport default ({\n  messages,\n  opacity = 1,\n  fetchCompletionItems,\n  opened,\n  sendMessage,\n  onClose,\n  usingTouch,\n  allowSelection,\n  inputDisabled,\n  placeholder,\n  chatVanillaRestrictions,\n  debugChatScroll,\n  getPingComplete,\n  currentPlayerName\n}: Props) => {\n  const playerNameValidated = useMemo(() => {\n    if (!/^[\\w\\d_]+$/i.test(currentPlayerName ?? '')) return ''\n    return currentPlayerName\n  }, [currentPlayerName])\n\n  const sendHistoryRef = useRef(JSON.parse(window.sessionStorage.chatHistory || '[]'))\n  const [isInputFocused, setIsInputFocused] = useState(false)\n  const [spellCheckEnabled, setSpellCheckEnabled] = useState(false)\n  const [preservedInputValue, setPreservedInputValue] = useState('')\n  const [inputKey, setInputKey] = useState(0)\n  const pingHistoryRef = useRef(JSON.parse(window.localStorage.pingHistory || '[]'))\n\n  const [completePadText, setCompletePadText] = useState('')\n  const completeRequestValue = useRef('')\n  const [completionItemsSource, setCompletionItemsSource] = useState([] as string[])\n  const [completionItems, setCompletionItems] = useState([] as string[])\n\n  const chatInput = useRef<HTMLInputElement>(null!)\n  const chatMessages = useRef<HTMLDivElement>(null)\n  const chatHistoryPos = useRef(sendHistoryRef.current.length)\n  const inputCurrentlyEnteredValue = useRef('')\n\n  const { scrollToBottom, isAtBottom, wasAtBottom, currentlyAtBottom } = useScrollBehavior(chatMessages, { messages, opened })\n  const [rightNowAtBottom, setRightNowAtBottom] = useState(false)\n\n  useEffect(() => {\n    if (!debugChatScroll) return\n    const interval = setInterval(() => {\n      setRightNowAtBottom(isAtBottom())\n    }, 50)\n    return () => clearInterval(interval)\n  }, [debugChatScroll])\n\n  const setSendHistory = (newHistory: string[]) => {\n    sendHistoryRef.current = newHistory\n    window.sessionStorage.chatHistory = JSON.stringify(newHistory)\n    chatHistoryPos.current = newHistory.length\n  }\n\n  const acceptComplete = (item: string) => {\n    const base = completeRequestValue.current === '/' ? '' : getCompleteValue()\n    updateInputValue(base + item)\n    // Record ping completion in history\n    if (item.startsWith('@')) {\n      const newHistory = [item, ...pingHistoryRef.current.filter((x: string) => x !== item)].slice(0, 10)\n      pingHistoryRef.current = newHistory\n      // todo use appStorage\n      window.localStorage.pingHistory = JSON.stringify(newHistory)\n    }\n    chatInput.current.focus()\n  }\n\n  const updateInputValue = (newValue: string) => {\n    chatInput.current.value = newValue\n    onMainInputChange()\n    setTimeout(() => {\n      chatInput.current.setSelectionRange(newValue.length, newValue.length)\n    }, 0)\n  }\n\n  const handleArrowUp = () => {\n    if (chatHistoryPos.current === 0) return\n    if (chatHistoryPos.current === sendHistoryRef.current.length) { // started navigating history\n      inputCurrentlyEnteredValue.current = chatInput.current.value\n    }\n    chatHistoryPos.current--\n    updateInputValue(sendHistoryRef.current[chatHistoryPos.current] || '')\n  }\n\n  const handleArrowDown = () => {\n    if (chatHistoryPos.current === sendHistoryRef.current.length) return\n    chatHistoryPos.current++\n    updateInputValue(sendHistoryRef.current[chatHistoryPos.current] || inputCurrentlyEnteredValue.current || '')\n  }\n\n  const auxInputFocus = (direction: 'up' | 'down') => {\n    chatInput.current.focus()\n    if (direction === 'up') {\n      handleArrowUp()\n    } else {\n      handleArrowDown()\n    }\n  }\n\n  useEffect(() => {\n    // todo focus input on any keypress except tab\n  }, [])\n\n  const resetCompletionItems = () => {\n    setCompletionItemsSource([])\n    setCompletionItems([])\n  }\n\n  useEffect(() => {\n    if (opened) {\n      updateInputValue(chatInputValueGlobal.value)\n      chatInputValueGlobal.value = ''\n      chatHistoryPos.current = sendHistoryRef.current.length\n      if (!usingTouch) {\n        chatInput.current.focus()\n      }\n\n      // Add keyboard event listener for letter keys and paste\n      const handleKeyDown = (e: KeyboardEvent) => {\n        if (['input', 'textarea', 'select'].includes(document.activeElement?.tagName.toLowerCase() ?? '')) return\n        // Check if it's a single character key (works with any layout) without modifiers except shift\n        const isSingleChar = e.key.length === 1 && !e.ctrlKey && !e.altKey && !e.metaKey\n        // Check if it's paste command\n        const isPaste = e.code === 'KeyV' && (e.ctrlKey || e.metaKey)\n\n        if ((isSingleChar || isPaste) && document.activeElement !== chatInput.current) {\n          chatInput.current.focus()\n        }\n      }\n\n      window.addEventListener('keydown', handleKeyDown)\n      const unsubscribeValtio = subscribe(chatInputValueGlobal, () => {\n        if (!chatInputValueGlobal.value) return\n        updateInputValue(chatInputValueGlobal.value)\n        chatInputValueGlobal.value = ''\n        chatInput.current.focus()\n      })\n\n      return () => {\n        window.removeEventListener('keydown', handleKeyDown)\n        unsubscribeValtio()\n      }\n    }\n  }, [opened])\n\n  useMemo(() => {\n    if (opened) {\n      completeRequestValue.current = ''\n      resetCompletionItems()\n    } else {\n      setPreservedInputValue('')\n    }\n  }, [opened])\n\n  const onMainInputChange = () => {\n    const lastWord = chatInput.current.value.slice(0, chatInput.current.selectionEnd ?? chatInput.current.value.length).split(' ').at(-1)!\n    const isCommand = chatInput.current.value.startsWith('/')\n\n    if (lastWord.startsWith('@') && getPingComplete && !isCommand) {\n      setCompletePadText(lastWord)\n      void fetchPingCompletions(true, lastWord.slice(1))\n      return\n    }\n\n    const completeValue = getCompleteValue()\n    setCompletePadText(completeValue === '/' ? '' : completeValue)\n    // not sure if enabling would be useful at all (maybe make as a setting in the future?)\n    // setSpellCheckEnabled(!chatInput.current.value.startsWith('/'))\n    if (completeRequestValue.current === completeValue) {\n      updateFilteredCompleteItems(completionItemsSource)\n      return\n    }\n\n    if (completeValue.startsWith('/')) {\n      void fetchCompletions(true)\n    } else {\n      resetCompletionItems()\n    }\n    completeRequestValue.current = completeValue\n  }\n\n  const fetchCompletions = async (implicit: boolean, inputValue = chatInput.current.value) => {\n    const completeValue = getCompleteValue(inputValue)\n    completeRequestValue.current = completeValue\n    resetCompletionItems()\n    const newItems = await fetchCompletionItems?.(implicit ? 'implicit' : 'explicit', completeValue, inputValue) ?? []\n    if (completeValue !== completeRequestValue.current) return\n    setCompletionItemsSource(newItems)\n    updateFilteredCompleteItems(newItems)\n  }\n\n  const fetchPingCompletions = async (implicit: boolean, inputValue: string) => {\n    completeRequestValue.current = inputValue\n    resetCompletionItems()\n    const newItems = await getPingComplete?.(inputValue) ?? []\n    if (inputValue !== completeRequestValue.current) return\n    // Sort items by ping history\n    const sortedItems = [...newItems].sort((a, b) => {\n      const aIndex = pingHistoryRef.current.indexOf(a)\n      const bIndex = pingHistoryRef.current.indexOf(b)\n      if (aIndex === -1 && bIndex === -1) return 0\n      if (aIndex === -1) return 1\n      if (bIndex === -1) return -1\n      return aIndex - bIndex\n    })\n    setCompletionItemsSource(sortedItems)\n    updateFilteredCompleteItems(sortedItems)\n  }\n\n  const updateFilteredCompleteItems = (sourceItems: string[] | Array<{ match: string, toolip: string }>) => {\n    const newCompleteItems = sourceItems\n      .map((item): string => (typeof item === 'string' ? item : item.match))\n      .filter(item => {\n        // this regex is imporatnt is it controls the word matching\n        // const compareableParts = item.split(/[[\\]{},_:]/)\n        const lastWord = chatInput.current.value.slice(0, chatInput.current.selectionEnd ?? chatInput.current.value.length).split(' ').at(-1)!\n        if (lastWord.startsWith('@')) {\n          return item.toLowerCase().includes(lastWord.slice(1).toLowerCase())\n        }\n        return item.includes(lastWord)\n        // return [item, ...compareableParts].some(compareablePart => compareablePart.startsWith(lastWord))\n      })\n    setCompletionItems(newCompleteItems)\n  }\n\n  const getDefaultCompleteValue = () => {\n    const raw = chatInput.current.value\n    return raw.slice(0, chatInput.current.selectionEnd ?? raw.length)\n  }\n\n  const getCompleteValue = (value = getDefaultCompleteValue()) => {\n    const valueParts = value.split(' ')\n    const lastLength = valueParts.at(-1)!.length\n    const completeValue = lastLength ? value.slice(0, -lastLength) : value\n    if (valueParts.length === 1 && value.startsWith('/')) return '/'\n    return completeValue\n  }\n\n  const handleSlashCommand = () => {\n    remountInput('/')\n  }\n\n  const handleAcceptFirstCompletion = () => {\n    if (completionItems.length > 0) {\n      acceptComplete(completionItems[0])\n    }\n  }\n\n  const remountInput = (newValue?: string) => {\n    if (newValue !== undefined) {\n      setPreservedInputValue(newValue)\n    }\n    setInputKey(k => k + 1)\n  }\n\n  useEffect(() => {\n    if (preservedInputValue && chatInput.current) {\n      chatInput.current.focus()\n    }\n  }, [inputKey]) // Changed from spellCheckEnabled to inputKey\n\n  return (\n    <>\n      <div\n        className={`chat-wrapper chat-messages-wrapper ${usingTouch ? 'display-mobile' : ''} ${opened ? 'chat-opened' : ''}`} style={{\n          userSelect: opened && allowSelection ? 'text' : undefined,\n        }}\n      >\n        {opacity && <div ref={chatMessages} className={`chat ${opened ? 'opened' : ''}`} id=\"chat-messages\" style={{ opacity }}>\n          {debugChatScroll && (\n            <div\n              style={{\n                position: 'absolute',\n                top: 5,\n                left: 5,\n                display: 'flex',\n                gap: 4,\n                zIndex: 100,\n              }}\n            >\n              <div\n                title=\"Right now is at bottom (updated every 50ms)\"\n                style={{\n                  width: 12,\n                  height: 12,\n                  backgroundColor: rightNowAtBottom ? '#00ff00' : '#ff0000',\n                  border: '1px solid #fff',\n                }}\n              />\n              <div\n                title=\"Currently at bottom\"\n                style={{\n                  width: 12,\n                  height: 12,\n                  backgroundColor: currentlyAtBottom ? '#00ff00' : '#ff0000',\n                  border: '1px solid #fff',\n                }}\n              />\n              <div\n                title=\"Was at bottom\"\n                style={{\n                  width: 12,\n                  height: 12,\n                  backgroundColor: wasAtBottom() ? '#00ff00' : '#ff0000',\n                  border: '1px solid #fff',\n                }}\n              />\n              <div\n                title=\"Chat opened\"\n                style={{\n                  width: 12,\n                  height: 12,\n                  backgroundColor: opened ? '#00ff00' : '#ff0000',\n                  border: '1px solid #fff',\n                }}\n              />\n            </div>\n          )}\n          {messages.map((m) => (\n            <MessageLine key={reactKeyForMessage(m)} message={m} currentPlayerName={playerNameValidated} chatOpened={opened} />\n          ))}\n        </div> || undefined}\n      </div>\n\n      <div className={`chat-wrapper chat-input-wrapper ${usingTouch ? 'input-mobile' : ''}`} hidden={!opened}>\n        {usingTouch && (\n          <>\n            <Button\n              icon={pixelartIcons.close}\n              onClick={() => onClose?.()}\n              style={{\n                width: 20,\n                flexShrink: 0,\n              }}\n            />\n\n            {(chatInput.current?.value && !chatInput.current.value.startsWith('/')) ? (\n              // TOGGLE SPELL CHECK\n              <Button\n                style={{\n                  width: 20,\n                  flexShrink: 0,\n                }}\n                overlayColor={spellCheckEnabled ? '#00ff00' : '#ff0000'}\n                icon={pixelartIcons['text-wrap']}\n                onClick={() => {\n                  setPreservedInputValue(chatInput.current?.value || '')\n                  setSpellCheckEnabled(!spellCheckEnabled)\n                  remountInput()\n                }}\n              />\n            ) : (\n              // SLASH COMMAND\n              <Button\n                style={{\n                  width: 20,\n                  flexShrink: 0,\n                }}\n                label={chatInput.current?.value ? undefined : '/'}\n                icon={chatInput.current?.value ? pixelartIcons['arrow-right'] : undefined}\n                onClick={() => {\n                  const inputValue = chatInput.current.value\n                  if (!inputValue) {\n                    handleSlashCommand()\n                  } else if (completionItems.length > 0) {\n                    handleAcceptFirstCompletion()\n                  }\n                }}\n              />\n            )}\n          </>\n        )}\n        <div className=\"chat-input\">\n          {isInputFocused && completionItems?.length ? (\n            <div className=\"chat-completions\">\n              <div className=\"chat-completions-pad-text\">{completePadText}</div>\n              <div className=\"chat-completions-items\">\n                {completionItems.map((item) => (\n                  <div\n                    key={item}\n                    onMouseDown={(e) => {\n                      e.preventDefault() // Prevent blur before click\n                      acceptComplete(item)\n                    }}\n                  >\n                    {item}\n                  </div>\n                ))}\n              </div>\n            </div>\n          ) : null}\n          <form onSubmit={async (e) => {\n            e.preventDefault()\n            const message = chatInput.current.value\n            if (message) {\n              setSendHistory([...sendHistoryRef.current, message])\n              onClose?.()\n              await sendMessage?.(message)\n              // Always scroll to bottom after sending a message\n              scrollToBottom()\n            }\n          }}\n          >\n            {isIos && <input\n              value=''\n              type=\"text\"\n              className=\"chat-mobile-input-hidden chat-mobile-input-hidden-up\"\n              id=\"chatinput-next-command\"\n              spellCheck={false}\n              autoComplete=\"off\"\n              onFocus={() => auxInputFocus('up')}\n              onChange={() => { }}\n            />}\n            <input\n              maxLength={chatVanillaRestrictions ? 256 : undefined}\n              defaultValue={preservedInputValue}\n              // ios doesn't support toggling autoCorrect on the fly so we need to re-create the input\n              key={`${inputKey}`}\n              autoCapitalize={preservedInputValue ? 'off' : 'on'}\n              ref={chatInput}\n              type=\"text\"\n              className=\"chat-input\"\n              id=\"chatinput\"\n              spellCheck={spellCheckEnabled}\n              autoCorrect={spellCheckEnabled ? 'on' : 'off'}\n              autoComplete=\"off\"\n              aria-autocomplete=\"both\"\n              onChange={onMainInputChange}\n              disabled={!!inputDisabled}\n              placeholder={inputDisabled || placeholder}\n              onFocus={() => setIsInputFocused(true)}\n              onBlur={() => setIsInputFocused(false)}\n              onKeyDown={(e) => {\n                if (e.code === 'ArrowUp') {\n                  handleArrowUp()\n                } else if (e.code === 'ArrowDown') {\n                  handleArrowDown()\n                }\n                if (e.code === 'Tab') {\n                  if (completionItemsSource.length) {\n                    if (completionItems.length) {\n                      acceptComplete(completionItems[0])\n                    }\n                  } else {\n                    void fetchCompletions(false)\n                  }\n                  e.preventDefault()\n                }\n                if (e.code === 'Space') {\n                  resetCompletionItems()\n                  if (chatInput.current.value.startsWith('/')) {\n                    // alternative we could just simply use keyup, but only with keydown we can display suggestions popup as soon as possible\n                    void fetchCompletions(true, getCompleteValue(getDefaultCompleteValue() + ' '))\n                  }\n                }\n              }}\n            />\n            {isIos && <input\n              value=''\n              type=\"text\"\n              className=\"chat-mobile-input-hidden chat-mobile-input-hidden-down\"\n              id=\"chatinput-prev-command\"\n              spellCheck={false}\n              autoComplete=\"off\"\n              onFocus={() => auxInputFocus('down')}\n              onChange={() => { }}\n            />}\n            {/* for some reason this is needed to make Enter work on android chrome */}\n            <button type='submit' className=\"chat-submit-button\" />\n          </form>\n        </div>\n      </div>\n    </>\n  )\n}\n","import { useEffect } from 'react'\nimport { proxy, useSnapshot } from 'valtio'\nimport { isInRealGameSession, pointerLock } from '../utils'\nimport { activeModalStack, miscUiState } from '../globalState'\nimport PixelartIcon, { pixelartIcons } from './PixelartIcon'\nimport { useUsingTouch } from './utilsApp'\n\nexport const displayHintsState = proxy({\n  captureMouseHint: false\n})\n\nexport default () => {\n  const { captureMouseHint } = useSnapshot(displayHintsState)\n  const { usingGamepadInput } = useSnapshot(miscUiState)\n  const usingTouch = useUsingTouch()\n  const acitveModals = useSnapshot(activeModalStack).length > 0\n\n  const inRealGameSession = isInRealGameSession()\n\n  useEffect(() => {\n    const listener = () => {\n      if (pointerLock.hasPointerLock) {\n        displayHintsState.captureMouseHint = false\n      }\n    }\n    document.addEventListener('pointerlockchange', listener)\n\n    return () => {\n      document.removeEventListener('pointerlockchange', listener)\n    }\n  }, [])\n\n  return <div style={{\n    // below crosshair that is in center of screen\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    color: 'white',\n    fontSize: '10px',\n    whiteSpace: 'nowrap',\n    fontWeight: 'bold',\n    marginTop: '-16px',\n    pointerEvents: 'none',\n    textShadow: '0 0 1px black'\n  }}>\n    {captureMouseHint && !usingTouch && !usingGamepadInput && !acitveModals && inRealGameSession && <div style={{\n      display: 'flex',\n      alignItems: 'center',\n      gap: '10px',\n    }}>\n      <PixelartIcon iconName={pixelartIcons['sun-alt']} />\n      <div>{translate('Click to capture mouse')}</div>\n    </div>}\n  </div>\n}\n","import React, { CSSProperties, useEffect, useMemo, useRef, useState } from 'react'\nimport { isMobile } from 'renderer/viewer/lib/simpleUtils'\nimport styles from './input.module.css'\n\ninterface Props extends Omit<React.ComponentProps<'input'>, 'width'> {\n  rootStyles?: React.CSSProperties\n  autoFocus?: boolean\n  inputRef?: React.RefObject<HTMLInputElement>\n  validateInput?: (value: string) => CSSProperties | undefined\n  width?: number\n}\n\nconst Input = ({ autoFocus, rootStyles, inputRef, validateInput, defaultValue, width, ...inputProps }: Props) => {\n  if (width) rootStyles = { ...rootStyles, width }\n\n  const ref = useRef<HTMLInputElement>(null!)\n  const [validationStyle, setValidationStyle] = useState<CSSProperties>({})\n  const [value, setValue] = useState(defaultValue ?? '')\n\n  useEffect(() => {\n    setValue(inputProps.value === '' || inputProps.value ? inputProps.value : value)\n  }, [inputProps.value])\n\n  useEffect(() => {\n    if (inputRef) (inputRef as any).current = ref.current\n    if (!autoFocus || isMobile()) return // Don't make screen keyboard popup on mobile\n    ref.current.focus()\n  }, [])\n\n\n  useEffect(() => {\n    setValidationStyle(validateInput?.(value as any) ?? {})\n  }, [value, validateInput])\n\n  return <div id='input-container' className={styles.container} style={rootStyles}>\n    <input\n      ref={ref}\n      autoComplete='off'\n      autoCapitalize='off'\n      autoCorrect='off'\n      autoSave='off'\n      spellCheck='false'\n      style={{ ...validationStyle }}\n      {...inputProps}\n      className={styles.input + ' ' + (inputProps.className ?? '')}\n      value={value}\n      onChange={(e) => {\n        setValue(e.target.value)\n        inputProps.onChange?.(e)\n      }}\n    />\n  </div>\n}\n\nexport default Input\n\nexport const INPUT_LABEL_WIDTH = 190\n\nexport const InputWithLabel = ({ label, span, ...props }: React.ComponentProps<typeof Input> & { label, span? }) => {\n  return <div style={{\n    display: 'flex',\n    flexDirection: 'column',\n    gridRow: span ? 'span 2 / span 2' : undefined,\n  }}\n  >\n    <label style={{ fontSize: 12, marginBottom: 1, color: 'lightgray' }}>{label}</label>\n    <Input rootStyles={{ width: INPUT_LABEL_WIDTH }} {...props} />\n  </div>\n}\n","// extracted by css-extract-rspack-plugin\nexport default {\"container\":\"container-GXglqr\",\"input\":\"input-Mraw77\"};","import { useEffect, useState } from 'react'\nimport { createPortal } from 'react-dom'\nimport { proxy, useSnapshot } from 'valtio'\n\nexport const loadingTimerState = proxy({\n  start: 0,\n  loading: false,\n  total: '0.00',\n\n  networkOnlyStart: 0,\n  networkTimeTotal: '0.0'\n})\n\ncustomEvents.on('gameLoaded', () => {\n  loadingTimerState.loading = false\n})\n\nexport default () => {\n  // const time = useSnapshot(timerState).start\n  const { networkTimeTotal, total } = useSnapshot(loadingTimerState)\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (!loadingTimerState.loading) return\n      if (loadingTimerState.networkOnlyStart) {\n        loadingTimerState.networkTimeTotal = ((Date.now() - loadingTimerState.networkOnlyStart) / 1000).toFixed(2)\n      } else {\n        loadingTimerState.total = ((Date.now() - loadingTimerState.start) / 1000).toFixed(2)\n      }\n    }, 100)\n    return () => clearInterval(interval)\n  }, [])\n\n  return <Portal to={document.getElementById('ui-root')!}>\n    <div style={{\n      position: 'absolute',\n      left: 0,\n      bottom: 0,\n      color: 'gray',\n      fontSize: '0.6em',\n      paddingLeft: 'calc(env(safe-area-inset-left) / 2)'\n    }}>\n      {total}/{networkTimeTotal}\n    </div>\n  </Portal>\n}\n\nconst Portal = ({ children, to = document.body }) => {\n  return createPortal(children, to)\n}\n","import { ComponentProps } from 'react'\nimport { render } from '@xmcl/text-component'\nimport { noCase } from 'change-case'\nimport mojangson from 'mojangson'\nimport { openURL } from 'renderer/viewer/lib/simpleUtils'\nimport { MessageFormatOptions, MessageFormatPart } from '../chatUtils'\nimport { chatInputValueGlobal } from './Chat'\nimport './MessageFormatted.css'\nimport { showOptionsModal } from './SelectOption'\n\nconst hoverItemToText = (hoverEvent: MessageFormatPart['hoverEvent']) => {\n  try {\n    if (!hoverEvent) return undefined\n    const contents = hoverEvent['contents'] ?? hoverEvent.value\n    if (typeof contents.text === 'string' && contents.text.startsWith('{')) {\n      Object.assign(contents, mojangson.simplify(mojangson.parse(contents.text)))\n    }\n    if (typeof contents === 'string') return contents\n    // if (hoverEvent.action === 'show_text') {\n    //   return contents\n    // }\n    if (hoverEvent.action === 'show_item') {\n      return contents.id\n    }\n    if (hoverEvent.action === 'show_entity') {\n      let str = noCase(contents.type.replace('minecraft:', ''))\n      if (contents.name) str += `: ${contents.name.text}`\n      return str\n    }\n  } catch (err) {\n    // todo report critical error\n    reportError?.('Failed to parse message hover' + err.message)\n    return undefined\n  }\n}\n\nconst clickEventToProps = (clickEvent: MessageFormatPart['clickEvent']) => {\n  if (!clickEvent) return\n  if (clickEvent.action === 'run_command' || clickEvent.action === 'suggest_command') {\n    return {\n      onClick () {\n        chatInputValueGlobal.value = clickEvent.value\n      }\n    }\n  }\n  if (clickEvent.action === 'open_url' || clickEvent.action === 'open_file') {\n    return {\n      async onClick () {\n        const promptMessageText = `Open \"${clickEvent.value}\"?`\n        const confirm = await showOptionsModal(promptMessageText, ['Open', 'Copy'], {\n          cancel: true\n        })\n        if (confirm === 'Open') {\n          openURL(clickEvent.value)\n        } else if (confirm === 'Copy') {\n          void navigator.clipboard.writeText(clickEvent.value)\n        }\n      }\n    }\n  }\n  if (clickEvent.action === 'copy_to_clipboard') {\n    return {\n      onClick () {\n        void navigator.clipboard.writeText(clickEvent.value)\n      }\n    }\n  }\n}\n\nexport const MessagePart = ({ part, formatOptions, ...props }: { part: MessageFormatPart, formatOptions?: MessageFormatOptions } & ComponentProps<'span'>) => {\n\n  const { color: _color, italic, bold, underlined, strikethrough, text, clickEvent, hoverEvent, obfuscated } = part\n  const color = _color ?? 'white'\n\n  const clickProps = clickEventToProps(clickEvent)\n  const hoverMessageRaw = hoverItemToText(hoverEvent)\n  const hoverItemText = hoverMessageRaw && typeof hoverMessageRaw !== 'string' ? render(hoverMessageRaw).children.map(child => child.component.text).join('') : hoverMessageRaw\n\n  const applyStyles = [\n    clickProps && messageFormatStylesMap.clickEvent,\n    colorF(color.toLowerCase()) + ((formatOptions?.doShadow ?? true) ? `; text-shadow: 1px 1px 0px ${getColorShadow(colorF(color.toLowerCase()).replace('color:', ''))}` : ''),\n    italic && messageFormatStylesMap.italic,\n    bold && messageFormatStylesMap.bold,\n    italic && messageFormatStylesMap.italic,\n    underlined && messageFormatStylesMap.underlined,\n    strikethrough && messageFormatStylesMap.strikethrough,\n    obfuscated && messageFormatStylesMap.obfuscated\n  ].filter(a => a !== false && a !== undefined).filter(Boolean)\n\n  return <span title={hoverItemText} style={parseInlineStyle(applyStyles.join(';'))} {...clickProps} {...props}>{text}</span>\n}\n\nexport default ({ parts, className, formatOptions }: { parts: readonly MessageFormatPart[], className?: string, formatOptions?: MessageFormatOptions }) => {\n  return (\n    <span className={`formatted-message ${className ?? ''}`}>\n      {parts.map((part, i) => <MessagePart key={i} part={part} formatOptions={formatOptions} />)}\n    </span>\n  )\n}\n\nconst colorF = (color) => {\n  return color.trim().startsWith('#') ? `color:${color}` : messageFormatStylesMap[color] ?? undefined\n}\n\nexport function getColorShadow (hex, dim = 0.25) {\n  const color = parseInt(hex.replace('#', ''), 16)\n\n  const r = Math.trunc((color >> 16 & 0xFF) * dim)\n  const g = Math.trunc((color >> 8 & 0xFF) * dim)\n  const b = Math.trunc((color & 0xFF) * dim)\n\n  const f = (c) => ('00' + c.toString(16)).slice(-2)\n  return `#${f(r)}${f(g)}${f(b)}`\n}\n\nexport function parseInlineStyle (style: string): Record<string, any> {\n  const obj: Record<string, any> = {}\n  for (const rule of style.split(';')) {\n    const [prop, value] = rule.split(':')\n    const cssInJsProp = prop.trim().replaceAll(/-./g, (x) => x.toUpperCase()[1])\n    obj[cssInJsProp] = value.trim()\n  }\n  return obj\n}\n\nexport const messageFormatStylesMap = {\n  black: 'color:color(display-p3 0 0 0)',\n  dark_blue: 'color:color(display-p3 0 0 0.6667)',\n  dark_green: 'color:color(display-p3 0 0.6667 0)',\n  dark_aqua: 'color:color(display-p3 0 0.6667 0.6667)',\n  dark_red: 'color:color(display-p3 0.6667 0 0)',\n  dark_purple: 'color:color(display-p3 0.6667 0 0.6667)',\n  gold: 'color:color(display-p3 1 0.6667 0)',\n  gray: 'color:color(display-p3 0.6667 0.6667 0.6667)',\n  dark_gray: 'color:color(display-p3 0.3333 0.3333 0.3333)',\n  blue: 'color:color(display-p3 0.3333 0.3333 1)',\n  green: 'color:color(display-p3 0.3333 1 0.3333)',\n  aqua: 'color:color(display-p3 0.3333 1 1)',\n  red: 'color:color(display-p3 1 0.3333 0.3333)',\n  light_purple: 'color:color(display-p3 1 0.3333 1)',\n  yellow: 'color:color(display-p3 1 1 0.3333)',\n  white: 'color:color(display-p3 1 1 1)',\n  bold: 'font-weight:900',\n  strikethrough: 'text-decoration:line-through',\n  underlined: 'text-decoration:underline',\n  italic: 'font-style:italic',\n  obfuscated: 'filter:blur(2px)',\n  clickEvent: 'cursor:pointer',\n}\n","import { useMemo } from 'react'\nimport { fromFormattedString } from '@xmcl/text-component'\nimport { ErrorBoundary } from '@zardoy/react-util'\nimport { formatMessage, MessageFormatOptions } from '../chatUtils'\nimport MessageFormatted from './MessageFormatted'\n\n/** like MessageFormatted, but receives raw string or json instead, uses window.loadedData */\nexport default ({ message, fallbackColor, className, formatOptions }: {\n  message: string | Record<string, any> | null,\n  fallbackColor?: string,\n  className?: string\n  formatOptions?: MessageFormatOptions\n}) => {\n  const messageJson = useMemo(() => {\n    if (!message) return null\n    try {\n      const texts = formatMessage(typeof message === 'string' ? fromFormattedString(message) : message)\n      return texts.map(text => {\n        return {\n          ...text,\n          color: text.color ?? fallbackColor,\n        }\n      })\n    } catch (err) {\n      console.error(err) // todo ensure its being logged\n      return null\n    }\n  }, [message])\n\n  return messageJson ? <ErrorBoundary renderError={(error) => {\n    console.error(error)\n    return <div>[text component crashed]</div>\n  }}>\n    <MessageFormatted parts={messageJson} className={className} formatOptions={formatOptions} />\n  </ErrorBoundary> : null\n}\n","import { motion, AnimatePresence } from 'framer-motion'\nimport PixelartIcon, { pixelartIcons } from './PixelartIcon'\nimport { useUsingTouch } from './utilsApp'\n\nconst duration = 0.2\n\n// save pass: login\n\nconst toastHeight = 32\n\ninterface NotificationProps {\n  open: boolean\n  message: string\n  type?: 'message' | 'error' | 'progress'\n  subMessage?: string\n  icon?: string\n  action?: () => void\n  topPosition?: number\n\n  currentProgress?: number\n  totalProgress?: number\n}\n\nexport default ({\n  type = 'message',\n  message,\n  subMessage = '',\n  open,\n  icon = '',\n  action = undefined as (() => void) | undefined,\n  topPosition = 0,\n  currentProgress,\n  totalProgress,\n}: NotificationProps) => {\n  const isUsingTouch = useUsingTouch()\n  const isError = type === 'error'\n  icon ||= isError ? 'alert' : 'message'\n\n  const isLoader = type === 'progress'\n\n  const top = (topPosition * toastHeight) + (isUsingTouch ? 18 : 0) // add space for mobile top buttons\n  return <AnimatePresence>\n    {open && (\n      <motion.div\n        initial={{ opacity: 0, y: 0 }}\n        animate={{ opacity: 1, y: 0 }}\n        exit={{ opacity: 0, y: '-100%' }}\n        transition={{ duration }}\n        className={`app-notification ${isError ? 'error-notification' : ''}`}\n        onClick={action}\n        style={{\n          position: 'fixed',\n          top,\n          right: 0,\n          width: '180px',\n          whiteSpace: 'nowrap',\n          fontSize: '9px',\n          display: 'flex',\n          gap: 4,\n          alignItems: 'center',\n          padding: '4px 5px',\n          background: isError ? 'rgba(255, 0, 0, 0.7)' : 'rgba(0, 0, 0, 0.7)',\n          borderRadius: top === 0 ? '0 0 0 5px' : '5px',\n          pointerEvents: action ? 'auto' : 'none',\n          zIndex: isLoader ? 10 : 1200,\n        }}\n      >\n        <PixelartIcon\n          iconName={icon}\n          styles={{\n            fontSize: isLoader ? 15 : 12,\n            animation: isLoader ? 'rotation 6s linear infinite' : 'none',\n          }}\n        />\n        <div style={{\n          display: 'flex',\n          flexDirection: 'column',\n          width: '100%',\n        }}>\n          <div style={{\n            whiteSpace: 'normal',\n          }}>\n            {translate(message)}\n          </div>\n          <div style={{\n            fontSize: '7px',\n            whiteSpace: 'nowrap',\n            color: 'lightgray',\n            marginTop: 3,\n          }}>\n            {translate(subMessage)}\n          </div>\n          {currentProgress !== undefined && totalProgress !== undefined && (\n            <div style={{\n              width: '100%',\n              height: '2px',\n              background: 'rgba(128, 128, 128, 0.5)',\n              marginTop: '2px',\n              overflow: 'hidden',\n            }}>\n              <div style={{\n                width: `${Math.min(100, (totalProgress ? currentProgress / totalProgress : 0) * 100)}%`,\n                height: '100%',\n                background: 'white',\n                transition: 'width 0.2s ease-out',\n              }} />\n            </div>\n          )}\n        </div>\n      </motion.div>\n    )}\n  </AnimatePresence>\n}\n","import React, { useEffect } from 'react'\nimport { proxy, useSnapshot } from 'valtio'\nimport { useAppScale } from '../scaleInterface'\nimport Notification from './Notification'\n\ntype NotificationType = React.ComponentProps<typeof Notification> & {\n  autoHide: boolean\n  id: string\n}\n\n// todo stacking\nexport const notificationProxy = proxy({\n  message: '',\n  open: false,\n  type: 'message',\n  subMessage: '',\n  icon: '',\n  autoHide: true,\n  id: '',\n} satisfies NotificationType as NotificationType)\n\nexport const showNotification = (\n  message: string,\n  subMessage = '',\n  isError = false,\n  icon = '',\n  action = undefined as (() => void) | undefined,\n  autoHide = true,\n  id = ''\n) => {\n  notificationProxy.message = message\n  notificationProxy.subMessage = subMessage\n  notificationProxy.type = isError ? 'error' : 'message'\n  notificationProxy.icon = icon\n  notificationProxy.open = true\n  notificationProxy.autoHide = autoHide\n  notificationProxy.action = action\n  notificationProxy.id = id\n}\nglobalThis.showNotification = showNotification\nexport const hideNotification = (id?: string) => {\n  if (id === undefined || notificationProxy.id === id) {\n    // openNotification('') // reset\n    notificationProxy.open = false\n  }\n}\n\nexport default () => {\n  const { autoHide, message, open, icon, type, subMessage, action } = useSnapshot(notificationProxy)\n\n  useEffect(() => {\n    if (autoHide && open) {\n      setTimeout(() => {\n        hideNotification(notificationProxy.id)\n      }, 7000)\n    }\n  }, [autoHide, open])\n\n  // test\n  // useEffect(() => {\n  //   setTimeout(() => {\n  //     openNotification('test', 'test', false, 'message')\n  //   }, 1000)\n  // }, [])\n  const scale = useAppScale()\n\n  return <div\n    className='notification-container'\n    style={{\n      // transform: `scale(${scale})`,\n      // transformOrigin: 'top right',\n    }}\n  >\n    <Notification\n      action={action}\n      type={type}\n      message={message}\n      subMessage={subMessage}\n      open={open}\n      icon={icon}\n    />\n  </div>\n}\n","import { CSSProperties } from 'react'\nimport { PixelartIconsGenerated } from './pixelartIcons.generated'\n\nexport default ({\n  iconName,\n  width = undefined as undefined | number,\n  styles = {} as CSSProperties,\n  className = undefined as undefined | string,\n  onClick = () => { }\n}) => {\n  if (width !== undefined) styles = { width, height: width, fontSize: width, ...styles }\n  iconName = iconName.replace('pixelarticons:', '')\n\n  return <div\n    style={{\n      ...styles\n    }} onClick={onClick} className={`${`pixelart-icons-font-${iconName}`} ${className ?? ''}`}\n  />\n}\n\nexport const pixelartIcons = new Proxy({} as PixelartIconsGenerated, {\n  get (target, prop) {\n    return prop as string\n  }\n})\n","interface Props {\n  title: JSX.Element | string\n  children: React.ReactNode\n  backdrop?: boolean | 'dirt'\n  style?: React.CSSProperties\n  className?: string\n  titleSelectable?: boolean\n  titleMarginTop?: number\n  contentStyle?: React.CSSProperties\n}\n\nexport default ({ title, children, backdrop = true, style, className = '', titleSelectable, titleMarginTop, contentStyle }: Props) => {\n  return (\n    <>\n      {backdrop === 'dirt' ? <div className='dirt-bg' /> : backdrop ? <div className=\"backdrop\" /> : null}\n      <div className={`fullscreen ${className}`} style={{ ...style }}>\n        <div className=\"screen-content\" style={{ ...contentStyle, ...(titleMarginTop === undefined ? {} : { marginTop: titleMarginTop }) }}>\n          <div className={`screen-title ${titleSelectable ? 'text-select' : ''}`}>{title}</div>\n          {children}\n        </div>\n      </div>\n    </>\n  )\n}\n","import { proxy, useSnapshot } from 'valtio'\nimport { useEffect, useRef } from 'react'\nimport { noCase } from 'change-case'\nimport { titleCase } from 'title-case'\nimport { hideCurrentModal, showModal } from '../globalState'\nimport { parseFormattedMessagePacket } from '../botUtils'\nimport Screen from './Screen'\nimport { useIsModalActive } from './utilsApp'\nimport Button from './Button'\nimport MessageFormattedString from './MessageFormattedString'\nimport Input, { InputWithLabel } from './Input'\n\nconst state = proxy({\n  title: '',\n  options: [] as string[],\n  showCancel: true,\n  minecraftJsonMessage: null as null | Record<string, any>,\n  behavior: 'resolve-close' as 'resolve-close' | 'close-resolve',\n  inputs: {} as Record<string, InputOption>,\n  inputsConfirmButton: ''\n})\n\nlet resolve\nexport const showOptionsModal = async <T extends string> (\n  title: string,\n  options: T[],\n  { cancel = true, minecraftJsonMessage }: { cancel?: boolean, minecraftJsonMessage? } = {}\n): Promise<T | undefined> => {\n  showModal({ reactType: 'general-select' })\n  let minecraftJsonMessageParsed\n  if (minecraftJsonMessage) {\n    const parseResult = parseFormattedMessagePacket(minecraftJsonMessage)\n    minecraftJsonMessageParsed = parseResult.formatted\n    if (parseResult.plain) {\n      title += ` (${parseResult.plain})`\n    }\n  }\n  return new Promise((_resolve) => {\n    resolve = _resolve\n    Object.assign(state, {\n      title,\n      options,\n      showCancel: cancel,\n      minecraftJsonMessage: minecraftJsonMessageParsed,\n      inputs: {},\n      inputsConfirmButton: ''\n    })\n  })\n}\n\nexport type InputOption = {\n  type: 'text' | 'checkbox' | 'button'\n  defaultValue?: string | boolean\n  label?: string\n  placeholder?: string\n  onButtonClick?: () => void\n}\nexport const showInputsModal = async <T extends Record<string, InputOption>>(\n  title: string,\n  inputs: T,\n  {\n    cancel = true,\n    minecraftJsonMessage,\n    showConfirm = true\n  }: {\n    cancel?: boolean,\n    minecraftJsonMessage?\n    showConfirm?: boolean\n  } = {}\n): Promise<{\n  [K in keyof T]: T[K] extends { type: 'text' }\n    ? string\n    : T[K] extends { type: 'checkbox' }\n      ? boolean\n      : T[K] extends { type: 'button' }\n        ? string\n        : never\n}> => {\n  showModal({ reactType: 'general-select' })\n  let minecraftJsonMessageParsed\n  if (minecraftJsonMessage) {\n    const parseResult = parseFormattedMessagePacket(minecraftJsonMessage)\n    minecraftJsonMessageParsed = parseResult.formatted\n    if (parseResult.plain) {\n      title += ` (${parseResult.plain})`\n    }\n  }\n  return new Promise((_resolve) => {\n    resolve = _resolve\n    Object.assign(state, {\n      title,\n      inputs,\n      showCancel: cancel,\n      minecraftJsonMessage: minecraftJsonMessageParsed,\n      options: [],\n      inputsConfirmButton: showConfirm ? 'Confirm' : ''\n    })\n  })\n}\n\nexport default () => {\n  const { title, options, showCancel, minecraftJsonMessage, inputs, inputsConfirmButton } = useSnapshot(state)\n  const isModalActive = useIsModalActive('general-select')\n  const inputValues = useRef({})\n\n  useEffect(() => {\n    inputValues.current = Object.fromEntries(Object.entries(inputs).map(([key, input]) => [key, input.defaultValue ?? (input.type === 'checkbox' ? false : '')]))\n  }, [inputs])\n\n  if (!isModalActive) return\n\n  const resolveClose = (value: any) => {\n    if (state.behavior === 'resolve-close') {\n      resolve(value)\n      hideCurrentModal()\n    } else {\n      hideCurrentModal()\n      resolve(value)\n    }\n  }\n\n  return <Screen title={title} backdrop>\n    {minecraftJsonMessage && <div style={{ textAlign: 'center', }}>\n      <MessageFormattedString message={minecraftJsonMessage} />\n    </div>}\n    <div style={{ display: 'flex', flexDirection: 'column', gap: 9 }}>\n      {options.length > 0 && <div style={{ display: 'flex', flexDirection: 'column', gap: 5 }}>\n        {options.map(option => <Button\n          key={option} onClick={() => {\n            resolveClose(option)\n          }}\n        >{option}\n        </Button>)}\n      </div>}\n      <div style={{ display: 'flex', flexDirection: 'column', gap: 3 }}>\n        {Object.entries(inputs).map(([key, input]) => {\n          const label = input.label ?? titleCase(noCase(key))\n          return <div key={key}>\n            {input.type === 'text' && (\n              <InputWithLabel\n                label={label}\n                autoFocus\n                type='text'\n                defaultValue={input.defaultValue as string}\n                placeholder={input.placeholder}\n                onChange={(e) => {\n                  inputValues.current[key] = e.target.value\n                }}\n              />\n            )}\n            {input.type === 'checkbox' && (\n              <label style={{ display: 'flex', alignItems: 'center', gap: 4, fontSize: 12 }}>\n                <input\n                  type='checkbox'\n                  style={{ marginBottom: -1, }}\n                  defaultChecked={input.defaultValue as boolean}\n                  onChange={(e) => {\n                    inputValues.current[key] = e.target.checked\n                  }}\n                />\n                {label}\n              </label>\n            )}\n            {input.type === 'button' && (\n              <Button\n                onClick={() => {\n                  resolveClose(inputValues.current)\n                  input.onButtonClick?.()\n                }}\n              >{label}\n              </Button>\n            )}\n          </div>\n        })}\n      </div>\n      {inputs && inputsConfirmButton && (\n        <Button\n          // style={{ marginTop: 30 }}\n          onClick={() => {\n            resolveClose(inputValues.current)\n          }}\n        >\n          {inputsConfirmButton}\n        </Button>\n      )}\n      {showCancel && (\n        <Button\n          // style={{ marginTop: 30 }}\n          onClick={() => {\n            resolveClose(undefined)\n          }}\n        >\n          Cancel\n        </Button>\n      )}\n    </div>\n  </Screen>\n}\n","import { useEffect } from 'react'\n\n// appReplacableResources\nimport { appReplacableResources } from '../generated/resources'\n\nexport default ({ children }): React.ReactElement => {\n  useEffect(() => {\n    if (document.getElementById('hud-vars-style')) return\n    // 1. Don't inline long data URLs for better DX in elements tab\n    // 2. Easier application to globally override icons with custom image (eg from resourcepacks)\n    const css = /* css */`\n      html {\n        ${Object.values(appReplacableResources).filter(r => r.cssVar).map(r => {\n      const repeat = r.cssVarRepeat ?? 1\n      return `${r.cssVar}: ${repeatArr(`url('${r.content}')`, repeat).join(', ')};`\n    }).join('\\n')}\n\n        --hud-bottom-max: 0px;\n        --hud-bottom-raw: max(env(safe-area-inset-bottom), var(--hud-bottom-max));\n        --safe-area-inset-bottom: calc(var(--hud-bottom-raw) / 2);\n      }\n    `\n    const style = document.createElement('style')\n    style.id = 'hud-vars-style'\n    style.textContent = css\n    document.head.appendChild(style)\n  }, [])\n\n  return children\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unnecessary-type-constraint\nconst repeatArr = <T extends any> (item: T, times: number): T[] => {\n  return Array.from({ length: times }, () => item)\n}\n","import { proxy, ref, subscribe } from 'valtio'\nimport { UserOverridesConfig } from 'contro-max/build/types/store'\nimport { subscribeKey } from 'valtio/utils'\nimport { AppConfig } from '../appConfig'\nimport { CustomCommand } from './KeybindingsCustom'\nimport { AuthenticatedAccount } from './serversStorage'\nimport type { BaseServerInfo } from './AddServerOrConnect'\n\n// when opening html file locally in browser, localStorage is shared between all ever opened html files, so we try to avoid conflicts\nconst localStoragePrefix = process.env?.SINGLE_FILE_BUILD ? 'minecraft-web-client:' : ''\nconst cookiePrefix = process.env.COOKIE_STORAGE_PREFIX || ''\nconst { localStorage } = window\nconst migrateRemoveLocalStorage = false\n\nexport interface SavedProxiesData {\n  proxies: string[]\n  selected: string\n}\n\nexport interface ServerHistoryEntry {\n  ip: string\n  version?: string\n  numConnects: number\n  lastConnected: number\n}\n\nexport interface StoreServerItem extends BaseServerInfo {\n  lastJoined?: number\n  description?: string\n  optionsOverride?: Record<string, any>\n  autoLogin?: Record<string, string>\n  numConnects?: number // Track number of connections\n  isRecommended?: boolean\n}\n\ninterface StorageConflict {\n  key: string\n  localStorageValue: any\n  localStorageTimestamp?: number\n  cookieValue: any\n  cookieTimestamp?: number\n}\n\ntype StorageData = {\n  cookieStorage: boolean | { ignoreKeys: Array<keyof StorageData> }\n  customCommands: Record<string, CustomCommand> | undefined\n  username: string | undefined\n  keybindings: UserOverridesConfig | undefined\n  changedSettings: any\n  proxiesData: SavedProxiesData | undefined\n  serversHistory: ServerHistoryEntry[]\n  authenticatedAccounts: AuthenticatedAccount[]\n  serversList: StoreServerItem[] | undefined\n  modsAutoUpdateLastCheck: number | undefined\n  firstModsPageVisit: boolean\n}\n\nconst cookieStoreKeys: Array<keyof StorageData> = [\n  'customCommands',\n  'username',\n  'keybindings',\n  'changedSettings',\n  'serversList',\n]\n\nconst oldKeysAliases: Partial<Record<keyof StorageData, string>> = {\n  serversHistory: 'serverConnectionHistory',\n}\n\n// Cookie storage functions\nconst getCookieValue = (key: string): string | null => {\n  const cookie = document.cookie.split(';').find(c => c.trimStart().startsWith(`${cookiePrefix}${key}=`))\n  if (cookie) {\n    return decodeURIComponent(cookie.split('=')[1])\n  }\n  return null\n}\n\nconst topLevelDomain = window.location.hostname.split('.').slice(-2).join('.')\nconst cookieBase = `; Domain=.${topLevelDomain}; Path=/; SameSite=Strict; Secure`\n\nconst setCookieValue = (key: string, value: string): boolean => {\n  try {\n    const cookieKey = `${cookiePrefix}${key}`\n    let cookie = `${cookieKey}=${encodeURIComponent(value)}`\n    cookie += `${cookieBase}; Max-Age=2147483647`\n\n    // Test if cookie exceeds size limit\n    if (cookie.length > 4096) {\n      throw new Error(`Cookie size limit exceeded for key '${key}'. Cookie size: ${cookie.length} bytes, limit: 4096 bytes.`)\n    }\n\n    document.cookie = cookie\n\n    // Verify the cookie was actually saved by reading it back\n    const savedValue = getCookieValue(key)\n    if (savedValue !== value) {\n      console.warn(`Cookie verification failed for key '${key}'. Expected: ${value}, Got: ${savedValue}`)\n      return false\n    }\n\n    return true\n  } catch (error) {\n    console.error(`Failed to set cookie for key '${key}':`, error)\n    window.showNotification(`Failed to save data to cookies: ${error.message}`, 'Consider switching to localStorage in advanced settings.', true)\n    return false\n  }\n}\n\nconst deleteCookie = (key: string) => {\n  const cookieKey = `${cookiePrefix}${key}`\n  document.cookie = `${cookieKey}=; ${cookieBase}; expires=Thu, 01 Jan 1970 00:00:00 UTC;`\n}\n\n// Storage conflict detection and resolution\nlet storageConflicts: StorageConflict[] = []\n\nconst detectStorageConflicts = (): StorageConflict[] => {\n  const conflicts: StorageConflict[] = []\n\n  for (const key of cookieStoreKeys) {\n    const localStorageKey = `${localStoragePrefix}${key}`\n    const localStorageValue = localStorage.getItem(localStorageKey)\n    const cookieValue = getCookieValue(key)\n\n    if (localStorageValue && cookieValue) {\n      try {\n        const localParsed = JSON.parse(localStorageValue)\n        const cookieParsed = JSON.parse(cookieValue)\n\n        if (localStorage.getItem(`${localStorageKey}:migrated`)) {\n          continue\n        }\n\n        // Extract timestamps if they exist\n        const localTimestamp = localParsed?.timestamp\n        const cookieTimestamp = cookieParsed?.timestamp\n\n        // Compare the actual data (excluding timestamp)\n        const localData = localTimestamp ? { ...localParsed } : localParsed\n        const cookieData = cookieTimestamp ? { ...cookieParsed } : cookieParsed\n        delete localData.timestamp\n        delete cookieData.timestamp\n\n        const isDataEmpty = (data: any) => {\n          if (typeof data === 'object' && data !== null) {\n            return Object.keys(data).length === 0\n          }\n          return !data && data !== 0 && data !== false\n        }\n\n        if (JSON.stringify(localData) !== JSON.stringify(cookieData) && !isDataEmpty(localData) && !isDataEmpty(cookieData)) {\n          conflicts.push({\n            key,\n            localStorageValue: localData,\n            localStorageTimestamp: localTimestamp,\n            cookieValue: (typeof cookieData === 'object' && cookieData !== null && 'data' in cookieData) ? cookieData.data : cookieData,\n            cookieTimestamp\n          })\n        }\n      } catch (e) {\n        console.error(`Failed to parse storage values for conflict detection on key '${key}':`, e, localStorageValue, cookieValue)\n      }\n    }\n  }\n\n  return conflicts\n}\n\nconst showStorageConflictModal = () => {\n  // Import showModal dynamically to avoid circular dependency\n  const showModal = (window as any).showModal || ((modal: any) => {\n    console.error('Modal system not available:', modal)\n    console.warn('Storage conflicts detected but modal system not available:', storageConflicts)\n  })\n\n  setTimeout(() => {\n    showModal({ reactType: 'storage-conflict', conflicts: storageConflicts })\n  }, 100)\n}\n\nconst migrateLegacyData = () => {\n  const proxies = localStorage.getItem('proxies')\n  const selectedProxy = localStorage.getItem('selectedProxy')\n  if (proxies && selectedProxy) {\n    appStorage.proxiesData = {\n      proxies: JSON.parse(proxies),\n      selected: selectedProxy,\n    }\n  }\n\n  const username = localStorage.getItem('username')\n  if (username && !username.startsWith('\"')) {\n    appStorage.username = username\n  }\n\n  const serversHistoryLegacy = localStorage.getItem('serverConnectionHistory')\n  if (serversHistoryLegacy) {\n    appStorage.serversHistory = JSON.parse(serversHistoryLegacy)\n  }\n  localStorage.removeItem('proxies')\n  localStorage.removeItem('selectedProxy')\n  localStorage.removeItem('serverConnectionHistory')\n}\n\nconst defaultStorageData: StorageData = {\n  cookieStorage: !!process.env.ENABLE_COOKIE_STORAGE && !process.env?.SINGLE_FILE_BUILD,\n  customCommands: undefined,\n  username: undefined,\n  keybindings: undefined,\n  changedSettings: {},\n  proxiesData: undefined,\n  serversHistory: [],\n  authenticatedAccounts: [],\n  serversList: undefined,\n  modsAutoUpdateLastCheck: undefined,\n  firstModsPageVisit: true,\n}\n\nexport const setStorageDataOnAppConfigLoad = (appConfig: AppConfig) => {\n  appStorage.username ??= getRandomUsername(appConfig)\n}\n\nexport const getRandomUsername = (appConfig: AppConfig) => {\n  if (!appConfig.defaultUsername) return ''\n\n  const username = appConfig.defaultUsername\n    .replaceAll(/{(\\d+)-(\\d+)}/g, (_, start, end) => {\n      const min = Number(start)\n      const max = Number(end)\n      return Math.floor(Math.random() * (max - min + 1) + min).toString()\n    })\n    .replaceAll('{num}', () => Math.floor(Math.random() * 10).toString())\n\n  return username\n}\n\nexport const appStorage = proxy({ ...defaultStorageData })\n\n// Track if cookies failed in this session\nlet cookiesFailedThisSession = false\n\n// Check if cookie storage should be used (will be set by options)\nconst shouldUseCookieStorage = () => {\n  // If cookies failed this session, don't try again\n  if (cookiesFailedThisSession) {\n    return false\n  }\n\n  const isSecureCookiesAvailable = () => {\n    // either https or localhost\n    return window.location.protocol === 'https:' || (window.location.hostname === 'localhost')\n  }\n  if (!isSecureCookiesAvailable()) {\n    return false\n  }\n\n  const localStorageValue = localStorage.getItem(`${localStoragePrefix}cookieStorage`)\n  if (localStorageValue === null) {\n    return appStorage.cookieStorage === true\n  }\n  return localStorageValue === 'true'\n}\n\n// Restore data from storage with conflict detection\nconst restoreStorageData = () => {\n  const useCookieStorage = shouldUseCookieStorage()\n\n  if (useCookieStorage) {\n    // Detect conflicts first\n    storageConflicts = detectStorageConflicts()\n\n    if (storageConflicts.length > 0) {\n      // Show conflict resolution modal\n      showStorageConflictModal()\n      return // Don't restore data until conflict is resolved\n    }\n  }\n\n  for (const key of Object.keys(defaultStorageData)) {\n    const typedKey = key\n    const prefixedKey = `${localStoragePrefix}${key}`\n    const aliasedKey = oldKeysAliases[typedKey]\n\n    let storedValue: string | null = null\n    let cookieValueCanBeUsed = false\n    let usingLocalStorageValue = false\n\n    // Try cookie storage first if enabled and key is in cookieStoreKeys\n    if (useCookieStorage && cookieStoreKeys.includes(typedKey)) {\n      storedValue = getCookieValue(key)\n      cookieValueCanBeUsed = true\n    }\n\n    // Fallback to localStorage if no cookie value found\n    if (storedValue === null) {\n      storedValue = localStorage.getItem(prefixedKey) ?? (aliasedKey ? localStorage.getItem(aliasedKey) : null)\n      usingLocalStorageValue = true\n    }\n\n    if (storedValue) {\n      try {\n        let parsed = JSON.parse(storedValue)\n\n        // Handle timestamped data\n        if (parsed && typeof parsed === 'object' && parsed.timestamp) {\n          delete parsed.timestamp\n          // If it was a wrapped primitive, unwrap it\n          if ('data' in parsed && Object.keys(parsed).length === 1) {\n            parsed = parsed.data\n          }\n        }\n\n        appStorage[typedKey] = parsed\n\n        if (usingLocalStorageValue && cookieValueCanBeUsed) {\n          // migrate localStorage to cookie\n          saveKey(key)\n          markLocalStorageAsMigrated(key)\n        }\n      } catch (e) {\n        console.error(`Failed to parse stored value for ${key}:`, e)\n      }\n    }\n  }\n}\n\nconst markLocalStorageAsMigrated = (key: keyof StorageData) => {\n  const localStorageKey = `${localStoragePrefix}${key}`\n  if (migrateRemoveLocalStorage) {\n    localStorage.removeItem(localStorageKey)\n    return\n  }\n\n  localStorage.setItem(`${localStorageKey}:migrated`, 'true')\n}\n\nconst saveKey = (key: keyof StorageData) => {\n  const useCookieStorage = shouldUseCookieStorage()\n  const prefixedKey = `${localStoragePrefix}${key}`\n  const value = appStorage[key]\n\n  const dataToSave = value === undefined ? undefined : (\n    value && typeof value === 'object' && !Array.isArray(value)\n      ? { ...value, timestamp: Date.now() }\n      : { data: value, timestamp: Date.now() }\n  )\n\n  const serialized = dataToSave === undefined ? undefined : JSON.stringify(dataToSave)\n\n  let useLocalStorage = true\n  // Save to cookie if enabled and key is in cookieStoreKeys\n  if (useCookieStorage && cookieStoreKeys.includes(key)) {\n    useLocalStorage = false\n    if (serialized === undefined) {\n      deleteCookie(key)\n    } else {\n      const success = setCookieValue(key, serialized)\n      if (success) {\n        // Remove from localStorage if cookie save was successful\n        markLocalStorageAsMigrated(key)\n      } else {\n        // Cookie save failed, disable cookies for this session and fallback to localStorage\n        console.warn(`Cookie save failed for key '${key}', disabling cookies for this session`)\n        cookiesFailedThisSession = true\n        useLocalStorage = true\n      }\n    }\n  }\n\n  if (useLocalStorage) {\n    // Save to localStorage\n    if (value === undefined) {\n      localStorage.removeItem(prefixedKey)\n    } else {\n      localStorage.setItem(prefixedKey, JSON.stringify(value))\n    }\n  }\n}\n\nsubscribe(appStorage, (ops) => {\n  for (const op of ops) {\n    const [type, path, value] = op\n    const key = path[0]\n    saveKey(key as keyof StorageData)\n  }\n})\n\nexport const resetAppStorage = () => {\n  for (const key of Object.keys(appStorage)) {\n    appStorage[key as keyof StorageData] = defaultStorageData[key as keyof StorageData]\n  }\n\n  for (const key of Object.keys(localStorage)) {\n    if (key.startsWith(localStoragePrefix)) {\n      localStorage.removeItem(key)\n    }\n  }\n\n  if (!shouldUseCookieStorage()) return\n  const shouldContinue = window.confirm(`Removing all synced cookies will remove all data from all ${topLevelDomain} subdomains websites. Continue?`)\n  if (!shouldContinue) return\n\n  // Clear cookies\n  for (const key of cookieStoreKeys) {\n    deleteCookie(key)\n  }\n}\n\n// Export functions for conflict resolution\nexport const resolveStorageConflicts = (useLocalStorage: boolean) => {\n  if (useLocalStorage) {\n    // Disable cookie storage and use localStorage data\n    appStorage.cookieStorage = false\n  } else {\n    // Remove localStorage data and continue using cookie storage\n    for (const conflict of storageConflicts) {\n      const prefixedKey = `${localStoragePrefix}${conflict.key}`\n      localStorage.removeItem(prefixedKey)\n    }\n  }\n\n  // forcefully set data again\n  for (const conflict of storageConflicts) {\n    appStorage[conflict.key] = useLocalStorage ? conflict.localStorageValue : conflict.cookieValue\n    saveKey(conflict.key as keyof StorageData)\n  }\n\n  // Clear conflicts and restore data\n  storageConflicts = []\n  restoreStorageData()\n}\n\nexport const getStorageConflicts = () => storageConflicts\n\nmigrateLegacyData()\n\n// Restore data after checking for conflicts\nrestoreStorageData()\n","import { RefObject, useEffect, useLayoutEffect, useRef, useState } from 'react'\nimport { pixelartIcons } from '../PixelartIcon'\n\nexport const useScrollBehavior = (\n  elementRef: RefObject<HTMLElement>,\n  {\n    messages,\n    opened\n  }: {\n    messages: readonly any[],\n    opened?: boolean\n  }\n) => {\n  const openedWasAtBottom = useRef(true) // before new messages\n  const [currentlyAtBottom, setCurrentlyAtBottom] = useState(true)\n  const scrollTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n  const isAtBottom = () => {\n    if (!elementRef.current) return true\n    const { scrollTop, scrollHeight, clientHeight } = elementRef.current\n    const distanceFromBottom = Math.abs(scrollHeight - clientHeight - scrollTop)\n    return distanceFromBottom < 1\n  }\n\n  const scrollToBottom = (behavior: ScrollBehavior = 'instant') => {\n    if (!elementRef.current) return\n\n    // Clear any existing scroll timeout\n    if (scrollTimeoutRef.current) {\n      clearTimeout(scrollTimeoutRef.current)\n    }\n\n    const el = elementRef.current\n\n    // Immediate scroll\n    el.scrollTop = el.scrollHeight\n\n    // Double-check after a short delay to ensure we're really at the bottom\n    scrollTimeoutRef.current = setTimeout(() => {\n      if (!elementRef.current) return\n      const el = elementRef.current\n      el.scrollTo({\n        top: el.scrollHeight,\n        behavior\n      })\n      setCurrentlyAtBottom(true)\n      openedWasAtBottom.current = true\n    }, 5)\n  }\n\n  // Handle scroll position tracking\n  useEffect(() => {\n    const element = elementRef.current\n    if (!element) return\n\n    const handleScroll = () => {\n      const atBottom = isAtBottom()\n      openedWasAtBottom.current = atBottom\n      setCurrentlyAtBottom(atBottom)\n    }\n\n    element.addEventListener('scroll', handleScroll)\n    return () => {\n      element.removeEventListener('scroll', handleScroll)\n      if (scrollTimeoutRef.current) {\n        clearTimeout(scrollTimeoutRef.current)\n      }\n    }\n  }, [])\n\n  // Handle opened state changes\n  useLayoutEffect(() => {\n    if (opened) {\n      // Wait a frame before scrolling to ensure DOM has updated\n      requestAnimationFrame(() => {\n        scrollToBottom()\n      })\n    } else if (elementRef.current) {\n      scrollToBottom()\n    }\n  }, [opened])\n\n  // Handle messages changes\n  useLayoutEffect(() => {\n    if ((!opened || (opened && openedWasAtBottom.current)) && elementRef.current) {\n      scrollToBottom()\n    }\n  }, [messages])\n\n  return {\n    scrollToBottom,\n    isAtBottom,\n    wasAtBottom: () => openedWasAtBottom.current,\n    currentlyAtBottom\n  }\n}\n","import { appQueryParams } from '../appParams'\nimport { miscUiState } from '../globalState'\nimport { BaseServerInfo } from './AddServerOrConnect'\nimport { lastConnectOptions } from './AppStatusProvider'\nimport { appStorage, StoreServerItem } from './appStorageProvider'\n\nconst serversListQs = appQueryParams.serversList\n\nexport interface AuthenticatedAccount {\n  // type: 'microsoft'\n  username: string\n  cachedTokens?: {\n    data: any\n    expiresOn: number\n  }\n}\n\nexport interface ServerConnectionHistory {\n  ip: string\n  numConnects: number\n  lastConnected: number\n  version?: string\n}\n\nexport function updateServerConnectionHistory (ip: string, version?: string) {\n  try {\n    const history = [...(appStorage.serversHistory ?? [])]\n    const existingServer = history.find(s => s.ip === ip)\n    if (existingServer) {\n      existingServer.numConnects++\n      existingServer.lastConnected = Date.now()\n      if (version) existingServer.version = version\n    } else {\n      history.push({\n        ip,\n        numConnects: 1,\n        lastConnected: Date.now(),\n        version\n      })\n    }\n    appStorage.serversHistory = history\n  } catch (err) {\n    console.error('Failed to update server connection history:', err)\n  }\n}\n\nexport const getServerIndex = () => {\n  const lastConnectedIp = lastConnectOptions.value?.server\n  const index = miscUiState.loadedServerIndex\n  if (index !== undefined) return index\n  if (lastConnectedIp) {\n    const idx = appStorage.serversList?.findIndex(s => s.ip === lastConnectedIp).toString()\n    if (idx === '-1') return undefined\n    return idx\n  }\n  return undefined\n}\n\nexport const findServerPassword = () => {\n  const { username } = bot\n  const index = getServerIndex()\n  if (index === undefined) return\n  const pswd = appStorage.serversList?.[index]?.autoLogin?.[username]\n  if (pswd) return pswd\n  // try other servers with same host\n  return appStorage.serversList?.find(s => s.ip === lastConnectOptions.value?.server && s.autoLogin?.[username])?.autoLogin?.[username]\n}\n\nexport const updateLoadedServerData = (callback: (data: StoreServerItem) => StoreServerItem, index = miscUiState.loadedServerIndex) => {\n  if (index === undefined) {\n    const idx = getServerIndex()\n    if (idx === undefined) return\n    index = idx\n  }\n\n  const servers = [...(appStorage.serversList ?? [])]\n  const server = servers[index]\n  if (!server) return\n  servers[index] = callback(server)\n  setNewServersList(servers)\n}\n\nexport const setNewServersList = (serversList: StoreServerItem[], force = false) => {\n  if (serversListQs && !force) return\n  appStorage.serversList = serversList\n}\n\nexport const updateAuthenticatedAccountData = (callback: (data: AuthenticatedAccount[]) => AuthenticatedAccount[]) => {\n  const accounts = appStorage.authenticatedAccounts\n  const newAccounts = callback(accounts)\n  appStorage.authenticatedAccounts = newAccounts\n}\n\nexport function getServerConnectionHistory (): ServerConnectionHistory[] {\n  return appStorage.serversHistory ?? []\n}\n","import { proxy } from 'valtio'\nimport type { PacketData } from '../ReplayPanel'\nimport { appQueryParams, updateQsParam } from '../../appParams'\n\nexport const packetsReplayState = proxy({\n  packetsPlayback: [] as PacketData[],\n  isOpen: false,\n  isMinimized: false,\n  isRecording: false,\n  replayName: '',\n  isPlaying: false,\n  progress: {\n    current: 0,\n    total: 0\n  },\n  speed: appQueryParams.replaySpeed ? parseFloat(appQueryParams.replaySpeed) : 1,\n  customButtons: {\n    validateClientPackets: {\n      state: appQueryParams.replayValidateClient === 'true',\n      label: 'C',\n      tooltip: 'Validate client packets'\n    },\n    stopOnError: {\n      state: appQueryParams.replayStopOnError === 'true',\n      label: 'E',\n      tooltip: 'Stop the replay when an error occurs'\n    },\n    skipMissingOnTimeout: {\n      state: appQueryParams.replaySkipMissingOnTimeout === 'true',\n      label: 'T',\n      tooltip: 'Skip missing packets on timeout'\n    },\n    packetsSenderDelay: {\n      state: appQueryParams.replayPacketsSenderDelay === 'true',\n      label: 'D',\n      tooltip: 'Send packets with an additional delay'\n    }\n  }\n})\n\nexport const onChangeButtonState = (button: keyof typeof packetsReplayState.customButtons, state: boolean) => {\n  packetsReplayState.customButtons[button].state = state\n  switch (button) {\n    case 'validateClientPackets': {\n      updateQsParam('replayValidateClient', String(state))\n      break\n    }\n    case 'stopOnError': {\n      updateQsParam('replayStopOnError', String(state))\n      break\n    }\n    case 'skipMissingOnTimeout': {\n      updateQsParam('replaySkipMissingOnTimeout', String(state))\n      break\n    }\n    case 'packetsSenderDelay': {\n      updateQsParam('replayPacketsSenderDelay', String(state))\n      break\n    }\n  }\n}\n","import { useEffect, useRef } from 'react'\nimport { UAParser } from 'ua-parser-js'\n\nexport function useDidUpdateEffect (fn, inputs) {\n  const isMountingRef = useRef(false)\n\n  useEffect(() => {\n    isMountingRef.current = true\n  }, [])\n\n  useEffect(() => {\n    if (isMountingRef.current) {\n      isMountingRef.current = false\n    } else {\n      return fn()\n    }\n  }, inputs)\n}\n\nexport const ua = new UAParser(navigator.userAgent)\n\nexport const isIos = ua.getOS().name === 'iOS'\n\nexport const reactKeyForMessage = (message) => {\n  return typeof message === 'string' ? message : JSON.stringify(message)\n}\n","import { proxy, useSnapshot } from 'valtio'\nimport { useEffect, useMemo } from 'react'\nimport { useMedia } from 'react-use'\nimport { activeModalStack, miscUiState } from '../globalState'\n\nexport const watchedModalsFromHooks = proxy({\n  value: [] as string[]\n})\n// todo should not be there\nexport const hardcodedKnownModals = [\n  'empty',\n  'player_win:',\n  'divkit:',\n  'full-map' // todo\n]\n\nexport const useUsingTouch = () => {\n  return useSnapshot(miscUiState).currentTouch\n}\nexport const useIsModalActive = (modal: string, useIncludes = false) => {\n  useMemo(() => {\n    watchedModalsFromHooks.value.push(modal)\n  }, [])\n  useEffect(() => {\n    // watchedModalsFromHooks.add(modal)\n    return () => {\n      watchedModalsFromHooks.value = watchedModalsFromHooks.value.filter(x => x !== modal)\n    }\n  }, [])\n\n  const allStack = useSnapshot(activeModalStack)\n  return useIncludes ? allStack.some(x => x.reactType === modal) : allStack.at(-1)?.reactType === modal\n}\n\nexport const useIsWidgetActive = (name: string) => {\n  return useIsModalActive(`widget-${name}`)\n}\n\nexport const useIsSmallWidth = () => {\n  return useMedia('(max-width: 550px)')\n}\n","/* eslint-disable no-await-in-loop */\nimport { join, dirname, basename } from 'path'\nimport fs from 'fs'\nimport JSZip from 'jszip'\nimport { proxy, subscribe } from 'valtio'\nimport { armorTextures } from 'renderer/viewer/three/entity/armorModels'\nimport { copyFilesAsyncWithProgress, mkdirRecursive, removeFileRecursiveAsync } from './browserfs'\nimport { showNotification } from './react/NotificationProvider'\nimport { options } from './optionsStorage'\nimport { showOptionsModal } from './react/SelectOption'\nimport { appReplacableResources, resourcesContentOriginal } from './generated/resources'\nimport { gameAdditionalState, miscUiState } from './globalState'\nimport { watchUnloadForCleanup } from './gameUnload'\nimport { createConsoleLogProgressReporter, createFullScreenProgressReporter, ProgressReporter } from './core/progressReporter'\n\nexport const resourcePackState = proxy({\n  resourcePackInstalled: false,\n  isServerDownloading: false,\n  isServerInstalling: false\n})\n\nconst getLoadedImage = async (url: string) => {\n  const img = new Image()\n  img.src = url\n  await new Promise((resolve, reject) => {\n    img.onload = resolve\n    img.onerror = reject\n  })\n  return img\n}\n\nconst resourcepackPackBasePath = '/data/resourcePacks/'\nexport const uninstallResourcePack = async (name = 'default') => {\n  if (await existsAsync('/resourcepack/pack.mcmeta')) {\n    await removeFileRecursiveAsync('/resourcepack', false)\n    gameAdditionalState.usingServerResourcePack = false\n  }\n  const basePath = resourcepackPackBasePath + name\n  if (!(await existsAsync(basePath))) return\n  await removeFileRecursiveAsync(basePath)\n  options.enabledResourcepack = null\n  await updateTexturePackInstalledState()\n}\n\nexport const getResourcePackNames = async () => {\n  // TODO\n  try {\n    return { [await fs.promises.readFile(join(resourcepackPackBasePath, 'default', 'name.txt'), 'utf8')]: true }\n  } catch (err) {\n    return {}\n  }\n}\n\nexport const fromTexturePackPath = (path) => {\n  // return join(texturePackBasePath, path)\n}\n\nexport const updateTexturePackInstalledState = async () => {\n  try {\n    resourcePackState.resourcePackInstalled = await existsAsync(resourcepackPackBasePath + 'default')\n  } catch {\n  }\n}\n\nexport const installTexturePackFromHandle = async () => {\n  // await mkdirRecursive(texturePackBasePath)\n  // await copyFilesAsyncWithProgress('/world', texturePackBasePath)\n  // await completeTexturePackInstall()\n}\n\nexport const installResourcepackPack = async (file: File | ArrayBuffer, progressReporter: ProgressReporter, displayName = file['name'], name = 'default', isServer = false) => {\n  console.time('processResourcePack')\n  const installPath = isServer ? '/resourcepack/' : resourcepackPackBasePath + name\n  try {\n    await progressReporter.executeWithMessage('Uninstalling resource pack', async () => {\n      await uninstallResourcePack(name)\n    })\n  } catch (err) {\n  }\n  const status = 'Installing resource pack: copying all files'\n  progressReporter.beginStage('copy-files-resourcepack', status)\n\n  // extract the zip and write to fs every file in it\n  const zip = new JSZip()\n  const zipFile = await zip.loadAsync(file)\n  if (!zipFile.file('pack.mcmeta')) throw new Error('Not a resource pack: missing /pack.mcmeta')\n  await mkdirRecursive(installPath)\n\n  const allFilesArr = Object.entries(zipFile.files)\n    .filter(([path]) => !path.startsWith('.') && !path.startsWith('_') && !path.startsWith('/')) // ignore dot files and __MACOSX\n  let done = 0\n  const upStatus = () => {\n    progressReporter.reportProgress('copy-files-resourcepack', done / allFilesArr.length)\n  }\n  const createdDirs = new Set<string>()\n  const copyTasks = [] as Array<Promise<void>>\n  console.time('resourcePackCopy')\n  await Promise.all(allFilesArr.map(async ([path, file]) => {\n    const writePath = join(installPath, path)\n    if (path.endsWith('/')) return\n    const dir = dirname(writePath)\n    if (!createdDirs.has(dir)) {\n      await mkdirRecursive(dir)\n      createdDirs.add(dir)\n    }\n    if (copyTasks.length > 100) {\n      await Promise.all(copyTasks)\n      copyTasks.length = 0\n    }\n    const promise = fs.promises.writeFile(writePath, Buffer.from(await file.async('arraybuffer')) as any)\n    copyTasks.push(promise)\n    await promise\n    done++\n    upStatus()\n  }))\n  console.timeEnd('resourcePackCopy')\n  await completeResourcepackPackInstall(displayName, name, isServer, progressReporter)\n  console.log('resource pack install done')\n  console.timeEnd('processResourcePack')\n}\n\n// or enablement\nexport const completeResourcepackPackInstall = async (displayName: string | undefined, name: string, isServer: boolean, progressReporter: ProgressReporter) => {\n  const basePath = isServer ? '/resourcepack/' : resourcepackPackBasePath + name\n  if (displayName) {\n    await fs.promises.writeFile(join(basePath, 'name.txt'), displayName, 'utf8')\n  }\n\n  await updateTextures(progressReporter)\n  if (currentErrors.length > 0) {\n    showNotification(`Resource pack installed & enabled with ${currentErrors.length} errors`)\n    console.error('Resource pack installed & enabled with errors:', currentErrors)\n  } else {\n    showNotification('Resource pack installed & enabled')\n  }\n  await updateTexturePackInstalledState()\n  if (isServer) {\n    gameAdditionalState.usingServerResourcePack = true\n  } else {\n    options.enabledResourcepack = name\n  }\n\n  progressReporter.end()\n}\n\nconst existsAsync = async (path) => {\n  try {\n    await fs.promises.stat(path)\n    return true\n  } catch (err) {\n    return false\n  }\n}\n\nconst arrEqual = (a: any[], b: any[]) => a.length === b.length && a.every((x) => b.includes(x))\n\nconst getSizeFromImage = async (filePath: string) => {\n  const probeImg = new Image()\n  const file = await fs.promises.readFile(filePath, 'base64')\n  probeImg.src = `data:image/png;base64,${file}`\n  await new Promise((resolve, reject) => {\n    probeImg.addEventListener('load', resolve)\n  })\n  if (probeImg.width !== probeImg.height) throw new Error(`Probe texture ${filePath} is not square`)\n  return probeImg.width\n}\n\nexport const getActiveResourcepackBasePath = async () => {\n  if (await existsAsync('/resourcepack/pack.mcmeta')) {\n    return '/resourcepack'\n  }\n  const { enabledResourcepack } = options\n  // const enabledResourcepack = 'default'\n  if (!enabledResourcepack) {\n    return null\n  }\n  if (await existsAsync(`/data/resourcePacks/${enabledResourcepack}/pack.mcmeta`)) {\n    return `/data/resourcePacks/${enabledResourcepack}`\n  }\n  return null\n}\n\nconst isDirSafe = async (filePath: string) => {\n  try {\n    return await fs.promises.stat(filePath).then(stat => stat.isDirectory()).catch(() => false)\n  } catch (err) {\n    return false\n  }\n}\n\nconst getFilesMapFromDir = async (dir: string) => {\n  const files = [] as string[]\n  const scan = async (dir) => {\n    const dirFiles = await fs.promises.readdir(dir)\n    for (const file of dirFiles) {\n      const filePath = join(dir, file)\n      if (await isDirSafe(filePath)) {\n        await scan(filePath)\n      } else {\n        files.push(filePath)\n      }\n    }\n  }\n  await scan(dir)\n  return files\n}\n\nlet currentErrors = [] as string[]\n\nexport const getResourcepackTiles = async (type: 'blocks' | 'items' | 'armor', existingTextures: string[], progressReporter: ProgressReporter) => {\n  const basePath = await getActiveResourcepackBasePath()\n  if (!basePath) return\n  let firstTextureSize: number | undefined\n  const namespaces = await fs.promises.readdir(join(basePath, 'assets'))\n\n  const textures = {} as Record<string, HTMLImageElement>\n  let path\n  switch (type) {\n    case 'blocks':\n      path = 'block'\n      break\n    case 'items':\n      path = 'item'\n      break\n    case 'armor':\n      path = 'models/armor'\n      break\n    default:\n      throw new Error('Invalid type')\n  }\n  for (const namespace of namespaces) {\n    const texturesCommonBasePath = `${basePath}/assets/${namespace}/textures`\n    const isMinecraftNamespace = namespace === 'minecraft'\n    let texturesBasePath = `${texturesCommonBasePath}/${path}`\n    const texturesBasePathAlt = `${texturesCommonBasePath}/${path}s`\n    if (!(await existsAsync(texturesBasePath))) {\n      if (await existsAsync(texturesBasePathAlt)) {\n        texturesBasePath = texturesBasePathAlt\n      }\n    }\n    const allInterestedPaths = new Set(\n      existingTextures\n        .filter(tex => (isMinecraftNamespace && !tex.includes(':')) || (tex.includes(':') && tex.split(':')[0] === namespace))\n        .map(tex => {\n          tex = tex.split(':')[1] ?? tex\n          if (tex.includes('/')) {\n            return join(`${texturesCommonBasePath}/${tex}`)\n          }\n          return join(texturesBasePath, tex)\n        })\n    )\n    // add all files from texturesCommonBasePath\n    // if (!isMinecraftNamespace) {\n    //   const commonBasePathFiles = await getFilesMapFromDir(texturesCommonBasePath)\n    //   for (const file of commonBasePathFiles) {\n    //     allInterestedPaths.add(file)\n    //   }\n    // }\n    const allInterestedPathsPerDir = new Map<string, string[]>()\n    for (const path of allInterestedPaths) {\n      const dir = dirname(path)\n      if (!allInterestedPathsPerDir.has(dir)) {\n        allInterestedPathsPerDir.set(dir, [])\n      }\n      const file = basename(path)\n      allInterestedPathsPerDir.get(dir)!.push(file)\n    }\n\n    const allInterestedImages = [] as string[]\n    for (const [dir, paths] of allInterestedPathsPerDir) {\n      if (!await existsAsync(dir)) {\n        continue\n      }\n      const dirImages = (await fs.promises.readdir(dir)).filter(f => f.endsWith('.png')).map(f => f.replace('.png', ''))\n      allInterestedImages.push(...dirImages.filter(image => paths.includes(image)).map(image => `${dir}/${image}`))\n    }\n\n    if (allInterestedImages.length === 0) {\n      continue\n    }\n\n    const firstImageFile = allInterestedImages[0]!\n    try {\n      firstTextureSize ??= await getSizeFromImage(`${firstImageFile}.png`)\n    } catch (err) { }\n    // eslint-disable-next-line @typescript-eslint/no-loop-func\n    const newTextures = Object.fromEntries(await Promise.all(allInterestedImages.map(async (image) => {\n      try {\n        const imagePath = `${image}.png`\n        const contents = await fs.promises.readFile(imagePath, 'base64')\n        const img = await getLoadedImage(`data:image/png;base64,${contents}`)\n        const imageRelative = image.replace(`${texturesBasePath}/`, '').replace(`${texturesCommonBasePath}/`, '')\n        const textureName = isMinecraftNamespace ? imageRelative : `${namespace}:${imageRelative}`\n\n        return [textureName, img]\n      } catch (err) {\n        const imageRelative = image.replace(`${texturesBasePath}/`, '').replace(`${texturesCommonBasePath}/`, '')\n        const textureName = isMinecraftNamespace ? imageRelative : `${namespace}:${imageRelative}`\n        currentErrors.push(`[${imageRelative}] ${err.message}`)\n        return [textureName, undefined]\n      }\n    })))\n    Object.assign(textures, Object.fromEntries(Object.entries(newTextures).filter(([, img]) => img !== undefined)))\n  }\n  return {\n    firstTextureSize,\n    textures,\n  }\n}\n\nconst prepareBlockstatesAndModels = async (progressReporter: ProgressReporter) => {\n  const resources = appViewer.resourcesManager.currentResources!\n  resources.customBlockStates = {}\n  resources.customModels = {}\n  resources.customItemModelNames = {}\n  const usedBlockTextures = new Set<string>()\n  const usedItemTextures = new Set<string>()\n  const basePath = await getActiveResourcepackBasePath()\n  if (!basePath) return\n  progressReporter.beginStage('read-resource-pack-blockstates-and-models', 'Reading resource pack blockstates and models')\n\n  const readModelData = async (path: string, type: 'models' | 'blockstates', namespaceDir: string) => {\n    if (!(await existsAsync(path))) return\n    const files = await fs.promises.readdir(path)\n    const jsons = {} as Record<string, any>\n    await Promise.all(files.map(async (file) => {\n      const filePath = `${path}/${file}`\n      if (file.endsWith('.json')) {\n        const contents = await fs.promises.readFile(filePath, 'utf8')\n        let name = file.replace('.json', '')\n        const isBlock = path.endsWith('block')\n        if (type === 'models') {\n          name = `${isBlock ? 'block' : 'item'}/${name}`\n        }\n        const parsed = JSON.parse(contents)\n        if (namespaceDir === 'minecraft') {\n          jsons[name] = parsed\n        }\n        jsons[`${namespaceDir}:${name}`] = parsed\n        if (type === 'models') {\n          for (let texturePath of Object.values(parsed.textures ?? {})) {\n            if (typeof texturePath !== 'string') continue\n            if (texturePath.startsWith('#')) continue\n            if (!texturePath.includes(':')) texturePath = `minecraft:${texturePath}`\n            if (isBlock) {\n              usedBlockTextures.add(texturePath as string)\n            } else {\n              usedItemTextures.add(texturePath as string)\n            }\n          }\n        }\n      }\n    }))\n    return jsons\n  }\n\n  const readCustomModelData = async (path: string, namespaceDir: string) => {\n    if (!(await existsAsync(path))) return\n    const files = await fs.promises.readdir(path)\n    const customModelData = {} as Record<string, string[]>\n    await Promise.all(files.map(async (file) => {\n      const filePath = `${path}/${file}`\n      if (file.endsWith('.json')) {\n        const contents = await fs.promises.readFile(filePath, 'utf8')\n        const name = file.replace('.json', '')\n        const parsed = JSON.parse(contents)\n        const entries: string[] = []\n        if (path.endsWith('/items')) { // 1.21.4+\n          // TODO: Support other properties too\n          if (parsed.model?.type === 'range_dispatch' && parsed.model?.property === 'custom_model_data') {\n            for (const entry of parsed.model?.entries ?? []) {\n              const threshold = entry.threshold ?? 0\n              let modelPath = entry.model?.model\n              if (typeof modelPath !== 'string') continue\n              if (!modelPath.includes(':')) modelPath = `minecraft:${modelPath}`\n              entries[threshold] = modelPath\n            }\n          }\n        } else if (path.endsWith('/models/item')) { // pre 1.21.4\n          for (const entry of parsed.overrides ?? []) {\n            if (entry.predicate?.custom_model_data && entry.model) {\n              let modelPath = entry.model\n              if (typeof modelPath !== 'string') continue\n              if (!modelPath.includes(':')) modelPath = `minecraft:${modelPath}`\n              entries[entry.predicate.custom_model_data] = modelPath\n            }\n          }\n        }\n        if (entries.length > 0) {\n          customModelData[`${namespaceDir}:${name}`] = entries\n        }\n      }\n    }))\n    return customModelData\n  }\n\n  const readData = async (namespaceDir: string) => {\n    const blockstatesPath = `${basePath}/assets/${namespaceDir}/blockstates`\n    const blockModelsPath = `${basePath}/assets/${namespaceDir}/models/block`\n    const itemsPath = `${basePath}/assets/${namespaceDir}/items`\n    const itemModelsPath = `${basePath}/assets/${namespaceDir}/models/item`\n\n    Object.assign(resources.customBlockStates!, await readModelData(blockstatesPath, 'blockstates', namespaceDir))\n    Object.assign(resources.customModels!, await readModelData(blockModelsPath, 'models', namespaceDir))\n    Object.assign(resources.customModels!, await readModelData(itemModelsPath, 'models', namespaceDir))\n\n    for (const [key, value] of Object.entries(await readCustomModelData(itemsPath, namespaceDir) ?? {})) {\n      resources.customItemModelNames[key] = value\n    }\n    for (const [key, value] of Object.entries(await readCustomModelData(itemModelsPath, namespaceDir) ?? {})) {\n      resources.customItemModelNames[key] = value\n    }\n  }\n\n  try {\n    const assetsDirs = await fs.promises.readdir(join(basePath, 'assets'))\n    for (const assetsDir of assetsDirs) {\n      await readData(assetsDir)\n    }\n  } catch (err) {\n    console.error('Failed to read some of resource pack blockstates and models', err)\n    currentErrors.push('Failed to read blockstates/models')\n    resources.customBlockStates = undefined\n    resources.customModels = undefined\n    resources.customItemModelNames = {}\n  }\n  return {\n    usedBlockTextures,\n    usedItemTextures\n  }\n}\n\nconst downloadAndUseResourcePack = async (url: string, progressReporter: ProgressReporter): Promise<void> => {\n  progressReporter.beginStage('install-resource-pack', 'Installing server resource pack')\n  try {\n    resourcePackState.isServerInstalling = true\n    resourcePackState.isServerDownloading = true\n    progressReporter.beginStage('download-resource-pack', 'Downloading server resource pack')\n    console.log('Downloading server resource pack', url)\n    console.time('downloadServerResourcePack')\n    const response = await fetch(url).catch((err) => {\n      console.error(err)\n      if (err.message === 'Failed to fetch') {\n        err.message = `Check internet connection and ensure server on ${url} support CORS which is not required for the vanilla client, but is required for the web client.`\n      }\n      progressReporter.error('Failed to download resource pack: ' + err.message)\n    })\n    console.timeEnd('downloadServerResourcePack')\n    if (!response) return\n\n    const contentLength = response.headers.get('Content-Length')\n    const total = contentLength ? parseInt(contentLength, 10) : 0\n    let loaded = 0\n\n    const reader = response.body!.getReader()\n    const chunks: Uint8Array[] = []\n\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      const { done, value } = await reader.read()\n      if (done) break\n\n      chunks.push(value)\n      loaded += value.length\n\n      if (total) {\n        const progress = Math.round((loaded / total) * 100)\n        progressReporter.reportProgress('download-resource-pack', progress / 100)\n      }\n    }\n\n    resourcePackState.isServerDownloading = false\n    const resourcePackData = await new Blob(chunks).arrayBuffer()\n    progressReporter.endStage('install-resource-pack')\n    await installResourcepackPack(resourcePackData, progressReporter, undefined, undefined, true).catch((err) => {\n      console.error(err)\n      showNotification('Failed to install resource pack: ' + err.message)\n    })\n  } catch (err) {\n    console.error('Could not install resource pack', err)\n    progressReporter.error('Could not install resource pack: ' + err.message)\n  } finally {\n    progressReporter.endStage('download-resource-pack')\n    resourcePackState.isServerInstalling = false\n    resourcePackState.isServerDownloading = false\n  }\n}\n\nexport const onAppLoad = () => {\n  customEvents.on('mineflayerBotCreated', () => {\n    // todo also handle resourcePack\n    const handleResourcePackRequest = async (packet) => {\n      const start = Date.now()\n      console.log('Received resource pack request', packet)\n      const promptMessagePacket = ('promptMessage' in packet && packet.promptMessage) ? packet.promptMessage : undefined\n      const promptMessageText = promptMessagePacket ? '' : 'Do you want to use server resource pack?'\n      // TODO!\n      const hash = 'hash' in packet ? packet.hash : '-'\n      const forced = 'forced' in packet ? packet.forced : false\n      const choice = options.serverResourcePacks === 'never'\n        ? false\n        : options.serverResourcePacks === 'always'\n          ? true\n          : await showOptionsModal(promptMessageText, ['Download & Install (recommended)', 'Pretend Installed (not recommended)'], {\n            cancel: !forced,\n            minecraftJsonMessage: promptMessagePacket,\n          })\n      if (Date.now() - start < 700) {\n        void new Promise(resolve => {\n          // wait for state protocol switch\n          setTimeout(resolve, 700)\n        }).then(() => {\n          if (choice === false || choice === 'Pretend Installed (not recommended)' || choice === 'Download & Install (recommended)' || choice) {\n            console.log('accepting resource pack')\n            bot.acceptResourcePack()\n          } else {\n            bot.denyResourcePack()\n          }\n        })\n      }\n      if (choice === true || choice === 'Download & Install (recommended)') {\n        await downloadAndUseResourcePack(packet.url, createFullScreenProgressReporter()).catch((err) => {\n          console.error(err)\n          showNotification('Failed to download resource pack: ' + err.message)\n        })\n      }\n    }\n    bot._client.on('resource_pack_send', handleResourcePackRequest)\n    bot._client.on('add_resource_pack' as any, handleResourcePackRequest)\n  })\n\n  subscribe(resourcePackState, () => {\n    if (!resourcePackState.resourcePackInstalled) return\n    void updateAllReplacableTextures()\n  })\n}\n\nconst updateAllReplacableTextures = async () => {\n  const basePath = await getActiveResourcepackBasePath()\n  const setCustomCss = async (path: string | null, varName: string, repeat = 1) => {\n    if (path && await existsAsync(path)) {\n      const contents = await fs.promises.readFile(path, 'base64')\n      const dataUrl = `data:image/png;base64,${contents}`\n      document.body.style.setProperty(varName, repeatArr(`url(${dataUrl})`, repeat).join(', '))\n    } else {\n      document.body.style.setProperty(varName, '')\n    }\n  }\n  const setCustomPicture = async (key: string, path: string) => {\n    let contents = resourcesContentOriginal[key]\n    if (await existsAsync(path)) {\n      const file = await fs.promises.readFile(path, 'base64')\n      const dataUrl = `data:image/png;base64,${file}`\n      contents = dataUrl\n    }\n    appReplacableResources[key].content = contents\n  }\n  const vars = Object.entries(appReplacableResources).filter(([, x]) => x.cssVar)\n  for (const [key, { cssVar, cssVarRepeat, resourcePackPath }] of vars) {\n    const resPath = `${basePath}/assets/${resourcePackPath}`\n    if (cssVar) {\n\n      await setCustomCss(resPath, cssVar, cssVarRepeat ?? 1)\n    } else {\n\n      await setCustomPicture(key, resPath)\n    }\n  }\n}\n\nconst repeatArr = (arr, i) => Array.from({ length: i }, () => arr)\n\nconst updateTextures = async (progressReporter = createConsoleLogProgressReporter(), skipResourcesLoad = false) => {\n  if (!appViewer.resourcesManager.currentResources) {\n    appViewer.resourcesManager.resetResources()\n  }\n  const resources = appViewer.resourcesManager.currentResources!\n  currentErrors = []\n  const origBlocksFiles = Object.keys(appViewer.resourcesManager.sourceBlocksAtlases.latest.textures)\n  const origItemsFiles = Object.keys(appViewer.resourcesManager.sourceItemsAtlases.latest.textures)\n  const origArmorFiles = Object.keys(armorTextures)\n  const { usedBlockTextures, usedItemTextures } = await prepareBlockstatesAndModels(progressReporter) ?? {}\n  progressReporter.beginStage(`generate-atlas-texture-blocks`, `Generating atlas textures`)\n  const [\n    blocksData,\n    itemsData,\n    armorData\n  ] = await Promise.all([\n    getResourcepackTiles('blocks', [...origBlocksFiles, ...usedBlockTextures ?? []], progressReporter),\n    getResourcepackTiles('items', [...origItemsFiles, ...usedItemTextures ?? []], progressReporter),\n    getResourcepackTiles('armor', origArmorFiles, progressReporter),\n    updateAllReplacableTextures()\n  ])\n  resources.customTextures = {}\n\n  if (blocksData) {\n    resources.customTextures.blocks = {\n      tileSize: blocksData.firstTextureSize,\n      textures: blocksData.textures\n    }\n  }\n  if (itemsData) {\n    resources.customTextures.items = {\n      tileSize: itemsData.firstTextureSize,\n      textures: itemsData.textures\n    }\n  }\n  if (armorData) {\n    resources.customTextures.armor = {\n      tileSize: armorData.firstTextureSize,\n      textures: armorData.textures\n    }\n  }\n\n  if (!skipResourcesLoad) {\n    await appViewer.resourcesManager.updateAssetsData({ })\n  }\n}\n\nexport const resourcepackReload = async (skipResourcesLoad = false) => {\n  await updateTextures(undefined, skipResourcesLoad)\n}\n\nexport const copyServerResourcePackToRegular = async (name = 'default') => {\n  // Check if server resource pack exists\n  if (!(await existsAsync('/resourcepack/pack.mcmeta'))) {\n    throw new Error('No server resource pack is currently installed')\n  }\n\n  // Get display name from server resource pack if available\n  let displayName\n  try {\n    displayName = await fs.promises.readFile('/resourcepack/name.txt', 'utf8')\n  } catch {\n    displayName = 'Server Resource Pack'\n  }\n\n  // Copy all files from server resource pack to regular location\n  const destPath = resourcepackPackBasePath + name\n  await mkdirRecursive(destPath)\n\n  const reporter = createFullScreenProgressReporter()\n  reporter.setMessage('Copying server resource pack to user location')\n  await copyFilesAsyncWithProgress('/resourcepack', destPath, true, ' (server -> user)')\n\n  // Complete the installation\n  await completeResourcepackPackInstall(displayName, name, false, reporter)\n  showNotification('Server resource pack copied to user location')\n\n  reporter.end()\n}\n","import { proxy, useSnapshot } from 'valtio'\nimport { subscribeKey } from 'valtio/utils'\nimport { useMedia } from 'react-use'\nimport { options, watchValue } from './optionsStorage'\nimport { useScale } from './react/UIProvider'\n\nexport const currentScaling = proxy({\n  scale: 1,\n})\nwindow.currentScaling = currentScaling\n\nconst setScale = () => {\n  const scaleValues = [\n    { maxWidth: 980, maxHeight: null, scale: 2 },\n    { maxWidth: null, maxHeight: 390, scale: 1.5 }, // todo allow to set the scaling at 360-400 (dynamic scaling setting)\n    { maxWidth: 620, maxHeight: null, scale: 1 },\n\n    { maxWidth: 620, minHeight: 240, scale: 1.4 },\n  ]\n\n  const { innerWidth, innerHeight } = window\n\n  let result = options.guiScale\n  for (const { maxWidth, maxHeight, scale, minHeight } of scaleValues) {\n    if ((!maxWidth || innerWidth <= maxWidth) && (!maxHeight || innerHeight <= maxHeight) && (!minHeight || innerHeight >= minHeight)) {\n      result = scale\n    }\n  }\n\n  currentScaling.scale = result\n}\n\n\nsetScale()\nsubscribeKey(options, 'guiScale', setScale)\nwatchValue(currentScaling, (c) => {\n  document.documentElement.style.setProperty('--guiScale', String(c.scale))\n  document.documentElement.style.setProperty('--scale', String(c.scale))\n})\nwindow.addEventListener('resize', setScale)\n\nexport const useAppScale = () => {\n  return useSnapshot(currentScaling).scale\n}\n","//@ts-check\nexport * from 'crypto-browserify'\nexport function createPublicKey() { }\n\n// CUSTOM SIGN ASYNC IMPLEMENTATION FOR BROWSERS\n\nexport async function sign(signatureAlgorithm, data, privateKeyPem) {\n  if (signatureAlgorithm !== 'RSA-SHA256') throw new Error(`Unsupported signature algorithm ${signatureAlgorithm}`)\n  if (typeof privateKeyPem !== 'string') throw new Error(`This implementation only supports strings as private keys`)\n  const privateKeyBuffer = pemToArrayBuffer(privateKeyPem)\n  const privateKey = await crypto.subtle.importKey(\n    'pkcs8', // Chrome has difficulties with pkcs1 and the recommended format is pkcs8\n    privateKeyBuffer,\n    {\n      name: 'RSASSA-PKCS1-v1_5',\n      hash: { name: 'SHA-256' },\n    },\n    true,\n    ['sign']\n  )\n  const signature = await crypto.subtle.sign(\n    {\n      name: 'RSASSA-PKCS1-v1_5',\n      hash: { name: 'SHA-256' }, // SHA-256 hash function\n    },\n    privateKey,\n    data\n  )\n  return signature\n}\n\nfunction pemToArrayBuffer(pem) {\n  pem = pem.trim()\n  const pemHeader = '-----BEGIN RSA PRIVATE KEY-----'\n  const pemFooter = '-----END RSA PRIVATE KEY-----'\n  const pemContents = pem.slice(pemHeader.length, pem.length - pemFooter.length).trim()\n  const binaryDerString = atob(pemContents.replaceAll(/\\s/g, ''))\n  const binaryDer = new Uint8Array(binaryDerString.length)\n  for (let i = 0; i < binaryDerString.length; i++) {\n    //@ts-expect-error\n    binaryDer[i] = binaryDerString.codePointAt(i)\n  }\n  return binaryDer.buffer\n}\n","/* global XMLHttpRequest */\n\n// Custom DNS resolver made by SiebeDW. Powered by google dns.\n// Supported: SRV (not all errors support)\nmodule.exports.resolveSrv = function (hostname, _callback) {\n  globalThis.setLoadingMessage?.(`Getting SRV using Google DNS`)\n\n  const callback = (err, result) => {\n    globalThis.setLoadingMessage?.(undefined)\n    _callback(err, result)\n  }\n\n  const Http = new XMLHttpRequest()\n  const url = `https://dns.google.com/resolve?name=${hostname}&type=SRV`\n  Http.open('GET', url)\n  Http.responseType = 'json'\n  Http.send()\n\n  const minecraftServerHostname = hostname.startsWith('_minecraft._tcp.') ? hostname.slice('_minecraft._tcp.'.length) : null\n  if (minecraftServerHostname) {\n    Http.onerror = async function () {\n      try {\n        if (!globalThis.resolveDnsFallback) return\n        globalThis.setLoadingMessage?.('Resolving SRV using fallback')\n        const result = await globalThis.resolveDnsFallback(minecraftServerHostname)\n        callback(null, result ? [{\n          priority: 0,\n          weight: 0,\n          port: result.port,\n          name: result.host\n        }] : [])\n      } catch (err) {\n        callback(err)\n      }\n    }\n  }\n\n  Http.onload = function () {\n    const { response } = Http\n    if (response.Status === 3) {\n      const err = new Error('querySrv ENOTFOUND')\n      err.code = 'ENOTFOUND'\n      callback(err)\n      return\n    }\n    if (!response.Answer || response.Answer.length < 1) {\n      const err = new Error('querySrv ENODATA')\n      err.code = 'ENODATA'\n      callback(err)\n      return\n    }\n    const willreturn = []\n    for (const object of response.Answer) {\n      const data = object.data.split(' ')\n      if (data[3] === undefined || data[2] === undefined) continue\n      willreturn.push({\n        priority: data[0],\n        weight: data[1],\n        port: data[2],\n        name: data[3]\n      })\n    }\n    console.log(willreturn)\n    callback(null, willreturn)\n  }\n}\n","// eslint-disable-next-line @typescript-eslint/no-useless-empty-export\nexport { }\nexport default {}\n","const BrowserFS = require('browserfs')\n\nglobalThis.fs ??= BrowserFS.BFSRequire('fs')\nglobalThis.fs.promises = new Proxy({}, {\n  get(target, p) {\n    return (...args) => {\n      return globalThis.promises[p](...args)\n    }\n  }\n})\n\nmodule.exports = globalThis.fs\n","import { versionToNumber } from 'renderer/viewer/common/utils'\nimport { restoreMinecraftData } from '../optimizeJson'\n// import minecraftInitialDataJson from '../../generated/minecraft-initial-data.json'\nimport { toMajorVersion } from '../utils'\nimport { importLargeData } from '../../generated/large-data-aliases'\n\nconst customResolver = () => {\n  const resolver = Promise.withResolvers()\n  let resolvedData\n  return {\n    ...resolver,\n    get resolvedData () {\n      return resolvedData\n    },\n    resolve (data) {\n      resolver.resolve(data)\n      resolvedData = data\n    }\n  }\n}\n\nlet dataStatus = 'not-called'\n\nconst optimizedDataResolver = customResolver()\nwindow._MC_DATA_RESOLVER = optimizedDataResolver\nwindow._LOAD_MC_DATA = async () => {\n  if (optimizedDataResolver.resolvedData) return\n  dataStatus = 'loading'\n  try {\n    optimizedDataResolver.resolve(await importLargeData('mcData'))\n    dataStatus = 'ready'\n  } catch (e) {\n    dataStatus = 'error'\n    throw e\n  }\n}\n\n// 30 seconds\nconst cacheTtl = 30 * 1000\nconst cache = new Map<string, any>()\nconst cacheTime = new Map<string, number>()\nconst possiblyGetFromCache = (version: string) => {\n  // if (minecraftInitialDataJson[version] && !optimizedDataResolver.resolvedData) {\n  //   return minecraftInitialDataJson[version]\n  // }\n  if (cache.has(version)) {\n    return cache.get(version)\n  }\n  const inner = () => {\n    if (!optimizedDataResolver.resolvedData) {\n      throw new Error(`Minecraft data are not ready yet. Ensure you await window._LOAD_MC_DATA() before using it. Status: ${dataStatus}`)\n    }\n    const dataTypes = Object.keys(optimizedDataResolver.resolvedData)\n    const allRestored = {}\n    for (const dataType of dataTypes) {\n      if (dataType === 'blockCollisionShapes' && versionToNumber(version) >= versionToNumber('1.13')) {\n        const shapes = window.globalGetCollisionShapes?.(version)\n        if (shapes) {\n          allRestored[dataType] = shapes\n          continue\n        }\n      }\n\n      const data = optimizedDataResolver.resolvedData[dataType]\n      if (data.__IS_OPTIMIZED__) {\n        allRestored[dataType] = restoreMinecraftData(optimizedDataResolver.resolvedData, dataType, version)\n      } else {\n        allRestored[dataType] = data[version] ?? data[toMajorVersion(version)]\n      }\n    }\n    return allRestored\n  }\n  const data = inner()\n  cache.set(version, data)\n  cacheTime.set(version, Date.now())\n  return data\n}\nwindow.allLoadedMcData = new Proxy({}, {\n  get (t, version: string) {\n    // special properties like $typeof\n    if (version.includes('$')) return\n    // todo enumerate all props\n    return new Proxy({}, {\n      get (target, prop) {\n        return possiblyGetFromCache(version)[prop]\n      },\n    })\n  }\n})\n\nsetInterval(() => {\n  const now = Date.now()\n  for (const [version, time] of cacheTime) {\n    if (now - time > cacheTtl) {\n      cache.delete(version)\n      cacheTime.delete(version)\n    }\n  }\n}, 1000)\n\nexport const pc = window.allLoadedMcData\nexport default { pc }\n","import { versionToNumber } from 'renderer/viewer/common/utils'\n\ntype IdMap = Record<string, number>\n\ntype DiffData = {\n  removed: number[],\n  changed: any[],\n  removedProps: Array<[number, number[]]>,\n  added\n}\n\ntype SourceData = {\n  keys: IdMap,\n  properties: IdMap\n  source: Record<number, any>\n  diffs: Record<string, DiffData>\n  arrKey?\n  __IS_OPTIMIZED__: true\n}\n\nfunction getRecipesProcessorProcessRecipes (items, blocks) {\n  return (current) => {\n    // can require the same multiple times per different versions\n    const itemsIdsMap = Object.fromEntries(items.map((b) => [b.name, b.id]))\n    const blocksIdsMap = Object.fromEntries(blocks.map((b) => [b.name, b.id]))\n    const keys = Object.keys(current)\n    for (const key of keys) {\n      if (key === '_proccessed') {\n        delete current[key]\n        continue\n      }\n      const mapId = (id) => {\n        if (typeof id !== 'string' && typeof id !== 'number') throw new Error('Incorrect type')\n        const mapped = itemsIdsMap[id] ?? blocksIdsMap[id]\n        if (!mapped) {\n          throw new Error(`No item/block name with id ${id}`)\n        }\n        return mapped\n      }\n      const processRecipe = (obj) => {\n        // if (!obj) return\n        // if (Array.isArray(obj)) {\n        //   obj.forEach((id, i) => {\n        //     obj[i] = mapId(obj[id])\n        //   })\n        // } else if (obj && typeof obj === 'object') {\n        //   if (!'count metadata id'.split(' ').every(x => x in obj)) {\n        //     throw new Error(`process error: Unknown deep object pattern: ${JSON.stringify(obj)}`)\n        //   }\n        //   obj.id = mapId(obj.id)\n        // } else {\n        //   throw new Error('unknown type')\n        // }\n        const parseRecipeItem = (item) => {\n          if (typeof item === 'number' || typeof item === 'string') return mapId(item)\n          if (Array.isArray(item)) return [mapId(item), ...item.slice(1)]\n          if (!item) {\n            return item\n          }\n          if ('id' in item) {\n            item.id = mapId(item.id)\n            return item\n          }\n          throw new Error('unhandled')\n        }\n        const maybeProccessShape = (shape) => {\n          if (!shape) return\n          for (const shapeRow of shape) {\n            for (const [i, item] of shapeRow.entries()) {\n              shapeRow[i] = parseRecipeItem(item)\n            }\n          }\n        }\n        if (obj.result) obj.result = parseRecipeItem(obj.result)\n        maybeProccessShape(obj.inShape)\n        maybeProccessShape(obj.outShape)\n        if (obj.ingredients) {\n          for (const [i, ingredient] of obj.ingredients.entries()) {\n            obj.ingredients[i] = parseRecipeItem(ingredient)\n          }\n        }\n      }\n      // eslint-disable-next-line no-useless-catch\n      try {\n        const name = mapId(key)\n        for (const [i, recipe] of current[key].entries()) {\n          // eslint-disable-next-line no-useless-catch\n          try {\n            processRecipe(recipe)\n          } catch (err) {\n            // console.warn(`${version} [warn] Removing incorrect recipe: ${err}`)\n            // delete current[i]\n            throw err\n          }\n        }\n        current[name] = current[key]\n      } catch (err) {\n        // console.warn(`${version} [warn] Removing incorrect recipe: ${err}`)\n        throw err\n      }\n      delete current[key]\n    }\n  }\n}\n\nexport const restoreMinecraftData = (allVersionData: any, type: string, version: string) => {\n  let restorer\n  if (type === 'recipes') {\n    restorer = getRecipesProcessorProcessRecipes(\n      JsonOptimizer.restoreData(allVersionData.items, version, undefined),\n      JsonOptimizer.restoreData(allVersionData.blocks, version, undefined),\n    )\n  }\n  return JsonOptimizer.restoreData(allVersionData[type], version, restorer)\n}\n\nexport default class JsonOptimizer {\n  keys = {} as IdMap\n  idToKey = {} as Record<number, string>\n  properties = {} as IdMap\n  source = {}\n  previousKeys = [] as number[]\n  previousValues = {} as Record<number, any>\n  diffs = {} as Record<string, DiffData>\n\n  constructor (public arrKey?: string, public ignoreChanges = false, public ignoreRemoved = false) { }\n\n  export () {\n    const { keys, properties, source, arrKey, diffs } = this\n    return {\n      keys,\n      properties,\n      source,\n      arrKey,\n      diffs,\n      '__IS_OPTIMIZED__': true\n    } satisfies SourceData\n  }\n\n  diffObj (diffing): DiffData {\n    const removed = [] as number[]\n    const changed = [] as any[]\n    const removedProps = [] as any[]\n    const { arrKey, ignoreChanges, ignoreRemoved } = this\n    const added = [] as number[]\n\n    if (!diffing || typeof diffing !== 'object') throw new Error('diffing data is not object')\n    if (Array.isArray(diffing) && !arrKey) throw new Error('arrKey is required for arrays')\n    const diffingObj = Array.isArray(diffing) ? Object.fromEntries(diffing.map(x => {\n      const key = JsonOptimizer.getByArrKey(x, arrKey!)\n      return [key, x]\n    })) : diffing\n\n    const possiblyNewKeys = Object.keys(diffingObj)\n    this.keys ??= {}\n    this.properties ??= {}\n    let lastRootKeyId = Object.values(this.keys).length\n    let lastItemKeyId = Object.values(this.properties).length\n    for (const key of possiblyNewKeys) {\n      this.keys[key] ??= lastRootKeyId++\n      this.idToKey[this.keys[key]] = key\n    }\n    const DEBUG = false\n\n    const addDiff = (key, newVal, prevVal) => {\n      const valueMapped = [] as any[]\n      const isItemObj = typeof newVal === 'object' && newVal\n      const keyId = this.keys[key]\n      if (isItemObj) {\n        const removedPropsLocal = [] as any[]\n        for (const [prop, val] of Object.entries(newVal)) {\n          // mc-data: why push only changed props? eg for blocks only stateId are different between all versions so we skip a lot of duplicated data like block props\n          if (!isEqualStructured(newVal[prop], prevVal[prop])) {\n            let keyMapped = this.properties[prop]\n            if (keyMapped === undefined) {\n              this.properties[prop] = lastItemKeyId++\n              keyMapped = this.properties[prop]\n            }\n            valueMapped.push(DEBUG ? prop : keyMapped, newVal[prop])\n          }\n        }\n        // also add undefined for removed props\n        for (const prop of Object.keys(prevVal)) {\n          if (prop in newVal) continue\n          let keyMapped = this.properties[prop]\n          if (keyMapped === undefined) {\n            this.properties[prop] = lastItemKeyId++\n            keyMapped = this.properties[prop]\n          }\n          removedPropsLocal.push(DEBUG ? prop : keyMapped)\n        }\n        removedProps.push([keyId, removedPropsLocal])\n      }\n      changed.push(DEBUG ? key : keyId, isItemObj ? valueMapped : newVal)\n    }\n    for (const [id, sourceVal] of Object.entries(this.source)) {\n      const key = this.idToKey[id]\n      const diffVal = diffingObj[key]\n      if (!ignoreChanges && diffVal !== undefined) {\n        this.previousValues[id] ??= this.source[id]\n        const prevVal = this.previousValues[id]\n        if (!isEqualStructured(prevVal, diffVal)) {\n          addDiff(key, diffVal, prevVal)\n        }\n        this.previousValues[id] = diffVal\n      }\n    }\n    for (const [key, val] of Object.entries(diffingObj)) {\n      const id = this.keys[key]\n      if (!this.source[id]) {\n        this.source[id] = val\n      }\n      added.push(id)\n    }\n\n    for (const previousKey of this.previousKeys) {\n      const key = this.idToKey[previousKey]\n      if (diffingObj[key] === undefined && !ignoreRemoved) {\n        removed.push(previousKey)\n      }\n    }\n\n    for (const toRemove of removed) {\n      this.previousKeys.splice(this.previousKeys.indexOf(toRemove), 1)\n    }\n\n    for (const previousKey of this.previousKeys) {\n      const index = added.indexOf(previousKey)\n      if (index === -1) continue\n      added.splice(index, 1)\n    }\n\n    this.previousKeys = [...this.previousKeys, ...added]\n\n    return {\n      removed,\n      changed,\n      added,\n      removedProps\n    }\n  }\n\n  recordDiff (key: string, diffObj: string) {\n    const diff = this.diffObj(diffObj)\n    // problem is that 274 key 10.20.6 no removed keys in diff created\n    this.diffs[key] = diff\n  }\n\n  static isOptimizedChangeDiff (changePossiblyArrDiff) {\n    if (!Array.isArray(changePossiblyArrDiff)) return false\n    if (changePossiblyArrDiff.length % 2 !== 0) return false\n    for (let i = 0; i < changePossiblyArrDiff.length; i += 2) {\n      if (typeof changePossiblyArrDiff[i] !== 'number') return false\n    }\n    return true\n  }\n\n  static restoreData ({ keys, properties, source, arrKey, diffs }: SourceData, targetKey: string, dataRestorer: ((data) => void) | undefined) {\n    // if (!diffs[targetKey]) throw new Error(`The requested data to restore with key ${targetKey} does not exist`)\n    source = structuredClone(source)\n    const keysById = Object.fromEntries(Object.entries(keys).map(x => [x[1], x[0]]))\n    const propertiesById = Object.fromEntries(Object.entries(properties).map(x => [x[1], x[0]]))\n    const dataByKeys = {} as Record<string, any>\n    for (const [versionKey, { added, changed, removed, removedProps }] of Object.entries(diffs)) {\n      for (const toAdd of added) {\n        dataByKeys[toAdd] = source[toAdd]\n      }\n      for (const toRemove of removed) {\n        delete dataByKeys[toRemove]\n      }\n      for (let i = 0; i < changed.length; i += 2) {\n        const key = changed[i]\n        const change = changed[i + 1]\n        const isOptimizedChange = JsonOptimizer.isOptimizedChangeDiff(change)\n        if (isOptimizedChange) {\n          // apply optimized diff\n          for (let k = 0; k < change.length; k += 2) {\n            const propId = change[k]\n            const newVal = change[k + 1]\n            const prop = propertiesById[propId]\n            // const prop = propId\n            if (prop === undefined) throw new Error(`Property id change is undefined: ${propId}`)\n            dataByKeys[key][prop] = newVal\n          }\n        } else {\n          dataByKeys[key] = change\n        }\n      }\n      for (const [key, removePropsId] of removedProps) {\n        for (const removePropId of removePropsId) {\n          const removeProp = propertiesById[removePropId]\n          // todo: this is not correct!\n          if (Array.isArray(dataByKeys[key])) {\n            dataByKeys[key].splice(removeProp as any, 1) // splice accepts strings as well\n          } else {\n            delete dataByKeys[key][removeProp]\n          }\n        }\n      }\n      if (versionToNumber(versionKey) <= versionToNumber(targetKey)) {\n        break\n      }\n    }\n    let data\n    if (arrKey) {\n      data = Object.values(dataByKeys)\n    } else {\n      data = Object.fromEntries(Object.entries(dataByKeys).map(([key, val]) => [keysById[key], val]))\n    }\n    dataRestorer?.(data)\n    return data\n  }\n\n  static getByArrKey (item: any, arrKey: string) {\n    return arrKey.split('+').map(x => item[x]).join('+')\n  }\n\n  static resolveDefaults (arr) {\n    if (!Array.isArray(arr)) throw new Error('not an array')\n    const propsValueCount = {} as {\n      [key: string]: {\n        [val: string]: number\n      }\n    }\n    for (const obj of arr) {\n      if (typeof obj !== 'object' || !obj) continue\n      for (const [key, val] of Object.entries(obj)) {\n        const valJson = JSON.stringify(val)\n        propsValueCount[key] ??= {}\n        propsValueCount[key][valJson] ??= 0\n        propsValueCount[key][valJson] += 1\n      }\n    }\n    const defaults = Object.fromEntries(Object.entries(propsValueCount).map(([prop, values]) => {\n      const defaultValue = Object.entries(values).sort(([, count1], [, count2]) => count2 - count1)[0][0]\n      return [prop, defaultValue]\n    }))\n\n    const newData = [] as any[]\n    const noData = {}\n    for (const [i, obj] of arr.entries()) {\n      if (typeof obj !== 'object' || !obj) {\n        newData.push(obj)\n        continue\n      }\n      for (const key of Object.keys(defaults)) {\n        const val = obj[key]\n        if (!val) {\n          noData[key] ??= []\n          noData[key].push(key)\n          continue\n        }\n        if (defaults[key] === JSON.stringify(val)) {\n          delete obj[key]\n        }\n      }\n      newData.push(obj)\n    }\n\n    return {\n      data: newData,\n      defaults\n    }\n  }\n}\n\nconst isEqualStructured = (val1, val2) => {\n  return JSON.stringify(val1) === JSON.stringify(val2)\n}\n","module.exports.performance = globalThis.performance\n","// Auth is done in the connection option callback. In this app the auth implementation is server side.\n\nconst Titles = {}\n\nexport {\n  Titles\n}\n","export const server = ({ host: sessionServer }) => {\n  return {\n    async join (accessToken, sessionSelectedProfileId, serverId, sharedSecret, publicKey, cb) {\n      try {\n        const result = await fetch(`${sessionServer}`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            accessToken,\n            selectedProfile: sessionSelectedProfileId,\n            serverId,\n            sharedSecret,\n            publicKey,\n          }),\n        })\n        if (!result.ok) {\n          throw new Error(`Request failed ${await result.text()}`)\n        }\n        cb(null)\n      } catch (err) {\n        cb(err)\n      }\n    }\n  }\n}\n","import { Vec3 } from 'vec3'\nimport { versionToNumber } from 'renderer/viewer/common/utils'\nimport { loadScript } from 'renderer/viewer/lib/utils'\nimport type { Block } from 'prismarine-block'\nimport { subscribeKey } from 'valtio/utils'\nimport { miscUiState } from '../globalState'\nimport { options } from '../optionsStorage'\nimport { loadOrPlaySound } from '../basicSounds'\nimport { getActiveResourcepackBasePath, resourcePackState } from '../resourcePack'\nimport { showNotification } from '../react/NotificationProvider'\nimport { pixelartIcons } from '../react/PixelartIcon'\nimport { createSoundMap, SoundMap } from './soundsMap'\nimport { musicSystem } from './musicSystem'\nimport './customSoundSystem'\n\nlet soundMap: SoundMap | undefined\n\nconst updateResourcePack = async () => {\n  if (!soundMap) return\n  // todo, rework to await\n  void soundMap.updateActiveResourcePackBasePath(await getActiveResourcepackBasePath() ?? undefined)\n}\n\nlet musicInterval: ReturnType<typeof setInterval> | null = null\n\nsubscribeKey(miscUiState, 'gameLoaded', async () => {\n  if (!miscUiState.gameLoaded) {\n    stopMusicSystem()\n    soundMap?.quit()\n    return\n  }\n\n  console.log(`Loading sounds for version ${bot.version}. Resourcepack state: ${JSON.stringify(resourcePackState)}`)\n  soundMap = createSoundMap(bot.version) ?? undefined\n  globalThis.soundMap = soundMap\n  if (!soundMap) return\n  if (soundMap.noVersionIdMapping) {\n    showNotification('No exact sound ID mappings for this version', undefined, false, pixelartIcons['warning-box'])\n  }\n  void updateResourcePack()\n  startMusicSystem()\n\n  const playGeneralSound = async (soundKey: string, position?: Vec3, volume = 1, pitch?: number) => {\n    if (!options.volume || !soundMap) return\n    const soundData = await soundMap.getSoundUrl(soundKey, volume)\n    if (!soundData) return\n\n    const isMuted = options.mutedSounds.includes(soundKey) || options.volume === 0\n    if (position) {\n      if (!isMuted) {\n        appViewer.backend?.soundSystem?.playSound(\n          position,\n          soundData.url,\n          soundData.volume,\n          Math.max(Math.min(pitch ?? 1, 2), 0.5),\n          soundData.timeout ?? options.remoteSoundsLoadTimeout\n        )\n      }\n      if (getDistance(bot.entity.position, position) < 4 * 16) {\n        lastPlayedSounds.lastServerPlayed[soundKey] ??= { count: 0, last: 0 }\n        lastPlayedSounds.lastServerPlayed[soundKey].count++\n        lastPlayedSounds.lastServerPlayed[soundKey].last = Date.now()\n      }\n    } else {\n      if (!isMuted) {\n        await loadOrPlaySound(soundData.url, volume)\n      }\n      lastPlayedSounds.lastClientPlayed.push(soundKey)\n      if (lastPlayedSounds.lastClientPlayed.length > 10) {\n        lastPlayedSounds.lastClientPlayed.shift()\n      }\n    }\n  }\n\n  const musicStartCheck = async (force = false) => {\n    if (!soundMap || !bot) return\n    // 20% chance to start music\n    if (Math.random() > 0.2 && !force && !options.enableMusic) return\n\n    const musicKeys = ['music.game']\n    if (bot.game.gameMode === 'creative') {\n      musicKeys.push('music.creative')\n    }\n    const randomMusicKey = musicKeys[Math.floor(Math.random() * musicKeys.length)]\n    const soundData = await soundMap.getSoundUrl(randomMusicKey)\n    if (!soundData || !soundMap) return\n    await musicSystem.playMusic(soundData.url, soundData.volume)\n  }\n\n  function startMusicSystem () {\n    if (musicInterval) return\n    musicInterval = setInterval(() => {\n      void musicStartCheck()\n    }, 10_000)\n  }\n\n  window.forceStartMusic = () => {\n    void musicStartCheck(true)\n  }\n\n\n  function stopMusicSystem () {\n    if (musicInterval) {\n      clearInterval(musicInterval)\n      musicInterval = null\n    }\n  }\n\n  const playHardcodedSound = async (soundKey: string, position?: Vec3, volume = 1, pitch?: number) => {\n    await playGeneralSound(soundKey, position, volume, pitch)\n  }\n\n  bot.on('soundEffectHeard', async (soundId, position, volume, pitch) => {\n    if (/^https?:/.test(soundId.replace('minecraft:', ''))) {\n      return\n    }\n    await playHardcodedSound(soundId, position, volume, pitch)\n  })\n\n  bot._client.on('sound_effect', async (packet) => {\n    const hasNamedSoundEffect = versionToNumber(bot.version) < versionToNumber('1.19.3')\n\n    const soundResource = packet['soundEvent']?.resource as string | undefined\n    const pos = new Vec3(packet.x / 8, packet.y / 8, packet.z / 8)\n    if (packet.soundId !== 0 || !soundResource) {\n      const soundKey = soundMap!.soundsIdToName[packet.soundId - (hasNamedSoundEffect ? 0 : 1)]\n      if (soundKey === undefined) return\n      await playGeneralSound(soundKey, pos, packet.volume, packet.pitch)\n      return\n    }\n\n    await playHardcodedSound(soundResource.replace('minecraft:', ''), pos, packet.volume, packet.pitch)\n  })\n\n  bot.on('entityHurt', async (entity) => {\n    if (entity.id === bot.entity.id) {\n      await playHardcodedSound('entity.player.hurt')\n    }\n  })\n\n  let lastStepSound = 0\n  const movementHappening = async () => {\n    if (!bot.entity || !soundMap) return // no info yet\n    if (appViewer.playerState.reactive.gameMode === 'spectator') return // Don't play step sounds in spectator mode\n    const VELOCITY_THRESHOLD = 0.1\n    const RUN_THRESHOLD = 0.15\n    const { x, z, y } = bot.entity.velocity\n    if (bot.entity.onGround && (Math.abs(x) > VELOCITY_THRESHOLD || Math.abs(z) > VELOCITY_THRESHOLD)) {\n      const isRunning = (Math.abs(x) > RUN_THRESHOLD || Math.abs(z) > RUN_THRESHOLD)\n      // movement happening\n      if (Date.now() - lastStepSound > (isRunning ? 100 : 300)) {\n        const blockUnder = bot.world.getBlock(bot.entity.position.offset(0, -1, 0))\n        if (blockUnder) {\n          const stepSound = soundMap.getStepSound(blockUnder.name)\n          if (stepSound) {\n            await playHardcodedSound(stepSound, undefined, 0.6)\n            lastStepSound = Date.now()\n          }\n        }\n      }\n    }\n  }\n\n  const playBlockBreak = async (blockName: string, position?: Vec3) => {\n    if (!soundMap) return\n    const sound = soundMap.getBreakSound(blockName)\n    await playHardcodedSound(sound, position, 0.6, 1)\n  }\n\n  const registerEvents = () => {\n    bot.on('move', () => {\n      void movementHappening()\n    })\n    bot._client.on('world_event', async ({ effectId, location, data, global: disablePosVolume }) => {\n      const position = disablePosVolume ? undefined : new Vec3(location.x, location.y, location.z)\n      if (effectId === 2001) {\n        // break event\n        const block = loadedData.blocksByStateId[data]\n        await playBlockBreak(block.name, position)\n      }\n      // these produce glass break sound\n      if (effectId === 2002 || effectId === 2003 || effectId === 2007) {\n        await playHardcodedSound('block.glass.break', position, 1, 1)\n      }\n      if (effectId === 1004) {\n        // firework shoot\n        await playHardcodedSound('entity.firework_rocket.launch', position, 1, 1)\n      }\n      if (effectId === 1006 || effectId === 1007 || effectId === 1014) {\n        // wooden door open/close\n        await playHardcodedSound('block.wooden_door.open', position, 1, 1)\n      }\n      if (effectId === 1002) {\n        // dispenser shoot\n        await playHardcodedSound('block.dispenser.dispense', position, 1, 1)\n      }\n      if (effectId === 1024) {\n        // wither shoot\n        await playHardcodedSound('entity.wither.shoot', position, 1, 1)\n      }\n      if (effectId === 1031) {\n        // anvil land\n        await playHardcodedSound('block.anvil.land', position, 1, 1)\n      }\n      if (effectId === 1010) {\n        console.log('play record', data)\n      }\n    })\n\n    let diggingBlock: Block | null = null\n    customEvents.on('digStart', () => {\n      diggingBlock = bot.blockAtCursor(5)\n    })\n    bot.on('diggingCompleted', async () => {\n      if (diggingBlock) {\n        await playBlockBreak(diggingBlock.name, diggingBlock.position)\n      }\n    })\n  }\n\n  registerEvents()\n})\n\nsubscribeKey(resourcePackState, 'resourcePackInstalled', async () => {\n  await updateResourcePack()\n})\n\nexport const downloadSoundsIfNeeded = async () => {\n  if (!window.allSoundsMap) {\n    try {\n      await loadScript('./sounds.js')\n    } catch (err) {\n      console.warn('Sounds map was not generated. Sounds will not be played.')\n    }\n  }\n}\n\nexport const lastPlayedSounds = {\n  lastClientPlayed: [] as string[],\n  lastServerPlayed: {} as Record<string, { count: number, last: number }>,\n}\n\nconst getDistance = (pos1: Vec3, pos2: Vec3) => {\n  return Math.hypot((pos1.x - pos2.x), (pos1.y - pos2.y), (pos1.z - pos2.z))\n}\n","import { loadOrPlaySound } from '../basicSounds'\nimport { options } from '../optionsStorage'\n\nclass MusicSystem {\n  private currentMusic: string | null = null\n\n  async playMusic (url: string, musicVolume = 1) {\n    if (!options.enableMusic || this.currentMusic) return\n\n    try {\n      const { onEnded } = await loadOrPlaySound(url, 0.5 * musicVolume, 5000) ?? {}\n\n      if (!onEnded) return\n\n      this.currentMusic = url\n\n      onEnded(() => {\n        this.currentMusic = null\n      })\n    } catch (err) {\n      console.warn('Failed to play music:', err)\n      this.currentMusic = null\n    }\n  }\n\n  stopMusic () {\n    if (this.currentMusic) {\n      this.currentMusic = null\n    }\n  }\n}\n\nexport const musicSystem = new MusicSystem()\n","import fs from 'fs'\nimport path from 'path'\nimport { versionsMapToMajor, versionToMajor, versionToNumber } from 'renderer/viewer/common/utils'\n\nimport { stopAllSounds } from '../basicSounds'\nimport { musicSystem } from './musicSystem'\n\ninterface SoundMeta {\n  format: string\n  baseUrl: string\n}\n\ninterface SoundData {\n  volume: number\n  path: string\n}\n\ninterface SoundMapData {\n  allSoundsMap: Record<string, Record<string, string>>\n  soundsLegacyMap: Record<string, string[]>\n  soundsMeta: SoundMeta\n}\n\ninterface BlockSoundMap {\n  [blockName: string]: string\n}\n\ninterface SoundEntry {\n  file: string\n  weight: number\n  volume: number\n}\n\ninterface ResourcePackSoundEntry {\n  name: string\n  stream?: boolean\n  volume?: number\n  timeout?: number\n}\n\ninterface ResourcePackSound {\n  category: string\n  sounds: ResourcePackSoundEntry[]\n}\n\ninterface ResourcePackSoundsJson {\n  [soundId: string]: ResourcePackSound\n}\n\nexport class SoundMap {\n  private readonly soundsPerName: Record<string, SoundEntry[]>\n  soundsIdToName: Record<string, string>\n  private readonly existingResourcePackPaths: Set<string>\n  private activeResourcePackBasePath: string | undefined\n  private activeResourcePackSoundsJson: ResourcePackSoundsJson | undefined\n  noVersionIdMapping = false\n\n  constructor (\n    private readonly soundData: SoundMapData,\n    private readonly version: string\n  ) {\n    // First try exact version match\n    let soundsMap = soundData.allSoundsMap[this.version]\n\n    if (!soundsMap) {\n      // If no exact match, try major version\n      const allSoundsMajor = versionsMapToMajor(soundData.allSoundsMap)\n      soundsMap = allSoundsMajor[versionToMajor(version)]\n\n      if (!soundsMap) {\n        // If still no match, use first available mapping\n        soundsMap = Object.values(allSoundsMajor)[0]\n      }\n\n      this.noVersionIdMapping = true\n    }\n\n    // Create both mappings\n    this.soundsIdToName = {}\n    this.soundsPerName = {}\n\n    for (const [id, soundsStr] of Object.entries(soundsMap)) {\n      const sounds = soundsStr.split(',').map(s => {\n        const [volume, name, weight] = s.split(';')\n        if (isNaN(Number(volume))) throw new Error('volume is not a number')\n        if (isNaN(Number(weight))) throw new TypeError('weight is not a number')\n        return {\n          file: name,\n          weight: Number(weight),\n          volume: Number(volume)\n        }\n      })\n\n      const [idPart, namePart] = id.split(';')\n      this.soundsIdToName[idPart] = namePart\n\n      this.soundsPerName[namePart] = sounds\n    }\n  }\n\n  async updateActiveResourcePackBasePath (basePath: string | undefined) {\n    this.activeResourcePackBasePath = basePath\n    if (!basePath) {\n      this.activeResourcePackSoundsJson = undefined\n      return\n    }\n\n    let soundsJsonContent: string | undefined\n    try {\n      const soundsJsonPath = path.join(basePath, 'assets/minecraft/sounds.json')\n      soundsJsonContent = await fs.promises.readFile(soundsJsonPath, 'utf8')\n    } catch (err) {}\n    try {\n      if (soundsJsonContent) {\n        this.activeResourcePackSoundsJson = JSON.parse(soundsJsonContent)\n      }\n    } catch (err) {\n      console.warn('Failed to parse sounds.json from resourcepack', err)\n      this.activeResourcePackSoundsJson = undefined\n    }\n  }\n\n  async updateExistingResourcePackPaths () {\n    if (!this.activeResourcePackBasePath) return\n    // todo support sounds.js from resource pack\n    const soundsBasePath = path.join(this.activeResourcePackBasePath, 'assets/minecraft/sounds')\n    // scan recursively for sounds files\n    const scan = async (dir: string) => {\n      const entries = await fs.promises.readdir(dir, { withFileTypes: true })\n      for (const entry of entries) {\n        const entryPath = path.join(dir, entry.name)\n        if (entry.isDirectory()) {\n          await scan(entryPath)\n        } else if (entry.isFile() && entry.name.endsWith('.ogg')) {\n          const relativePath = path.relative(soundsBasePath, entryPath)\n          this.existingResourcePackPaths.add(relativePath)\n        }\n      }\n    }\n\n    await scan(soundsBasePath)\n  }\n\n  async getSoundUrl (soundKey: string, volume = 1): Promise<{ url: string; volume: number, timeout?: number } | undefined> {\n    // First check resource pack sounds.json\n    if (this.activeResourcePackSoundsJson && soundKey in this.activeResourcePackSoundsJson) {\n      const rpSound = this.activeResourcePackSoundsJson[soundKey]\n      // Pick a random sound from the resource pack\n      const sound = rpSound.sounds[Math.floor(Math.random() * rpSound.sounds.length)]\n      const soundVolume = sound.volume ?? 1\n\n      if (this.activeResourcePackBasePath) {\n        const tryFormat = async (format: string) => {\n          try {\n            if (sound.name.startsWith('http://') || sound.name.startsWith('https://')) {\n              return {\n                url: sound.name,\n                volume: soundVolume * Math.max(Math.min(volume, 1), 0),\n                timeout: sound.timeout\n              }\n            }\n            const resourcePackPath = path.join(this.activeResourcePackBasePath!, `/assets/minecraft/sounds/${sound.name}.${format}`)\n            const fileData = await fs.promises.readFile(resourcePackPath)\n            return {\n              url: `data:audio/${format};base64,${fileData.toString('base64')}`,\n              volume: soundVolume * Math.max(Math.min(volume, 1), 0)\n            }\n          } catch (err) {\n            return null\n          }\n        }\n\n        const result = await tryFormat(this.soundData.soundsMeta.format)\n        if (result) return result\n\n        if (this.soundData.soundsMeta.format !== 'ogg') {\n          const oggResult = await tryFormat('ogg')\n          if (oggResult) return oggResult\n        }\n      }\n    }\n\n    // Fall back to vanilla sounds if no resource pack sound found\n    const sounds = this.soundsPerName[soundKey]\n    if (!sounds?.length) return undefined\n\n    // Pick a random sound based on weights\n    const totalWeight = sounds.reduce((sum, s) => sum + s.weight, 0)\n    let random = Math.random() * totalWeight\n    const sound = sounds.find(s => {\n      random -= s.weight\n      return random <= 0\n    }) ?? sounds[0]\n\n    const versionedSound = this.getVersionedSound(sound.file)\n\n    const url = this.soundData.soundsMeta.baseUrl.replace(/\\/$/, '') +\n      (versionedSound ? `/${versionedSound}` : '') +\n      '/minecraft/sounds/' +\n      sound.file +\n      '.' +\n      this.soundData.soundsMeta.format\n\n    return {\n      url,\n      volume: sound.volume * Math.max(Math.min(volume, 1), 0)\n    }\n  }\n\n  private getVersionedSound (item: string): string | undefined {\n    const verNumber = versionToNumber(this.version)\n    const entries = Object.entries(this.soundData.soundsLegacyMap)\n    for (const [itemsVer, items] of entries) {\n      if (items.includes(item) && verNumber <= versionToNumber(itemsVer)) {\n        return itemsVer\n      }\n    }\n    return undefined\n  }\n\n  getBlockSound (blockName: string, category: string, fallback: string): string {\n    const mappedName = blockSoundAliases[blockName] ?? blockName\n    const key = `block.${mappedName}.${category}`\n    return this.soundsPerName[key] ? key : fallback\n  }\n\n  getStepSound (blockName: string): string {\n    return this.getBlockSound(blockName, 'step', 'block.stone.step')\n  }\n\n  getBreakSound (blockName: string): string {\n    return this.getBlockSound(blockName, 'break', 'block.stone.break')\n  }\n\n  quit () {\n    musicSystem.stopMusic()\n    stopAllSounds()\n  }\n}\n\nexport function createSoundMap (version: string): SoundMap | null {\n  const globalObject = window as {\n    allSoundsMap?: Record<string, Record<string, string>>,\n    allSoundsVersionedMap?: Record<string, string[]>,\n    allSoundsMeta?: { format: string, baseUrl: string }\n  }\n  if (!globalObject.allSoundsMap) return null\n  return new SoundMap({\n    allSoundsMap: globalObject.allSoundsMap,\n    soundsLegacyMap: globalObject.allSoundsVersionedMap ?? {},\n    soundsMeta: globalObject.allSoundsMeta!\n  }, version)\n}\n\n// Block name mappings for sound effects\nconst blockSoundAliases: BlockSoundMap = {\n  // Grass-like blocks\n  grass_block: 'grass',\n  tall_grass: 'grass',\n  fern: 'grass',\n  large_fern: 'grass',\n  dead_bush: 'grass',\n  seagrass: 'grass',\n  tall_seagrass: 'grass',\n  kelp: 'grass',\n  kelp_plant: 'grass',\n  sugar_cane: 'grass',\n  bamboo: 'grass',\n  vine: 'grass',\n  nether_sprouts: 'grass',\n  twisting_vines: 'grass',\n  weeping_vines: 'grass',\n  sweet_berry_bush: 'grass',\n  glow_lichen: 'grass',\n  moss_carpet: 'grass',\n  moss_block: 'grass',\n  hanging_roots: 'grass',\n  spore_blossom: 'grass',\n  small_dripleaf: 'grass',\n  big_dripleaf: 'grass',\n  flowering_azalea: 'grass',\n  azalea: 'grass',\n  azalea_leaves: 'grass',\n  flowering_azalea_leaves: 'grass',\n\n  // Dirt and ground blocks\n  dirt: 'gravel',\n  coarse_dirt: 'gravel',\n  podzol: 'gravel',\n  mycelium: 'gravel',\n  farmland: 'gravel',\n  dirt_path: 'gravel',\n  rooted_dirt: 'rooted_dirt',\n\n  // Crop blocks\n  wheat: 'crop',\n  potatoes: 'crop',\n  carrots: 'crop',\n  beetroots: 'crop',\n  melon_stem: 'crop',\n  pumpkin_stem: 'crop',\n  sweet_berries: 'crop',\n  cocoa: 'crop',\n  nether_wart: 'crop',\n  torchflower_crop: 'crop',\n  pitcher_crop: 'crop',\n\n  // Stone-like blocks\n  cobblestone: 'stone',\n  stone_bricks: 'stone',\n  mossy_stone_bricks: 'stone',\n  cracked_stone_bricks: 'stone',\n  chiseled_stone_bricks: 'stone',\n  stone_brick_slab: 'stone',\n  stone_brick_stairs: 'stone',\n  stone_brick_wall: 'stone',\n  polished_granite: 'stone',\n  granite: 'stone',\n  andesite: 'stone',\n  diorite: 'stone',\n  polished_andesite: 'stone',\n  polished_diorite: 'stone',\n  deepslate: 'deepslate',\n  cobbled_deepslate: 'deepslate',\n  polished_deepslate: 'deepslate',\n  deepslate_bricks: 'deepslate_bricks',\n  deepslate_tiles: 'deepslate_tiles',\n  calcite: 'stone',\n  tuff: 'stone',\n  smooth_stone: 'stone',\n  smooth_sandstone: 'stone',\n  smooth_quartz: 'stone',\n  smooth_red_sandstone: 'stone',\n\n  // Wood-like blocks\n  oak_planks: 'wood',\n  spruce_planks: 'wood',\n  birch_planks: 'wood',\n  jungle_planks: 'wood',\n  acacia_planks: 'wood',\n  dark_oak_planks: 'wood',\n  crimson_planks: 'wood',\n  warped_planks: 'wood',\n  oak_log: 'wood',\n  spruce_log: 'wood',\n  birch_log: 'wood',\n  jungle_log: 'wood',\n  acacia_log: 'wood',\n  dark_oak_log: 'wood',\n  crimson_stem: 'stem',\n  warped_stem: 'stem',\n\n  // Metal blocks\n  iron_block: 'metal',\n  gold_block: 'metal',\n  copper_block: 'copper',\n  exposed_copper: 'copper',\n  weathered_copper: 'copper',\n  oxidized_copper: 'copper',\n  netherite_block: 'netherite_block',\n  ancient_debris: 'ancient_debris',\n  lodestone: 'lodestone',\n  chain: 'chain',\n  anvil: 'anvil',\n  chipped_anvil: 'anvil',\n  damaged_anvil: 'anvil',\n\n  // Glass blocks\n  glass: 'glass',\n  glass_pane: 'glass',\n  white_stained_glass: 'glass',\n  orange_stained_glass: 'glass',\n  magenta_stained_glass: 'glass',\n  light_blue_stained_glass: 'glass',\n  yellow_stained_glass: 'glass',\n  lime_stained_glass: 'glass',\n  pink_stained_glass: 'glass',\n  gray_stained_glass: 'glass',\n  light_gray_stained_glass: 'glass',\n  cyan_stained_glass: 'glass',\n  purple_stained_glass: 'glass',\n  blue_stained_glass: 'glass',\n  brown_stained_glass: 'glass',\n  green_stained_glass: 'glass',\n  red_stained_glass: 'glass',\n  black_stained_glass: 'glass',\n  tinted_glass: 'glass',\n\n  // Wool blocks\n  white_wool: 'wool',\n  orange_wool: 'wool',\n  magenta_wool: 'wool',\n  light_blue_wool: 'wool',\n  yellow_wool: 'wool',\n  lime_wool: 'wool',\n  pink_wool: 'wool',\n  gray_wool: 'wool',\n  light_gray_wool: 'wool',\n  cyan_wool: 'wool',\n  purple_wool: 'wool',\n  blue_wool: 'wool',\n  brown_wool: 'wool',\n  green_wool: 'wool',\n  red_wool: 'wool',\n  black_wool: 'wool',\n\n  // Nether blocks\n  netherrack: 'netherrack',\n  nether_bricks: 'nether_bricks',\n  red_nether_bricks: 'nether_bricks',\n  nether_wart_block: 'wart_block',\n  warped_wart_block: 'wart_block',\n  soul_sand: 'soul_sand',\n  soul_soil: 'soul_soil',\n  basalt: 'basalt',\n  polished_basalt: 'basalt',\n  blackstone: 'gilded_blackstone',\n  gilded_blackstone: 'gilded_blackstone',\n\n  // Amethyst blocks\n  amethyst_block: 'amethyst_block',\n  amethyst_cluster: 'amethyst_cluster',\n  large_amethyst_bud: 'large_amethyst_bud',\n  medium_amethyst_bud: 'medium_amethyst_bud',\n  small_amethyst_bud: 'small_amethyst_bud',\n\n  // Miscellaneous\n  sand: 'sand',\n  red_sand: 'sand',\n  gravel: 'gravel',\n  snow: 'snow',\n  snow_block: 'snow',\n  powder_snow: 'powder_snow',\n  ice: 'glass',\n  packed_ice: 'glass',\n  blue_ice: 'glass',\n  slime_block: 'slime_block',\n  honey_block: 'honey_block',\n  scaffolding: 'scaffolding',\n  ladder: 'ladder',\n  lantern: 'lantern',\n  soul_lantern: 'lantern',\n  pointed_dripstone: 'pointed_dripstone',\n  dripstone_block: 'dripstone_block',\n  sculk_sensor: 'sculk_sensor',\n  shroomlight: 'shroomlight'\n}\n","import { loadOrPlaySound, stopAllSounds, stopSound } from '../basicSounds'\nimport { options } from '../optionsStorage'\n\nconst customSoundSystem = () => {\n  bot._client.on('named_sound_effect', packet => {\n    if (!options.remoteSoundsSupport) return\n    let { soundName } = packet\n    let metadata = {} as { loadTimeout?: number, loop?: boolean }\n\n    // Extract JSON metadata from parentheses at the end\n    const jsonMatch = /\\(({.*})\\)$/.exec(soundName)\n    if (jsonMatch) {\n      try {\n        metadata = JSON.parse(jsonMatch[1])\n        soundName = soundName.slice(0, -jsonMatch[0].length)\n      } catch (e) {\n        console.warn('Failed to parse sound metadata:', jsonMatch[1])\n      }\n    }\n\n    if (/^https?:/.test(soundName.replace('minecraft:', ''))) {\n      const { loadTimeout, loop } = metadata\n      void loadOrPlaySound(soundName, packet.volume, loadTimeout, loop)\n    }\n  })\n\n  bot._client.on('stop_sound', packet => {\n    const { flags, source, sound } = packet\n\n    if (flags === 0) {\n      // Stop all sounds\n      stopAllSounds()\n    } else if (sound) {\n      // Stop specific sound by name\n      stopSound(sound)\n    }\n  })\n\n  bot.on('end', () => {\n    stopAllSounds()\n  })\n}\n\ncustomEvents.on('mineflayerBotCreated', () => {\n  customSoundSystem()\n})\n","export const isCypress = () => {\n  return localStorage.cypress === 'true'\n}\n","import { supportedVersions, postNettyVersionsByProtocolVersion } from 'minecraft-data'\n\nexport const ignoredVersionsRegex = /(^0\\.30c$)|w|-pre|-rc/\n\n/** @type {string[]} */\nconst versionsFromProtocol = Object.values(postNettyVersionsByProtocolVersion.pc).flat().filter(x => !ignoredVersionsRegex.test(x.minecraftVersion)).map(x => x.minecraftVersion)\n\nexport const notTestedVersions = '1.19.3 1.20 1.19.1 1.19 1.18.1 1.15.1 1.14.1'.split(' ')\n\nexport default versionsFromProtocol.filter(x => x !== '1.7' && !x.startsWith('1.7.'))\n","import { gameAdditionalState, isGameActive, miscUiState } from './globalState'\nimport { options } from './optionsStorage'\nimport { displayHintsState } from './react/GlobalOverlayHints'\nimport { notificationProxy, showNotification } from './react/NotificationProvider'\nimport { packetsReplayState } from './react/state/packetsReplayState'\n\nexport const goFullscreen = async (doToggle = false) => {\n  if (!document.fullscreenElement) {\n    // todo display a message or repeat?\n    await document.documentElement.requestFullscreen().catch(() => { })\n    // request full keyboard access\n    await navigator.keyboard?.lock?.(['Escape', 'KeyW'])\n  } else if (doToggle) {\n    await document.exitFullscreen().catch(() => { })\n  }\n}\n\nexport const toNumber = val => {\n  const num = Number(val)\n  return isNaN(num) ? undefined : num\n}\n\nexport const inGameError = err => {\n  console.error(err)\n  window.reportError?.(err)\n  // todo report\n  miscUiState.hasErrors = true\n}\n\nexport const pointerLock = {\n  get hasPointerLock () {\n    return document.pointerLockElement\n  },\n  justHitEscape: false,\n  async requestPointerLock () {\n    if (!isGameActive(true) || !document.documentElement.requestPointerLock || miscUiState.currentTouch) {\n      return\n    }\n    if (options.autoFullScreen) {\n      void goFullscreen()\n    }\n    const displayMouseCaptureFailure = () => {\n      // if (notificationProxy.id === 'auto-login') return // prevent notification hide\n      // showNotification('Browser Delay Limitation', navigator['keyboard'] ? 'Click on screen, enable Auto Fullscreen or F11' : 'Click on screen or use fullscreen in Chrome')\n      // notificationProxy.id = 'pointerlockchange'\n      displayHintsState.captureMouseHint = true\n    }\n    if (!(document.fullscreenElement && navigator['keyboard']) && this.justHitEscape) {\n      displayMouseCaptureFailure()\n    } else {\n      //@ts-expect-error\n      const promise: any = document.documentElement.requestPointerLock({\n        unadjustedMovement: options.mouseRawInput\n      })\n      promise?.catch(error => {\n        if (error.name === 'NotSupportedError') {\n          // Some platforms may not support unadjusted movement, request again a regular pointer lock.\n          document.documentElement.requestPointerLock()\n        } else if (error.name === 'SecurityError') {\n          // cause: https://discourse.threejs.org/t/how-to-avoid-pointerlockcontrols-error/33017/4\n          displayMouseCaptureFailure()\n        } else {\n          displayMouseCaptureFailure()\n          console.warn('Failed to request pointer lock:', error)\n        }\n      })\n    }\n    this.justHitEscape = false\n  }\n}\n\nexport const isInRealGameSession = () => {\n  return isGameActive(true) && (!packetsReplayState.isOpen || packetsReplayState.isMinimized) && !gameAdditionalState.viewerConnection\n}\n\nwindow.getScreenRefreshRate = getScreenRefreshRate\n\n/**\n * Allows to obtain the estimated Hz of the primary monitor in the system.\n */\nexport async function getScreenRefreshRate (): Promise<number> {\n  let requestId = null as number | null\n  let callbackTriggered = false\n  let resolve\n\n  const DOMHighResTimeStampCollection = [] as number[]\n\n  const triggerAnimation = DOMHighResTimeStamp => {\n    DOMHighResTimeStampCollection.unshift(DOMHighResTimeStamp)\n\n    if (DOMHighResTimeStampCollection.length > 10) {\n      const t0 = DOMHighResTimeStampCollection.pop()!\n      const fps = Math.floor(1000 * 10 / (DOMHighResTimeStamp - t0))\n\n      if (!callbackTriggered || fps > 1000) {\n        resolve(Math.min(fps, 1000)/* , DOMHighResTimeStampCollection */)\n      }\n\n      callbackTriggered = true\n    }\n\n    requestId = window.requestAnimationFrame(triggerAnimation)\n  }\n\n  window.requestAnimationFrame(triggerAnimation)\n\n  window.setTimeout(() => {\n    window.cancelAnimationFrame(requestId!)\n    requestId = null\n    resolve(0)\n  }, 500)\n\n  return new Promise(_resolve => {\n    resolve = _resolve\n  })\n}\n\nexport const getGamemodeNumber = bot => {\n  switch (bot.game.gameMode) {\n    case 'survival': return 0\n    case 'creative': return 1\n    case 'adventure': return 2\n    case 'spectator': return 3\n    default: return -1\n  }\n}\n\nexport const isMajorVersionGreater = (ver1: string, ver2: string) => {\n  const [a1, b1] = ver1.split('.')\n  const [a2, b2] = ver2.split('.')\n  return +a1 > +a2 || (+a1 === +a2 && +b1 > +b2)\n}\n\n// doesn't support snapshots\nexport const toMajorVersion = version => {\n  const [a, b] = (String(version)).split('.')\n  return `${a}.${b}`\n}\n\nlet prevRenderDistance = options.renderDistance\nexport const setRenderDistance = () => {\n  assertDefined(worldView)\n  const { renderDistance: singleplayerRenderDistance, multiplayerRenderDistance } = options\n  let renderDistance = miscUiState.singleplayer ? singleplayerRenderDistance : multiplayerRenderDistance\n  const zeroRenderDistance = miscUiState.singleplayer && renderDistance === 0\n  if (zeroRenderDistance) {\n    renderDistance = 1 // mineflayer limitation workaround\n  }\n  bot.setSettings({\n    viewDistance: renderDistance\n  })\n  if (zeroRenderDistance) {\n    localServer!.players[0].view = 0\n    renderDistance = 0\n  }\n  worldView?.updateViewDistance(renderDistance)\n  prevRenderDistance = renderDistance\n}\nexport const reloadChunks = async () => {\n  if (!bot || !worldView) return\n  setRenderDistance()\n  await worldView.updatePosition(bot.entity.position, true)\n}\n\nexport const openGithub = (addUrl = '') => {\n  window.open(`${process.env.GITHUB_URL?.replace(/\\/$/, '')}${addUrl}`, '_blank')\n}\n\nexport const resolveTimeout = async (promise, timeout = 10_000) => {\n  return new Promise((resolve, reject) => {\n    promise.then(resolve, reject)\n    setTimeout(() => {\n      reject(new Error('timeout'))\n    }, timeout)\n  })\n}\n\nexport function assertDefined<T> (x: T | undefined): asserts x is T {\n  if (!x) throw new Error('Assertion failed. Something is not available')\n}\n\nexport const haveDirectoryPicker = () => {\n  return !!window.showDirectoryPicker\n}\n\nconst reportedWarnings = new Set<string>()\n\nexport const reportWarningOnce = (id: string, message: string) => {\n  if (reportedWarnings.has(id)) return\n  reportedWarnings.add(id)\n  console.warn(message)\n}\n"],"names":["globalThis","pako","importLargeData","mod","makeError","str","_reportError","makeErrorCritical","Error","getSyncWorld","version","World","WorldLoader","Chunk","ChunkLoader","world","methods","getAllMethods","_iteratorError","method","oldMethod","args","arg","undefined","Math","obj","Set","currentObj","Object","name","delayedIterator","arr","delay","exec","chunkSize","i","Promise","resolve","setTimeout","versionToNumber","ver","_ver_split","x","tmp","tmp1","y","z","versionToMajor","_version_split","versionsMapToMajor","versionsMap","majorVersions","data","openURL","url","newTab","window","isMobile","navigator","chunkPos","pos","sectionPos","loadScript","scriptSrc","highPriority","existingScript","document","reject","scriptElement","error","hasFullOffscreenCanvasSupport","detectFullOffscreenCanvasSupport","OffscreenCanvas","canvas","gl","e","createCanvas","width","height","_loadImageFromUrl","imageUrl","fetch","response","createImageBitmap","armorTextures","leatherLayer1","leatherLayer1Overlay","leatherLayer2","leatherLayer2Overlay","chainmailLayer1","chainmailLayer2","ironLayer1","ironLayer2","diamondLayer1","diamondLayer2","goldenLayer1","goldenLayer2","netheriteLayer1","netheriteLayer2","turtleLayer1","_window_location_search","_process_env_INLINED_APP_CONFIG","_globalThis","qsParams","URLSearchParams","appQueryParams","Proxy","target","property","_miscUiState_appConfig_appParams","qsParam","appQueryParamsArray","_miscUiState_appConfig_appParams_property","updateQsParam","value","URL","ourLastStatus","setLoadingScreenStatus","status","_window_translateText1","isError","hideDots","fromFlyingSquid","minecraftJsonMessage","appStatusState","hideModal","activeModalStack","resetAppStatusState","showModal","miscUiState","resetStateAfterDisconnect","audioContext","sounds","activeSounds","loadingSounds","convertedSounds","_loadSound","path","contents","res","arrayBuffer","audioBuffer","err","isCypress","console","loadOrPlaySound","soundVolume","loadTimeout","loop","start","options","Date","loadSound","cancelled","playSound","_playSound","volume","soundBuffer","gainNode","source","callbacks","reportWarningOnce","index","s","callback","stopAllSounds","stopSound","soundIndex","changeVolumeOfCurrentlyPlayingSounds","newVolume","normalizedVolume","volumeMultiplier","subscribeKey","displayClientChat","text","message","bot","JSON","parseFormattedMessagePacket","_type_of","nbt","String","googleDriveFileSystem","GoogleDriveFileSystem","require","browserfs","defaultMountablePoints","fallbackMountablePoints","e2","showNotification","updateTexturePackInstalledState","forceCachedDataPaths","forceRedirectPaths","fs","key","promisify","p","receiver","toRemap","from","fsState","oneOf","_target","fd","_fs","Buffer","bytesRead","buffer","removeFileRecursiveSync","file","curPath","join","mkdirRecursive","parts","current","part","err1","uniqueFileNameFromWorldName","title","savePath","resultPath","free","sanitizeFilename","mountExportFolder","handle","showDirectoryPicker","DOMException","googleDriveGetFileIdFromPath","mountGoogleDriveFolder","readonly","rootId","_removeFileRecursiveAsync","removeDirectoryItself","errors","files","stats","removeFileRecursiveAsync","_$path","openWorldDirectory","dragndropHandle","directoryHandle","_directoryHandle","requestResult","writeAccess","SUPPORT_WRITE","confirm","loadSave","tryToDetectResourcePack","alert","askInstall","possiblyCleanHandle","readdirSafe","collectFilesToCopy","basePath","safe","result","countFiles","relPath","resolvedPath","copyFilesAsyncWithProgress","pathSrc","pathDest","throwRootNotExist","addMsg","stat","filesCount","copied","existsViaStats","copyFilesAsync","fileExistsAsyncOptimized","fileCopied","curPathSrc","curPathDest","openWorldFromHttpDir","fileDescriptorUrls","baseUrlParam","baseUrl","controller","AbortController","openWorldZipInner","connectOptions","dirs","availableWorlds","dir","File","openWorldZip","resetLocalStorage","resetOptions","resetAppStorage","openFilePicker","specificCase","picker","VALID_REPLAY_EXTENSIONS","_picker_files","installResourcepackPack","createFullScreenProgressReporter","ext","openFile","global","formatMessage","mcData","msglist","readMsg","msg","styles","_msg_json","tText","_mcData_language_msg_translate","splitted","j","msgWith","_iteratorError1","ex","flat","_msg_extra_flatMap","_msg_text","fromFormattedString","Infinity","blockToItemRemaps","getItemFromBlock","block","_blockToItemRemaps_block_name","isAllowedChatCharacter","char","charCode","isStringAllowed","invalidChars","valid","c","getVersionAutoSelect","autoVersionSelect","supportedVersions","loadMinecraftData","MinecraftData","PrismarineBlock","PrismarineItem","downloadAllMinecraftData","reporter","loadFonts","FONT_FAMILY","downloadOtherGameData","downloadSoundsIfNeeded","createProgressReporter","implementation","currentMessage","stages","Map","ended","end","updateStatus","activeStages","_activeStages_at","info","num","isFinite","stage","subStageTitle","progress","_key","fn","tempStage","fullScreenReporters","createNotificationProgressReporter","endMessage","id","pixelartIcons","hideNotification","createConsoleLogProgressReporter","group","createWrappedProgressReporter","_window","EventEmitter","debug","states","customCommunication","processData","CustomChannelClient","isServer","setSerializer","state","parsed","endReason","fullReason","client","loadedData","write","params","writeBundle","packets","writeRaw","newProperty","oldProperty","LocalServer","customPackets","hideErrors","listen","close","module","javaUUID","hash","crypto","nameToMcOfflineUUID","UUID","_savePlayers","autoSave","_localServer","location","localServer","saveServer","worlds","savePlayers","disconnect","appReplacableResources","latest_gui_title_minecraft","other_textures_1_19_gui_icons","other_textures_latest_gui_widgets","other_textures_latest_gui_bars","latest_gui_container_inventory","latest_gui_container_shulker_box","latest_gui_container_generic_54","latest_gui_container_furnace","latest_gui_container_crafting_table","latest_gui_container_dispenser","latest_gui_container_hopper","latest_gui_container_horse","latest_gui_container_villager2","latest_gui_container_enchanting_table","latest_gui_container_anvil","latest_gui_container_beacon","resourcesContentOriginal","notHideableModalsWithoutForce","proxy","insertActiveModalStack","newModalStack","activeModalStacks","_activeModalStack","last","showModalInner","modal","_modal_elem","elem","resolved","curModal","force","restorePrevious","cancel","m","lastModal","newModal","hideCurrentModal","_data","onHide","hideAllModals","openOptionsMenu","subscribe","isGameActive","foregroundCheck","gameAdditionalState","_globalThis1","_navigator","process","windowFocused","updateFpsLimit","lastWindow","lastWindowType","onFireTimeout","lastMouseMove","lastClickedElTimeout","peerInstance","_controEx_userConfig","adapter","activeTouch","_window_reportError","parseSafe","task","LEGACY_COLORS","renderSign","blockEntity","isHanging","PrismarineChat","ctxHook","ctx","canvasCreator","texts","heightOffset","defaultColor","lineNum","renderComponent","fontSize","offset","toRenderCanvas","visibleFormatting","plainText","textOffset","textWidths","renderText","component","parentFormatting","_$text","formatting","_component_color","_component_underlined","_component_strikethrough","_component_bold","_component_italic","line","addTextPart","child","_formatting_color","_formatting_underlined","_formatting_strikethrough","color","renderedWidth","previousOffsetY","_textWidths_offsetY","fillStyle","fontStyle","underlineStyle","strikeStyle","offsetY","textWidth","offsetX","dynamicMcDataFiles","buildCleanupDecorator","cleanupMethod","propertyKey","_$_target","originalMethod","Reflect","arguments","lastY","addNewStat","pane","visible","updateStatText","updatePanesVisibility","removeAllStats","removeStat","customEvents","getInitialPlayerState","getPlayerStateUtils","reactive","config","setSkinsConfig","newConfig","_loadSkinFromUsername","username","type","_loadSkinImage","skinUrl","image","skinCanvas","fetchAndConvertBase64Skin","loadImageFromUrl","loadSkinToCanvas","base64","n","toMajorVersion","_String_split","a","b","worldCleanup","defaultWorldRendererConfig","WorldRendererCommon","resourcesManager","displayOptions","initOptions","loadedChunks","interval","setInterval","acc","curr","clearInterval","fpsUpdate","logWorkerWork","init","_this_resourcesManager_currentResources","snapshotInitialValues","wasChunkSentToWorker","chunkKey","getHighestBlocks","updateCustomBlock","blockPos","model","_blockPos_split_map","Number","Vec3","getBlockInfo","stateId","_this_protocolCustomBlocks_get","customBlockName","cacheKey","modelNameOverride","modelInfo","initWorkers","numWorkers","worker","initMesherWorker","Array","_this_messageQueue","onReactivePlayerStateUpdated","initial","onReactiveConfigUpdated","onReactiveDebugUpdated","watchReactivePlayerState","watchReactiveConfig","processMessageQueue","startTime","processedCount","processingStopped","performance","requestAnimationFrame","handleMessage","rawData","_this_mesherLogReader","_this_geometryReceiveCount","_data_workerIndex","_Math","chunkCoords","chunkCoords1","loaded","Uint8Array","downloadMesherLog","encodeURIComponent","checkAllFinished","_this","changeHandSwingingState","isAnimationPlaying","isLeftHand","updateViewerPosition","sendWorkers","getDistance","posAbsolute","_chunkPos","botX","botZ","resetWorld","resetWorkers","_document","getMesherConfig","skyLight","timeOfDay","sendMesherMcData","allMcData","_mcDataRaw_pc_this_version","mcDataRaw","updateAssetsData","resources","blockstatesModels","updateChunksStats","_this_allLoadedIn_toFixed","addColumn","chunk","isLightUpdate","customBlockModels","loc","markAsLoaded","removeColumn","setBlockStateId","needAoRecalculation","set","sectionX","sectionZ","updateEntity","isUpdate","lightUpdate","chunkX","chunkZ","connect","worldView","worldEmitter","_this1","currentLoadChunkBatch","worldConfig","blockEntities","d","generateSpiralMatrix","setBlockStateIdInner","getWorkerNumber","updateAction","debugGetWorkerCustomBlockModel","setSectionDirty","_this_sectionsWaiting_get","_this_toWorkerMessagesQueue","useChangeWorker","distance","_hash","dispatchMessages","workerIndex","waitForChunksToRender","updateHandler","waitForChunkToLoad","destroy","_this_initOptions_config_statsVisible","_this_worldRendererConfig_clipWorldBelowY","onGotMessage","Worker","buildRotationMatrix","axis","degree","radians","cos","sin","axis0","axis1","axis2","matrix","vecadd3","vecsub3","matmul3","vector","matmulmat3","te","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","elemFaces","renderElement","element","doAO","attr","globalMatrix","globalShift","biome","neighbors","face","eFace","_elemFaces_face","corners","mask1","mask2","minx","miny","minz","maxx","maxy","maxz","texture","u","v","su","sv","ndx","tint","r","uvcs","uvsn","localMatrix","localShift","aos","_attr_normals","vertex","baseu","basev","light","ao","baseLight","renderBlockThreeAttr","models","variants","sx","sy","sz","_attr_positions","_attr_colors","_attr_uvs","modelVars","_modelVars_variants_i","_iter","_model_axis","_model_axis1","_model_ao","_model_elements","i1","Float32Array","renderBlockThree","geometry","THREE","getThreeBlockModelGroup","material","mesh","setBlockPosition","object","position","DebugGui","paramsMeta","GUI","param","activate","loadSavedValues","saved","localStorage","values","saveValues","deleteKey","saveVisibility","setupControls","meta","_this_paramsMeta_param","_meta_min","_meta_max","_meta_step","min","max","step","_meta_min1","_meta_max1","_meta_step1","min1","max1","step1","save","toggle","show","hide","AnimationController","startAnimation","createAnimation","onCancelled","cancelCurrentAnimation","animationCycleFinish","forceFinish","callComplete","tween","cb","update","DEFAULT_SPEEDS","SmoothSwitcher","getState","setState","speeds","calculateDuration","newState","maxDuration","currentState","targetValue","currentValue","diff","speed","duration","getPropertySpeed","startTransition","stateName","onEnd","easing","tweenJs","reset","transitionTo","getCurrentValue","watchProperty","asyncGetter","valtioProxy","readySetter","cleanup","lastRes","request","req","disposeObject","_obj_geometry","_obj_material","_obj_material_map","cleanTextures","textureCache","imagesPromises","loadThreeJsTextureFromUrlSync","promise","getLoadedImage","loadThreeJsTextureFromUrl","loadThreeJsTextureFromBitmap","_loadTexture","onLoad","_Promise_withResolvers","t","rotationPositionData","HoldingBlock","worldRenderer","offHand","getMyHand","hand","newHand","oldHand","updateItem","item","initCameraGroup","startSwing","_this_swingAnimator","stopSwing","render","originalCamera","renderer","ambientLight","directionalLight","_this_swingAnimator1","_this_blockSwapAnimation","_this_swingAnimator2","_this_idleAnimator","now","scene","viewerSize","minSize","offHandDisplay","x1","playBlockSwapAnimation","forceState","targetY","isDifferentItem","_block_fullItem","_block_fullItem1","Item","updateCameraGroup","camera","_this_getHandHeld3d","scaleData","side","scale","createItemModel","handItem","blockInner","itemMesh","isBlock","modelName","rotationDeg","replaceItemModel","_this_holdingBlock","_this_holdingBlock1","testUnknownBlockSwitch","setNewItem","switchRequest","playAppearAnimation","result1","blockOuterGroup","HandSwingAnimator","HandIdleAnimator","getHandHeld3d","_this_lastHeldItem_type","rotation","itemData","blockData","handMesh","playerState","startIdleAnimation","stopIdleAnimation","getStateTransform","time","amplitude","stateTransform","_this_idleTween","deltaTime","getCurrentState","sqrtProgress","sinProgress","swingProgress","sinSqrtProgress","xOffset","yOffset","zOffset","xOffset1","yOffset1","zOffset1","isCurrentlySwinging","create3DItemMesh","depth","pixelSize","imageData","w","h","halfDepth","actualPixelSize","isOpaque","vertices","indices","uvs","normals","vertexIndex","addVertex","nx","ny","nz","addQuad","v0","v1","v2","v3","frontVertices","backVertices","py","px","_pixelToWorld","needVertex","adjacentPixels","adjX","adjY","py1","px1","v00","v10","v11","v01","b00","b10","b01","py2","px2","pixelU","pixelV","f0","f1","b0","b1","f01","f11","b02","f02","f12","b03","f03","f13","b04","b14","extractItemTextureToCanvas","sourceTexture","textureInfo","sizeX","sizeY","canvasWidth","canvasHeight","createItemMesh","faceCamera","use3D","itemsTexture","spriteMat","itemsTexture1","mesh1","itemsTexture2","itemsTextureFlipped","material1","materialFlipped","mesh2","dot","addCube","boneId","bone","cube","sameTextureForAllFaces","texWidth","texHeight","mirror","cubeRotation","u0","u1","eastOrWest","faceUvs","_cube_inflate","posX","posY","posZ","inflate","vecPos","faceIndex","tempFaceUvs","getMesh","jsonModel","overrides","debugFlags","textureWidth","_jsonModel_texturewidth","textureHeight","_jsonModel_textureheight","useBlockTexture","blocksTexture","textureOffset","_blocksTexture_image_width","_blocksTexture_image_height","blockName","bones","geoData","jsonBone","_overrides_rotation","_overrides_rotation_jsonBone_name_x","_overrides_rotation_jsonBone_name_y","_overrides_rotation_jsonBone_name_z","_debugFlags_errors","_debugFlags","rootBones","skeleton","_mesh","loadedTexture","loadTexture","actualWidth","actualHeight","rendererSpecialHandled","temporaryMappings","getEntityMapping","mapping","getEntity","entities","scaleEntity","offsetEntity","EntityMesh","originalType","mappedValue","externalModels","objLoader","OBJLoader","texturePathMap","huskPng","ocelotPng","arrowTexture","spectralArrowTexture","tippedArrowTexture","tempTextureMap","texturePath","externalTexturesJson","_overrides_rotation_head_x","_overrides_rotation_head_y","_overrides_rotation_head_z","_overrides_textures_name","texture1","getStaticData","WalkingGeneralSwing","swingArm","animate","player","updateT","croughAnimation","tHand","HitAnimation","basicArmRotationZ","basicArmRotationZ1","basicCapeRotationX","basicCapeRotationX1","PlayerAnimation","isMovingOrRunning","isCrouched","pr","steveTexture","stevePngUrl","convert2sComplementToHex","complement","toRgba","parseInt","hex","toQuaternion","quaternion","defaultValue","poseToEuler","pose","degreesToRadians","getUsernameTexture","param1","nameTagBackgroundColor","nameTagTextOpacity","fontFamily","PrismarineChatLoader","plainLines","padding","addNametag","entity","nameTag","tex","nametags","getEntityMesh","entityName","isFirstUpperCase","snakeCase","Entity","isEntityAttackable","nametagCount","Entities","getDebugString","totalEntities","visibleEntities","playerEntities","visiblePlayerEntities","handlePlayerEntity","playerData","_playerData_uuid","wrapper","clear","reloadEntities","watchResourcesUpdates","setDebugMode","mode","boxHelper","setRendering","rendering","ent","renderEntitiesConfig","dt","botPos","entityId","playerObject","dx","dy","dz","distanceSquared","syncArmorPositions","armor","_armor_children_","skin","getPlayerObject","_this_playerEntity","_this_playerEntity1","_this_entities_entityId","isCanvasBlank","_canvas_getContext","channel","updatePlayerSkin","uuidCache","capeUrl","_this_uuidPerSkinUrlsCache_uuidCache","_this_uuidPerSkinUrlsCache_uuidCache_skinUrl","newSkinUrl","renderEars","isCustomSkin","loadSkinFromUsername","newCapeUrl","loadAndApplySkin","playerCustomSkinImage","skinTexture","_ref","canvas1","earsCanvas","earsTexture","loadSkinImage","inferModelType","loadEarsToCanvasFromSkin","loadAndApplyCape","capeCanvas","capeImage","capeTexture","loadCapeToCanvas","debugSwingArm","_entity_playerObject","playAnimation","entityPlayerId","animation","playerObject1","playerEntityObject","_this_playerEntity2","parseEntityLabel","jsonLike","mojangson","textFromComponent","_component_text","getItemMesh","specificProps","previousModel","textureUv","blockProvider","SCALE","outerGroup","_textureUv_renderInfo","textureThree","SCALE1","setVisible","isPlayerModel","justAdded","_entity_metadata_","_entity_pos","_entity_metadata1","clock","delta","nametag","getGeneralEntitiesMetadata","isInvisible","_mesh_children","textDisplayMeta","getSpecificEntityMetadata","displayTextRaw","nameTagFixed","rawOpacity","armorStandMeta","isSmall","hasArms","hasBasePlate","isMarker","_c_parent","_c_parent1","itemFrameMeta","item1","_itemFrameMeta_item","_entity_metadata2","_e_children_find","_this_itemFrameMaps_existingMapNumber","_c_material_map","existingMapNumber","_item_nbtData_value_map_value","_item_components_find","_itemFrameMeta_rotation","mapNumber","updateEntityPosition","ANIMATION_DURATION","TWEEN","da","headRotationDiff","onAddEntity","maybeRenderPlayerSkin","cameraPos","onRemoveEntity","updateMap","itemFrameMeshes","updateNameTagVisibility","playerTeam","entityTeam","nameTagVisibility","showNameTag","addMapModel","entityMesh","_this_cachedMapsImages","parameters","mapMesh","loadMap","addItemModel","isPlayer","bedrockParentName","itemName","itemObject","handleDamageEvent","damageAmount","clonedMaterial","originalColor","raycastSceneDebug","_intersects_","raycaster","setupPlayerObject","_entity_uuid","_entity_username","PlayerObject","updateEntityEquipment","addArmorModel","elytraTexture","byName","entityData","_entityData_metadataKeys","_entity_metadata","slotType","layer","overlay","removeArmorModel","itemParts","isPlayerHead","itemNbt","textureData","_itemNbt_SkullOwner_Properties_textures_","_itemNbt_minecraftprofile_Properties_find","_decodedData_textures_SKIN","skinTexturesProxy","armorMaterial","_worldRenderer_resourcesManager_currentResources_customTextures_armor_textures_armorTextureName_src","armorTextureName","armorModel","meshName","_item_nbt_value_display_value_color","_item_nbt_value","g","userName","newMap","box","setSkinUVs","setUVs","toFaceVertices","y1","x2","y2","top","bottom","left","front","right","back","uvAttr","uvRight","uvLeft","uvTop","uvBottom","uvFront","uvBack","newUVData","uvArray","uv","CursorBlock","destroyStagesImages","breakMaterial","updateLineMaterial","inCreative","pixelRatio","LineMaterial","updateBreakAnimation","blockPosition","mergedShape","_this_breakTextures_stage","hideBreakAnimation","updateDisplay","setHighlightCursorBlock","shapePositions","lines","LineSegmentsGeometry","wireframe","Wireframe","getItemMetadata","customText","customModel","itemId","customModelDataDefinitions","_resourcesManager_currentResources","_item_displayName","componentMap","customTextComponent","customModelComponent","customModelData","customModelDataComponent","loreComponent","_itemNbt_display","customName","getItemNameRaw","getItemModelName","specificProperties","_getItemDefinition","itemModelName","itemSelector","modelFromDef","appViewer","renderSlot","debugIsQuickbar","_appViewer_resourcesManager_currentResources","fullBlockModelSupport","isItem","getRenamedData","itemTexture","_resourcesManager_currentResources_guiAtlas","_tryGetAtlasTexture","atlas","tryGetAtlasTexture","blockToTopTexture","_r_top","getItemUv","idOrName","blockState","_loadedData_blocksByStateId_blockState","_loadedData_items_idOrName","renderInfo","img","_renderInfo_slice","_ref1","ThreeJsSound","initAudioListener","pitch","timeout","sound","audioLoader","stopAll","changeVolume","individualVolume","playTestSound","CameraShake","onRenderCallbacks","setBaseRotation","yaw","getBaseRotation","shakeFromDamage","startRoll","targetRoll","elapsed","yawQuat","pitchQuat","yawQuat1","rollQuat","finalQuat","easeOut","easeInOut","getThreeJsRendererMethods","prop","descriptionGenerators","description","obtainedFrom","string","getItemDescription","names","RegExp","loadedImagesCache","cleanLoadedImagesCache","jeiCustomCategories","onGameLoad","PItem","mapWindowType","inventoryStart","maybeParseNbtJson","_nbt_simplify","win","_bot_currentWindow","implementedWindow","implementedContainersGuiMap","openWindow","getItemName","Boolean","skipUpdate","_oldSlot","oldItem","newItem","craftingResultSlot","currentSlot","_bot_inventory_slots_i","count","slot","craftingSlots","resultingItem","getResultingRecipe","q","upJei","texturesChanged","upWindowItemsLocal","lastJeiSearch","getImageSrc","getImage","loadPath","image1","imageSrc","ImageBitmap","Image","lastMappedSlots","validateSlot","mapSlots","slots","isJei","newSlots","_lastMappedSlots_i","oldKey","newKey","slotCustomProps","itemCustomName","icon","rest","inGameError","upInventoryItems","isInventory","invWindow","customSlots","onModalClose","unsubscribe","search","matchedSlots","itemsArray","_getItemName","openItemsCanvas","_bot","inv","showInventory","allRecipes","getAllItemRecipes","itemDescription","allItemUsages","getAllItemUsages","skipClosePacketSending","_miscUiState_currentTouch","destroyFn","currentScaling","_activeModalStack_at_reactType","oldOnInventoryEvent","containing","windowIndex","inventoryIndex","isRightClick","isLeftClick","slotItem","_index","isRightclick","_loadedData_itemsByName_slotItem_name","_slotItem_components","_slotItem_removedComponents","_slotItem_metadata","freeSlot","isJeiEnabled","_bot_game","openPlayerInventory","gridRows","inputSlotsItems","blockSlot","currentShape","splitEvery","slotX","_currentShape_otherY","otherY","slotsIngredients","outer","shapelessResult","shapeResult","_loadedData_recipes","recipeVariants","_iteratorError2","_recipeVariant_ingredients","recipeVariant","equals","id1","metadata","ingredientToItem","recipeItem","recipes","results","recipe","resultId","resultCount","resultMetadata","resultItem","ingredients","ingredientsItems","items","ingredients1","ingredientsItems1","foundRecipeIds","row","ideState","registerIdeChannels","registerIdeOpenChannel","registerIdeSaveChannel","CHANNEL_NAME","language","column","IDE_SAVE_CHANNEL_NAME","saveIde","registerBlockModelsChannel","registerMediaChannels","registerSectionAnimationChannels","registeredJeiChannel","registerBlockInteractionsCustomizationChannel","registerWaypointChannels","registerChannel","channelName","packetStructure","handler","waitForWorld","_getThreeJsRendererMethods","worldName","blockPosKey","speedX","speedY","speedZ","limitX","limitY","limitZ","categoryTitle","itemString","noDataPacketStructure","setNumberPacketStructure","seconds","background","opacity","getCurrentTopDomain","MEDIA_INTERACTION_CHANNEL","MEDIA_PLAY_CHANNEL_CLIENTBOUND","MEDIA_STOP_CHANNEL_CLIENTBOUND","sendVideoInteraction","sendVideoPlay","sendVideoStop","reason","videoCursorInteraction","intersectMedia","hostname","isImage","startPosition","ThreeJsMedia","onWorldGone","videoData","onWorldStop","createErrorTexture","createBackgroundTexture","validateOrigin","src","allowOrigins","origin","onPageInteraction","_videoData_video","fromCatch","addMedia","props","_props_rotation","originalProps","structuredClone","video","_props_loop","_props_volume","positionalAudio","_props_volume1","soundSystem","backgroundTexture","handleError","_this_customMedia_get","panel","_this_positionMeshExact","updateUVMapping","sectionY","sectionKey","setVideoPlaying","playing","setVideoSeeking","setVideoVolume","setVideoSpeed","destroyMedia","mediaData","positionMeshExact","debugGroup","startMarker","endX","endZ","endYMarker","endWidthMarker","endCornerMarker","directionHelper","createTestCanvasTexture","addTestMeshExact","rotationNum","plane","tryIntersectMedia","_this_worldRenderer","mouse","intersects","intersection","intersectedObject","WAYPOINT_CONFIG","createWaypointSprite","_options_color","_options_depthTest","_options_label","_options_label1","arrowSprite","depthTest","_options_labelYOffset","sprite","createCombinedSprite","currentLabel","arrowParent","arrowEnabled","_options_position","setColor","newColor","_mat_map","drawCombinedCanvas","mat","setLabel","newLabel","updateDistanceText","label","distanceText","setPosition","updateScaleScreenPixels","cameraPosition","cameraFov","viewportHeightPx","worldUnitsPerScreenHeightAtDist","vFovRad","ensureArrow","size","updateOffscreenArrow","viewportWidthPx","forward","upWorld","upCam","camPos","toWp","aspect","hFovRad","thetaX","thetaY","rx","ry","ndcX","ndcY","clampedPxX","clampedPxY","placeDist","halfPlaneHeight","angle","sPx","computeDistance","dispose","_am_map","am","enableOffscreenArrow","enabled","setArrowParent","parent","updateForCamera","onScreen","centerX","dotY","radius","borderWidth","nameFontPx","distanceFontPx","nameY","distanceY","WaypointsRenderer","updateWaypoints","playerPos","sizeVec","waypoint","waypointPos","addWaypoint","_options_minDistance","minDistance","removeWaypoint","testWaypoint","getWaypoint","getAllWaypoints","setWaypointColor","setWaypointLabel","SkyboxRenderer","initialImage","setSkyboxImage","textureLoader","WorldRendererThree","_WorldRendererThree_getRendererInfo","StarField","worldSwitchActions","_e_headPitch","isPosUpdate","updatePlayerEntity","resetScene","_value_stage","isLeft","holdingBlock","oldTexture","oldItemsTexture","_superprop_get_updateAssetsData","onAllTexturesLoaded","changeBackgroundColor","timeUpdated","newTime","getItemRenderData","demoModel","helper","cursorBlockRel","demoItem","addDebugOverlay","formatBigNumber","Intl","updatePosDataChunk","_key_split_map","chunkDistance","section","cameraSectionPositionUpdate","getDir","finishChunk","_this_waitingChunksToDisplay_chunkKey","handleWorkerMessage","staticChunkMesh","posKey","isWall","signBlockEntity","_posKey_split","sign","posKey1","isWall1","rotation1","headBlockEntity","_posKey_split1","z1","head","_this_waitingChunksToDisplay","_chunkKey","getSignTexture","backSide","textures","texturekey","getCameraPosition","worldPos","getSectionCameraPosition","updateCameraSectionPos","newSectionPos","setFirstPersonCamera","_pos_offset","getThirdPersonCamera","isBack","direction","nearbyChunks","chunkWorldPos","meshes","finalDistance","debugRaycast","hitGeometry","hitMaterial","updateCamera","_this_currentPosTween","_this_currentRotTween","yawOffset","halfPi","_this_currentRotTween1","perspective","currentCameraPos","thirdPersonPos","debugChunksVisibilityOverride","_this_reactiveDebugParams","chunksRenderAboveOverride","chunksRenderBelowOverride","chunksRenderDistanceOverride","chunksRenderAboveEnabled","chunksRenderBelowEnabled","chunksRenderDistanceEnabled","baseY","object1","sizeChanged","cam","fountain","onRender","totalTime","renderHead","_blockEntity_SkullOwner_Properties","_textureData_textures_SKIN","scaleFactor","lineHeight","thickness","rerenderAllChunks","updateShowChunksBorder","getLoadedChunksRelative","includeY","_sectionPos","currentX","currentY","currentZ","o","xRaw","yRaw","zRaw","cleanChunkTextures","_this_chunkTextures_get","readdChunks","disableUpdates","children","_child_children","_$_get","_args","worldStop","shouldObjectVisible","updateSectionOffsets","currentTime","anim","timeDelta","reloadWorld","getRendererInfo","_this_cameraGroupVr","addToScene","positions","colors","sizes","increment","_positions","genStar","StarfieldMaterial","remove","_bot_blockAtCursor","newPos","_window_world_getLoadedChunksRelative","_window_world","xRel","zRel","yRel","_sessionStorage_ignorePackets","oldEmit","packetName","isFromClient","fullOrListener","listener","pattern","packetNameListener","packetListener","attach","_bot1","_bot2","detach","returnobj","blob","Blob","disable","enable","keysToKeep","currentStatsPerSec","waitingStatsPerSec","_waitingStatsPerSec","_label","_waitingStatsPerSec_label","_currentStatsPerSec","updateStatsPerSecAvg","statsPerSecCurrent","lastReset","_statsPerSecCurrent","_name","ws","wsReconnectTimeout","metricsInterval","collectAndSendMetrics","WebSocket","_performance_memory_usedJSHeapSize","metrics","getWebSocketUrl","connectWebSocket","wsUrl","clearTimeout","EntityStatus","updateAutoJump","autoJump","tracker","autoJumpPlugin","playerPerAnimation","checkEntityData","trackBotEntity","lastCall","_getThreeJsRendererMethods1","tracking","isWalking","isSprinting","newAnimation","_appViewer_worldView","damage","entityStatus","updateEntityStates","handleEntityMetadata","packet","entity1","applySkinTexturesProxy","appConfig","updateSkin","entId","team","updateEntityNameTags","doEntitiesNeedUpdating","_appViewer_playerState_reactive_team","_appViewer_playerState_reactive_team1","members","ENTITY_FLAGS","onFire","flagsData","sessionStorage","event","_activeModalStack_at_elem","isInRealGameSession","_e_target","_window_getSelection","ALLOW_TAGS","setImageConverter","buf","mapDownloader","png","health","customStickNbt","tags","cmd","wrapIntoQuotes","writeCmd","unit","valueProp","valueDisplay","disabledReason","throttle","updateOnDragEnd","updateValue","divProps","translate","_useState","setValue","getRatio","_useState1","ratio","setRatio","timeoutRef","useRef","lastValueRef","useEffect","throttledUpdateValue","useCallback","newValue","dragEnd","fireValueUpdate","labelText","SharedHudVars","isLocked","disabledSettings","useCommonComponentsProps","disabledBecauseOfSetting","disableIfSetting","useSnapshot","ignoreReloadWarningsCache","OptionButton","onClick","valueText","optionValue","valuesTitlesMap","useMemo","titleCase","noCase","Button","getOptionValue","currentIndex","nextIndex","toCacheKey","showOptionsModal","arrItem","reconnectReload","result2","reloadChunksAction","OptionSlider","Slider","OptionElement","RenderOption","gameLoaded","_item","baseElement","backButtonAction","Screen","_element_id","sillyProtection","protectRuntime","sensetiveKeys","_$proxy","dbPromise","openDB","db","_saveClientModData","modsReactiveUpdater","_getPlugin","_getAllMods","_deletePlugin","_saveRepository","_getRepository","_getAllRepositories","_deleteRepository","getAllRepositories","React","valtio","valtioUtils","activateMod","style","_window_loadedMods","_mod_name","blob1","url1","_window_loadedMods1","_mod_name1","module1","getModSettingsProxy","e1","appStartup","mods","checkModsUpdates","getAllMods","_modsErrors","modsErrors","modsUpdateStatus","modsWaitingReloadStatus","normalizeRepoUrl","installOrUpdateMod","repo","fetchData","urls","errored","urlTemplate","modNameOnly","modFolder","saveClientModData","checkRepositoryUpdates","modExisting","getPlugin","gt","fetchRepository","urlOriginal","fetchUrl","hasMirrors","getRepository","saveRepository","fetchAllRepositories","repositories","allUrls","isLast","appStorage","autoRefreshModRepositories","lastCheck","installModByName","repoUrl","uninstallModAction","choice","deletePlugin","setEnabledModAction","newEnabled","_window_loadedMods_mod_name","_window_loadedMods_mod_name1","getAllModsDisplayList","repos","installedMods","modsWithoutRepos","mapMods","_installedMods_find","removeRepositoryAction","deleteRepository","selectAndRemoveRepository","addRepositoryAction","showInputsModal","getServerPlugin","plugin","getAvailableServerPlugins","getAllModsModifiableFields","_options_","setting","ops","op","_op","callMethodAction","modName","importData","_data__about","input","presentTypes","importChoices","importedTypes","shouldMerge","key1","existingIps","newServers","uniqueProxies","existingAccounts","newAccounts","_input_files","_","customKeymaps","exportData","_appStorage_proxiesData","_appStorage_proxiesData1","fileName","getChangedSettings","guiOptionsScheme","frameLimitValue","frameLimitMax","setFrameLimitMax","newVal","getScreenRefreshRate","Category","_renderByChunks","sp","resourcePackInstalled","resourcePackState","usingServerResourcePack","enabledResourcepack","choices","getResourcePackNames","resourcepackReload","completeResourcepackPackInstall","uninstallResourcePack","modsUpdateSnapshot","clientMods","setClientMods","enabledModsCount","_appConfig_supportedLanguages","newLang","UiToggleButton","_useSnapshot","touchInteractionType","touchMovementType","cookieStorage","versionAutoSelect","serversAutoVersionSelect","allVersions","active","packetsRecordingState","hasRecordedPackets","downloadPacketsReplay","addUiText","disabledUiParts","currentlyDisabled","newDisabledUiParts","tryFindOptionConfig","option","optionConfig","customCommandsConfig","_param","command","action","getBase","value1","Function","useIsWidgetActive","selected","setSelected","allSignsPos","signs","FullScreenWidget","ModuleSignsViewer","gamepadUiCursorState","moveGamepadCursorByPx","isX","valueToPercentage","hasModals","_useSnapshot1","usingGamepadInput","doDisplay","motionState","motionVelocity","lastUpdate","lastYaw","lastPitch","updateMotion","yawDiff","pitchDiff","velocity","velocityVector","cameraQuat","velocityContribution","motionEnabled","initMotionTracking","useUiMotion","ref","el","onCameraMove","mouseSensX","mouseSensY","moveCameraRawHandler","_appViewer_backend","maxPitch","minPitch","pointerLockChangeCallback","pointerLock","playersLists","clientId","tablistHeader","tablistFooter","serverIP","MessageFormattedString","list","_player_displayName","_player_uuid","tabListState","_lastConnectOptions_value","isOpen","serverIp","setClientId","players","setPlayers","_useState2","setCounter","requestUpdate","_bot_players","_bot_player","_bot_player1","playerlistHeader","prev","playersArray","totalPlayers","numColumns","playersPerColumn","lists","startIdx","endIdx","PlayerListOverlay","PlayerStateControllerMain","onBotCreatedOrGameJoined","_bot_username","botCreated","handleDimensionData","hasSkyLight","updateSneakingOrFlying","updateMovementState","isOnGround","updateHeldItem","blockProperties","startUsingItem","stopUsingItem","getItemUsageTicks","watchReactive","controlOptions","contro","ControMax","isCommandDisabled","_miscUiState_appConfig_disabledCommands","stick","updateBinds","updateDoPreventDefault","setSprinting","isSpectatingEntity","soleVector","gamepadIndex","emitMousemove","coordToAction","_coordToAction_find","coord","mapV","lastCommandTrigger","secondActionCommands","toggleFly","xAbs","yAbs","MouseEvent","lastClickedEl","inModalCommand","pressed","cameraRotationControls","movement","directionMap","setSneaking","onTriggerOrReleased","stringStartsWith","onF3LongPress","alwaysPressedHandledCommand","_toggleMicrophoneMuted","lockUrl","newQs","worldFolder","qs","_lastConnectOptions_value1","server","botVersion","cycleHotbarSlot","newHotbarSlot","_contro_userConfig","_command_split","willContinue","commandToTrigger","chatInputValueGlobal","selectItem","goFullscreen","_activeModalStack_at","isActive","f3Keybinds","reloadChunks","widgetNames","widget","widgets","nextGameMode","switchGameMode","uuid","playerPing","proxyPing","copyServerResourcePackToRegular","f3Keybind","_keybind_enabled1","keybind","isFlying","startFlying","sendAbilities","endFlying","onBotCreate","_getItemFromBlock","commands","_commands_custom","actions","_value_keys","_value_gamepad","addEventListener","_e_target_matches","Event","link","date","actionNames","select","_f3Keybind_enabled1","handleMobileButtonCustomAction","_customCommandsConfig_action_type","triggerCommand","isDown","handleMobileButtonActionCommand","commandValue","handleMobileButtonLongPress","actionHold","loadAppConfig","_appViewer","qsOptions","defaultsDeep","setStorageDataOnAppConfigLoad","preventThrottlingWithSound","oscillator","abortController","maybeGoBackgroundKickPrevention","unsub","requestWakeLock","cursorBlockDisplay","bot1","updateCursorBlock","shape","createMouse","domListeners","otherListeners","isOffhand","videoInteraction","botInit","clientWrite","curI","onPong","received","pingId","_bot_player_ping","curId","BigInt","getAppLanguage","packetsPatcher","lastConnectOptions","ping","localRelayServerPlugin","parseServerAddress","address","removeHttp","port","host","tabs","activeTab","labels","onTabChange","fullSize","disabledTabs","tab","_labels_tab","useIsSmallWidth","useMedia","SMALL_SCREEN_MEDIA","useCopyKeybinding","getCopyText","useUtilsEffect","activeElement","HTMLInputElement","HTMLTextAreaElement","copyText","signal","useIsHashActive","setIsActive","checkHash","removeEventListener","GroupHeader","expanded","onToggle","isFocused","lastPlayed","detail","onFocus","onInteraction","iconSrc","formattedTextOverride","worldNameRight","worldNameRightGrayed","afterTitleUi","elemRef","offline","timeRelativeFormatted","formatter","minutes","hours","days","sizeFormatted","filesize","classNames","missingWorldPreview","PixelartIcon","_worldData_defaultSelectedRow_name","_worldData_selectedRow","worldData","onGeneralAction","onWorldAction","firstRowChildrenOverride","serversLayout","searchRowChildrenOverride","activeProvider","setActiveProvider","providerActions","providers","disabledProviders","isReadonly","warning","warningAction","warningActionLabel","hidden","onRowSelect","defaultSelectedRow","selectedRow","listStyle","setListHovered","secondRowStyles","lockedEditing","retriggerFocusCounter","containerRef","firstButton","worldRefs","useTypedEventListener","elements","focusable","focusedElemIndex","nextElem","setSearch","focusedWorld","setFocusedWorld","expandedGroups","setExpandedGroups","_worldRefs_current_worldName","onRowSelectHandler","isSmallWidth","toggleGroup","groupName","Input","Tabs","Fragment","filtered","_expandedGroups_groupName","_expandedGroups_groupName1","interaction","_firstButton_current","_defaultValue_label","_defaultValue_label1","initialOptions","updateOptions","getCssOnInput","onValueChange","containerStyle","placeholder","disabled","inputValue","setInputValue","currValue","setCurrValue","inputStyle","setInputStyle","_useState3","isFirstClick","setIsFirstClick","Creatable","_e_value","_e_value1","_e_value2","_getCssOnInput","base","getInitialProxies","_miscUiState_appConfig","proxies","getCurrentProxy","getCurrentUsername","_appQueryParams_username","_snap_proxiesData","_snap_serversHistory","joinServer","onProfileClick","setQuickConnectIp","snap","_React_useState","setServerIp","_React_useState1","setSave","_React_useState2","activeHighlight","setActiveHighlight","updateProxies","newData","setUsername","getActiveHighlightStyles","initialProxies","proxiesData","Singleplayer","checked","Select","newSel","serverName","hovered","pingServerVersion","ip","mergeOptions","fakeClient","latency","fullInfo","clientAutoVersion","_err_message","CHAT_VALIDATE_PACKETS","validatePacket","fullBuffer","isFromServer","maxDepth","getObjectMaxDepth","currentDepth","CustomDuplex","writeAction","_read","_write","encoding","Duplex","getWebsocketStream","baseProtocol","hostClean","clientDuplex","UserError","lastPacketTime","MinecraftProtocolError","cause","onClientError","reportError","packetMeta","getServerInfo","preferredVersion","progressReporter","setProxyParams","stream","isWebSocket","setProxy","getDefaultProxyParams","_get","proxyParams","_proxyParams_address","https","parsedProxy","_proxyParams","net","renamedBlocksInteraction","outputInteractionShapesJson","interactionShapes","versionFrom","collisionShapesInit","renamedBlocks","dieReasonMessage","respawnCallback","disconnectCallback","MessageFormatted","dieReasonProxy","isModalActive","useIsModalActive","messageParsed","DeathScreen","finalItemsScheme","optionsArr","optionsObj","optionKey","metaMerge","OptionsItems","_useSnapshot_at","reactType","settingsGroup","OptionsGroup","HTTPS_REGEX","SPLASH_CACHE_KEY","limitWords","words","isRemoteSplashText","loadRemoteSplashText","timeoutId","clonedResponse","json","jsonError","cacheSourceUrl","clearSplashCache","cacheSplashText","initialTooltip","alwaysTooltip","localStorageKey","showTooltips","setShowTooltips","arrowRef","_useFloating","arrow","offsetMiddleware","ARROW_HEIGHT","refs","floatingStyles","context","FloatingArrow","preventDefault","touchEvent","onLongPress","shouldPreventDefault","longPressTriggered","setLongPressTriggered","DiscordButton","links","DropdownButton","setIsOpen","autoPlacement","PauseLinkButtonsInner","pauseLinksConfig","renderButton","button","_button_text","openGithub","k","ErrorBoundary","httpsRegex","connectToServerAction","mapsProvider","singleplayerAction","optionsAction","openFileAction","githubAction","versionText","onVersionTextClick","versionStatus","versionTitle","onVersionStatusClick","bottomRightLinks","singleplayerAvailable","splashText","cachedText","configSplashFromApp","isRemote","sourceKey","storedSourceKey","fetchedText","linksParsed","l","singleplayerLongPress","useLongPress","versionLongPress","buildDate","hoursAgo","connectToServerLongPress","ButtonWithTooltip","haveDirectoryPicker","PauseLinkButtons","CreditsBookButton","isMainMenu","refreshApp","failedUpdate","registration","_window_clients","clients","mainMenuState","disableAnimation","haveModals","fsReady","noDisplay","setVersionStatus","setVersionTitle","f","isLatest","upStatus","mapsProviderUrl","AnimatePresence","motion","MainMenu","overridePeerJsServer","getJoinLink","copyJoinLink","joinLink","openToWanAndCopyJoinLink","writeText","doCopy","_miscUiState_appConfig1","peer","fallbackServer","hasFallback","hadErrorReported","parseUrl","Peer","connection","serverDuplex","Client","endConnection","disconnected","urlObj","closeWan","connectToPeer","peerId","resolveTimeout","_addFolderToZip","folderPath","zip","relativePath","entries","entry","entryPath","zipEntryPath","subZip","fileData","addFolderToZip","exportWorld","zipName","zipContent","downloadLink","dest","levelDat","JSZip","readLevelDat","exportLoadedWorld","_window_cursorBlockRel","formatted","tryHandleBuiltinCommand","_message_split","userCommand","CLIENT_ID","SCOPES","APP_ID","GoogleDriveProvider","GoogleOAuthProvider","useGoogleLogIn","login","useGoogleLogin","tokenResponse","googleProviderState","accessDenied","possiblyHandleStateVariable","stateParam","tokenClient","loadGoogleDriveApi","loadInMemorySave","worldsProxy","getWorldsPath","providersEnableFeatures","readWorlds","brokenWorlds","loggedIn","worldsPath","provider","newMappedWorlds","folder","_levelDat_Version_Name","levelDatStat","region","iconBase64","iconPath","levelName","longArrayToNumber","getScore","_x_lastModified","worldPath","Inner","gapi","_obj","selectedProvider","selectedGoogleId","readWorldsAbortController","googleDriveReadonly","exists","googleLogIn","googlePicker","_googlePicker_current","selectGoogleFolder","google","view","isGoogleProviderReady","GoogleButton","isGoogleDriveAvailable","brokenWorld","openInGoogleDrive","selectedVariant","fileId","versions","onChange","parsedsupportedVersions","parsedValue","compareVersions","num1","num2","minVersion","maxVersion","worldTypes","gameModes","creatingWorldState","cancelClick","createClick","customizeClick","defaultVersion","quota","setQuota","gameMode","plugins","_navigator_storage","usage","SelectGameVersion","availableServerPlugins","availableModNames","WorldCustomize","backClick","activeCreate","activeCustomize","defaultLocalServerOptions","CreateWorld","loadPluginsIntoWorld","CustomEvent","content","hideOnModals","fullScreen","setFullScreen","activeStack","inMainMenu","usingTouch","useUsingTouch","hideButton","mineflayerPluginHudState","parseTextWithIcons","currentText","endBrace","iconName","TextElement","css","onTab","motionRef","innerRef","ImageElement","ui","mineflayerConsoleState","MessageLine","messageClass","opened","messages","replEnabled","consoleEnabled","onExecute","consoleInput","consoleMessages","scrollToBottom","useScrollBehavior","_consoleInput_current","updateInputValue","code","viewerVersionState","getViewerVersionData","_result_takeoverMode","openWebsocket","oldWrite","_parsed_clientIgnoredPackets","ev","getWsProtocolStream","handleCustomChannel","toCleanup","send","lils","gui","existingIndex","paramName","gui1","controller1","buttons","Gui","_update_data","paramNames","onBotCreatedViewerHandler","originalSetControlState","control","setMessages","isChatActive","lastMessageId","lastPingTime","chatSelect","messagesLimit","chatOpacity","chatOpacityOpened","chatVanillaRestrictions","debugChatScroll","chatPingExtension","forwardChat","viewerConnection","jsonMsg","messageText","newMessage","Chat","builtinHandled","validation","_validation_invalid","getServerIndex","updateLoadedServerData","_server","password","notificationProxy","triggerKind","completeValue","_items_","getBuiltinCommandsList","subtitle","actionBar","transitionTimes","openTitle","openActionBar","mounted","setMounted","defaultText","defaultTimings","ticksToMs","ticks","getComponent","setTitle","setSubtitle","setActionBar","animTimes","setAnimTimes","_useState4","setOpenTitle","_useState5","setOpenActionBar","mes","Title","Scoreboard","open","reactKeyForMessage","ScoreboardProvider","setItems","setOpen","updateSidebarScoreboard","addStatPerSec","markdown","md","remark","ast","transformToMinecraftJSON","transformedChildren","handleInput","ProseMirrorView","handleClick","isWysiwyg","prosemirrorContainer","editorView","formattedText","markdownToFormattedText","_item_match","setLocation","isFrontText","setIsFrontText","enableWysiwyg","setEnableWysiwyg","proseMirrorView","setProseMirrorView","_packet_isFrontText","SignEditor","smallSymbols","largeSymbols","addLength","letter","formatTime","remainingSeconds","formattedMinutes","formattedSeconds","EffectBox","level","initialTime","setCurrentTime","timeRemaining","formattedTime","levelText","romanNumerals","defaultIndicatorsState","indicatorIcons","colorOverrides","indicators","effects","displayIndicators","displayEffects","indicatorsMapped","indicator","_colorOverrides_indicator_key","EffectsInner","effect","images","absorption","glowing","instant_health","nausea","slow_falling","weakness","bad_omen","haste","invisibility","night_vision","slowness","wither","blindness","health_boost","jump_boost","poison","conduit_power","hero_of_the_village","levitation","regeneration","strength","dolphins_grace","hunger","luck","resistance","unluck","fire_resistance","instant_damage","mining_fatigue","saturation","water_breathing","darkness","addEffect","newEffect","_effectData_name","_images_nameKebab","effectData","effectIndex","getEffectIndex","removeEffect","setDummyState","stateIndicators","chunksLoading","mesherWork","hasErrors","openReadOperations","openWriteOperations","noConnection","poorConnection","allIndicators","nameKebab","gotEffect","_bot_entity_effects","IndicatorEffects","INVISIBLE_BLOCKS","toggleFullMap","grid","setGrid","zoomRef","redraw","setRedraw","lastWarpPos","setLastWarpPos","stateRef","cells","isWarpInfoOpened","setIsWarpInfoOpened","initWarp","setInitWarp","warpPreview","setWarpPreview","updateGrid","_zoomRef_current_instance_wrapperComponent","wrapperRect","columns","cellSize","rows","leftBorder","topBorder","newGrid","col","TransformWrapper","TransformComponent","cellCoords","_wrapperRect_width","_wrapperRect_height","_cellCoords_split_map","playerChunkLeft","playerChunkTop","MapChunk","WarpInfo","worldX","worldZ","touchTimer","canvasRef","longPress","clientX","clientY","_getXZ","mapX","mapZ","warp","getXZ","_adapter_mapDrawer_mapPixel","rect","factor","handleMouseMove","handleRedraw","_canvasRef_current","_canvasRef_current1","_canvasRef_current2","_canvasRef_current3","_canvasRef_current4","_warpPos_x","_warpPos_y","_warpPos_z","_warp_x","_warp_z","_warp_disabled","warpPos","afterWarpIsSet","setWarp","posInputStyle","fieldCont","updateChunk","quickTp","thisWarp","showMinimap","showFullmap","singleplayer","fullMap","displayMode","full","canvasTick","rotateMap","requestIdleCallback","_adapter_mapDrawer","updateWarps","Fullmap","MinimapDrawer","loadChunk","warps","loadingChunksQueue","chunksStore","setMapPixel","draw","_this_loadingChunksQueue","updateChunksInView","viewX","viewZ","worldCenterX","worldCenterZ","leftViewBorder","rightViewBorder","topViewBorder","bottomViewBorder","drawChunk","chunkInfo","chunkCanvasX","chunkWorldX","chunkCanvasY","chunkWorldZ","_chunk_colors_index","pixelX","pixelY","drawPixel","clearChunksStore","setWarpPosOnClick","mousePos","drawWarps","centerPos","_centerPos_x","_centerPos_z","_centerPos_z1","_centerPos_x1","_warp_color","circleDist","circleZ","circleX","drawPartsOfWorld","angleS","angleW","angleE","drawPlayerPos","canvasWorldCenterX","canvasWorldCenterZ","disableTurn","center","mapSize","findHeightMap","DrawerAdapterImpl","regionX","regionZ","regionKey","_this_regions_get_read","RegionFile","readX","readZ","rawChunk","heightmap","simplify","_lastConnectOptions_value_server","_lastConnectOptions_value_username","storageWarps","BlockData","blockKey","renamedKey","unsubscriber","overwriteWarps","newWarps","getHighestBlockY","minY","getChunkSingleplayer","loadChunkMinimap","blockX","blockZ","loadChunkNoRegion","blockY","loadChunkFromRegion","getChunkHeightMapFromRegion","loadChunkFromViewer","highestBlocks","hBlock","_hBlock_y","applyShadows","_chunk_heightmap_","_chunk_heightmap_1","_chunk_heightmap_2","_chunk_heightmap_3","_chunk_heightmap_4","_chunk_heightmap_5","isLighterOrDarker","ur","dl","linkedIndex","linkedColor","makeDarker","_color_match_map","rgbArray","makeLighter","_BlockData_colors_preflatMap_blocks__replaceAll","_preflatMap_blocks_","_this_blockData_get","blockNamePieces","keys","piece","match","drawChunkOnCanvas","TypedEventEmitter","Minimap","fullMapOpened","getEffectClass","barEffectAdded","htmlElement","effectClass","barEffectEnded","isHardcore","damaged","healthValue","effectToAdd","effectToRemove","resetEffects","healthRef","hearts","healthElement","heart","food","foodRef","foodbar","foods","food1","armorValue","armorRef","armors","armorElement","oxygen","breathRef","breathbar","breaths","breath","setDamaged","setHealthValue","setFood","setOxygen","setArmorValue","setGameMode","_useState6","setIsHardcore","_useState7","setEffectToAdd","_useState8","setEffectToRemove","hurtTimeout","onDamage","updateHealth","hValue","upArmour","armorSlots","points","_armor_armorName__armorName_","_bot_inventory_slots_slotIndex","slotIndex","armorName","HealthBar","ArmorBar","FoodBar","BreathBar","gamemode","setProgress","setLevel","setGamemode","onXpUpdate","XPBar","getFixedFilesize","bytes","prettyBytes","isInterestedInDownload","map","texturepack","replayFileUrl","mapDir","inner","downloadAndOpenMapFromUrl","mapUrl","texturepackUrl","mapUrlDir","_response_headers","_response_headers1","contentLength","filename","downloadedBytes","mapUrlDirGuess","mapUrlDirBaseUrl","downloadThing","response1","contentType","contentLengthStr","contentLength1","downloadedBytes1","buffer1","name1","Response","ReadableStream","reader","done","decoder","TextDecoder","_modelInfo_modelNames_","_loadedData_biomesArray_biomeId_name","_appViewer_backend_getDebugOverlay_left","_appViewer_backend2","_appViewer_backend_getDebugOverlay_right","_appViewer_rendererState_renderer","defaultPacketsCount","sent","receivedTotal","packetsCountByNamePerSec","packetsCountByNamePer10Sec","packetsCountByName","ignoredPackets","packetsString","setPacketsString","showDebugHud","setPos","skyL","setSkyL","blockL","setBlockL","biomeId","setBiomeId","day","setDay","setTimeOfDay","dimension","setDimension","cursorBlock","setCursorBlock","_useState9","blockInfo","setBlockInfo","_useState10","clientTps","setClientTps","_useState11","serverTps","setServerTps","minecraftYaw","minecraftQuad","rendererDevice","readPacket","_buf","managePackets","_packetsCountByName_current_type","_packetsCountByNamePerSec_current_type","_packetsCountByNamePer10Sec_current_type","_name1","_name2","hardcodedListOfDebugPacketsToIgnore","lastTpsReset","lastTps","lastTickDate","updateTps","packetsUpdateInterval","freqUpdateInterval","notFrequentUpdateInterval","quadsDescription","idx","issue","elRef","mobileButtonsConfig","longPressTimerIdRef","actionToShortPressRef","showMobileControls","watchValue","getButtonClassName","actionForStyle","className","onPointerUp","wasShortPressHandled","setProxyPing","serverPing","setServerPing","isProxyStale","setIsProxyStale","isServerStale","setIsServerStale","proxyTimeoutRef","serverTimeoutRef","setProxyPingWithTimeout","setServerPingWithTimeout","updatePing","updateServerPing","updateProxyPing","proxyUrl","pingTotal","waitForPotentialRender","saveToBrowserMemory","_Math1","_Math2","_Math3","saveRootPath","allRootPaths","allFilesToCopy","pathsSplitBasic","isRegionFiles","upProgress","copyFiles","regionFiles","regionFilesNumbers","xMin","zMin","xMax","zMax","playerPosRegion","maxDistantRegion","filesWithSpiral","usedServerPathsV1","dirBase","_allFilesToCopy","_path_split_at_split_slice_map","totalSize","copyPaths","totalSIze","copyFileGroup","copyPath","srcPath","regionFile","splitByCopySize","spiral","copySize","cur","lockConnect","fsStateSnap","wanOpened","wanOpening","packetsReplaceActive","packetsReplaceHasRecordedPackets","displayPacketsButtons","_useSnapshot2","handlePointerLockChange","clickWebShareButton","shareData","clickJoinLinkButton","qr","openWorldActions","saveName","NetworkStatus","_navigator_userAgentData_platform","platform","body","currentHost","_$options","LoadingTimer","SoundRow","isMuted","mutedSounds","showMuted","setShowMuted","setI","lastPlayedSounds","modals","LeftTouchArea","RightTouchArea","InnerSearch","currentTouch","displaySearchInput","useInterfaceState","actionAndState","getCurrentAppScaling","parseFloat","getComputedStyle","joystickPointer","handleMovementStickDelta","setupActive","closeButtonsSetup","foregroundGameActive","touchControlsPositions","touchControlsSize","selectedButton","setSelectedButton","joystickOuter","joystickInner","pointer","newButtonPositions","buttonProps","holdDown","holdUp","pointerup","pointerToggledUpdate","setupPointer","buttonsPositions","xPerc","yPerc","Z_INDEX_INTERACTIBLE","MineIcon","TouchAreasControls","newPositions","watchUnloadForCleanup","func","ItemName","itemKey","setShow","setItemName","defaultStyle","customDisplay","HotbarInner","_appConfig_disabledCommands","container","setItemKey","mobileOpenInventory","setSize","canvasManager","mouseButton","hotbarSlot","upHotbarItems","_appViewer_resourcesManager","setSelectedSlot","_bot_inventory_slots","heldItemChanged","_item_components","_exec","_exec_","numPressed","touchStart","Portal","_bot_game_gameMode","to","createPortal","itemBeingUsed","usingItem","displayIndicator","setDisplayIndicator","indicatorProgress","setIndicatorProgress","alternativeIndicator","setAlternativeIndicator","displayBar","maxTime","isFood","indicatorSize","ButtonProvider","_response_raw_srv_record","fetchServerStatus","isServerValid","isInLocalNetwork","VALID_IP_OR_DOMAIN","_fetchServerStatus","versionOverride","_data_version","_data_motd_raw","_data_players_online","_data_players_max","versionClean","ScaleContext","createContext","UIProvider","usePassesScaledDimensions","minWidth","minHeight","useContext","conditions","media","_ref2","_ref3","_ref4","_versions_map","_fallbackIfNotFound","onBack","onConfirm","initialData","parseQs","onQsConnect","placeholders","accounts","isSmallHeight","qsParamName","qsParamIp","qsParamVersion","qsParamProxy","qsParamUsername","qsParamLockConnect","parsedQsIp","parsedInitialIp","setServerName","setVersionOverride","_React_useState3","proxyOverride","setProxyOverride","_React_useState4","usernameOverride","setUsernameOverride","smallWidth","initialAccount","_React_useState5","accountIndex","setAccountIndex","noAccountSelected","authenticatedAccountOverride","freshAccount","ipFinal","commonUseOptions","_React_useState6","fetchedServerInfoIp","setFetchedServerInfoIp","_React_useState7","serverOnline","setServerOnline","_React_useState8","onlinePlayersList","setOnlinePlayersList","checkServer","_status_raw_players_list_map","serverExamples","example","InputWithLabel","MINECRAFT_USERNAME_REGEX","account","ButtonWrapper","displayConnectButton","_props","INPUT_LABEL_WIDTH","fallbackIfNotFound","firstProtocolVersion","lastProtocolVersion","protocolSupportedVersions","appSupportedVersions","normalizeIp","customServersList","serverEditScreen","setServerEditScreen","authenticatedAccounts","quickConnectIp","selectedIndex","setSelectedIndex","setRetriggerFocusCounter","_savedServersListWatchOnly","serversListProvided","_appStorage_serversList_filter","_row_split","_ip_split","additionalServerData","setAdditionalServerData","handleKeyDown","_e_target_tagName","newIndex","newList","serversListSorted","_miscUiState_appConfig_promoteServers","isEditScreenModal","queue","activeRequests","lastRequestStart","_pingResult_fullInfo_players_online","_pingResult_fullInfo_players_max","pingResult","old","FETCH_DELAY","useDidUpdateEffect","editModalJsx","AddServerOrConnect","_appStorage_serversList","_appStorage_serversList1","lastJoined","dispatchEvent","serversListJsx","ServersList","overridesOrIp","_serversListProvided_find","authenticatedAccount","_authenticatedAccounts_find","_overrides_versionOverride","shouldSave","msAuth","indexOrIp","lastJoinedUsername","promptUsername","prompt","newServersList","setNewServersList","thisItem","_server_versionOverride","_server_usernameOverride","_additional_textNameRight","_additional_textNameRightGrayed","additional","handleShare","shareUrl","MESSAGE","EXPLICIT_SHARE_SERVER_MODE","serverIndex","serversListQs","setCustomServersList","isJson","hasServersListModal","modalStack","editServerModalActive","isServersListModalActive","eitherModal","customCommands","updateCurrBind","resetBinding","_useContext","Context","userConfig","setUserConfig","customConfig","setCustomConfig","addNewCommand","isNaN","newCustomConf","commandData","indexOption","CustomCommandContainer","_userConfig_custom_commandKey","_userConfig_custom_commandKey1","groupData","_commandData","commandKey","gamepad","inputs","_groupData","indexInput","_inputs_indexInput","ButtonWithMatchesAlert","_parseBindingName","binding","keyboard","layoutMap","cut","mapKey","val","isPS","bindName","setBindName","_setBind","bind","parseBindingName","buttonsMap","setBind","_userConfig_custom","bindsMap","awaitingInputType","setAwaitingInputType","setGroupName","actionName","setActionName","buttonNum","setButtonNum","BindingActionsContext","setCustomCommands","setBinding","buttonIndex","_newConfig_group","_newConfig_group_command","_data_code","_newConfig","_group","_command","_type","inputType","_userConfig_group","updateBindMap","updateBinding","pressedModifiers","currKeys","_userConfig_group_action","_bindsMap_current_keyboard","_userConfig_group_action1","_bindsMap_current_gamepad","_currButtons_","currButtons","_document_activeElement","AwaitingInputOverlay","_userConfig_group_action_keys","_userConfig_group_action_gamepad","parseActionName","KeybindingsCustom","_userConfig_group_action_","buttonSign","setButtonSign","_userConfig_group_action_type","_gamepad_","customValue","Keybinding","isGamepad","KeyboardEvent","bindingActions","_navigator_getGamepads1","bindActions","hasPsGamepad","gp","KeybindingsScreen","dataUrl","setDataUrl","updateHeldMap","_item_nbt_value_map_value","_bot_mapDownloader_maps","componentActive","checkModalAvailability","withWildCardModal","watchedModalsFromHooks","hardcodedKnownModals","loginLink","connectingServer","expiresEnd","setSaveToken","defaultSaveToken","onCancel","directLink","timeLeft","setTimeLeft","QRCodeSVG","signInMessageState","expiresOn","shouldSaveToken","signInTestModal","SignInMessage","textPages","editable","onSign","onEdit","onClose","author","pages","setPages","currentPage","setCurrentPage","isSinglePage","setIsSinglePage","singlePageInsideIcon","insideIcon","insideImage","setInsideImage","animateInsideIcon","setAnimateInsideIcon","animatePageIcon","setAnimatePageIcon","animateTitleIcon","setAnimateTitleIcon","signClickedOnce","setSignClickedOnce","textAreaRefs","inputRef","handleResize","isSingle","handlePageChange","prevPage","updatePage","prevPages","updatedPages","handleTextChange","pageIndex","_textAreaRefs_current_nextPageIndex","_textAreaRefs_current_","nextPageIndex","_textAreaRefs_current_index","handlePaste","pasteText","selectionStart","selectionEnd","newText","remainingText","handlePasteRemainingText","focusOnTextArea","handleSign","_inputRef_current","handleEdit","handleCancel","getAnimationClass","animationState","baseClass","renderPage","modalActive","openedBook","setOpenedBook","signEditBook","openBookWithNbt","_parsedData_title","_parsedData_author","book","parsedData","page","_parsedPage_text","_item_nbt","Book","divs","bar","bossBarStyles","setBossBarStyles","fillStyles","setFillStyles","div1Styles","setDiv1Styles","div2Styles","setDiv2Styles","_bar__title","prevStyles","bossBars","setBossBars","addBossBar","bossBar","prevBossBars","removeBossBar","newBossBars","BossBar","ModListItem","hasError","ModSidebar","_mod_installed","_errors_mod_name","editingField","setEditingField","handleAction","errorMessage","modifiableFields","field","handleSaveField","newContents","EditingCodeWindow","fields","_ref_current","_modsData_repos_length","modsData","setModsData","showOnlyInstalled","setShowOnlyInstalled","showOnlyEnabled","setShowOnlyEnabled","selectedModIndex","setSelectedModIndex","expandedRepos","setExpandedRepos","useHorizontalLayout","counter","allModsArray","defaultRepo","toggleRepo","modFilter","_mod_description","matchesSearch","matchesInstalledFilter","matchesEnabledFilter","filteredMods","filteredModsCount","totalRepos","selectedMod","refreshButton","setMode","GameInteractionOverlayInner","zIndex","setJoystickOrigin","updateJoystick","overlayRef","_window_visualViewport","virtualClickTimeout","cameraControlEl","virtualClickActive","screenTouches","capturedPointer","pointerUpHandler","_joystickPointer_pointer","_capturedPointer_active","_bot_heldItem","heldItemName","isOnlyActivatable","isItemActivatableMobile","_bot_heldItem1","heldItemName1","isOnlyActivatable1","gonnaAttack","useButton","clickedEl","usingModernMovement","supportsPressure","sourceX","sourceY","lastX","xDiff","yDiff","detectAndResetZoom","visualViewport","viewport","OverlayElement","divRef","GameInteractionOverlay","wildcardToRegExp","escaped","patternToRegExp","parseFilterString","filter","include","exclude","filterPackets","_parseFilterString","DARK_COLORS","FilterInput","hiddenCount","shownCount","onClearFilter","clientPacketsAutocomplete","serverPacketsAutocomplete","showAutocomplete","setShowAutocomplete","allSuggestions","currentWord","filteredSuggestions","acceptSuggestion","suggestion","isClient","formatters","_data_chunkData","_data_blockEntities","sizeOfChunk","blockEntitiesCount","processPacketDataForLogging","formatTimeDiff","PacketList","maxHeight","listRef","expandedPacket","setExpandedPacket","prevTimestamp","_formatters_packet_name1","timeDiff","padNumber","ProgressBar","total","ReplayPanel","replayName","isPlaying","defaultFilter","customButtons","onPlayPause","onRestart","onSpeedChange","onFilterChange","onCustomButtonToggle","setFilter","packetsReplayState","isMinimized","isRecording","_filterPackets","filteredPackets","playPauseButton","baseContainerStyle","buttonId","tooltip","PacketsReplayProvider","_appQueryParams_replayFilter","_autocomplete_client","_autocomplete_server","autocomplete","onChangeButtonState","hintText","setHintText","setEntityName","cursorState","voiceChatStatus","Icon","muted","hasInputVoice","isSharingScreen","isConnected","isErrored","isAlone","connectText","pressedKeys","setPressedKeys","setActions","handleKeyUp","newSet","handleBlur","handleControTrigger","handleControReleased","stateColors","chunks","playerChunk","maxDistance","tileSize","selectedChunk","setSelectedChunk","showSidebar","setShowSidebar","gridSize","processedChunks","relX","relZ","playerX","setPlayerX","playerZ","setPlayerZ","setUpdate","up","allLoadTimes","_chunk_loads__time","allSpiralChunks","mapChunk","_chunk_loads_","_chunk_loads","firstLoadTime","loadIndex","timeSinceFirstLoad","line2","chunksWaitingServer","loadedSectionsChunks","_sectionPos_split_map","chunksWaitingClient","clientProcessingChunks","chunksDoneEmpty","chunksDone","chunksWaitingOrder","allChunks","ChunksDebug","isPointerDown","setIsPointerDown","handlePointerDown","handlePointerUp","RendererDebugMenu","_reactiveDebugParams_chunksRenderAboveOverride","_reactiveDebugParams_chunksRenderBelowOverride","reactiveDebugParams","stopRendering","disableEntities","rendererPerfDebugOverlay","roundToStep","topRightTimeDisplay","FullscreenTime","setTime","batteryInfo","setBatteryInfo","updateTime","timeInterval","battery","updateBatteryInfo","getBatteryIcon","charging","formatTimestamp","timestamp","conflicts","getStorageConflicts","clampText","conflictText","conflict","localTime","cookieTime","resolveStorageConflicts","fireTextures","setFireTextures","currentTextureIndex","setCurrentTextureIndex","animationFrameId","lastTextureUpdate","updateTexture","cancelAnimationFrame","loadTextures","_blocksAtlasParser_atlas","fireImageUrls","blocksAtlasParser","defaultSize","imageWidth","imageHeight","_textureInfo_width","_textureInfo_height","tempCanvas","tempCtx","finalHeight","onAssetsUpdated","bodyFont","Editor","isFirefox","ua","isIphone","RobustPortal","PerComponentErrorBoundary","DisplayQr","currentDisplayQr","InGameComponent","InGameUi","showUIRaw","displayBossBars","modalsSnapshot","showUI","displayFullmap","DeathScreenProvider","DebugOverlay","MobileTopButtons","PlayerListOverlayProvider","ChatProvider","SoundMuffler","MinimapProvider","TitleProvider","IndicatorEffectsProvider","Crosshair","BookProvider","BossBarOverlayProvider","VoiceMicrophone","ChunksDebugScreen","FireRenderer","PauseScreen","MineflayerPluginHud","MineflayerPluginConsole","TouchInteractionHint","GlobalOverlayHints","XPBarProvider","HudBarsProvider","BedTime","HotbarRenderApp","SignEditorProvider","TouchControls","GlobalSearchInput","AllWidgets","WidgetDisplay","Component","componentNameClean","disableReactProfiling","renderToDom","useAppScale","ButtonAppProvider","HeldMapUi","ControDebug","EnterFullscreenButton","StorageConflictModal","SingleplayerProvider","CreateWorldProvider","AppStatusProvider","KeybindingsScreenProvider","ServersListProvider","OptionsRenderApp","MainMenuRenderApp","ConnectOnlyServerUi","TouchAreasControlsProvider","SignInMessageProvider","NotificationProvider","ModsPage","SelectOption","CreditsAboutModal","NoModalFoundProvider","GamepadUiCursor","DebugEdges","MonacoEditor","DebugResponseTimeIndicator","App","parseNbt","simplifyNbt","VALID_IMAGE_EXTENSIONS","_handleDroppedFile","base64Promise","base64Image","tempPath","versionDetected","FileReader","_3","_$nbt","_versions_pc_find","simplified","mapped","_1","_e_dataTransfer","filehandle","handleDroppedFile","createMCServer","startLocalServer","serverOptions","passOptions","unsupportedLocalServerFeatures","inWater","updateInWater","waterBr","_loadedData_effects_effect_id","updateBackground","_bot_world_getBlock","_inWater","sceneBg","newSceneBg","timeProgress","dayColor","int","progressNorm","night","progressNorm1","colorInt","registerServiceWorker","registrations","registrationError","currentFov","targetFov","lastUpdateTime","updateFovAnimation","_bot_entity_attributes1","_bot_entity_attributes2","_bot_entity_attributes3","_bot_controlState","_bot_controlState1","fovModifier","movementSpeedAttr","currentSpeed","heldItem","usageProgress","ticksUsingItem","baseFov","autoSaveInterval","WorldDataEmitterWorker","WorldDataEmitter","viewDistance","updateViewDistance","listenToBot","entitiesObjectData","emitEntity","oldBlock","newBlock","_newBlock_stateId","evt","emitterGotConnected","_posKey_split_map","removeListenersFromBot","_bot_time","chunkProgress","avgReceiveTime","_loadChunks","spiralNumber","continueLoading","readdDebug","clonedLoadedChunks","loadedChunk","_loadedChunk_split_map","_this_debugChunksInfo","_column_minY","_column_worldHeight","unloadAllChunks","coords","_coords_split_map","unloadChunk","updatePosition","lastZ","_chunkPos1","newViewToUnload","chunksToUnload","_chunkPos2","p1","ViewRect","_$pos","getDefaultRendererState","getNonFullBlocksModels","_appViewer_resourcesManager_currentResources_version","itemsDefinitions","blockModelsResolved","itemsModelsResolved","fullBlocksWithNonStandardDisplay","handledItemsWithDefinitions","assetsParser","AssetsParser","getLoadedBlockstatesStore","getLoadedModelsStore","standardGuiDisplay","arrEqual","addModelIfNotFullblock","_assetsParser_blockModelsStore_data_latest__textures_layer0","_display","_model_display","_model","_gui","definition","getItemDefinition","resolvedModel","_assetsParser_getResolvedModelsByModel","_resolvedModel_display","hasStandardDisplay","notSideLight","blockstate","resolvedModel1","generateItemsGui","isItems","currentResources","imgBitmap","canvasTemp","atlasParser","textureAtlas","PREVIEW_ID","textureWasRequested","modelData","currentModelName","includeOnly","missingTextures","resetGLContext","TextureAtlas","_value_su","_value_sv","Identifier","BlockDefinition","BlockModel","ItemModel","ItemStack","NbtString","ItemRenderer","patchMissingTextures","faceName","generateAtlas","makeTextureAtlas","generateGuiAtlas","_getNonFullBlocksModels","blockImages","itemImages","LoadedResourcesTransferrable","ResourcesManager","blocksAtlases","itemsAtlases","itemDefinitionsJson","getLoadedItemDefinitionsStore","loadSourceData","resetResources","unstableSkipEvent","_this_currentResources","_this_currentConfig_texturesVersion","ItemsRenderer","recreateBlockAtlas","_resources_customTextures_blocks_textures","blockTexturesChanges","blocksAssetsParser","customBlockTextures","blocksAtlas","blocksCanvas","christmasPack","AtlasParser","blocksAtlasLatest","blocksAtlasLegacy","textureName","_resources_customTextures_blocks","_blockTexturesChanges_textureName","worldBlockProvider","recreateItemsAtlas","_resources_customTextures_items_textures","_resources_customTextures_items1","itemsAssetsParser","customItemTextures","itemsAtlas","itemsCanvas","itemsAtlasLatest","itemsAtlasLegacy","_resources_customTextures_items","generateGuiTextures","downloadDebugAtlas","updateTouch","watchOptionsAfterWorldViewInit","defaultGraphicsBackendConfig","AppViewer","loadBackend","loader","_this_backendLoader","rendererSpecificSettings","rendererSettingsKey","_this_backend","_this_currentState","eventName","modalStackUpdateChecks","startWithBot","renderDistance","appConfigUdpate","startWorld","playerStateSend","_bot_entity_position","displayWorldOptions","_this_backend_startWorld","resetBackend","cleanState","startPanorama","hasAppStatus","destroyAll","disconnectBackend","initialMenuStart","displayEntitiesDebugList","entityNames","loading","sections","title1","_createSection","sectionTitle","filteredItems","listItem","DocumentRenderer","externalCanvas","supportsWebGL2","TopRightStats","updatePixelRatio","sizeUpdated","addToPage","addCanvasToPage","updateSizeExternal","newWidth","newHeight","updateCanvasSize","innnerWidth","innnerHeight","setupFpsTracking","startRenderLoop","_this_inWorldRenderingConfig","_this_stats","fpsInterval","frameRender","_this_stats1","setPaused","paused","HTMLCanvasElement","initialStatsVisible","Stats","StatsGl","addStat","dom","initStats","hasRamPanel","_child","setVisibility","markStart","markEnd","panoramaFiles","PanoramaRenderer","documentRenderer","doWorldBlocksPanorama","debugImageInFrontOfCamera","addClassicPanorama","panorGeo","panorMaterials","load","panoramaBox","worldBlocksPanorama","fullResourceManager","Block","fullBlocks","initPos","initX","initY","prevTwin","_b_shapes","getInitialPlayerStateRenderer","_initVR","vrButtonContainer","updateVrButtons","user","controllerModelFactory","controller2","connectedVirtualGamepad","manageXrInputSource","hand1","hand2","originalGetGamepads","rotSnapReset","enableVr","disableVr","createVrButtonContainer","vrButton","VRButton","styleContainer","closeButton","createCloseButton","typedAssign","_checkVRSupport","_navigator_xr","supported","XRSession","checkVRSupport","newHidden","XRControllerModelFactory","GLTFLoader","defaultHandedness","handedness","removeAction","originalGamepads","remapAxes","remapButtons","xrStandardRightButtonsMap","xrStandardLeftButtonsMap","rightButtons","leftButtons","remapped","remapWithMap","standardName","standardButtonsMap","aliases","alias","axesRight","axesLeft","createGraphicsBackend","panoramaRenderer","callModsMethod","initVR","backend","_mod_threeJsBackendModule","backends","animLoop","beforeRenderFrame","renderDebug","backgroundFpsLimit","normalFpsLimit","isChanged","getAllInfoLines","delayed","fixtures","SESSION_STORAGE_BACKUP_KEY","openBenchmark","_fixture_urlDir","fixtureNameOpen","backup","fixture","memoryUsageAverage","memoryUsageSamples","memoryUsageWorst","mainThreadFpsAverage","mainThreadFpsWorst","mainThreadFpsSamples","currentPassedFrames","mainLoop","fixtureName","saveBackupInterval","screenRefreshRate","benchmarkAdapter","_window_performance_memory","_window_performance","memoryUsage","_window_world_fpsWorst","_process_env_RELEASE_LINK","downloadFile","downloadButton","pre","initCollisionShapes","initializePacketsReplay","onAppLoad","customChannels","hideCurrentScreens","loadSingleplayer","_appQueryParamsArray_serverSetting","serverOverrides","flattenedServerOverrides","serverSettingsQs","serverSettingsQsRaw","_connect","_connectOptions_proxy","p2pMultiplayer","parsedServer","renderDistanceSingleplayer","multiplayerRenderDistance","parsedServer1","_server_port","loggingInMsg","hadConnected","cleanFs","lastPacket","onPossibleErrorDisconnect","errorAbortController","clientDataStream","updateDataAfterJoin","localReplaySession","lastKnownKickReason","_authData_sessionEndpoint","_connectOptions_serverOverrides","_connectOptions_serverOverridesFlat","dataDownloaded","downloadMcData","finalVersion","_connectOptions_connectEvents","serverPlugins","_serverOptions","initialLoadingText","wrapped","_server_port1","newTokensCacheResult","cachedTokens","authData","_loadingTimerState","brand","_supportFeature","setupConnectHandlers","originalSetSocket","p2pConnectTimeout","packetBeforePlay","playStateSwitch","worldWasReady","waitForChunksToLoad","spawnEarlier","displayWorld","loadingTimerState","updateServerConnectionHistory","wasKicked","alwaysReconnect","quickDevReconnect","_e_reason_stack","defaultServerOptions","downloadingAssets","reportAssetDownload","asset","isDone","startLocalReplayServer","newStatus","flyingSquidEvents","microsoftAuthflow","requiresPass","mineflayer","protocolMicrosoftAuth","_r","updateAuthenticatedAccountData","existingAccount","feature","Socket","socket","kickReason","_parseFormattedMessagePacket","kickReasonFormatted","kickReasonString","__","___","perc","loadWorldStart","botPosition","_connectOptions_serverIndex","findServerPassword","dayCycle","waitForChunks","arrays","_appQueryParamsArray_command","targetElement","firstClickable","maybeEnterGame","waitForConfigFsLoad","checkDone","reconnectOptions","_appQueryParams_version","peerOptions","downloadAndOpenFile","initialLoader","longArray","_longArray","high","levelDatContent","root","disablePrompts","warnings","dataRaw","_levelDat_Version","_appQueryParams_mapVersion","lastSupportedVersion","firstSupportedVersion","lowerBound","upperBound","playerUuid","playerDatPath","playerDataOverride","playerDat","rootRemapFiles","rootRemapFile","isMajorVersionGreater","gzip","getProxyDetails","proxyBaseUrl","isPageSecure","tokenCaches","setProgressText","setCacheResult","onMsaCodeCallback","connectingVersion","authEndpoint","sessionEndpoint","urlWithBase","authFlow","_restoredData_certificates_profileKeys","restoredData","processText","strings","processChunk","chunkStr","restoreData","promises","tryRestorePublicKey","der","originalName","exportedBuffer","pemToArrayBuffer","pem","binaryDerString","atob","pemContents","binaryDer","defaultBase","circularBuffer","lastConnectVersion","viewerConnector","logger","worldState","WORLD_STATE_FILE_EXTENSION","PACKETS_REPLAY_FILE_EXTENSION","CircularBuffer","oldWriteChannel","upPacketsReplayPanel","getLastAutoCapturedPackets","downloadAutoCapturedPackets","PacketsLogger","_circularBuffer_getLastElements","lastElement","_options_touchControlsPositions","_options_touchControlsPositions1","_appQueryParamsArray_setting","defaultOptions","getDefaultTouchControlsPositions","getTouchControlsSize","initialAppConfig","qsOptionsRaw","_o_split","isDeepEqual","keysA","keysB","migrateOptionsLocalStorage","_appStorage_options","watchedProps","unsubscribes","_miscUiState_appConfig_defaultLanguage","replayLogger","isBufferData","processPacketData","processed","handleServerPacket","_packetsReplayState","_parseReplayContents","header","createServer","mainPacketsReplayer","FLATTEN_CLIENT_PACKETS","addPacketToReplayer","wasUpcoming","lastUpcoming","ignoreClientPacketsWait","writePacket","playPackets","clientPackets","clientsPacketsWaiter","originalConsoleError","lastSentPacket","playServerPacket","createPacketsWaiter","_playPackets_","packet1","ADDITIONAL_DELAY","clientPacket","gamemodes","packetHandler","queuedPackets","isWaiting","unexpectedPacketsCount","handlePacket","waitingPackets","isArrayEqual","guessProblem","lastStatus","backAction","actionsSlot","showReconnect","onReconnect","loadingDotIndex","setLoadingDotIndex","statusRunner","ms","timer","durationInSeconds","stateMap","displayText","regionNumbers","minX","maxX","minZ","maxZ","xChunks","zChunks","currentPlayer","initialState","saveReconnectOptions","lastState","replayActive","usingState","maybeRecoverable","descriptionHint","loadingChunksData","loadingChunksDataPlayerChunk","startDiveAnimation","divingElem","observer","MutationObserver","mutations","_e_target_tagName_toLowerCase","displayAuthButton","hasVpnText","displayVpnButton","authReconnectAction","oldAccounts","lastAutoCapturedPackets","DiveTransition","AppStatus","PossiblyVpnBypassProxyButton","wasDisconnected","LoadingChunks","DisplayingIndicator","reconnect","vpnBypassProxy","setVpnBypassProxy","capabilities","ButtonContext","_translate","_args_className","_args_className1","inScreen","rootRef","postLabel","overlayColor","noTranslate","buttonRef","traverse","node","Node","buttonCss","currentPlayerName","chatOpened","fadeState","setFadeState","fadeTimeout","removeTimeout","txtPart","MessagePart","_chatInput_current","_chatInput_current1","_chatInput_current2","fetchCompletionItems","sendMessage","allowSelection","inputDisabled","getPingComplete","playerNameValidated","sendHistoryRef","isInputFocused","setIsInputFocused","spellCheckEnabled","setSpellCheckEnabled","preservedInputValue","setPreservedInputValue","inputKey","setInputKey","pingHistoryRef","completePadText","setCompletePadText","completeRequestValue","completionItemsSource","setCompletionItemsSource","completionItems","setCompletionItems","chatInput","chatMessages","chatHistoryPos","inputCurrentlyEnteredValue","_useScrollBehavior","isAtBottom","wasAtBottom","currentlyAtBottom","rightNowAtBottom","setRightNowAtBottom","setSendHistory","newHistory","acceptComplete","getCompleteValue","onMainInputChange","handleArrowUp","handleArrowDown","auxInputFocus","resetCompletionItems","_document_activeElement_tagName_toLowerCase","isSingleChar","isPaste","unsubscribeValtio","_chatInput_current_selectionEnd","lastWord","isCommand","fetchPingCompletions","updateFilteredCompleteItems","fetchCompletions","implicit","newItems","sortedItems","aIndex","bIndex","sourceItems","getDefaultCompleteValue","raw","valueParts","lastLength","handleSlashCommand","remountInput","handleAcceptFirstCompletion","isIos","displayHintsState","captureMouseHint","acitveModals","inRealGameSession","_inputProps_className","autoFocus","rootStyles","validateInput","inputProps","validationStyle","setValidationStyle","_validateInput","span","networkTimeTotal","hoverItemToText","hoverEvent","_hoverEvent_contents","clickEventToProps","clickEvent","promptMessageText","_formatOptions_doShadow","formatOptions","_color","italic","bold","underlined","strikethrough","obfuscated","clickProps","hoverMessageRaw","hoverItemText","applyStyles","messageFormatStylesMap","colorF","getColorShadow","parseInlineStyle","_messageFormatStylesMap_color","dim","rule","_rule_split","fallbackColor","messageJson","_text_color","subMessage","topPosition","currentProgress","totalProgress","isUsingTouch","isLoader","autoHide","Notification","backdrop","titleSelectable","titleMarginTop","contentStyle","minecraftJsonMessageParsed","parseResult","_resolve","showConfirm","showCancel","inputsConfirmButton","inputValues","_input_defaultValue","resolveClose","_input_label","_r_cssVarRepeat","repeat","repeatArr","times","selectedProxy","serversHistoryLegacy","_process_env","_process_env1","localStoragePrefix","cookieStoreKeys","oldKeysAliases","getCookieValue","cookie","decodeURIComponent","topLevelDomain","cookieBase","setCookieValue","cookieKey","savedValue","deleteCookie","storageConflicts","detectStorageConflicts","localStorageValue","cookieValue","localParsed","cookieParsed","localTimestamp","cookieTimestamp","localData","cookieData","isDataEmpty","showStorageConflictModal","defaultStorageData","_appStorage","getRandomUsername","cookiesFailedThisSession","shouldUseCookieStorage","restoreStorageData","useCookieStorage","_localStorage_getItem","prefixedKey","aliasedKey","storedValue","cookieValueCanBeUsed","usingLocalStorageValue","saveKey","markLocalStorageAsMigrated","dataToSave","serialized","useLocalStorage","key2","conflict1","elementRef","openedWasAtBottom","setCurrentlyAtBottom","scrollTimeoutRef","_elementRef_current","scrollTop","distanceFromBottom","scrollHeight","clientHeight","behavior","handleScroll","atBottom","useLayoutEffect","_appStorage_serversHistory","history","existingServer","lastConnectedIp","_appStorage_serversList_index_autoLogin","_appStorage_serversList_find_autoLogin","pswd","_s_autoLogin","servers","serversList","isMountingRef","UAParser","_allStack_at","useIncludes","allStack","resourcepackPackBasePath","existsAsync","displayName","installPath","zipFile","allFilesArr","createdDirs","copyTasks","_$file","writePath","dirname","updateTextures","currentErrors","getSizeFromImage","filePath","probeImg","getActiveResourcepackBasePath","getResourcepackTiles","existingTextures","firstTextureSize","namespaces","namespace","texturesCommonBasePath","isMinecraftNamespace","texturesBasePath","texturesBasePathAlt","allInterestedPaths","allInterestedPathsPerDir","path1","allInterestedImages","firstImageFile","newTextures","_tex_split_","basename","paths","_allInterestedImages","dirImages","imagePath","imageRelative","imageRelative1","textureName1","prepareBlockstatesAndModels","usedBlockTextures","usedItemTextures","readModelData","readCustomModelData","readData","assetsDirs","assetsDir","namespaceDir","jsons","_parsed_textures","_parsed_model","_parsed_model1","_parsed_model_entries","_entry_model","_entry_threshold","threshold","modelPath","_parsed_overrides","entry1","_entry_predicate","modelPath1","blockstatesPath","blockModelsPath","itemsPath","itemModelsPath","downloadAndUseResourcePack","resourcePackData","handleResourcePackRequest","promptMessagePacket","forced","updateAllReplacableTextures","setCustomCss","setCustomPicture","vars","cssVar","cssVarRepeat","resourcePackPath","resPath","varName","skipResourcesLoad","origBlocksFiles","origItemsFiles","origArmorFiles","blocksData","itemsData","armorData","destPath","setScale","innerWidth","innerHeight","scaleValues","maxWidth","createPublicKey","_sign","signatureAlgorithm","privateKeyPem","privateKeyBuffer","privateKey","_callback","Http","XMLHttpRequest","minecraftServerHostname","_$err","_$err1","willreturn","BrowserFS","_globalThis_promises","resolvedData","resolver","getRecipesProcessorProcessRecipes","blocks","itemsIdsMap","blocksIdsMap","mapId","_itemsIdsMap_id","processRecipe","parseRecipeItem","maybeProccessShape","shapeRow","ingredient","restoreMinecraftData","allVersionData","restorer","JsonOptimizer","arrKey","ignoreChanges","ignoreRemoved","_export","properties","diffs","diffObj","diffing","removed","changed","removedProps","added","diffingObj","possiblyNewKeys","lastRootKeyId","lastItemKeyId","_this_keys1","sourceVal","diffVal","_this_previousValues","_id","prevVal","isEqualStructured","addDiff","valueMapped","isItemObj","keyId","removedPropsLocal","keyMapped","prop1","keyMapped1","_iteratorError3","previousKey","key3","_iteratorError4","toRemove","_iteratorError5","previousKey1","recordDiff","isOptimizedChangeDiff","changePossiblyArrDiff","targetKey","dataRestorer","keysById","propertiesById","dataByKeys","versionKey","toAdd","change","propId","removePropsId","removeProp","getByArrKey","resolveDefaults","propsValueCount","_propsValueCount_key","valJson","_propsValueCount","_valJson","defaults","count1","count2","noData","obj1","val1","_noData","_key1","val2","dataStatus","optimizedDataResolver","cache","cacheTime","possiblyGetFromCache","dataTypes","allRestored","dataType","shapes","pc","Titles","sessionServer","accessToken","sessionSelectedProfileId","serverId","sharedSecret","publicKey","soundMap","musicSystem","MusicSystem","playMusic","musicVolume","onEnded","stopMusic","SoundMap","soundData","soundsMap","allSoundsMajor","soundsStr","_s_split","weight","TypeError","_id_split","idPart","namePart","updateActiveResourcePackBasePath","soundsJsonContent","soundsJsonPath","updateExistingResourcePackPaths","soundsBasePath","scan","getSoundUrl","soundKey","rpSound","_sound_volume","tryFormat","oggResult","random","_sounds_find","sound1","versionedSound","format","sum","getVersionedSound","verNumber","itemsVer","getBlockSound","category","fallback","_blockSoundAliases_blockName","mappedName","getStepSound","getBreakSound","quit","createSoundMap","_globalObject_allSoundsVersionedMap","globalObject","blockSoundAliases","customSoundSystem","soundName","jsonMatch","flags","updateResourcePack","musicInterval","_createSoundMap","playGeneralSound","musicStartCheck","playHardcodedSound","lastStepSound","playBlockBreak","startMusicSystem","stopMusicSystem","diggingBlock","_appViewer_backend_soundSystem","_soundData_timeout","_lastPlayedSounds_lastServerPlayed","_soundKey","musicKeys","randomMusicKey","soundId","_packet_soundEvent","hasNamedSoundEffect","soundResource","_bot_entity_velocity","isRunning","blockUnder","stepSound","movementHappening","effectId","disablePosVolume","pos1","pos2","ignoredVersionsRegex","versionsFromProtocol","postNettyVersionsByProtocolVersion","doToggle","_navigator_keyboard","displayMouseCaptureFailure","_getScreenRefreshRate","requestId","callbackTriggered","DOMHighResTimeStampCollection","triggerAnimation","DOMHighResTimeStamp","fps","ver1","ver2","_ver1_split","a1","_ver2_split","a2","b2","setRenderDistance","assertDefined","_worldView","singleplayerRenderDistance","zeroRenderDistance","addUrl","_process_env_GITHUB_URL","reportedWarnings"],"mappings":"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"}